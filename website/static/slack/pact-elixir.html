<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><a id="1628481995.000200"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1628481995.000200" ><div class="time">2021-08-09 04:06</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1628482004.000400"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1628482004.000400" ><div class="time">2021-08-09 04:06</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1628482066.001500"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1628482066.001500" ><div class="time">2021-08-09 04:07</div></a><div class="msg">I don't know anyone who can pick this up at the moment, but for coordination if/when someone wants to pick up this work, here is a channel.</div></div></div><br/>
<div><a id="1628482100.001600"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1628482100.001600" ><div class="time">2021-08-09 04:08</div></a><div class="msg">set the channel description: There is no implementation of Pact for Elixr yet, but this is a channel for those who might want to implement it.</div></div></div><br/>
<div><a id="1628482175.002100"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1628482175.002100" ><div class="time">2021-08-09 04:09</div></a><div class="msg">thanks @bethskurrie

this is the project i mentioned in the #general channel

<a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a></div></div></div><br/>
<div><a id="1628482907.003000"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1628482907.003000" ><div class="time">2021-08-09 04:21</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1628544925.003400"><img src="https://avatars.slack-edge.com/2021-02-01/1697445865237_16771aa0d3e419cb7930_72.png" /></a><div class="message"><div class="username">george.south</div><a style="text-decoration: none" href="#1628544925.003400" ><div class="time">2021-08-09 21:35</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1628698874.003800"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628698874.003800" ><div class="time">2021-08-11 16:21</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1628786076.005800"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628786076.005800" ><div class="time">2021-08-12 16:34</div></a><div class="msg">Hi folks! I?m looking into creating a new Elixir implementation with the Rust core.

The repo will live at <a href="https://github.com/andrewjensen/pact_elixir">https://github.com/andrewjensen/pact_elixir</a> for now, although I would prefer to transfer it to an organization (Pact? My employer, <a href="https://github.com/podium">https://github.com/podium</a>?) as it gets further along.</div></div></div><br/>
<div><a id="1628787219.007200"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628787219.007200" ><div class="time">2021-08-12 16:53</div></a><div class="msg">I?m planning on copying some patterns out of this repo: <a href="https://github.com/discord/sorted_set_nif">https://github.com/discord/sorted_set_nif</a> (Discord wrote <a href="https://blog.discord.com/using-rust-to-scale-elixir-for-11-million-concurrent-users-c6f19fc029d3">https://blog.discord.com/using-rust-to-scale-elixir-for-11-million-concurrent-users-c6f19fc029d3</a> a while back introducing the repo and its performance benefits)</div></div></div><br/>
<div><a id="1629865486.000200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629865486.000200" ><div class="time">2021-08-25 04:24</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1629865567.000600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629865567.000600" ><div class="time">2021-08-25 04:26</div></a><div class="msg">@pact-slack should probably be in here!</div></div></div><br/>
<div><a id="1629865569.000800"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1629865569.000800" ><div class="time">2021-08-25 04:26</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1629865623.002000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629865623.002000" ><div class="time">2021-08-25 04:27</div></a><div class="msg">@andrew.jensen was there a reason why you created a new library? Ideally we can focus our efforts together and have two maintainers of a single repo (instead of multiple). Something we can work through here?</div></div></div><br/>
<div><a id="1629865662.002900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629865662.002900" ><div class="time">2021-08-25 04:27</div></a><div class="msg">For reference, there is a potential client of DiUS (my empolyer, the parent company of Pactflow) that could do with this. We may be able to contribute some effort into this to move it forward also</div></div></div><br/>
<div><a id="1629908091.006400"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629908091.006400" ><div class="time">2021-08-25 16:14</div></a><div class="msg">@matt.fellows thanks for raising the question. I am now realizing that I misunderstood some messages in other channels, and incorrectly thought that <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a> was either unmaintained or implemented without bindings around the shared core. But I took some time to read through the library today and I can see that it?s looking great! I agree, let?s focus efforts on one implementation and make it the best it can be.</div></div></div><br/>
<div><a id="1629908153.007600"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629908153.007600" ><div class="time">2021-08-25 16:15</div></a><div class="msg">@pact-slack thanks for all your hard work on pact_elixir! Are you open to outside PRs and issues?</div></div></div><br/>
<div><a id="1629908211.008600"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629908211.008600" ><div class="time">2021-08-25 16:16</div></a><div class="msg">Also @mpglover, are you interested in standardizing on <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a> as well? If I?m remembering correctly, you had started an implementation of your own a while back but didn?t get too far.</div></div></div><br/>
<div><a id="1629908893.009100"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1629908893.009100" ><div class="time">2021-08-25 16:28</div></a><div class="msg">Sure, every PR and issue is welcome!
I've started pact_elixir as as side project with the goal to use it in our company. But we are still using another testing approach thus the development of this library never got good traction.</div></div></div><br/>
<div><a id="1629921644.009400"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1629921644.009400" ><div class="time">2021-08-25 20:00</div></a><div class="msg">~chro~</div></div></div><br/>
<div><a id="1629936928.000400"><img src="https://secure.gravatar.com/avatar/d2f3ac0d36081cab03f246ea62cfe388.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">sheyan.rizfee</div><a style="text-decoration: none" href="#1629936928.000400" ><div class="time">2021-08-26 00:15</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1629941392.000500"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1629941392.000500" ><div class="time">2021-08-26 01:29</div></a><div class="msg">I think you all should move forward with whatever makes sense for the folks actively involved. I don't know that I'll have a lot of time to dedicate to an Elixir integration in the near term.

I'll still keep an eye on the channel and maybe I'll try to contribute here and there. But I doubt I'll be super involved over the next year or two.

I started a project several years ago with a specific focus on supporting the spec without dependencies from outside the core Elixir ecosystem. This is why I didn't start out trying to enhance or fork the Rust-based integration. A variety of things changed shortly after starting the project and I no longer had a use case for Pact in Elixir so I left it by the wayside.</div></div></div><br/>
<div><a id="1629995531.001200"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629995531.001200" ><div class="time">2021-08-26 16:32</div></a><div class="msg">Cool, thanks for the context!</div></div></div><br/>
<div><a id="1629996144.008800"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629996144.008800" ><div class="time">2021-08-26 16:42</div></a><div class="msg">Some updates:

? Teamed up with @pedroefajardo_pactio yesterday to check out <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a>
? The library?s tests fail intermittently on my machine - seeing Rust panics like `Os { code: 24, kind: Other, message: "Too many open files" }` that are likely the root cause, might have to do with FFI code not cleaning up properly between each test run
? We have narrowed the corrupted state down to a few specific test cases involving writing pact files and stopping the mock server
? The library currently points to `pact_mock_server@0.4.0` and `rustler@0.21.0`  so we are trying to upgrade both dependencies to see if it will resolve the errors and test failures (and because we?ll want to use spec v3, etc.)
? As we try to upgrade `pact_mock_server@0.7.20`, we are not able to compile the transitive dependency `pact_models`, and we?re seeing compile-time errors like `cannot find macro `json_internal` in this scope` and `the trait bound `serde_json::Value: Eq` is not satisfied` so we?re trying to debug those
@matt.fellows do you have any recommendations for getting past those compile errors? I can compile `pact_models` in isolation, but the fancy Elixir -&gt; Rust abstraction of Rustler might be configuring rustc differently in a way that?s causing the errors.</div></div></div><br/>
<div><a id="1630405733.001000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1630405733.001000" ><div class="time">2021-08-31 10:28</div></a><div class="msg">Apologies I missed this Andrew, will take a look next time I can</div></div></div><br/>
<div><a id="1630405746.001500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1630405746.001500" ><div class="time">2021-08-31 10:29</div></a><div class="msg">Worth join/raising in #libpact_ffi-users too</div></div></div><br/>
<div><a id="1631317810.000100"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1631317810.000100" ><div class="time">2021-09-10 23:50</div></a><div class="msg">we were able to address the ?Too many open files? by using `ulimit -n 2048`

the correct way to do it is, I think, to configure Rust to limit parallelization but I haven?t gotten to how to do that yet.</div></div></div><br/>
<div><a id="1631489334.000200"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631489334.000200" ><div class="time">2021-09-12 23:28</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1631863058.001700"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863058.001700" ><div class="time">2021-09-17 07:17</div></a><div class="msg">I've tried to use the `pact_elixir` library but not having much luck. After adding the dependency, when trying to run `mix test` for the first time I get this:

```$ mix test


The `:rustler` compiler has been deprecated since v0.22.0 and will be
removed in v1.0.

To remove this warning, please consult the CHANGELOG for v0.22.0.

==&gt; pact_elixir
Compiling 15 files (.ex)
Compiling crate pactmockserver in release mode (native/pactmockserver)
    Updating <a href="http://crates.io">http://crates.io</a> index
Compiling lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex (it's taking more than 10s)
 Downloading crates ...
  Downloaded lazy_static v1.4.0
  Downloaded quote v0.6.13
  Downloaded void v1.0.2
  Downloaded rand v0.4.3
  Downloaded unreachable v1.0.0
  Downloaded libc v0.2.66
  Downloaded proc-macro2 v0.4.30
  Downloaded semver-parser v0.7.0
  Downloaded syn v0.11.11
  Downloaded synom v0.11.3
  Downloaded safemem v0.2.0
  Downloaded typeable v0.1.2
  Downloaded uuid v0.6.5
  Downloaded utf8-ranges v1.0.0
  Downloaded url v1.7.2
  Downloaded unreachable v0.1.1
  Downloaded which v2.0.1
  Downloaded rustc-serialize v0.3.24
  Downloaded language-tags v0.2.2
  Downloaded hex v0.2.0
  Downloaded failure v0.1.6
  Downloaded unicode-bidi v0.3.4
  Downloaded unicase v1.4.2
  Downloaded unicode-xid v0.1.0
  Downloaded unicode-xid v0.0.4
  Downloaded syn v0.15.44
  Downloaded peresil v0.3.0
  Downloaded quote v0.3.15
  Downloaded mime v0.2.6
  Downloaded itoa v0.3.4
  Downloaded typed-arena v1.3.0
  Downloaded cookie v0.2.5
  Downloaded httparse v1.2.3
  Downloaded dtoa v0.4.2
  Downloaded backtrace v0.3.12
  Downloaded rustler v0.21.0
  Downloaded num-traits v0.1.40
  Downloaded aho-corasick v0.6.3
  Downloaded env_logger v0.4.3
  Downloaded rustc-demangle v0.1.16
  Downloaded memchr v1.0.2
  Downloaded thread_local v0.3.4
  Downloaded lazy_static v0.2.9
  Downloaded rustler_codegen v0.21.0
  Downloaded pact_mock_server v0.4.0
  Downloaded matches v0.1.6
  Downloaded indextree v1.3.0
  Downloaded ansi_term v0.9.0
  Downloaded percent-encoding v1.0.0
  Downloaded unicode-segmentation v1.2.1
  Downloaded num_cpus v1.7.0
  Downloaded traitobject v0.0.1
  Downloaded heck v0.3.0
  Downloaded p-macro v0.2.0
  Downloaded version_check v0.1.3
  Downloaded maplit v0.1.5
  Downloaded cfg-if v0.1.5
  Downloaded itertools v0.6.5
  Downloaded either v1.3.0
  Downloaded hpack v0.2.0
  Downloaded serde_derive v1.0.15
  Downloaded time v0.1.38
  Downloaded semver v0.7.0
  Downloaded uuid v0.5.1
  Downloaded byteorder v1.1.0
  Downloaded sxd-document v0.2.4
  Downloaded rustler_sys v2.0.0
  Downloaded pact_matching v0.4.4
  Downloaded base64 v0.7.0
  Downloaded serde_derive_internals v0.16.0
  Downloaded serde_json v1.0.3
  Downloaded solicit v0.4.4
  Downloaded itertools v0.7.8
  Downloaded rand v0.3.17
  Downloaded regex-syntax v0.4.1
  Downloaded serde v1.0.15
  Downloaded log v0.3.8
  Downloaded regex v0.2.2
  Downloaded hyper v0.9.18
  Downloaded unicode-normalization v0.1.5
  Downloaded difference v1.0.0
  Downloaded idna v0.1.4
   Compiling libc v0.2.66
   Compiling void v1.0.2
   Compiling matches v0.1.6
   Compiling log v0.3.8
   Compiling version_check v0.1.3
   Compiling cfg-if v0.1.5
   Compiling proc-macro2 v0.4.30
   Compiling rustc-demangle v0.1.16
   Compiling unicode-normalization v0.1.5
   Compiling unicode-xid v0.0.4
   Compiling unicode-xid v0.1.0
   Compiling lazy_static v0.2.9
   Compiling percent-encoding v1.0.0
   Compiling quote v0.3.15
   Compiling regex-syntax v0.4.1
   Compiling syn v0.15.44
   Compiling either v1.3.0
   Compiling utf8-ranges v1.0.0
   Compiling unicode-segmentation v1.2.1
   Compiling rustc-serialize v0.3.24
   Compiling itoa v0.3.4
   Compiling safemem v0.2.0
   Compiling lazy_static v1.4.0
   Compiling traitobject v0.0.1
   Compiling dtoa v0.4.2
   Compiling httparse v1.2.3
   Compiling language-tags v0.2.2
   Compiling typeable v0.1.2
   Compiling typed-arena v1.3.0
   Compiling byteorder v1.1.0
   Compiling peresil v0.3.0
   Compiling serde v1.0.15
   Compiling num-traits v0.1.40
   Compiling rustler_sys v2.0.0
   Compiling semver-parser v0.7.0
   Compiling p-macro v0.2.0
   Compiling ansi_term v0.9.0
   Compiling difference v1.0.0
   Compiling maplit v0.1.5
   Compiling hex v0.2.0
   Compiling indextree v1.3.0
   Compiling unicode-bidi v0.3.4
   Compiling synom v0.11.3
   Compiling unreachable v1.0.0
   Compiling unreachable v0.1.1
   Compiling itertools v0.7.8
   Compiling itertools v0.6.5
   Compiling hpack v0.2.0
   Compiling mime v0.2.6
   Compiling unicase v1.4.2
   Compiling heck v0.3.0
   Compiling sxd-document v0.2.4
   Compiling base64 v0.7.0
   Compiling semver v0.7.0
   Compiling thread_local v0.3.4
   Compiling syn v0.11.11
   Compiling idna v0.1.4
   Compiling solicit v0.4.4
   Compiling quote v0.6.13
   Compiling memchr v1.0.2
   Compiling time v0.1.38
   Compiling rand v0.3.17
   Compiling rand v0.4.3
   Compiling num_cpus v1.7.0
   Compiling backtrace v0.3.12
   Compiling url v1.7.2
error: failed to run custom build command for `rustler_sys v2.0.0`

Caused by:
  process didn't exit successfully: `/Users/erikdanielsen/work/dius/pact-workshop-elixir/consumer/_build/test/lib/pact_elixir/native/pactmockserver/release/build/rustler_sys-27d371f25823a0e2/build-script-build` (exit status: 101)
  --- stdout
  This OTP release uses the unsupported Erlang NIF version "2.16".

  Please report at <a href="https://github.com/rustlerium/rustler">https://github.com/rustlerium/rustler</a>.

  --- stderr
  thread 'main' panicked at 'gen_api.erl encountered an error.', /Users/erikdanielsen/.cargo/registry/src/github.com-1ecc6299db9ec823/rustler_sys-2.0.0/build.rs:34:18
  note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
warning: build failed, waiting for other jobs to finish...
error: build failed

== Compilation error in file lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex ==
** (RuntimeError) Rust NIF compile error (rustc exit code 101)
    (rustler 0.22.0) lib/rustler/compiler.ex:36: Rustler.Compiler.compile_crate/2
    lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex:10: (module)
    (stdlib 3.15.2) erl_eval.erl:685: :erl_eval.do_apply/6
could not compile dependency :pact_elixir, "mix compile" failed. You can recompile this dependency with "mix deps.compile pact_elixir", update it with "mix deps.update pact_elixir" or clean it with "mix deps.clean pact_elixir"```</div></div></div><br/>
<div><a id="1631863102.002200"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863102.002200" ><div class="time">2021-09-17 07:18</div></a><div class="msg">I tried again with `RUST_BACKTRACE=full mix test`

```error: failed to run custom build command for `rustler_sys v2.0.0`

Caused by:
  process didn't exit successfully: `/Users/erikdanielsen/work/dius/pact-workshop-elixir/consumer/_build/test/lib/pact_elixir/native/pactmockserver/release/build/rustler_sys-27d371f25823a0e2/build-script-build` (exit status: 101)
  --- stdout
  This OTP release uses the unsupported Erlang NIF version "2.16".

  Please report at <a href="https://github.com/rustlerium/rustler">https://github.com/rustlerium/rustler</a>.

  --- stderr
  thread 'main' panicked at 'gen_api.erl encountered an error.', /Users/erikdanielsen/.cargo/registry/src/github.com-1ecc6299db9ec823/rustler_sys-2.0.0/build.rs:34:18
  stack backtrace:
     0:        0x10cfc9ede - &lt;std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display&gt;::fmt::h0b3cb0f81eb6c032
     1:        0x10cff37ac - core::fmt::write::h01b240c0519e8c85
     2:        0x10cfc54ca - std::io::Write::write_fmt::h146f386a5b35d587
     3:        0x10cfc5daf - std::panicking::default_hook::{{closure}}::h5f8b7ffe7769db61
     4:        0x10cfc593f - std::panicking::default_hook::h9f87fc2fdf4f1125
     5:        0x10cfc6472 - std::panicking::rust_panic_with_hook::h32f3432eccbbcf03
     6:        0x10cfb9617 - std::panicking::begin_panic::{{closure}}::h39f2f6cd54707c07
     7:        0x10cfb94c8 - std::sys_common::backtrace::__rust_end_short_backtrace::h9be66abe58513ae8
     8:        0x10cff56b9 - std::panicking::begin_panic::h2352c1c97fb9a865
     9:        0x10cfb9e89 - build_script_build::main::hb625c3f24e169ba2
    10:        0x10cfb6c4a - core::ops::function::FnOnce::call_once::h30ac50f2b0695325
    11:        0x10cfb94fd - std::sys_common::backtrace::__rust_begin_short_backtrace::he563f2a24eeaafd0
    12:        0x10cfb5f90 - std::rt::lang_start::{{closure}}::h060f609a7f2cbfeb
    13:        0x10cfc7aa5 - std::rt::lang_start_internal::h6f56f13a742d6e93
    14:        0x10cfb5f62 - std::rt::lang_start::hf6ab5b518932e40e
    15:        0x10cfb9f56 - _main
warning: build failed, waiting for other jobs to finish...
error: build failed

== Compilation error in file lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex ==
** (RuntimeError) Rust NIF compile error (rustc exit code 101)
    (rustler 0.22.0) lib/rustler/compiler.ex:36: Rustler.Compiler.compile_crate/2
    lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex:10: (module)
    (stdlib 3.15.2) erl_eval.erl:685: :erl_eval.do_apply/6
could not compile dependency :pact_elixir, "mix compile" failed. You can recompile this dependency with "mix deps.compile pact_elixir", update it with "mix deps.update pact_elixir" or clean it with "mix deps.clean pact_elixir"```</div></div></div><br/>
<div><a id="1631863223.002900"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863223.002900" ><div class="time">2021-09-17 07:20</div></a><div class="msg">I assume it's a version incompatibility issue but it's hard to say as I'm not an Elixir developer</div></div></div><br/>
<div><a id="1631863245.003200"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863245.003200" ><div class="time">2021-09-17 07:20</div></a><div class="msg">```[127] $ elixir -v                                                                                                                                                                                                  ?

Erlang/OTP 24 [erts-12.0.3] [source] [64-bit] [smp:16:16] [ds:16:16:10] [async-threads:1] [jit] [dtrace]

Elixir 1.12.3 (compiled with Erlang/OTP 24)```
</div></div></div><br/>
<div><a id="1631863269.003500"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863269.003500" ><div class="time">2021-09-17 07:21</div></a><div class="msg">Rust v1.55.0 installed with homebrew

```$ rustc --version
rustc 1.55.0```</div></div></div><br/>
<div><a id="1631863331.003800"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863331.003800" ><div class="time">2021-09-17 07:22</div></a><div class="msg">Does anyone have any idea what's going on here?</div></div></div><br/>
<div><a id="1631863418.004200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863418.004200" ><div class="time">2021-09-17 07:23</div></a><div class="msg">see also <a href="https://pact-foundation.slack.com/archives/C02AG6CML5T/p1629996144008800">https://pact-foundation.slack.com/archives/C02AG6CML5T/p1629996144008800</a></div></div></div><br/>
<div><a id="1631863447.004900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863447.004900" ><div class="time">2021-09-17 07:24</div></a><div class="msg">I can see some recent updates on the repo, are you pulling in the dependency from a package manager or using the code?</div></div></div><br/>
<div><a id="1631863447.005000"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863447.005000" ><div class="time">2021-09-17 07:24</div></a><div class="msg">Yeah I saw that</div></div></div><br/>
<div><a id="1631863480.005500"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863480.005500" ><div class="time">2021-09-17 07:24</div></a><div class="msg">It's the standard elixir build tool and a dependency added through that (`mix`)</div></div></div><br/>
<div><a id="1631863487.005600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863487.005600" ><div class="time">2021-09-17 07:24</div></a><div class="msg">Yes, my recommendation would be to remove any rust code from Elixr completely, in favour of the FFI (c) interface</div></div></div><br/>
<div><a id="1631863569.006100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863569.006100" ><div class="time">2021-09-17 07:26</div></a><div class="msg">Looking at the code, this is basically replacing <a href="https://github.com/elitau/pact_elixir/blob/master/native/pactmockserver/src/lib.rs">https://github.com/elitau/pact_elixir/blob/master/native/pactmockserver/src/lib.rs</a> with calls from Elixr directly to FFI methods</div></div></div><br/>
<div><a id="1631863602.006800"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863602.006800" ><div class="time">2021-09-17 07:26</div></a><div class="msg">In `mix.exs`:

```  defp deps do
    [
      {:httpoison, "~&gt; 1.8"},
      {:jason, "~&gt; 1.2"},
      {:pact_elixir, "~&gt; 0.5.2"}
      # {:dep_from_hexpm, "~&gt; 0.3.0"},
      # {:dep_from_git, git: "<a href="https://github.com/elixir-lang/my_dep.git">https://github.com/elixir-lang/my_dep.git</a>", tag: "0.1.0"}
    ]
  end```
</div></div></div><br/>
<div><a id="1631863602.006900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863602.006900" ><div class="time">2021-09-17 07:26</div></a><div class="msg">(see also #libpact_ffi-users for clarifying questions on that interface)</div></div></div><br/>
<div><a id="1631863615.007500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863615.007500" ><div class="time">2021-09-17 07:26</div></a><div class="msg">gotcha</div></div></div><br/>
<div><a id="1631863629.007600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863629.007600" ><div class="time">2021-09-17 07:27</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_ffi">https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_ffi</a></div></div></div><br/>
<div><a id="1631863684.008300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863684.008300" ><div class="time">2021-09-17 07:28</div></a><div class="msg">For the mock server, that?s specifically this interface: <a href="https://docs.rs/pact_ffi/0.0.2/pact_ffi/mock_server/index.html">https://docs.rs/pact_ffi/0.0.2/pact_ffi/mock_server/index.html</a></div></div></div><br/>
<div><a id="1631863694.008800"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863694.008800" ><div class="time">2021-09-17 07:28</div></a><div class="msg">Also modified `project` according to the readme:

```  def project do
    [
      app: :consumer,
      version: "0.1.0",
      elixir: "~&gt; 1.12",
      start_permanent: Mix.env() == :prod,
      escript: [main_module: Commandline.CLI],
      compilers: [:rustler] ++ Mix.compilers(),
      rustler_crates: rustler_crates(Mix.env()),
      deps: deps()
    ]
  end```
and added these:

```  defp rustler_crates(mix_env) when mix_env in [:test, :dev] do
    [
      pactmockserver: [
        path: "deps/pact_elixir/native/pactmockserver",
        mode: (:debug),
      ]
    ]
  end

  defp rustler_crates(_prod) do
    []
  end```
Also based on readme</div></div></div><br/>
<div><a id="1631863708.008900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863708.008900" ><div class="time">2021-09-17 07:28</div></a><div class="msg">For an example of this, see Go?s native mapping: <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mock_server.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mock_server.go</a></div></div></div><br/>
<div><a id="1631863800.009600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863800.009600" ><div class="time">2021-09-17 07:30</div></a><div class="msg">(I?ve just added some feedback to the thread above which I stupidly missed a while ago - sorry @andrew.jensen!)</div></div></div><br/>
<div><a id="1631863902.010700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863902.010700" ><div class="time">2021-09-17 07:31</div></a><div class="msg">Trying to read the compilation error, it seems to be erroring outside of the rust code. If it was a rust failure, I could probably point to the problem. But because Elixr is built on erlang, it looks like there are 3 languages being compiled here :scream:</div></div></div><br/>
<div><a id="1631863984.011500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863984.011500" ><div class="time">2021-09-17 07:33</div></a><div class="msg">If I can read the code correctly, it looks like if you can replace <a href="https://github.com/elitau/pact_elixir/blob/master/lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex">https://github.com/elitau/pact_elixir/blob/master/lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex</a> with calls directly to an FFI, things might start working and you could remove the Rustler stuff</div></div></div><br/>
<div><a id="1631864115.012000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631864115.012000" ><div class="time">2021-09-17 07:35</div></a><div class="msg">I think we need a NIF: <a href="https://andrealeopardi.com/posts/using-c-from-elixir-with-nifs/">https://andrealeopardi.com/posts/using-c-from-elixir-with-nifs/</a></div></div></div><br/>
<div><a id="1631903892.016700"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1631903892.016700" ><div class="time">2021-09-17 18:38</div></a><div class="msg">Hey @matt.fellows and @edanielsen!

The `rustler` library is an abstraction on top of NIFs. My vote is to keep using rustler if at all possible, since the abstraction includes some extra glue code that makes the bridge between the Rust and Elixir code much safer than raw NIFs.

&gt; This OTP release uses the unsupported Erlang NIF version ?2.16?
This error message in particular sounds like the version incompatibility might be between OTP 24.x and Rustler. My guess is that the Rustler library will ship a new version soon that supports a new range of NIFs, but in the meantime, could you try compiling with OTP 23 and see if that works? @pedroefajardo_pactio and I have been developing (for now) on Elixir 1.11.x and OTP 23.x.

(If you?re looking for a convenient way to switch between different versions of a single system dependency, you might look into <a href="https://github.com/asdf-vm/asdf">https://github.com/asdf-vm/asdf</a>. @pedroefajardo_pactio and I both run it at work for Elixir/Erlang/JS/Ruby toolchains and it works great.)</div></div></div><br/>
<div><a id="1631904136.017100"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1631904136.017100" ><div class="time">2021-09-17 18:42</div></a><div class="msg">Oh man. I?m dreading the work to rip out Rustler and do raw FFI instead. Maybe it?s a better direction in the long term though. What do you think @pedroefajardo_pactio and @pact-slack?</div></div></div><br/>
<div><a id="1631919852.018900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631919852.018900" ><div class="time">2021-09-17 23:04</div></a><div class="msg">If that's the case then you should look to use the FFI exported functions as they will have better stability guarantees and will provide consistency with the other libs</div></div></div><br/>
<div><a id="1631919872.019600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631919872.019600" ><div class="time">2021-09-17 23:04</div></a><div class="msg">Does rustler mean everyone who uses it has to have cargo/rust installed?</div></div></div><br/>
<div><a id="1631919892.019900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631919892.019900" ><div class="time">2021-09-17 23:04</div></a><div class="msg">Does it work cross platform also?</div></div></div><br/>
<div><a id="1631920020.022600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631920020.022600" ><div class="time">2021-09-17 23:07</div></a><div class="msg">For a testing tool, I feel like safety guarantees are less important if that makes the devex worse.  It may not be the case with Elixr, but we used a similar tool an JS and it's been quite complicated supporting newer node version, and all of the OS/Watch combinations (plus it's super slow because rust compilation is now part of every build)</div></div></div><br/>
<div><a id="1631920347.023600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631920347.023600" ><div class="time">2021-09-17 23:12</div></a><div class="msg">Not saying you should drop it, but wanted to share our experience</div></div></div><br/>
<div><a id="1632064431.003400"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632064431.003400" ><div class="time">2021-09-19 15:13</div></a><div class="msg">@edanielsen You could also try to use the current <a href="https://github.com/elitau/pact_elixir/commit/90928e5666a1fdb5a73da626fb8adb97808b26e5">https://github.com/elitau/pact_elixir/commit/90928e5666a1fdb5a73da626fb8adb97808b26e5</a> of pact_elixir. @andrew.jensen and @pedroefajardo_pactio <a href="https://github.com/elitau/pact_elixir/commit/90928e5666a1fdb5a73da626fb8adb97808b26e5">https://github.com/elitau/pact_elixir/commit/90928e5666a1fdb5a73da626fb8adb97808b26e5</a> the rustler dependency so that the project config is <a href="https://github.com/rusterlium/rustler/blob/master/CHANGELOG.md#deprecations">https://github.com/rusterlium/rustler/blob/master/CHANGELOG.md#deprecations</a>. It compiles on my Mac OS machine with Erlang 24.0.5 and Elixir 1.12.1 (installed via asdf).</div></div></div><br/>
<div><a id="1632064825.003600"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632064825.003600" ><div class="time">2021-09-19 15:20</div></a><div class="msg">Hmm, I'm not quite sure what that would mean.
How can one bundle/embed the executable FFI Version of pact_mock_server if it is not compiled during the installation of pact_elixir?</div></div></div><br/>
<div><a id="1632065191.006300"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632065191.006300" ><div class="time">2021-09-19 15:26</div></a><div class="msg">@matt.fellows Yes, currently a user of pact_elixir needs a working cargo/rust installed.
As the compilation is done on the user machine it should be cross plattform - as long as rust, erlang and elixir compiles.</div></div></div><br/>
<div><a id="1632089634.000100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632089634.000100" ><div class="time">2021-09-19 22:13</div></a><div class="msg">I'm not sure how Elixr works. Can you bundle the FFI library (.so/dll/dylib) with the package?</div></div></div><br/>
<div><a id="1632089645.000300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632089645.000300" ><div class="time">2021-09-19 22:14</div></a><div class="msg">That's how others do it</div></div></div><br/>
<div><a id="1632093721.001300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632093721.001300" ><div class="time">2021-09-19 23:22</div></a><div class="msg">that doesn?t sound ideal. I?ve found the rust compilation to be fairly slow, so presumably this could dramatically increase CI build times for end users. If you look at the current Pact JS build times, they take almost 30 minutes (granted, we have other checks, but the Rust bits account for a big chunk of that)</div></div></div><br/>
<div><a id="1632093775.002300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632093775.002300" ><div class="time">2021-09-19 23:22</div></a><div class="msg">It will also mean contributors may need to know Rust, or at least enough to map to existing Rust functions, which we?ve found to be a barrier, over a well defined (but admittedly, not ideal) C interface</div></div></div><br/>
<div><a id="1632096684.002600"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1632096684.002600" ><div class="time">2021-09-20 00:11</div></a><div class="msg">Thanks guys, I'll give it a go and report back</div></div></div><br/>
<div><a id="1632129948.002800"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632129948.002800" ><div class="time">2021-09-20 09:25</div></a><div class="msg">Elixir allows to bundle any files into a package.
So the approach would be to build cross platform binaries from the rust source, include them in the elixir package and call the C FFI. Sounds doable.</div></div></div><br/>
<div><a id="1632132293.003000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632132293.003000" ><div class="time">2021-09-20 10:04</div></a><div class="msg">That's what we do already (not binaries, libraries)</div></div></div><br/>
<div><a id="1632132330.003200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632132330.003200" ><div class="time">2021-09-20 10:05</div></a><div class="msg">Despite it being less stable (perhaps), I'm pretty certain it will be a much better process for developers</div></div></div><br/>
<div><a id="1632132375.003500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632132375.003500" ><div class="time">2021-09-20 10:06</div></a><div class="msg">The kids of stability needs for a testing package is different to a runtime tho, were need designing a telephony system here :rolling_on_the_floor_laughing:</div></div></div><br/>
<div><a id="1632143696.003700"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632143696.003700" ><div class="time">2021-09-20 13:14</div></a><div class="msg">This thread was started before we finished the work of compiling the project using rustler v0.22, libc v0.2.101, and removing the Rustler warning.

the project is now compiling and all the tests are green.

take my comment below with a grain of salt and with the understanding that I am new to Elixir and to Rustler.

TL;DR - I don?t know for certain what?s impossible so at the same time I don?t know for certain what?s possible.

I meant that ^^^^ comment semi-humorously

At the moment I am familiar enough with how Rustler does things and I think we should keep going that way instead of going with straight FFI.

My plan for this week is to see if I can get the project to compile using pact_mock_server v0.7.20.

@andrew.jensen @matt.fellows @pact-slack</div></div></div><br/>
<div><a id="1632144086.003900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144086.003900" ><div class="time">2021-09-20 13:21</div></a><div class="msg">Thanks for the update Pedro, sounds like awesome progress! :clap:</div></div></div><br/>
<div><a id="1632144106.004100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144106.004100" ><div class="time">2021-09-20 13:21</div></a><div class="msg">I also just realised my update before made no sense whatsoever:

&gt;  The kids of stability needs for a testing package is different to a runtime tho, were need designing a telephony system here
?we?re _not_ designing a telephony system? was what I meant to say :stuck_out_tongue:</div></div></div><br/>
<div><a id="1632144170.004300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144170.004300" ><div class="time">2021-09-20 13:22</div></a><div class="msg">As long as Elixr can speak a c interface (which it obviously can, because that is what Rustler ultimately does) and you can add a c compatible library to your package (which it sounds like you can), I?d strongly encourage you move away from having the need for rust on a target machine</div></div></div><br/>
<div><a id="1632144183.004500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144183.004500" ><div class="time">2021-09-20 13:23</div></a><div class="msg">that need not mean you do that right away, which is understandable</div></div></div><br/>
<div><a id="1632144491.005000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144491.005000" ><div class="time">2021-09-20 13:28</div></a><div class="msg">I think the c interface is a lot scarier than it sounds. Happy to point you at other language examples to follow if/when that time comes</div></div></div><br/>
<div><a id="1632145238.005300"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632145238.005300" ><div class="time">2021-09-20 13:40</div></a><div class="msg">@matt.fellows
please point me to other language examples.

maybe that?s something else I can focus on this week.

I?ll speak with @andrew.jensen later today about this</div></div></div><br/>
<div><a id="1632145466.005800"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632145466.005800" ><div class="time">2021-09-20 13:44</div></a><div class="msg">Matt,</div></div></div><br/>
<div><a id="1632145496.006000"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632145496.006000" ><div class="time">2021-09-20 13:44</div></a><div class="msg">Will you please elaborate a bit more on the why of

```"I'd strongly encourage you move away from having the need for rust on a target machine"```
</div></div></div><br/>
<div><a id="1632154267.006500"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632154267.006500" ><div class="time">2021-09-20 16:11</div></a><div class="msg">I would +1 on Matts opinion. As a user of the pact_elixir library I would like to have a good and easy developer expirience.
Currently you need a working rust compiler installed and you can get Rust compiler errors/warnings during the installation of the library. And this is not what you expect if you use a elixir library.</div></div></div><br/>
<div><a id="1632154590.006700"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632154590.006700" ><div class="time">2021-09-20 16:16</div></a><div class="msg">ok, thanks

went and searched for ?elixir ffi?
one of the projects I found is this one <a href="https://github.com/joshnuss/elixir-ffi">https://github.com/joshnuss/elixir-ffi</a>, granted it hasn?t been touched in several years, but I found reading the warning interesting.  :slightly_smiling_face:

```*** Warning: Turns out this is a really bad idea, do not use! When the BEAM calls native functions it needs to know how many reductions should be used. Otherwise calling a long running function can break the scheduling completly, because with this approach a long running function is considered 1 reduction ***```
^^^^ that is very early searching.  i am sure things are different by now.  I just thought I would share the comment in that project here.

I?ll talk with Andrew about this and come up with a plan that we will share with y?all.</div></div></div><br/>
<div><a id="1632202973.007400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632202973.007400" ><div class="time">2021-09-21 05:42</div></a><div class="msg">I saw that too</div></div></div><br/>
<div><a id="1632202980.007600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632202980.007600" ><div class="time">2021-09-21 05:43</div></a><div class="msg">I wouldn't use his abstraction</div></div></div><br/>
<div><a id="1632202998.007800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632202998.007800" ><div class="time">2021-09-21 05:43</div></a><div class="msg">FFI is inherently dangerous because you're crossing memory boundaries</div></div></div><br/>
<div><a id="1632203027.008000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203027.008000" ><div class="time">2021-09-21 05:43</div></a><div class="msg">But that's not really a concern for a test framework that is used  in small discrete runs</div></div></div><br/>
<div><a id="1632203054.008200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203054.008200" ><div class="time">2021-09-21 05:44</div></a><div class="msg">A crash indicates a bug in the tool and presumably is catchable so we can encourage bug reports</div></div></div><br/>
<div><a id="1632203061.008400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203061.008400" ><div class="time">2021-09-21 05:44</div></a><div class="msg">A crash in a runtime app is bad</div></div></div><br/>
<div><a id="1632203072.008600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203072.008600" ><div class="time">2021-09-21 05:44</div></a><div class="msg">Here are some references:

<a href="https://github.com/pact-foundation/pact-go/projects/2">https://github.com/pact-foundation/pact-go/projects/2</a></div></div></div><br/>
<div><a id="1632203120.008800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203120.008800" ><div class="time">2021-09-21 05:45</div></a><div class="msg">FFI wrapper code (provides functions for internal use - this represents your facade essentially): <a href="https://github.com/pact-foundation/pact-go/tree/2.x.x/internal/native">https://github.com/pact-foundation/pact-go/tree/2.x.x/internal/native</a></div></div></div><br/>
<div><a id="1632203158.009000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203158.009000" ><div class="time">2021-09-21 05:45</div></a><div class="msg">JS <a href="https://github.com/pact-foundation/pact-js-core/tree/master/src/ffi">https://github.com/pact-foundation/pact-js-core/tree/master/src/ffi</a></div></div></div><br/>
<div><a id="1632203192.009200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203192.009200" ><div class="time">2021-09-21 05:46</div></a><div class="msg">Pact .NET <a href="https://github.com/pact-foundation/pact-net/tree/feature/4.0.0">https://github.com/pact-foundation/pact-net/tree/feature/4.0.0</a></div></div></div><br/>
<div><a id="1634662722.002600"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1634662722.002600" ><div class="time">2021-10-19 16:58</div></a><div class="msg">Hi all, here is an update on the current status of Elixir bindings as of October 2021, and the next steps for developing the library.

*HIGH-LEVEL WORK TO BE DONE*

The <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a> library is a community-built implementation of Pact in Elixir. Thank you to @pact-slack for the great work on this library so far! In order to make the library fully-featured, we have these general tasks to complete:

? Change the Elixir FFI implementation (see details below)
? Re-implement consumer-side mocks with new FFI
? Implement provider verification
? Implement messaging equivalents
? Implement other workflows like publishing and downloading pacts from a broker
*FFI: PROBLEM AND CONSTRAINTS*

The pact_elixir library currently uses a Elixir+Rust library called <a href="https://github.com/rusterlium/rustler">https://github.com/rusterlium/rustler</a> to create safe bindings between the Elixir wrapper and the Rust reference implementation of Pact. Rustler is a great library for creating interop between the two languages because it minimizes the risks of FFI. However, rustler requires the app developer to have a Rust toolchain installed, and to compile the core Rust code at the same time as the app and the pact_elixir library are compiled. This leads to more system dependencies and slower build performance. The developer should not need to know that the internals of pact_elixir are actually written in a different language.

The Elixir and Erlang ecosystem has another FFI concept called NIFs, or Natively-Implemented Functions. Note that NIFs require special instrumentation of the native code in order to communicate properly with the Elixir bindings that are calling in. This does not seem like an ideal solution either, because it requires the pact_elixir library to maintain hand-written shim code in C to add this instrumentation.

*FFI: NEXT STEPS*

We intend to follow the same approach that pact-js and pact-go now follow: the pact_elixir library should download the FFI bundles for each OS architecture at library publish time, and then link to them using whatever strategy is most unobtrusive to the app developer. We can reuse the pipeline scripts from these other implementations in order to download the bundles.

We need to pick an appropriate FFI strategy from the Elixir/Erlang ecosystem to allow a good developer experience. Rustler and handwritten NIF instrumentation do not seem to be good options. Erlang Ports or Port Drivers may be viable options. We may also be able to find a library to automatically *generate NIF bindings around the FFI bundles*, and if this is possible, this may be the best option. I am not very familiar with this part of the Elixir and Erlang ecosystem, so if anyone is more familiar with what is available, please share what you know!

Once we have researched and picked the right FFI strategy, we can create the bindings and have a fully-featured Elixir implementation of Pact!

*RESOURCES*

? <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a>: Elixir bindings for Pact, let?s focus our efforts to evolve this repo!
? <a href="https://hex.pm">https://hex.pm</a>: package manager for the ecosystem
? <a href="https://erlang.org/doc/tutorial/users_guide.html">https://erlang.org/doc/tutorial/users_guide.html</a>: Erlang Interoperability Tutorial User?s Guide, explains NIFs, ports, port drivers, etc.
? <a href="https://sudonull.com/post/97911-How-to-write-your-NIF-in-Elixir">https://sudonull.com/post/97911-How-to-write-your-NIF-in-Elixir</a>: Tutorial on writing NIFs. Note that the C code requires instrumentation, so hand-writing a NIF is likely not our best option.</div></div></div><br/>
<div><a id="1634676009.003100"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1634676009.003100" ><div class="time">2021-10-19 20:40</div></a><div class="msg">Thx Andrew for the extensive description - this approach sounds good to me!
We should experiment with calling the C library via Erlang Ports and via NIFs.
Besides replacing all existing Rust calls with C calls, we could list all missing user facing features like matchers, error handling, provider side and message based communication DSL.</div></div></div><br/>
<div><a id="1635462955.000200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1635462955.000200" ><div class="time">2021-10-28 23:15</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1638047157.001600"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1638047157.001600" ><div class="time">2021-11-27 21:05</div></a><div class="msg"><a href="https://twitter.com/josevalim/status/1463605416861081602?s=21">https://twitter.com/josevalim/status/1463605416861081602?s=21</a> could become an alternative approach.

"With this work, libraries using Rustler can precompile native code and everything will continue to work transparently for users!"

What do you think?</div></div></div><br/>
<div><a id="1638048892.002200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638048892.002200" ><div class="time">2021-11-27 21:34</div></a><div class="msg">That does sound like what we want!</div></div></div><br/>
<div><a id="1638050724.002300"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1638050724.002300" ><div class="time">2021-11-27 22:05</div></a><div class="msg">One of these rare moments of the week having time for software side projects and GitHub is down :grin:</div></div></div><br/>
<div><a id="1643037352.000200"><img src="https://avatars.slack-edge.com/2022-01-21/2988263844837_7981ed8be9726b9cd5ba_72.jpg" /></a><div class="message"><div class="username">david.kormushoff</div><a style="text-decoration: none" href="#1643037352.000200" ><div class="time">2022-01-24 15:15</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1643126272.000400"><img src="https://secure.gravatar.com/avatar/ce1afdf9bbbbd83ea9d122d4abc6bafb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">austin.reifsteck</div><a style="text-decoration: none" href="#1643126272.000400" ><div class="time">2022-01-25 15:57</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1643126518.002700"><img src="https://secure.gravatar.com/avatar/ce1afdf9bbbbd83ea9d122d4abc6bafb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">austin.reifsteck</div><a style="text-decoration: none" href="#1643126518.002700" ><div class="time">2022-01-25 16:01</div></a><div class="msg">Hi! I see there's been some discussion about NIFs and FFIs for the pact-elixir project. Has there been any resolution on this front? I'm interested in using Pact at my company and we have several elixir applications, so I'm curious about the current status of the project.</div></div></div><br/>
<div><a id="1643127444.004200"><img src="https://secure.gravatar.com/avatar/ce1afdf9bbbbd83ea9d122d4abc6bafb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">austin.reifsteck</div><a style="text-decoration: none" href="#1643127444.004200" ><div class="time">2022-01-25 16:17</div></a><div class="msg">I'm interested in contributing if I can, as well.</div></div></div><br/>
<div><a id="1643147766.004300"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643147766.004300" ><div class="time">2022-01-25 21:56</div></a><div class="msg">Hi Austin, thanks for your interest in the library.
I?m currently playing with prebuilt NIFs, so that users of the library don?t need to have Rust installed - based on the work at <a href="https://github.com/rusterlium/html5ever_elixir/pull/28">https://github.com/rusterlium/html5ever_elixir/pull/28</a>. I think this could be a viable solution to the problems regarding NIFs and FFIs discussed in this channel and I?ll try to release a new version of pact_elixir in the next days.

The current solution could for sure be simplified as soon as rustler comes with support for prebuilt NIFs.</div></div></div><br/>
<div><a id="1643148083.004500"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643148083.004500" ><div class="time">2022-01-25 22:01</div></a><div class="msg">The library has basic functions but lacks a lot of the features present in more mature pact libraries.
I would suggest to give it a try, see what?s missing for your use cases and discuss your suggestions in this channel or create a PR.

Also have a look at the <a href="https://github.com/elitau/pact_elixir/issues">https://github.com/elitau/pact_elixir/issues</a> in Github.</div></div></div><br/>
<div><a id="1643149315.008100"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643149315.008100" ><div class="time">2022-01-25 22:21</div></a><div class="msg">As a note for upcoming devs of the library.
I?ve encountered the problem of `Too many open files` raised by Rust on Mac Os during when executing `mix test` and solved it with `ulimit -S -n 2048`

Full error message:
```thread '&lt;unnamed&gt;' panicked at 'called `Result::unwrap()` on an `Err` value: Os { code: 24, kind: Uncategorized, message: "Too many open files" }', /Users/runner/.cargo/registry/src/github.com-1ecc6299db9ec823/hyper-0.9.18/src/net.rs:217:41```
</div></div></div><br/>
<div><a id="1643150501.009500"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643150501.009500" ><div class="time">2022-01-25 22:41</div></a><div class="msg">Just published version 0.5.2-rc.8 to <a href="http://hex.pm">http://hex.pm</a> with prebuilt NIFs (version numbers are totally messed up for now).
Give it a try :)</div></div></div><br/>
<div><a id="1643151448.009700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643151448.009700" ><div class="time">2022-01-25 22:57</div></a><div class="msg">that?s? strange</div></div></div><br/>
<div><a id="1643151493.009900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643151493.009900" ><div class="time">2022-01-25 22:58</div></a><div class="msg">is this during compilation or executing the c code? I?ve run into a lot of different problems but never that one (I may have previously bumped my ulimit of course), but still doesn?t sound right</div></div></div><br/>
<div><a id="1643151505.010100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643151505.010100" ><div class="time">2022-01-25 22:58</div></a><div class="msg">(update: my ulimit is `unlimited` :laughing: )</div></div></div><br/>
<div><a id="1643201189.010300"><img src="https://secure.gravatar.com/avatar/ce1afdf9bbbbd83ea9d122d4abc6bafb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">austin.reifsteck</div><a style="text-decoration: none" href="#1643201189.010300" ><div class="time">2022-01-26 12:46</div></a><div class="msg">Do you have a roadmap or priority list of issues to tackle?</div></div></div><br/>
<div><a id="1643280950.010500"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643280950.010500" ><div class="time">2022-01-27 10:55</div></a><div class="msg">No.
I?m currently not using the library in the products I?m involved.

I would suggest first to update all dependencies, foremost the pactmockserver Rust library.

Also not all possible matching features are currently supported.

And the error handling is not catching all possible errors thrown by the underlying Rust pack lib.</div></div></div><br/>
<div><a id="1643281176.010800"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643281176.010800" ><div class="time">2022-01-27 10:59</div></a><div class="msg">I was getting the errors during executing the rust code and still not sure, what exactly is causing it.</div></div></div><br/>
<div><a id="1648571409.907549"><img src="https://secure.gravatar.com/avatar/75710cb3f2347654cb08482b7a1f46e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">hassan.shaikley</div><a style="text-decoration: none" href="#1648571409.907549" ><div class="time">2022-03-29 16:30</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1648571437.760259"><img src="https://secure.gravatar.com/avatar/75710cb3f2347654cb08482b7a1f46e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">hassan.shaikley</div><a style="text-decoration: none" href="#1648571437.760259" ><div class="time">2022-03-29 16:30</div></a><div class="msg">Hey all! I noticed this library uses the old rust app. Is it still worth picking up if I get started with Pact today?</div></div></div><br/>
<div><a id="1648600549.719869"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1648600549.719869" ><div class="time">2022-03-30 00:35</div></a><div class="msg">There was some activity around this a few months back with several folks looking to update and generally revamp the Rust-based approach. Last I saw a release candidate was shipped that uses a prebuilt NIF for the Rust lib integration: <a href="https://hex.pm/packages/pact_elixir/0.5.2-rc.8">https://hex.pm/packages/pact_elixir/0.5.2-rc.8</a> so you could give that a shot. I haven't used it myself/can't speak to exactly how well it will work.

I had ideas of a native Elixir implementation years ago but have not found the time to work on it unfortunately. So I'd say give the Rust app wrapper option a shot if you're open to that. Otherwise you're likely stuck using the prepackaged tools for some degree of verification <a href="https://docs.pact.io/implementation_guides/cli">https://docs.pact.io/implementation_guides/cli</a></div></div></div><br/>
<div><a id="1649055359.644769"><img src="https://secure.gravatar.com/avatar/d2f3ac0d36081cab03f246ea62cfe388.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">sheyan.rizfee</div><a style="text-decoration: none" href="#1649055359.644769" ><div class="time">2022-04-04 06:55</div></a><div class="msg">Hi All, was wondering if pact-elixir libraries are in a working state?
cc: @pact-slack @andrew.jensen @pedroefajardo_pactio</div></div></div><br/>
<div><a id="1649094140.509569"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1649094140.509569" ><div class="time">2022-04-04 17:42</div></a><div class="msg">idk @sheyan.rizfee
I haven?t touched them in a while.  We were waiting for an implementation that was going to bypass Rustler.  I don?t know what the state of that work is.  I haven?t followed up on it.</div></div></div><br/>
<div><a id="1649340907.936659"><img src="https://secure.gravatar.com/avatar/d2f3ac0d36081cab03f246ea62cfe388.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">sheyan.rizfee</div><a style="text-decoration: none" href="#1649340907.936659" ><div class="time">2022-04-07 14:15</div></a><div class="msg">thanks for the update..</div></div></div><br/>
<div><a id="1649868003.587039"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1649868003.587039" ><div class="time">2022-04-13 16:40</div></a><div class="msg"><a href="https://github.com/philss/rustler_precompiled">https://github.com/philss/rustler_precompiled</a> was recently released.
I plan to built it into pact_elixir in the coming weeks.</div></div></div><br/>
<div><a id="1650053773.316579"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1650053773.316579" ><div class="time">2022-04-15 20:16</div></a><div class="msg">This is awesome! Rustler?s previous requirement of the developer having a Rust toolchain was a big blocker before, but this should resolve it</div></div></div><br/>
<div><a id="1650309126.261889"><img src="https://secure.gravatar.com/avatar/e56972270335da29ddd62580416412c4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">lewiscowles</div><a style="text-decoration: none" href="#1650309126.261889" ><div class="time">2022-04-18 19:12</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1650583678.724289"><img src="https://avatars.slack-edge.com/2022-04-12/3376295139750_f2fe93c11cdbb983a00d_72.jpg" /></a><div class="message"><div class="username">albert.pincevic</div><a style="text-decoration: none" href="#1650583678.724289" ><div class="time">2022-04-21 23:27</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1651133171.390189"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1651133171.390189" ><div class="time">2022-04-28 08:06</div></a><div class="msg">FYI we?ll be dropping a Pactflow POST very soon. Worth a shout out here for people to get involved / contribute or best to keep this a little quiet until you folks get it to a point that others will be able to build upon?</div></div></div><br/>
<div><a id="1651243115.582399"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1651243115.582399" ><div class="time">2022-04-29 14:38</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1652119033.989479"><img src="https://avatars.slack-edge.com/2022-05-09/3501740885028_0927e4b769c57ee9769f_72.png" /></a><div class="message"><div class="username">orbit</div><a style="text-decoration: none" href="#1652119033.989479" ><div class="time">2022-05-09 17:57</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1654708921.485649"><img src="https://avatars.slack-edge.com/2022-10-06/4188780648804_06ad6132e8393dbb202f_72.png" /></a><div class="message"><div class="username">slacksync</div><a style="text-decoration: none" href="#1654708921.485649" ><div class="time">2022-06-08 17:22</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1656434620.672379"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1656434620.672379" ><div class="time">2022-06-28 16:43</div></a><div class="msg">How?s this effort going?</div></div></div><br/>
<div><a id="1660980306.620599"><img src="https://avatars.slack-edge.com/2022-08-20/3980240791361_a2e07b726cc933ec5455_72.png" /></a><div class="message"><div class="username">duynguyenptithcm</div><a style="text-decoration: none" href="#1660980306.620599" ><div class="time">2022-08-20 07:25</div></a><div class="msg">has joined #pact-elixir</div></div></div><br/>
<div><a id="1662280110.666239"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1662280110.666239" ><div class="time">2022-09-04 08:28</div></a><div class="msg">Not good. I?m too occupied with other things.</div></div></div><br/>
<div><a id="1668116443.298369"><img src="https://secure.gravatar.com/avatar/75710cb3f2347654cb08482b7a1f46e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">hassan.shaikley</div><a style="text-decoration: none" href="#1668116443.298369" ><div class="time">2022-11-10 21:40</div></a><div class="msg">Is there official support for Elixir yet?</div></div></div><br/>
</div></body></html>