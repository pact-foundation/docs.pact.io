<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><a id="1523078132.000043"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1523078132.000043" ><div class="time">2018-04-07 05:15</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1525237505.000143"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1525237505.000143" ><div class="time">2018-05-02 05:05</div></a><div class="msg">/github subscribe pact-foundation/pact-reference releases</div></div></div><br/>
<div><a id="1525237544.000088"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1525237544.000088" ><div class="time">2018-05-02 05:05</div></a><div class="msg">/github unsubscribe pact-foundation/pact-reference deployments public commits</div></div></div><br/>
<div><a id="1526346340.000142"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1526346340.000142" ><div class="time">2018-05-15 01:05</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1526860099.000059"><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /></a><div class="message"><div class="username">mboudreau</div><a style="text-decoration: none" href="#1526860099.000059" ><div class="time">2018-05-20 23:48</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1527159698.000342"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1527159698.000342" ><div class="time">2018-05-24 11:01</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1536827910.000200"><img src="https://secure.gravatar.com/avatar/ea6ad04cadbe12b94045035295c71e30.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">mark.bridgett</div><a style="text-decoration: none" href="#1536827910.000200" ><div class="time">2018-09-13 08:38</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1536827987.000100"><img src="https://secure.gravatar.com/avatar/ea6ad04cadbe12b94045035295c71e30.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">mark.bridgett</div><a style="text-decoration: none" href="#1536827987.000100" ><div class="time">2018-09-13 08:39</div></a><div class="msg">Hey, posting here because the pact-stub is written in rust and not sure if it applies to any of the other channels.
I raised an issue on the pact-stub-server issues list on github a few weeks back. Not sure if anyone saw it or had any feedback?

<a href="https://github.com/pact-foundation/pact-stub-server/issues">https://github.com/pact-foundation/pact-stub-server/issues</a></div></div></div><br/>
<div><a id="1536828425.000100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1536828425.000100" ><div class="time">2018-09-13 08:47</div></a><div class="msg">That project is for building the docker image, so that is why nobody has looked at it. I'll create issue against the actual project and link it</div></div></div><br/>
<div><a id="1536828558.000100"><img src="https://secure.gravatar.com/avatar/ea6ad04cadbe12b94045035295c71e30.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">mark.bridgett</div><a style="text-decoration: none" href="#1536828558.000100" ><div class="time">2018-09-13 08:49</div></a><div class="msg">Oh, thanks for pointing that out. Sorry it was put in the wrong place :disappointed:</div></div></div><br/>
<div><a id="1536828589.000100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1536828589.000100" ><div class="time">2018-09-13 08:49</div></a><div class="msg">No, not your fault. It's ours for having 2 projects in different places :wink:</div></div></div><br/>
<div><a id="1544689793.000200"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1544689793.000200" ><div class="time">2018-12-13 08:29</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1551200499.000200"><img src="https://secure.gravatar.com/avatar/9c17c84ee164bee33e01d7d1b46eaa57.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /></a><div class="message"><div class="username">damien.castelltort</div><a style="text-decoration: none" href="#1551200499.000200" ><div class="time">2019-02-26 17:01</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1556171644.000400"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1556171644.000400" ><div class="time">2019-04-25 05:54</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1556172069.000600"><img src="https://secure.gravatar.com/avatar/20aa96d3bc78e8ab067ee0f236169359.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">j</div><a style="text-decoration: none" href="#1556172069.000600" ><div class="time">2019-04-25 06:01</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1556176865.000800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1556176865.000800" ><div class="time">2019-04-25 07:21</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1556176876.001000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1556176876.001000" ><div class="time">2019-04-25 07:21</div></a><div class="msg">:wave:</div></div></div><br/>
<div><a id="1556176969.003600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1556176969.003600" ><div class="time">2019-04-25 07:22</div></a><div class="msg">I'll add my previous notes a bit later as I had spiked both JS and Go using the rust lib. The main barrier from memory was that it previously didn't serialise the pact, so this would require the language binding to do that work. Also there are a bunch of new features in the languages we'd need to assess against what's currently been built</div></div></div><br/>
<div><a id="1556177058.004600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1556177058.004600" ><div class="time">2019-04-25 07:24</div></a><div class="msg">It also contains model classes that can serialise/de-serialise to the JSON format, so those could be re-used</div></div></div><br/>
<div><a id="1556177093.005200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1556177093.005200" ><div class="time">2019-04-25 07:24</div></a><div class="msg">But language implementations should use a proper set of models to represent a pact</div></div></div><br/>
<div><a id="1556179484.005600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1556179484.005600" ><div class="time">2019-04-25 08:04</div></a><div class="msg">Indeed</div></div></div><br/>
<div><a id="1557147907.010200"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1557147907.010200" ><div class="time">2019-05-06 13:05</div></a><div class="msg">Hi, I have started work on converting pact-reference to tokio/async (hyper 0.12). This is quite time consuming, but fun to work with. There are a couple of architectural implications as a result, that can be discussed here or elsewhere. It?s far from done, but if anyone?s interested you can find the in-progress branch at <a href="https://github.com/audunhalland/pact-reference/tree/hyper_upgrade">https://github.com/audunhalland/pact-reference/tree/hyper_upgrade</a></div></div></div><br/>
<div><a id="1557148138.010600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1557148138.010600" ><div class="time">2019-05-06 13:08</div></a><div class="msg">thanks for jumping in and giving it a crack</div></div></div><br/>
<div><a id="1559688446.000200"><img src="https://secure.gravatar.com/avatar/a8e465c905f5ad94866395bec5587d9a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">rob.clarken</div><a style="text-decoration: none" href="#1559688446.000200" ><div class="time">2019-06-04 22:47</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1565168070.004100"><img src="https://secure.gravatar.com/avatar/26255653ae8ae05514b65d5ceeb31a96.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">c.metz</div><a style="text-decoration: none" href="#1565168070.004100" ><div class="time">2019-08-07 08:54</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1565168084.004300"><img src="https://secure.gravatar.com/avatar/26255653ae8ae05514b65d5ceeb31a96.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">c.metz</div><a style="text-decoration: none" href="#1565168084.004300" ><div class="time">2019-08-07 08:54</div></a><div class="msg">Question: is it possible to define a regex matcher for a plain text body of a multiformdata request? For details see: <a href="https://stackoverflow.com/questions/5737262">https://stackoverflow.com/questions/5737262</a>
9/how-to-define-pact-specification-matching-rule-for-single-string-body. Help would be much appreciated. We got stuck with this. Thanks!</div></div></div><br/>
<div><a id="1565173229.005200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1565173229.005200" ><div class="time">2019-08-07 10:20</div></a><div class="msg">Prob better to implement support for multi-part bodies. I answered as such in SO.</div></div></div><br/>
<div><a id="1565175225.006200"><img src="https://secure.gravatar.com/avatar/26255653ae8ae05514b65d5ceeb31a96.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">c.metz</div><a style="text-decoration: none" href="#1565175225.006200" ><div class="time">2019-08-07 10:53</div></a><div class="msg">Does this mean that regex matching on a full text body is currently not possible? The regex is not too complicated in this case as we now how the consumer is generating it.</div></div></div><br/>
<div><a id="1565175249.006800"><img src="https://secure.gravatar.com/avatar/26255653ae8ae05514b65d5ceeb31a96.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">c.metz</div><a style="text-decoration: none" href="#1565175249.006800" ><div class="time">2019-08-07 10:54</div></a><div class="msg">I agree that implementing multi-part body support would be better, but I am afraid we don't have time for that right now.</div></div></div><br/>
<div><a id="1565175337.007400"><img src="https://secure.gravatar.com/avatar/26255653ae8ae05514b65d5ceeb31a96.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">c.metz</div><a style="text-decoration: none" href="#1565175337.007400" ><div class="time">2019-08-07 10:55</div></a><div class="msg">Ow, by the way, we use the library of the rust implementation from C++. So I think we can only use pact.json files as input.</div></div></div><br/>
<div><a id="1565220916.007800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1565220916.007800" ><div class="time">2019-08-07 23:35</div></a><div class="msg">I just checked the implementation, and it is not applying matchers to the text bodies. Can you raise a issue at the Github project for this?</div></div></div><br/>
<div><a id="1565248652.008100"><img src="https://secure.gravatar.com/avatar/26255653ae8ae05514b65d5ceeb31a96.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">c.metz</div><a style="text-decoration: none" href="#1565248652.008100" ><div class="time">2019-08-08 07:17</div></a><div class="msg">Thanks for checking! I created the issue as requested.</div></div></div><br/>
<div><a id="1565480236.008700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1565480236.008700" ><div class="time">2019-08-10 23:37</div></a><div class="msg">@c.metz if you want to design a better interface to support calling from C++, we can implement that.</div></div></div><br/>
<div><a id="1565592041.009800"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1565592041.009800" ><div class="time">2019-08-12 06:40</div></a><div class="msg">No new release for pact verifier?</div></div></div><br/>
<div><a id="1565592509.010600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1565592509.010600" ><div class="time">2019-08-12 06:48</div></a><div class="msg">Sorry, I ran out of time. I was trying to remove all the old versions of hyper first</div></div></div><br/>
<div><a id="1565592808.010900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1565592808.010900" ><div class="time">2019-08-12 06:53</div></a><div class="msg">I'll see about getting it out as is</div></div></div><br/>
<div><a id="1565598120.011900"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1565598120.011900" ><div class="time">2019-08-12 08:22</div></a><div class="msg">No worries :slightly_smiling_face: I just wondered if there were any remaining blockers left or you just forgot.</div></div></div><br/>
<div><a id="1565598162.012200"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1565598162.012200" ><div class="time">2019-08-12 08:22</div></a><div class="msg">I can wait</div></div></div><br/>
<div><a id="1568300238.006300"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1568300238.006300" ><div class="time">2019-09-12 14:57</div></a><div class="msg">Hi again, as I mentioned earlier this year my goal is to use the rust verifier with a node.js provider. I wonder how to approach that. Should I download `pact_verfifier_cli` in that project and be done with it, or do you instead want to migrate of `pact-node` itself to use `pact-reference`? If you want to do that, I am also willing to help. Of course the benefit of that is that JS consumer tests will also use pact-reference.</div></div></div><br/>
<div><a id="1568335463.006500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1568335463.006500" ><div class="time">2019-09-13 00:44</div></a><div class="msg">:wave:</div></div></div><br/>
<div><a id="1568335465.006800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1568335465.006800" ><div class="time">2019-09-13 00:44</div></a><div class="msg">See <a href="https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0">https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0</a></div></div></div><br/>
<div><a id="1568335499.007600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1568335499.007600" ><div class="time">2019-09-13 00:44</div></a><div class="msg">This process has started, but we really need to do a bit of a planning session on this. My thoughts are to put together an RFC-style document that we can share. That?s on me as the core maintainer (of JS)</div></div></div><br/>
<div><a id="1568335509.007900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1568335509.007900" ><div class="time">2019-09-13 00:45</div></a><div class="msg">TL;DR to get moving quickly, using the verifier CLI. If you want to be on the inside track, it?s going to be a few months of work, but would certainly appreciate helping hand</div></div></div><br/>
<div><a id="1568363774.008200"><img src="https://secure.gravatar.com/avatar/26255653ae8ae05514b65d5ceeb31a96.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">c.metz</div><a style="text-decoration: none" href="#1568363774.008200" ><div class="time">2019-09-13 08:36</div></a><div class="msg">Sorry the late reply. I am currently too busy to work on that but will consider for the future. Thanks for the help!</div></div></div><br/>
<div><a id="1568734284.001000"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1568734284.001000" ><div class="time">2019-09-17 15:31</div></a><div class="msg">I did it :slightly_smiling_face: now building our CI pipeline using `pact_verifier_cli`!</div></div></div><br/>
<div><a id="1568759684.001500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1568759684.001500" ><div class="time">2019-09-17 22:34</div></a><div class="msg">awesome @audun.halland!</div></div></div><br/>
<div><a id="1568759703.002000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1568759703.002000" ><div class="time">2019-09-17 22:35</div></a><div class="msg">Publishing the results to the broker is doable without Rust, but a PR would be nice if it doesn?t exist eh @uglyog?</div></div></div><br/>
<div><a id="1568761324.003000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1568761324.003000" ><div class="time">2019-09-17 23:02</div></a><div class="msg">Yeah, PR's are awesome. @audun.halland has already done so much! I have some time this weekend, anyway. Can't believe I missed this.</div></div></div><br/>
<div><a id="1569155592.004800"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1569155592.004800" ><div class="time">2019-09-22 12:33</div></a><div class="msg">Nice :smiley:</div></div></div><br/>
<div><a id="1569865997.000200"><img src="https://secure.gravatar.com/avatar/7192e784042c9672c511ffae0a38944d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">pkuang</div><a style="text-decoration: none" href="#1569865997.000200" ><div class="time">2019-09-30 17:53</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1569884710.001200"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1569884710.001200" ><div class="time">2019-09-30 23:05</div></a><div class="msg">`json_pattern!` is completely awesome. I didn?t expect to be able to write consumer tests in rust that easily.</div></div></div><br/>
<div><a id="1569884967.002200"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1569884967.002200" ><div class="time">2019-09-30 23:09</div></a><div class="msg">just a side note: not that I?m really there yet, but how am I supposed to publish generated pacts from a Rust project?</div></div></div><br/>
<div><a id="1569887352.002700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1569887352.002700" ><div class="time">2019-09-30 23:49</div></a><div class="msg">ooh, you come up with the best questions :smile:</div></div></div><br/>
<div><a id="1569887446.003500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1569887446.003500" ><div class="time">2019-09-30 23:50</div></a><div class="msg">Publishing is just a PUT request to the pact broker. But I can write a CLI for you, or you can use the standard Pact CLI</div></div></div><br/>
<div><a id="1569887461.003800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1569887461.003800" ><div class="time">2019-09-30 23:51</div></a><div class="msg">Or just script it with Bash</div></div></div><br/>
<div><a id="1569887476.004100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1569887476.004100" ><div class="time">2019-09-30 23:51</div></a><div class="msg">Or Powershell, if that is your thing</div></div></div><br/>
<div><a id="1569887502.004600"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1569887502.004600" ><div class="time">2019-09-30 23:51</div></a><div class="msg">ok, curl seems like the way then, thanks</div></div></div><br/>
<div><a id="1569887540.005300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1569887540.005300" ><div class="time">2019-09-30 23:52</div></a><div class="msg">I might write a CLI anyway, because there is complexity with tagging and versions</div></div></div><br/>
<div><a id="1570071739.000400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1570071739.000400" ><div class="time">2019-10-03 03:02</div></a><div class="msg">@audun.halland You can use the pact-cli: <a href="https://hub.docker.com/r/pactfoundation/pact-cli">https://hub.docker.com/r/pactfoundation/pact-cli</a></div></div></div><br/>
<div><a id="1570232384.001000"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1570232384.001000" ><div class="time">2019-10-04 23:39</div></a><div class="msg">Many thanks, will try that eventually. Obviously it will take some time to develop this Rust app</div></div></div><br/>
<div><a id="1571837373.000200"><img src="https://secure.gravatar.com/avatar/c49ea42fde43fb7be4ef65f7b2ba4c08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">florian.nagel</div><a style="text-decoration: none" href="#1571837373.000200" ><div class="time">2019-10-23 13:29</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1580729460.001500"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1580729460.001500" ><div class="time">2020-02-03 11:31</div></a><div class="msg">It appears that the latest version has reintroduced regex errors, a bug that was previously fixed by using the `onig` lib</div></div></div><br/>
<div><a id="1580734437.002000"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1580734437.002000" ><div class="time">2020-02-03 12:53</div></a><div class="msg">Btw, did you have any progress on pact-js v3?</div></div></div><br/>
<div><a id="1580762503.003700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1580762503.003700" ><div class="time">2020-02-03 20:41</div></a><div class="msg">Hmm, that?s not good. It should still be using the onig crate. Can you check what crates where compiled?</div></div></div><br/>
<div><a id="1580762835.007100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1580762835.007100" ><div class="time">2020-02-03 20:47</div></a><div class="msg">The consumer side is working, for the provider verification side I was waiting for a PR to be merged in Neon which is the library I?m using that provides JS to Rust bindings. Looks like it has been merged now, so just need to wait for the next release of Neon</div></div></div><br/>
<div><a id="1580765875.007300"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1580765875.007300" ><div class="time">2020-02-03 21:37</div></a><div class="msg">Yes, I haven?t checked it in detail yet</div></div></div><br/>
<div><a id="1580765907.007500"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1580765907.007500" ><div class="time">2020-02-03 21:38</div></a><div class="msg">Some colleagues saw some regex related errors after upgrading verifier-cli to latest</div></div></div><br/>
<div><a id="1580806678.008000"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1580806678.008000" ><div class="time">2020-02-04 08:57</div></a><div class="msg">I?ll investigate a bit</div></div></div><br/>
<div><a id="1580810970.008200"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1580810970.008200" ><div class="time">2020-02-04 10:09</div></a><div class="msg">We can?t reproduce it now, so just forget this. What I?m misssing though is a release of linux `pact_verifier_cli` 0.7.x for my CI builds</div></div></div><br/>
<div><a id="1580849127.008500"><img src="https://secure.gravatar.com/avatar/d39475e9b55a832794f0fa371de6b22f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /></a><div class="message"><div class="username">asteffey</div><a style="text-decoration: none" href="#1580849127.008500" ><div class="time">2020-02-04 20:45</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1580936426.010000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1580936426.010000" ><div class="time">2020-02-05 21:00</div></a><div class="msg">I didn?t release the cli binaries because of the issue I had and wanted to test them some more. Could you not build them yourself?</div></div></div><br/>
<div><a id="1580936454.010600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1580936454.010600" ><div class="time">2020-02-05 21:00</div></a><div class="msg">I?ll have some more time this weekend</div></div></div><br/>
<div><a id="1580937574.010800"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1580937574.010800" ><div class="time">2020-02-05 21:19</div></a><div class="msg">There?s no rush, there should be no functional changes to the verifier after all, I just wondered if you had forgotten</div></div></div><br/>
<div><a id="1582573018.000200"><img src="https://avatars.slack-edge.com/2020-02-24/966721966069_92b583a0712dcf49712d_72.jpg" /></a><div class="message"><div class="username">abrinker</div><a style="text-decoration: none" href="#1582573018.000200" ><div class="time">2020-02-24 19:36</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1583178535.001100"><img src="https://avatars.slack-edge.com/2020-02-24/966721966069_92b583a0712dcf49712d_72.jpg" /></a><div class="message"><div class="username">abrinker</div><a style="text-decoration: none" href="#1583178535.001100" ><div class="time">2020-03-02 19:48</div></a><div class="msg">Hi! I saw there was a compilation issue and came up with this fix. Happy to answer questions here or on GitHub. Not sure the protocol. This is my first contribution to Pact.</div></div></div><br/>
<div><a id="1583178941.002800"><img src="https://avatars.slack-edge.com/2020-02-24/966721966069_92b583a0712dcf49712d_72.jpg" /></a><div class="message"><div class="username">abrinker</div><a style="text-decoration: none" href="#1583178941.002800" ><div class="time">2020-03-02 19:55</div></a><div class="msg">It occurs to me it may be better to add a private empty field so the type can't be constructed (private fields, no constructor) which would better avoid possible accidental instantiation in the future. I'll try that change.</div></div></div><br/>
<div><a id="1583179249.003900"><img src="https://avatars.slack-edge.com/2020-02-24/966721966069_92b583a0712dcf49712d_72.jpg" /></a><div class="message"><div class="username">abrinker</div><a style="text-decoration: none" href="#1583179249.003900" ><div class="time">2020-03-02 20:00</div></a><div class="msg">I've pushed that change, and confirmed that the type is now unconstructable, so it can _only_ be used for type-level programming.</div></div></div><br/>
<div><a id="1583180327.004600"><img src="https://avatars.slack-edge.com/2020-02-24/966721966069_92b583a0712dcf49712d_72.jpg" /></a><div class="message"><div class="username">abrinker</div><a style="text-decoration: none" href="#1583180327.004600" ><div class="time">2020-03-02 20:18</div></a><div class="msg">Looks like some broken tests had been hidden by the prior compilation issue. Just pushed a third commit which fixes those tests.</div></div></div><br/>
<div><a id="1583202683.005600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1583202683.005600" ><div class="time">2020-03-03 02:31</div></a><div class="msg">@abrinker we've merged your PR, and there looks like a flakey test failing which we have ignored for now</div></div></div><br/>
<div><a id="1583217114.006400"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1583217114.006400" ><div class="time">2020-03-03 06:31</div></a><div class="msg">Is it a test that's unstable on windows?</div></div></div><br/>
<div><a id="1583217663.007500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1583217663.007500" ><div class="time">2020-03-03 06:41</div></a><div class="msg">The one that failed for me was OSX but then also failed on Linux. It's needs some uplift to be a good test anyway so we'll figure that out</div></div></div><br/>
<div><a id="1583242775.007700"><img src="https://avatars.slack-edge.com/2020-02-24/966721966069_92b583a0712dcf49712d_72.jpg" /></a><div class="message"><div class="username">abrinker</div><a style="text-decoration: none" href="#1583242775.007700" ><div class="time">2020-03-03 13:39</div></a><div class="msg">Thanks @uglyog!</div></div></div><br/>
<div><a id="1584054833.000600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1584054833.000600" ><div class="time">2020-03-12 23:13</div></a><div class="msg">&gt;  chore: remove unused import from provider_client (Matt Fellows)</div></div></div><br/>
<div><a id="1584054857.001100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1584054857.001100" ><div class="time">2020-03-12 23:14</div></a><div class="msg">Look @matt.fellows helped with a Rust component :smile:</div></div></div><br/>
<div><a id="1584057158.001600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1584057158.001600" ><div class="time">2020-03-12 23:52</div></a><div class="msg">I believe there are some commits in the JS repo now with Rust code :wink:</div></div></div><br/>
<div><a id="1584057172.002200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1584057172.002200" ><div class="time">2020-03-12 23:52</div></a><div class="msg">OK, so let?s swap - today you do marketing website and i?ll do Rust - sound good?</div></div></div><br/>
<div><a id="1584057960.003300"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1584057960.003300" ><div class="time">2020-03-13 00:06</div></a><div class="msg">cool, you commited some new stuff on v3.0.0. I can?t wait :grimacing:</div></div></div><br/>
<div><a id="1584058032.003600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1584058032.003600" ><div class="time">2020-03-13 00:07</div></a><div class="msg">I'm hoping to get the first beta out today</div></div></div><br/>
<div><a id="1585084558.001700"><img src="https://secure.gravatar.com/avatar/d39475e9b55a832794f0fa371de6b22f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /></a><div class="message"><div class="username">asteffey</div><a style="text-decoration: none" href="#1585084558.001700" ><div class="time">2020-03-24 21:15</div></a><div class="msg">Per the discussion here in #pact-c-plus-plus, <a href="https://pact-foundation.slack.com/archives/CPGH2TLLX/p1584386254001600">https://pact-foundation.slack.com/archives/CPGH2TLLX/p1584386254001600</a>, our team is planning on making a few basic enhancements to pact-reference:
? Add a new MessagePacts struct (variant of existing `pact_matching::models::Pact`)
? Add FFI interfaces to read/verify Pacts for `match_message`, `Message`, and the new `MessagePact` to allow these to be called from C/C++
We were then planning to create a thin C++ program to use those methods to orchestrate Pact provider verification.

Would this be duplicative or contrary to any of the Pact team?s current plans for C++/Rust?  If so, please let us know and we can change direction.</div></div></div><br/>
<div><a id="1585087937.003000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1585087937.003000" ><div class="time">2020-03-24 22:12</div></a><div class="msg">No, the initial kickoff for the C++ integration has not happened yet, so I think you can go ahead</div></div></div><br/>
<div><a id="1585693498.004300"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585693498.004300" ><div class="time">2020-03-31 22:24</div></a><div class="msg">@uglyog Aggeees ago I had ago at implementing the rust native lib into the swift code base (2 years ago). It was probably 80% functionally complete (and another contributor has taken that further and finished the remaining matcher, but there are still lots of rough edges). @marko.justinek is keen to give it another crack, but I?m not sure if things have changed much since that time and it may be an easier endeavor now? I see you guys have been working on this for pact-js.</div></div></div><br/>
<div><a id="1585693502.004500"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585693502.004500" ><div class="time">2020-03-31 22:25</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1585693595.004600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1585693595.004600" ><div class="time">2020-03-31 22:26</div></a><div class="msg">Rust support from other languages has changed, but the implementation you worked with is still much the same</div></div></div><br/>
<div><a id="1585693602.004900"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585693602.004900" ><div class="time">2020-03-31 22:26</div></a><div class="msg">oh hello</div></div></div><br/>
<div><a id="1585693647.005400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585693647.005400" ><div class="time">2020-03-31 22:27</div></a><div class="msg">I had a bit of chat with Marko last night</div></div></div><br/>
<div><a id="1585693655.005500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1585693655.005500" ><div class="time">2020-03-31 22:27</div></a><div class="msg">For pact-js, we are using a Rust&lt;-&gt;JS binding library</div></div></div><br/>
<div><a id="1585693679.006100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585693679.006100" ><div class="time">2020-03-31 22:27</div></a><div class="msg">Two of the key files I put together back in the Go days:

? <a href="https://github.com/pact-foundation/pact-go/blob/feature/native/dsl/matcher.go">https://github.com/pact-foundation/pact-go/blob/feature/native/dsl/matcher.go</a> - generating a v2 compatible spec (no generators)
? The native package: <a href="https://github.com/pact-foundation/pact-go/tree/feature/native/dsl/native">https://github.com/pact-foundation/pact-go/tree/feature/native/dsl/native</a> (links to the Rust c interface)</div></div></div><br/>
<div><a id="1585693681.006200"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585693681.006200" ><div class="time">2020-03-31 22:28</div></a><div class="msg">ahh, right, where does that live? Or is it part of the pact-js branch?</div></div></div><br/>
<div><a id="1585693704.006600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585693704.006600" ><div class="time">2020-03-31 22:28</div></a><div class="msg">That spike worked</div></div></div><br/>
<div><a id="1585693717.006900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585693717.006900" ><div class="time">2020-03-31 22:28</div></a><div class="msg">It should be much easier on the consumer side, because the mock server and matching all works, and you don?t need to do the provider side</div></div></div><br/>
<div><a id="1585693730.007200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1585693730.007200" ><div class="time">2020-03-31 22:28</div></a><div class="msg">pact-js V3.0.0 branch</div></div></div><br/>
<div><a id="1585693746.007800"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585693746.007800" ><div class="time">2020-03-31 22:29</div></a><div class="msg">:ok_hand:</div></div></div><br/>
<div><a id="1585693750.008000"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585693750.008000" ><div class="time">2020-03-31 22:29</div></a><div class="msg">yeah, this should be enough to give it a crack</div></div></div><br/>
<div><a id="1585693817.009800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585693817.009800" ><div class="time">2020-03-31 22:30</div></a><div class="msg">The gaps if you were coming from the Ruby implementation (from memory, need validation):

1. You need to generate the pact _before_ running the pact tests (they aren?t generated like in Ruby)
2. Pretty printing of the error diffs is something you need to do</div></div></div><br/>
<div><a id="1585693847.010300"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585693847.010300" ><div class="time">2020-03-31 22:30</div></a><div class="msg">Yeah, I have a spike implementation of all that already.</div></div></div><br/>
<div><a id="1585693858.010700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585693858.010700" ><div class="time">2020-03-31 22:30</div></a><div class="msg">nice</div></div></div><br/>
<div><a id="1585693900.011500"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585693900.011500" ><div class="time">2020-03-31 22:31</div></a><div class="msg">There is a lot of tooling work that needs to go into it. e.g. how to specify the pact output location, get debug logs to users, and there was some weird linking issues with iOS (maybe that has been resolved).</div></div></div><br/>
<div><a id="1585693941.012000"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585693941.012000" ><div class="time">2020-03-31 22:32</div></a><div class="msg">its complicated by having to run stuff in a simulator</div></div></div><br/>
<div><a id="1585693960.012200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585693960.012200" ><div class="time">2020-03-31 22:32</div></a><div class="msg">mmmm</div></div></div><br/>
<div><a id="1585693977.012700"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585693977.012700" ><div class="time">2020-03-31 22:32</div></a><div class="msg">specific to iOS</div></div></div><br/>
<div><a id="1585693984.012900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585693984.012900" ><div class="time">2020-03-31 22:33</div></a><div class="msg">If I understand correctly, you currently run the Pact server _external_ to the simulator - I?m sure you couldn?t do that within, right?</div></div></div><br/>
<div><a id="1585693995.013100"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585693995.013100" ><div class="time">2020-03-31 22:33</div></a><div class="msg">correct</div></div></div><br/>
<div><a id="1585694025.013800"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585694025.013800" ><div class="time">2020-03-31 22:33</div></a><div class="msg">with rust, can run it in the simulator, which is what we are hoping for. Otherwise we have to rely on external ways of starting and stopping the server</div></div></div><br/>
<div><a id="1585694039.014100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585694039.014100" ><div class="time">2020-03-31 22:33</div></a><div class="msg">yeah. Much nicer experience I imagine</div></div></div><br/>
<div><a id="1585694073.014800"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585694073.014800" ><div class="time">2020-03-31 22:34</div></a><div class="msg">it makes the setup and documentation a PITA. plus we cannot do things like pact broker integration.</div></div></div><br/>
<div><a id="1585694403.015700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1585694403.015700" ><div class="time">2020-03-31 22:40</div></a><div class="msg">Running the mock server in the simulator feels wrong to me, because the actual server won't be running on the device</div></div></div><br/>
<div><a id="1585694888.017800"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585694888.017800" ><div class="time">2020-03-31 22:48</div></a><div class="msg">we can run without spinning up the iOS (iPhone) simulator but that would require us to go into command line and use `xcodebuild` or `xctool`  but that?s normally only used in CI, not when writing unit tests. When working in Xcode and hitting ?run tests? for iOS it automagically spins up the simulator.</div></div></div><br/>
<div><a id="1585694976.019200"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585694976.019200" ><div class="time">2020-03-31 22:49</div></a><div class="msg">the main idea of me giving it another crack at it is to avoid the pain of setting up the Ruby dependency, setting up the IDE environment, dealing with builds going belly up due to dependencies, having to run multiple pact-mock-services if I have multiple providers, etc.</div></div></div><br/>
<div><a id="1585695028.020300"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585695028.020300" ><div class="time">2020-03-31 22:50</div></a><div class="msg">also, swift from has made huge leaps from when Andy started his framework</div></div></div><br/>
<div><a id="1585695117.021100"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585695117.021100" ><div class="time">2020-03-31 22:51</div></a><div class="msg">anyway, I think I have a decent idea now how to proceed and Matt?s go example will be a good reference too</div></div></div><br/>
<div><a id="1585695147.022200"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585695147.022200" ><div class="time">2020-03-31 22:52</div></a><div class="msg">so, stay tuned and I?ll be throwing some random (mostly stupid) questions your way? maybe.</div></div></div><br/>
<div><a id="1585695167.022700"><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andrewspinks</div><a style="text-decoration: none" href="#1585695167.022700" ><div class="time">2020-03-31 22:52</div></a><div class="msg">true, but they aren?t really meant to be e2e tests are they? I think tooling / developer ease of use might trump in this case??</div></div></div><br/>
<div><a id="1585695174.023000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585695174.023000" ><div class="time">2020-03-31 22:52</div></a><div class="msg">I saw the pain that running it outside of the simulator introduces with Marko a few  weeks ago. There is just so little visibility and way to link them together nicely, I can see all kinds of confusion ensuing.</div></div></div><br/>
<div><a id="1585695196.023700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585695196.023700" ><div class="time">2020-03-31 22:53</div></a><div class="msg">So  whilst I agree that running within the simulator isn?t ideal, it still makes a network request and will solve a lot of the ergonomics</div></div></div><br/>
<div><a id="1585695258.024700"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585695258.024700" ><div class="time">2020-03-31 22:54</div></a><div class="msg">LFS specific requirements and environment opened up a lot of questions and opened some more cracks that could be addressed with a new approach</div></div></div><br/>
<div><a id="1585695279.025200"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585695279.025200" ><div class="time">2020-03-31 22:54</div></a><div class="msg">especially, having to spin up 9 mock services if there are 9 providers :facepalm:</div></div></div><br/>
<div><a id="1585695361.026500"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585695361.026500" ><div class="time">2020-03-31 22:56</div></a><div class="msg">or, if the CI build gets cancelled (due to another push), the subsequent build fails because mock services are already running and the new build can?t spin them up again? can get frustrating to work with</div></div></div><br/>
<div><a id="1585695393.026900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585695393.026900" ><div class="time">2020-03-31 22:56</div></a><div class="msg">yeah. The Rust experience is much nicer. It will also perform a lot better.</div></div></div><br/>
<div><a id="1585695823.027000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1585695823.027000" ><div class="time">2020-03-31 23:03</div></a><div class="msg">as long as an actual HTTP request is still being made</div></div></div><br/>
<div><a id="1588041977.029500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1588041977.029500" ><div class="time">2020-04-28 02:46</div></a><div class="msg">/github subscribe list</div></div></div><br/>
<div><a id="1588042025.029800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1588042025.029800" ><div class="time">2020-04-28 02:47</div></a><div class="msg">/github subscribe list features</div></div></div><br/>
<div><a id="1588292366.030700"><img src="https://secure.gravatar.com/avatar/6a3edcd0951e56ecec8d88b0eda67a24.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">kaypee90</div><a style="text-decoration: none" href="#1588292366.030700" ><div class="time">2020-05-01 00:19</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1589250920.031800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1589250920.031800" ><div class="time">2020-05-12 02:35</div></a><div class="msg">:clap:</div></div></div><br/>
<div><a id="1589250955.032100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1589250955.032100" ><div class="time">2020-05-12 02:35</div></a><div class="msg">What you clapping for?</div></div></div><br/>
<div><a id="1589250986.032400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1589250986.032400" ><div class="time">2020-05-12 02:36</div></a><div class="msg">binary payload matching, seems pretty cool</div></div></div><br/>
<div><a id="1591391058.034400"><img src="https://secure.gravatar.com/avatar/3d0aff217103fca223e1e3dedf58e245.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">corey</div><a style="text-decoration: none" href="#1591391058.034400" ><div class="time">2020-06-05 21:04</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1591391093.034600"><img src="https://secure.gravatar.com/avatar/3d0aff217103fca223e1e3dedf58e245.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">corey</div><a style="text-decoration: none" href="#1591391093.034600" ><div class="time">2020-06-05 21:04</div></a><div class="msg">The stub server seems to want an exact body match on requests made to it but we want to be flexible on one field in particular in a JSON POST body and it doesn't seem to support falling back to the matchers specified in the pact</div></div></div><br/>
<div><a id="1591406279.035500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1591406279.035500" ><div class="time">2020-06-06 01:17</div></a><div class="msg">Can you raise an issue and be specific about the behavior you want?</div></div></div><br/>
<div><a id="1591831219.035700"><img src="https://secure.gravatar.com/avatar/3d0aff217103fca223e1e3dedf58e245.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">corey</div><a style="text-decoration: none" href="#1591831219.035700" ><div class="time">2020-06-10 23:20</div></a><div class="msg">So I realized our use case was a little... off. I resolved it by using an echo server for this use case. I may still write an issue describing the issue, especially if we decide we want to move back to the stub server for this or something else in the future.</div></div></div><br/>
<div><a id="1594916818.003200"><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /></a><div class="message"><div class="username">a.smith</div><a style="text-decoration: none" href="#1594916818.003200" ><div class="time">2020-07-16 16:26</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1596225060.005100"><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /></a><div class="message"><div class="username">a.smith</div><a style="text-decoration: none" href="#1596225060.005100" ><div class="time">2020-07-31 19:51</div></a><div class="msg">Hi :wave: What is the `description` parameter defined on `new_interaction` in the FFI library? (<a href="https://docs.rs/pact_mock_server_ffi/0.0.7/pact_mock_server_ffi/fn.new_interaction.html">https://docs.rs/pact_mock_server_ffi/0.0.7/pact_mock_server_ffi/fn.new_interaction.html</a>) Is it the same as what?s called/used to be called(?) the ?state? string?</div></div></div><br/>
<div><a id="1596275953.005700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1596275953.005700" ><div class="time">2020-08-01 09:59</div></a><div class="msg">It would be the scenario name I'd imagine</div></div></div><br/>
<div><a id="1596276017.006500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1596276017.006500" ><div class="time">2020-08-01 10:00</div></a><div class="msg">I.e. the `UponReceiving` from <a href="https://github.com/pact-foundation/pact-net">https://github.com/pact-foundation/pact-net</a></div></div></div><br/>
<div><a id="1596295534.008500"><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /></a><div class="message"><div class="username">a.smith</div><a style="text-decoration: none" href="#1596295534.008500" ><div class="time">2020-08-01 15:25</div></a><div class="msg">Hmmm :face_with_monocle: There is an `upon_receiving` function defined in the Rust library too, and it turns out that the `given` function takes the state string. </div></div></div><br/>
<div><a id="1596321464.009100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1596321464.009100" ><div class="time">2020-08-01 22:37</div></a><div class="msg">I'll try and look at the rust interfafe later today</div></div></div><br/>
<div><a id="1596329742.010400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1596329742.010400" ><div class="time">2020-08-02 00:55</div></a><div class="msg">`new_interaction` creates a new interaction, which requires the description. `upon_receiving` just sets the description for the interaction. You don't need to use it unless you are changing the description.</div></div></div><br/>
<div><a id="1596329926.012200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1596329926.012200" ><div class="time">2020-08-02 00:58</div></a><div class="msg">I think there was a flow in the C++ DSL where we needed the interaction handle in the constructor, but we did not have the description yet, so `new_interaction` was called with a default description and then `upon_receiving` was used later to update it.</div></div></div><br/>
<div><a id="1597914458.001100"><img src="https://secure.gravatar.com/avatar/c49ea42fde43fb7be4ef65f7b2ba4c08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">florian.nagel</div><a style="text-decoration: none" href="#1597914458.001100" ><div class="time">2020-08-20 09:07</div></a><div class="msg">Is there an example on how to implement provider verification in a Rust project? I know that I can just go by the <a href="http://docs.rs">http://docs.rs</a> but I'm a much faster learner when I just see it applied. Thanks in advance!</div></div></div><br/>
<div><a id="1597914481.001600"><img src="https://secure.gravatar.com/avatar/c49ea42fde43fb7be4ef65f7b2ba4c08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">florian.nagel</div><a style="text-decoration: none" href="#1597914481.001600" ><div class="time">2020-08-20 09:08</div></a><div class="msg">Still super happy that Pact exists :D</div></div></div><br/>
<div><a id="1597960307.002400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1597960307.002400" ><div class="time">2020-08-20 21:51</div></a><div class="msg">There is a CLI verifier you can use: <a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.7.0">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.7.0</a> docs <a href="https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_verifier_cli">https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_verifier_cli</a></div></div></div><br/>
<div><a id="1598327853.003100"><img src="https://avatars.slack-edge.com/2021-06-07/2129819394007_8ed3b61dfb8a1266e27e_72.png" /></a><div class="message"><div class="username">heytaco</div><a style="text-decoration: none" href="#1598327853.003100" ><div class="time">2020-08-25 03:57</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1598327853.003200"><img src="https://avatars.slack-edge.com/2021-06-07/2129819394007_8ed3b61dfb8a1266e27e_72.png" /></a><div class="message"><div class="username">heytaco</div><a style="text-decoration: none" href="#1598327853.003200" ><div class="time">2020-08-25 03:57</div></a><div class="msg">Hi there! My name is HeyTaco!, and you can use me to give people tacos to show your appreciation. My tacos will spread joy through Slack!</div></div></div><br/>
<div><a id="1599977665.000600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1599977665.000600" ><div class="time">2020-09-13 06:14</div></a><div class="msg">@uglyog how does one release the latest Rust stuff? I notice the changes pulled in a while back for the tls certificates aren?t released for <a href="https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_mock_server_ffi">https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_mock_server_ffi</a></div></div></div><br/>
<div><a id="1599977680.000900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1599977680.000900" ><div class="time">2020-09-13 06:14</div></a><div class="msg">I can see the groovy script there, is that manually run or via some other automation?</div></div></div><br/>
<div><a id="1599978255.001100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1599978255.001100" ><div class="time">2020-09-13 06:24</div></a><div class="msg">It's manually run</div></div></div><br/>
<div><a id="1599979551.001800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1599979551.001800" ><div class="time">2020-09-13 06:45</div></a><div class="msg">I'm happy to learn. Does it need any specific dependencies to kick it off?</div></div></div><br/>
<div><a id="1599979582.002800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1599979582.002800" ><div class="time">2020-09-13 06:46</div></a><div class="msg">(sorry not in front of computer now but if it's just that it needs groovy I can probably work it out)</div></div></div><br/>
<div><a id="1599979593.003200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1599979593.003200" ><div class="time">2020-09-13 06:46</div></a><div class="msg">I assume needs GitHub creds at the least</div></div></div><br/>
<div><a id="1599979891.003700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1599979891.003700" ><div class="time">2020-09-13 06:51</div></a><div class="msg">It needs push access to Github, and a key for <a href="http://crates.io">http://crates.io</a></div></div></div><br/>
<div><a id="1599979921.004200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1599979921.004200" ><div class="time">2020-09-13 06:52</div></a><div class="msg">I'm busy adding message pact support, so will be doing a release soon</div></div></div><br/>
<div><a id="1599980247.004800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1599980247.004800" ><div class="time">2020-09-13 06:57</div></a><div class="msg">I saw that PR but couldn't see how immediately it could be used</div></div></div><br/>
<div><a id="1599980604.005000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1599980604.005000" ><div class="time">2020-09-13 07:03</div></a><div class="msg">It can't</div></div></div><br/>
<div><a id="1600070323.007300"><img src="https://secure.gravatar.com/avatar/c49ea42fde43fb7be4ef65f7b2ba4c08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">florian.nagel</div><a style="text-decoration: none" href="#1600070323.007300" ><div class="time">2020-09-14 07:58</div></a><div class="msg">@uglyog Made my day to see new updates to the Rust libraries. Here's a taco :taco: :tada:</div></div></div><br/>
<div><a id="1601039469.000500"><img src="https://secure.gravatar.com/avatar/c49ea42fde43fb7be4ef65f7b2ba4c08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">florian.nagel</div><a style="text-decoration: none" href="#1601039469.000500" ><div class="time">2020-09-25 13:11</div></a><div class="msg">How do I authenticate the `pact_verifier_cli`  to my self-hosted Pact broker?</div></div></div><br/>
<div><a id="1601039620.000900"><img src="https://secure.gravatar.com/avatar/c49ea42fde43fb7be4ef65f7b2ba4c08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">florian.nagel</div><a style="text-decoration: none" href="#1601039620.000900" ><div class="time">2020-09-25 13:13</div></a><div class="msg">I think I found it. Nvm</div></div></div><br/>
<div><a id="1605539415.003200"><img src="https://secure.gravatar.com/avatar/193fafb37d765af47cf176254432601a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">ashishkujoy</div><a style="text-decoration: none" href="#1605539415.003200" ><div class="time">2020-11-16 15:10</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1606173692.004400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1606173692.004400" ><div class="time">2020-11-23 23:21</div></a><div class="msg">@matt.fellows can you create Github releases for the two modules? They are not automatically created.</div></div></div><br/>
<div><a id="1606173706.004600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606173706.004600" ><div class="time">2020-11-23 23:21</div></a><div class="msg">ah!</div></div></div><br/>
<div><a id="1606173708.004800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606173708.004800" ><div class="time">2020-11-23 23:21</div></a><div class="msg">sure</div></div></div><br/>
<div><a id="1606173723.005300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606173723.005300" ><div class="time">2020-11-23 23:22</div></a><div class="msg">How do you normally do that?</div></div></div><br/>
<div><a id="1606173736.005600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1606173736.005600" ><div class="time">2020-11-23 23:22</div></a><div class="msg">I just do it from Github</div></div></div><br/>
<div><a id="1606174435.006400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606174435.006400" ><div class="time">2020-11-23 23:33</div></a><div class="msg">Actually, I should release a new verifier CLI too. Will do that now</div></div></div><br/>
<div><a id="1606174461.006900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606174461.006900" ><div class="time">2020-11-23 23:34</div></a><div class="msg">that all look OK to you? (I removed the commit sha?s in the release notes as per the others too)</div></div></div><br/>
<div><a id="1606174496.007700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1606174496.007700" ><div class="time">2020-11-23 23:34</div></a><div class="msg">It probably needs to be automated, but I sometimes like to add a blurb at the top</div></div></div><br/>
<div><a id="1606174525.008500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606174525.008500" ><div class="time">2020-11-23 23:35</div></a><div class="msg">How do you upload the CLI artifacts? Do first run the `./release.groovy` and then run the docker scripts to generate OS specific artifacts?</div></div></div><br/>
<div><a id="1606174605.009500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1606174605.009500" ><div class="time">2020-11-23 23:36</div></a><div class="msg">A GH action builds the artifacts. The ZIP file will need to be downloaded, unpacked, and then attached to the release</div></div></div><br/>
<div><a id="1606174660.010800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1606174660.010800" ><div class="time">2020-11-23 23:37</div></a><div class="msg">I got a GH action publishing the artifacts somewhere else (Pact-JS I think). We can reuse that to do it automatically</div></div></div><br/>
<div><a id="1606174674.011100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606174674.011100" ><div class="time">2020-11-23 23:37</div></a><div class="msg">cool</div></div></div><br/>
<div><a id="1606174685.011600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606174685.011600" ><div class="time">2020-11-23 23:38</div></a><div class="msg">chuck that on the #TODO :stuck_out_tongue:</div></div></div><br/>
<div><a id="1606179352.012500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1606179352.012500" ><div class="time">2020-11-24 00:55</div></a><div class="msg">so I was waiting for some build to finish for the artifacts to publish, but then realised that I need to first create a GH release to get the artifacts to publish to the release :laughing:</div></div></div><br/>
<div><a id="1607923475.012800"><img src="https://secure.gravatar.com/avatar/887a7684cc3a97fb59b2ed191ff8490d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">wuddarwin</div><a style="text-decoration: none" href="#1607923475.012800" ><div class="time">2020-12-14 05:24</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1608146427.013100"><img src="https://secure.gravatar.com/avatar/132385a0a42d0c4015e43659b74d9703.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /></a><div class="message"><div class="username">nouri.tawfik</div><a style="text-decoration: none" href="#1608146427.013100" ><div class="time">2020-12-16 19:20</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1609723055.019000"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1609723055.019000" ><div class="time">2021-01-04 01:17</div></a><div class="msg">Hey guys. I?m working on some pact verification for a rust/tokio server. Setting up <a href="https://docs.rs/pact_verifier/0.9.5/pact_verifier/fn.verify_provider.html">https://docs.rs/pact_verifier/0.9.5/pact_verifier/fn.verify_provider.html</a>, my state change server and actual provider server with tokio, I expect this to just work. But.. there?s a commit (<a href="https://github.com/pact-foundation/pact-reference/commit/126b4635613820bcdc827f605a63b72fcc98d7dd">https://github.com/pact-foundation/pact-reference/commit/126b4635613820bcdc827f605a63b72fcc98d7dd</a>) that changes `verify_provider` to block internally, causing my state change server to never respond, because the tokio runtime is already busy blocking.. Also I cannot understand from the commit msg why this was changed to block. Some help?</div></div></div><br/>
<div><a id="1609723327.020100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1609723327.020100" ><div class="time">2021-01-04 01:22</div></a><div class="msg">Just looking into that commit. I think it is an issue with Neon not providing any mechanism to deal with a promise yet</div></div></div><br/>
<div><a id="1609723480.020300"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1609723480.020300" ><div class="time">2021-01-04 01:24</div></a><div class="msg">A fix could be to change the public verifier API to be blocking.</div></div></div><br/>
<div><a id="1609723642.020500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1609723642.020500" ><div class="time">2021-01-04 01:27</div></a><div class="msg">I'm working on Pact-JS today, so I'll try sort this out for you. The blocking requirement should be implemented in Pact-JS, not the downstream Rust crate.</div></div></div><br/>
<div><a id="1609723773.020700"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1609723773.020700" ><div class="time">2021-01-04 01:29</div></a><div class="msg">Not sure. There?s not really any need for the public Rust API to be async, because that would tie every user to use the tokio runtime.</div></div></div><br/>
<div><a id="1609723986.020900"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1609723986.020900" ><div class="time">2021-01-04 01:33</div></a><div class="msg">using threads in tests would be more ?universal? perhaps.</div></div></div><br/>
<div><a id="1609724565.021100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1609724565.021100" ><div class="time">2021-01-04 01:42</div></a><div class="msg">Good point about the public API. I'm going to add a blocking version so we can have both.</div></div></div><br/>
<div><a id="1609724604.021300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1609724604.021300" ><div class="time">2021-01-04 01:43</div></a><div class="msg">Looking at that blocking code, I think a join3 would actually work there. Let me play around with that.</div></div></div><br/>
<div><a id="1609724771.021500"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1609724771.021500" ><div class="time">2021-01-04 01:46</div></a><div class="msg">Nice, thanks. So you also want to keep the async tokio version (which of course cannot be allowed to block)?</div></div></div><br/>
<div><a id="1609724824.021700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1609724824.021700" ><div class="time">2021-01-04 01:47</div></a><div class="msg">Yes, because I think it is used in Pact-JS. I'll confirm that.</div></div></div><br/>
<div><a id="1609817375.022600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1609817375.022600" ><div class="time">2021-01-05 03:29</div></a><div class="msg">I've removed the block_on calls and released updated version</div></div></div><br/>
<div><a id="1609827864.023400"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1609827864.023400" ><div class="time">2021-01-05 06:24</div></a><div class="msg">thanks :pray:</div></div></div><br/>
<div><a id="1609832364.023600"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1609832364.023600" ><div class="time">2021-01-05 07:39</div></a><div class="msg">Though, I think I want to wait for full tokio 1 support, to avoid temporary duplicated dependencies. `reqwest 0.11` should be right around the corner.</div></div></div><br/>
<div><a id="1609883124.023800"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1609883124.023800" ><div class="time">2021-01-05 21:45</div></a><div class="msg"><a href="https://www.reddit.com/r/rust/comments/kr5jmp/reqwest_011_released_updated_for_tokio_10/">https://www.reddit.com/r/rust/comments/kr5jmp/reqwest_011_released_updated_for_tokio_10/</a> :grimacing:</div></div></div><br/>
<div><a id="1610337119.026300"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1610337119.026300" ><div class="time">2021-01-11 03:51</div></a><div class="msg">Hi, @uglyog, would you care to make a new `pact_consumer` release as well? The current version still has e.g. `regex 0.1`</div></div></div><br/>
<div><a id="1611154192.000200"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1611154192.000200" ><div class="time">2021-01-20 14:49</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1611154338.001700"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1611154338.001700" ><div class="time">2021-01-20 14:52</div></a><div class="msg">Hi @audun.halland @uglyog, can I ask some stupid question? How can I run standalone pact mock server (
<a href="https://docs.rs/crate/pact_mock_server_cli/0.7.3">https://docs.rs/crate/pact_mock_server_cli/0.7.3</a>) ?
I means where can I get the command or source code something like this <a href="https://github.com/pact-foundation/pact-ruby-standalone/releases">https://github.com/pact-foundation/pact-ruby-standalone/releases</a></div></div></div><br/>
<div><a id="1611154359.002200"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1611154359.002200" ><div class="time">2021-01-20 14:52</div></a><div class="msg">I try to find this for the whole day please forgive me ;(</div></div></div><br/>
<div><a id="1611154699.002400"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1611154699.002400" ><div class="time">2021-01-20 14:58</div></a><div class="msg">Maybe here? <a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_mock_server_cli-v0.7.3">https://github.com/pact-foundation/pact-reference/releases/tag/pact_mock_server_cli-v0.7.3</a></div></div></div><br/>
<div><a id="1611154724.002600"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1611154724.002600" ><div class="time">2021-01-20 14:58</div></a><div class="msg">If you mean an actual executable</div></div></div><br/>
<div><a id="1611181329.002800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1611181329.002800" ><div class="time">2021-01-20 22:22</div></a><div class="msg">There is also a docker image for it</div></div></div><br/>
<div><a id="1614076534.001600"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1614076534.001600" ><div class="time">2021-02-23 10:35</div></a><div class="msg">Hi team!, I've a question for pact-stub-server. Is it can respond data that depends on request? sth like this
```{
  "request": {
    "firstName": "Tony",
    "lastName": "Strange"
  },
  "response": {
    "userFirstName": $request.firstName,
    "userLastName": $request.lastName
  }
}```
</div></div></div><br/>
<div><a id="1614076935.002100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1614076935.002100" ><div class="time">2021-02-23 10:42</div></a><div class="msg">not at the moment, but this is a great idea. We?ve talked about extending the mock into this sort of thing before - e.g. predicates/expressions etc.</div></div></div><br/>
<div><a id="1614076954.002600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1614076954.002600" ><div class="time">2021-02-23 10:42</div></a><div class="msg">if you?re keen, a feature request at <a href="https://pact.canny.io/">https://pact.canny.io/</a> (and/or a PR would be great :stuck_out_tongue: )</div></div></div><br/>
<div><a id="1614090352.003700"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1614090352.003700" ><div class="time">2021-02-23 14:25</div></a><div class="msg">I think you need to add more category for stub-server</div></div></div><br/>
<div><a id="1614090582.004600"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1614090582.004600" ><div class="time">2021-02-23 14:29</div></a><div class="msg">Btw, I've created new post already <a href="https://pact.canny.io/feature-requests/p/allow-pact-stub-server-to-respond-data-that-depends-on-request">https://pact.canny.io/feature-requests/p/allow-pact-stub-server-to-respond-data-that-depends-on-request</a>. Thanks</div></div></div><br/>
<div><a id="1616358860.000200"><img src="https://avatars.slack-edge.com/2020-05-11/1128262006849_a0a9d0bef887621ef57c_72.jpg" /></a><div class="message"><div class="username">lewis.thorley</div><a style="text-decoration: none" href="#1616358860.000200" ><div class="time">2021-03-21 20:34</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1616358937.001200"><img src="https://avatars.slack-edge.com/2020-05-11/1128262006849_a0a9d0bef887621ef57c_72.jpg" /></a><div class="message"><div class="username">lewis.thorley</div><a style="text-decoration: none" href="#1616358937.001200" ><div class="time">2021-03-21 20:35</div></a><div class="msg">Hi I was wondering if someone could help me install the Rust Mock Server CLI? Struggling to work out how to do this and I'm not sure if I've missed something obvious</div></div></div><br/>
<div><a id="1616362884.001300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1616362884.001300" ><div class="time">2021-03-21 21:41</div></a><div class="msg">You can use the executable from <a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_mock_server_cli-v0.7.3">https://github.com/pact-foundation/pact-reference/releases/tag/pact_mock_server_cli-v0.7.3</a></div></div></div><br/>
<div><a id="1616362905.001500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1616362905.001500" ><div class="time">2021-03-21 21:41</div></a><div class="msg">Just unzip it after downloading</div></div></div><br/>
<div><a id="1616377825.001700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1616377825.001700" ><div class="time">2021-03-22 01:50</div></a><div class="msg">Out of interest, what do you want to do with the Mock Server CLI?</div></div></div><br/>
<div><a id="1616377840.001900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1616377840.001900" ><div class="time">2021-03-22 01:50</div></a><div class="msg">(vs the stub server: <a href="https://github.com/pact-foundation/pact-stub-server">https://github.com/pact-foundation/pact-stub-server</a>)</div></div></div><br/>
<div><a id="1616451952.002200"><img src="https://avatars.slack-edge.com/2020-05-11/1128262006849_a0a9d0bef887621ef57c_72.jpg" /></a><div class="message"><div class="username">lewis.thorley</div><a style="text-decoration: none" href="#1616451952.002200" ><div class="time">2021-03-22 22:25</div></a><div class="msg">My aim was to send an interaction from a dart test to the mock server for verification</div></div></div><br/>
<div><a id="1616452019.002400"><img src="https://avatars.slack-edge.com/2020-05-11/1128262006849_a0a9d0bef887621ef57c_72.jpg" /></a><div class="message"><div class="username">lewis.thorley</div><a style="text-decoration: none" href="#1616452019.002400" ><div class="time">2021-03-22 22:26</div></a><div class="msg">Will give the above a try and let you know if I have any questions. Thank you!</div></div></div><br/>
<div><a id="1616579131.003400"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1616579131.003400" ><div class="time">2021-03-24 09:45</div></a><div class="msg">Hi team! I found this problem when I try to run pact-stub-server with -b &lt;broker-url&gt;
Can someone help me? T_T</div></div></div><br/>
<div><a id="1616579230.005000"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1616579230.005000" ><div class="time">2021-03-24 09:47</div></a><div class="msg">Actually, I tried to run on another laptop and it's work but cannot fetch all contract file, it keep stuck in the same contract. Not sure what the problem is xD</div></div></div><br/>
<div><a id="1616585301.005300"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1616585301.005300" ><div class="time">2021-03-24 11:28</div></a><div class="msg">AH it's fixed now, just restart</div></div></div><br/>
<div><a id="1616585306.005500"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1616585306.005500" ><div class="time">2021-03-24 11:28</div></a><div class="msg">I got this instead</div></div></div><br/>
<div><a id="1616622715.006100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1616622715.006100" ><div class="time">2021-03-24 21:51</div></a><div class="msg">@vuttithatkrongyot can you raise a Github issue for that?</div></div></div><br/>
<div><a id="1616991746.007000"><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /></a><div class="message"><div class="username">vuttithatkrongyot</div><a style="text-decoration: none" href="#1616991746.007000" ><div class="time">2021-03-29 04:22</div></a><div class="msg">Sorry, I just found that it broke because of my contract. Now it's works correctly. Thanks</div></div></div><br/>
<div><a id="1617192379.010200"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1617192379.010200" ><div class="time">2021-03-31 12:06</div></a><div class="msg">Hi, I?m developing pacts in Rust again! `pact-consumer` supports matching patterns with macros like `each_like`, `json_pattern`, `like`, and `term`. Is there a way to make a date matcher, that?s not described in the documentation?</div></div></div><br/>
<div><a id="1617192678.012300"><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /></a><div class="message"><div class="username">audun.halland</div><a style="text-decoration: none" href="#1617192678.012300" ><div class="time">2021-03-31 12:11</div></a><div class="msg">I realize I can use `term!(pattern, example)`, but knowing there is native support for dates deeper somewhere in the Rust libs, I?m thinking it shouldn?t be too difficult to publicly export some more patterns in pact-consumer..?</div></div></div><br/>
<div><a id="1617227316.013000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1617227316.013000" ><div class="time">2021-03-31 21:48</div></a><div class="msg">The consumer DSL needs to be updated for all of the newer features, like matching values ignoring the keys, etc.</div></div></div><br/>
<div><a id="1617227358.013200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1617227358.013200" ><div class="time">2021-03-31 21:49</div></a><div class="msg">I think it is currently on-par with the Ruby version</div></div></div><br/>
<div><a id="1618143776.014100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1618143776.014100" ><div class="time">2021-04-11 12:22</div></a><div class="msg">@uglyog any chance you could please grant me access to publish the FFI variants (and other packages)?</div></div></div><br/>
<div><a id="1618182316.014400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1618182316.014400" ><div class="time">2021-04-11 23:05</div></a><div class="msg">I've added you to all the things</div></div></div><br/>
<div><a id="1618305008.014700"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1618305008.014700" ><div class="time">2021-04-13 09:10</div></a><div class="msg">Would some of these functions help? (I don't read rust very well)

<a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/native/src/lib.rs">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/native/src/lib.rs</a></div></div></div><br/>
<div><a id="1618305507.014900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1618305507.014900" ><div class="time">2021-04-13 09:18</div></a><div class="msg">It's more the Rust consumer DSL needs to be updated for the new features</div></div></div><br/>
<div><a id="1618377395.015800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1618377395.015800" ><div class="time">2021-04-14 05:16</div></a><div class="msg">Yes, I was wondering if there was anything there that could be cribbed from</div></div></div><br/>
<div><a id="1618378846.016000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1618378846.016000" ><div class="time">2021-04-14 05:40</div></a><div class="msg">Oh, yeah, definitely!</div></div></div><br/>
<div><a id="1618517958.016300"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1618517958.016300" ><div class="time">2021-04-15 20:19</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1618793837.016400"><img src="https://avatars.slack-edge.com/2021-04-14/1957320109014_256190ff9baa6beebd37_72.png" /></a><div class="message"><div class="username">github</div><a style="text-decoration: none" href="#1618793837.016400" ><div class="time">2021-04-19 00:57</div></a><div class="msg">GitHub app is successfully upgraded in your workspace :tada:
To receive notifications in your private channels, you need to invite the GitHub app `/invite @GitHub`</div></div></div><br/>
<div><a id="1619125085.017600"><img src="https://avatars.slack-edge.com/2020-02-24/966721966069_92b583a0712dcf49712d_72.jpg" /></a><div class="message"><div class="username">abrinker</div><a style="text-decoration: none" href="#1619125085.017600" ><div class="time">2021-04-22 20:58</div></a><div class="msg">Hi! I just opened a PR against the `pact-reference` repo that I'm happy to discuss here or on the PR itself. It's fairly large, and adds a new crate called `pact_matching_ffi`, exposing `pact_matching` and (with recent changes) `pact_models` over FFI, for use by other languages.</div></div></div><br/>
<div><a id="1619131729.017700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1619131729.017700" ><div class="time">2021-04-22 22:48</div></a><div class="msg">Awesome, I'll have a look today. I'll be slowly moving the models out of the matching crate into the models one. I hope that doesn't impact what you are doing</div></div></div><br/>
<div><a id="1619136692.018000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619136692.018000" ><div class="time">2021-04-23 00:11</div></a><div class="msg">Thanks, it?s so nice to see such well thought out, documented and presented PRs - a work of art!</div></div></div><br/>
<div><a id="1619137672.018200"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1619137672.018200" ><div class="time">2021-04-23 00:27</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.8.14">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.8.14</a>_ published by uglyog</div></div></div><br/>
<div><a id="1619137793.018300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1619137793.018300" ><div class="time">2021-04-23 00:29</div></a><div class="msg">I assume we should setup the CI to build the shared libs and header for this crate and attach them to the github releases</div></div></div><br/>
<div><a id="1619138046.018500"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1619138046.018500" ><div class="time">2021-04-23 00:34</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.5">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.5</a>_ published by uglyog</div></div></div><br/>
<div><a id="1619138252.018600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619138252.018600" ><div class="time">2021-04-23 00:37</div></a><div class="msg">yep. We should also publish checksums, should be fairly easy</div></div></div><br/>
<div><a id="1619138676.018800"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1619138676.018800" ><div class="time">2021-04-23 00:44</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.6">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.6</a>_ published by uglyog</div></div></div><br/>
<div><a id="1619138806.018900"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1619138806.018900" ><div class="time">2021-04-23 00:46</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_ffi-v0.0.3">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_ffi-v0.0.3</a>_ published by uglyog</div></div></div><br/>
<div><a id="1619150824.019100"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1619150824.019100" ><div class="time">2021-04-23 04:07</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1619185872.019200"><img src="https://avatars.slack-edge.com/2020-02-24/966721966069_92b583a0712dcf49712d_72.jpg" /></a><div class="message"><div class="username">abrinker</div><a style="text-decoration: none" href="#1619185872.019200" ><div class="time">2021-04-23 13:51</div></a><div class="msg">Glad y'all like it! We knew going in that this would be a big PR up front so we wanted it to be as easy to understand as possible.</div></div></div><br/>
<div><a id="1619186700.019500"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1619186700.019500" ><div class="time">2021-04-23 14:05</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1619322293.019800"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1619322293.019800" ><div class="time">2021-04-25 03:44</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.1">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.1</a>_ published by uglyog</div></div></div><br/>
<div><a id="1619324043.019900"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1619324043.019900" ><div class="time">2021-04-25 04:14</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.0">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.0</a>_ published by uglyog</div></div></div><br/>
<div><a id="1619436306.021200"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1619436306.021200" ><div class="time">2021-04-26 11:25</div></a><div class="msg">Hi, I'm trying to use DSL functions with pact-rust pact_mock_server_ffi.
And I have the error above :point_up:</div></div></div><br/>
<div><a id="1619436401.022000"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1619436401.022000" ><div class="time">2021-04-26 11:26</div></a><div class="msg">This is the code <a href="https://github.com/tienvx/pact-reference/blob/add-php/php/src/consumer-1/matches.php#L14">https://github.com/tienvx/pact-reference/blob/add-php/php/src/consumer-1/matches.php#L14</a>
How can I see the log of this error, and how can I fix it?</div></div></div><br/>
<div><a id="1620086646.022200"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1620086646.022200" ><div class="time">2021-05-04 00:04</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.2">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.2</a>_ published by uglyog</div></div></div><br/>
<div><a id="1620087267.022300"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1620087267.022300" ><div class="time">2021-05-04 00:14</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.1">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.1</a>_ published by uglyog</div></div></div><br/>
<div><a id="1620087534.022400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1620087534.022400" ><div class="time">2021-05-04 00:18</div></a><div class="msg">You can enable log output with the `init` function. By default it will setup logging based on the `LOG_LEVEL` environment variable. So set `LOG_LEVEL=debug` and then call `init` in your PHP script.</div></div></div><br/>
<div><a id="1620089347.022600"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1620089347.022600" ><div class="time">2021-05-04 00:49</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.1">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.1</a>_ published by uglyog</div></div></div><br/>
<div><a id="1620104916.023600"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1620104916.023600" ><div class="time">2021-05-04 05:08</div></a><div class="msg">Will try</div></div></div><br/>
<div><a id="1620717145.023800"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1620717145.023800" ><div class="time">2021-05-11 07:12</div></a><div class="msg">I tried, but it does not print any log output.
I think this problem:
&gt; Segmentation fault (core dumped)
Come from this line:
&gt; if let Some(description) = convert_cstr("description", description) {</div></div></div><br/>
<div><a id="1622066471.000200"><img src="https://avatars.slack-edge.com/2022-02-04/3042827452823_04aefaa8271d55360355_72.jpg" /></a><div class="message"><div class="username">pact544</div><a style="text-decoration: none" href="#1622066471.000200" ><div class="time">2021-05-26 22:01</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1622308584.000500"><img src="https://secure.gravatar.com/avatar/ff1c723b4500bbcfa6973ec58d475b83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">wayofthepie</div><a style="text-decoration: none" href="#1622308584.000500" ><div class="time">2021-05-29 17:16</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1622311242.003300"><img src="https://secure.gravatar.com/avatar/ff1c723b4500bbcfa6973ec58d475b83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">wayofthepie</div><a style="text-decoration: none" href="#1622311242.003300" ><div class="time">2021-05-29 18:00</div></a><div class="msg">Hi Folks, just wondering if anyone knew of an example of using message based pacts? I saw that the `pact_consumer` crate doesn't support messages yet, but the functionality does seem to be in `pact_matching`. I'm currently working through it, but an example would be great if it exists, thanks!</div></div></div><br/>
<div><a id="1622327907.003500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622327907.003500" ><div class="time">2021-05-29 22:38</div></a><div class="msg">@uglyog ok if I release the latest FFIs and any dependencies?</div></div></div><br/>
<div><a id="1622333217.003600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622333217.003600" ><div class="time">2021-05-30 00:06</div></a><div class="msg">I haven't seen an example yet, I'll see if I can set one up for you.</div></div></div><br/>
<div><a id="1622333236.003800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622333236.003800" ><div class="time">2021-05-30 00:07</div></a><div class="msg">I need to release a whole bunch of crates today</div></div></div><br/>
<div><a id="1622333845.004000"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622333845.004000" ><div class="time">2021-05-30 00:17</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.3">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.3</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622334174.004200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622334174.004200" ><div class="time">2021-05-30 00:22</div></a><div class="msg">cool that?d be ace</div></div></div><br/>
<div><a id="1622334360.004400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622334360.004400" ><div class="time">2021-05-30 00:26</div></a><div class="msg">Someone is also asking about a consumer message test in Rust. You up for that?</div></div></div><br/>
<div><a id="1622334483.004600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622334483.004600" ><div class="time">2021-05-30 00:28</div></a><div class="msg">As in you want me to add? I can try</div></div></div><br/>
<div><a id="1622334710.004800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622334710.004800" ><div class="time">2021-05-30 00:31</div></a><div class="msg">No, no need unless you really want to</div></div></div><br/>
<div><a id="1622334722.005000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622334722.005000" ><div class="time">2021-05-30 00:32</div></a><div class="msg">I'll probably try sort it out today</div></div></div><br/>
<div><a id="1622335509.005200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622335509.005200" ><div class="time">2021-05-30 00:45</div></a><div class="msg">I probably won't get time today so go for it. I've been dabbling about but am offline now basically</div></div></div><br/>
<div><a id="1622335740.005500"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622335740.005500" ><div class="time">2021-05-30 00:49</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.2">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.2</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622336518.005600"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622336518.005600" ><div class="time">2021-05-30 01:01</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.2">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.2</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622359680.005700"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622359680.005700" ><div class="time">2021-05-30 07:28</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.3">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.3</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622360332.005800"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622360332.005800" ><div class="time">2021-05-30 07:38</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server-v0.7.17">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server-v0.7.17</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622361330.005900"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622361330.005900" ><div class="time">2021-05-30 07:55</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server_ffi-v0.0.17">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server_ffi-v0.0.17</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622362188.006000"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622362188.006000" ><div class="time">2021-05-30 08:09</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_mock_server_cli-v0.7.4">https://github.com/pact-foundation/pact-reference/releases/tag/pact_mock_server_cli-v0.7.4</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622362948.006100"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622362948.006100" ><div class="time">2021-05-30 08:22</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.7">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.7</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622363996.006200"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622363996.006200" ><div class="time">2021-05-30 08:39</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_ffi-v0.0.4">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_ffi-v0.0.4</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622364724.006300"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622364724.006300" ><div class="time">2021-05-30 08:52</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.8.5">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.8.5</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622365130.006400"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1622365130.006400" ><div class="time">2021-05-30 08:58</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_consumer-v0.7.6">https://github.com/pact-foundation/pact-reference/releases/tag/pact_consumer-v0.7.6</a>_ published by uglyog</div></div></div><br/>
<div><a id="1622365380.006500"><img src="https://secure.gravatar.com/avatar/ff1c723b4500bbcfa6973ec58d475b83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">wayofthepie</div><a style="text-decoration: none" href="#1622365380.006500" ><div class="time">2021-05-30 09:03</div></a><div class="msg">That'd be great thanks! If not, I'll probably figure it out over the week and will write something up on it also.</div></div></div><br/>
<div><a id="1622445339.007000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622445339.007000" ><div class="time">2021-05-31 07:15</div></a><div class="msg">Dang, we should probably setup musl builds for rust: <a href="https://github.com/pact-foundation/pact-js/runs/2708388385?check_suite_focus=true#step:3:835">https://github.com/pact-foundation/pact-js/runs/2708388385?check_suite_focus=true#step:3:835</a></div></div></div><br/>
<div><a id="1622517560.007300"><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">artur</div><a style="text-decoration: none" href="#1622517560.007300" ><div class="time">2021-06-01 03:19</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1622579811.015300"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1622579811.015300" ><div class="time">2021-06-01 20:36</div></a><div class="msg">Hi folks, I'm working on a refactor and I found these two functions, `MatchingContext::matchers_for_exact_path` in `pact_matching/src/lib.rs` (<a href="https://github.com/pact-foundation/pact-reference/blob/4038e6118a162961bf55b85ea829c0e627f3c60b/rust/pact_matching/src/lib.rs#L433">https://github.com/pact-foundation/pact-reference/blob/4038e6118a162961bf55b85ea829c0e627f3c60b/rust/pact_matching/src/lib.rs#L433</a>) and `MatchingRules::resolve_wildcard_matchers` in `pact_matching/src/models/matchingrules.rs` (<a href="https://github.com/pact-foundation/pact-reference/blob/4038e6118a162961bf55b85ea829c0e627f3c60b/rust/pact_matching/src/models/matchingrules.rs#L1376">https://github.com/pact-foundation/pact-reference/blob/4038e6118a162961bf55b85ea829c0e627f3c60b/rust/pact_matching/src/models/matchingrules.rs#L1376</a>).
Neither of them are directly tested, but I did find tests in `pact_matching/src/tests.rs`(but I can't find them now --- maybe they were removed recently?) and in `pact_matching/src/models/matchingrules.rs` that cover only the case where the category is "body".

My questions right now:
? Are these functions actually used? I see deprecation warnings on some of the uses, but I'm not sure.
? If they are meant to stay, what exactly are they doing? It's not clear to me how the different cases are meant to work, and it concerns me that two of the cases appear to be uncovered by tests. I'm specifically curious about what check/operation is being done conceptually with the JSONPath here, since my intended refactor PR is all about the JSONPaths.</div></div></div><br/>
<div><a id="1622588194.015700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622588194.015700" ><div class="time">2021-06-01 22:56</div></a><div class="msg">Yes, those are used. There should be tests, if not, please raise an issue for that.

`matchers_for_exact_path` is used by matchers like `ArrayContains` because these matchers must not cascade down to child elements.

`resolve_wildcard_matchers` is there to support deprecated matching logic which have been replaced with the `values` matching rule.</div></div></div><br/>
<div><a id="1622588289.015900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622588289.015900" ><div class="time">2021-06-01 22:58</div></a><div class="msg">Eventually it will be removed.</div></div></div><br/>
<div><a id="1622588387.016100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622588387.016100" ><div class="time">2021-06-01 22:59</div></a><div class="msg">There are some tests in `pact_matching/src/tests.rs`</div></div></div><br/>
<div><a id="1622648550.027300"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1622648550.027300" ><div class="time">2021-06-02 15:42</div></a><div class="msg">Alright, thanks for the info. I didn't catch the usage by ArrayContains, but had seen the deprecation warning you mention.

I'm hoping to understand the concept of the "exact path" here. The code in the Body branch seems to be checking that the path weight is nonzero (which I understand to mean "matches in any capacity whatsoever") and that the lengths are equal. Is this the same as matching as much as possible? And either way, do you think this is a good candidate for refactoring into a generic operation/check on JSONPaths? I ask since I'm already refactoring. I'm just not sure what the documentation on that new function would say.</div></div></div><br/>
<div><a id="1622674795.027500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622674795.027500" ><div class="time">2021-06-02 22:59</div></a><div class="msg">Ah, bit of history. The first matchers were designed to cascade, so that `eachLike` could be applied to all attributes of the object. That way the first matcher found by going up the tree was used.</div></div></div><br/>
<div><a id="1622675007.027700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622675007.027700" ><div class="time">2021-06-02 23:03</div></a><div class="msg">There was a need for someone to match the values of an object, regardless of the keys (where it is treated like a map structure). As there was no mechanism to do this, a wild card type matcher was added (ending in a `*`), and if this was seen then the keys were ignored. But this caused other problems, because of the implicit nature of how the rules are setup.</div></div></div><br/>
<div><a id="1622675411.027900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622675411.027900" ><div class="time">2021-06-02 23:10</div></a><div class="msg">So a "match only values" matching rule was added. But when matching a map, this rule must not cascade (i.e. when matching an object, don't also ignore the keys when matching child objects).</div></div></div><br/>
<div><a id="1622675542.028200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622675542.028200" ><div class="time">2021-06-02 23:12</div></a><div class="msg">so, `resolve_wildcard_matchers` is deprecated because it has problems, but needs to be there to support older pacts (I'm of two minds on this). `matchers_for_exact_path` is used where matching rules must not cascade.</div></div></div><br/>
<div><a id="1622732586.028400"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1622732586.028400" ><div class="time">2021-06-03 15:03</div></a><div class="msg">Alright, thanks so much for the detailed background. I'm going to have to reread this carefully to wrap my head around it.

On further rereading of the path weight and equal length check in `matchers_for_exact_path` and thinking about how calc_path_weight works, I think that the path weight would be zero if any token did not match, since the token weights are multiplied together in the accumulation (with `fold`). A nonzero result weight means that the path matched at least up to the length of the JSONPath. Thus you only need to check that the actual path is not longer than the JSONPath (which would mean there were un-checked tokens), to confirm that the JSONPath exactly matches the path under test. And for the purposes of this check, the particular path weight is irrelevant as long as it's not zero.

Am I correctly understanding this?</div></div></div><br/>
<div><a id="1622759559.028600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622759559.028600" ><div class="time">2021-06-03 22:32</div></a><div class="msg">Yes, that sounds correct. If I recall, I think it checks that the weighting is &gt; 0 and that the matched path elements is equal to the path length.</div></div></div><br/>
<div><a id="1622868363.030300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622868363.030300" ><div class="time">2021-06-05 04:46</div></a><div class="msg">@matt.fellows Your changes to `pact_verifier_cli` have resulted in `pact_verifier_cli -v` printing out the version from the FFI crate. I have fixed this in <a href="https://github.com/pact-foundation/pact-reference/commit/e8d6d84414e266d0557d6aee4f7260b70a2caf18">https://github.com/pact-foundation/pact-reference/commit/e8d6d84414e266d0557d6aee4f7260b70a2caf18</a> but it may have broken Pact-Go</div></div></div><br/>
<div><a id="1622874113.030500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874113.030500" ><div class="time">2021-06-05 06:21</div></a><div class="msg">ah crap, sorry</div></div></div><br/>
<div><a id="1622874155.031100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874155.031100" ><div class="time">2021-06-05 06:22</div></a><div class="msg">looking at your change, it should be fine - pact go doesn?t use the CLI</div></div></div><br/>
<div><a id="1622874159.031400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874159.031400" ><div class="time">2021-06-05 06:22</div></a><div class="msg">Unless I?m missing something?</div></div></div><br/>
<div><a id="1622874176.031800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622874176.031800" ><div class="time">2021-06-05 06:22</div></a><div class="msg">No, just the function signature changed</div></div></div><br/>
<div><a id="1622874189.032100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622874189.032100" ><div class="time">2021-06-05 06:23</div></a><div class="msg">Huh! Typical!
```$ git bisect bad
62a653cfe52f6283af38f6a8620192d2e8ea27ef is the first bad commit
commit 62a653cfe52f6283af38f6a8620192d2e8ea27ef
Author: Matt Fellows &lt;matt.fellows@onegeek.com.au&gt;
Date:   Thu May 27 23:40:27 2021 +1000

    chore: remove unused imports

 rust/pact_mock_server_cli/src/server.rs | 2 +-
 rust/pact_verifier/src/tests.rs         | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)```</div></div></div><br/>
<div><a id="1622874381.032300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874381.032300" ><div class="time">2021-06-05 06:26</div></a><div class="msg">did it break stuff?</div></div></div><br/>
<div><a id="1622874465.033100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622874465.033100" ><div class="time">2021-06-05 06:27</div></a><div class="msg">CLI Mock server just starts up and then exits</div></div></div><br/>
<div><a id="1622874475.033400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874475.033400" ><div class="time">2021-06-05 06:27</div></a><div class="msg">huh</div></div></div><br/>
<div><a id="1622874495.033900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874495.033900" ><div class="time">2021-06-05 06:28</div></a><div class="msg">so much for the rust  compiler picking up useful bugs!</div></div></div><br/>
<div><a id="1622874505.034100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622874505.034100" ><div class="time">2021-06-05 06:28</div></a><div class="msg">Might be because of this:
```-  let (shutdown_tx, shutdown_rx) = channel::&lt;()&gt;();
+  let (_, shutdown_rx) = channel::&lt;()&gt;();```</div></div></div><br/>
<div><a id="1622874517.034600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622874517.034600" ><div class="time">2021-06-05 06:28</div></a><div class="msg">It's not waiting, because it is all async</div></div></div><br/>
<div><a id="1622874588.035600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874588.035600" ><div class="time">2021-06-05 06:29</div></a><div class="msg">I mustn?t understansd what `_` does. Does it not bind a variable at all, or just tell the compiler ?I know I don?t use it, but please stop complaining?</div></div></div><br/>
<div><a id="1622874637.036500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622874637.036500" ><div class="time">2021-06-05 06:30</div></a><div class="msg">Yeah, I think it doesn't create a local variable, which probably causes the destructor to be invoked, and the server thread then exits</div></div></div><br/>
<div><a id="1622874657.036900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874657.036900" ><div class="time">2021-06-05 06:30</div></a><div class="msg">So `_shutdown_tx` it is?</div></div></div><br/>
<div><a id="1622874854.038200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622874854.038200" ><div class="time">2021-06-05 06:34</div></a><div class="msg">The server future waits on that channel, so if it is de-allocated it will exit. Makes sense.</div></div></div><br/>
<div><a id="1622874861.038400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874861.038400" ><div class="time">2021-06-05 06:34</div></a><div class="msg">indeed</div></div></div><br/>
<div><a id="1622874947.039600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622874947.039600" ><div class="time">2021-06-05 06:35</div></a><div class="msg">but also, holy shit. That has got to be up there with the most innocuous change I?ve made that has had a catastrophic impact on an app.</div></div></div><br/>
<div><a id="1622875110.040700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622875110.040700" ><div class="time">2021-06-05 06:38</div></a><div class="msg">I was dreading the git bisect ending at "chore: update to Tokio xx Hyper yy and make it async"</div></div></div><br/>
<div><a id="1622875129.041100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622875129.041100" ><div class="time">2021-06-05 06:38</div></a><div class="msg">It was a relief when I saw the bad commit</div></div></div><br/>
<div><a id="1622875553.041400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622875553.041400" ><div class="time">2021-06-05 06:45</div></a><div class="msg">yeah, my commit is a fair bit easier to fix I would say</div></div></div><br/>
<div><a id="1622875577.041900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622875577.041900" ><div class="time">2021-06-05 06:46</div></a><div class="msg">Probably we should add a really simple smoke check in the pipelines - e.g. see if the CLIs run</div></div></div><br/>
<div><a id="1622875791.042900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1622875791.042900" ><div class="time">2021-06-05 06:49</div></a><div class="msg">Nobody is complaining, so they probably aren't using that CLI or they haven't done a docker pull etc.</div></div></div><br/>
<div><a id="1622875982.043300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1622875982.043300" ><div class="time">2021-06-05 06:53</div></a><div class="msg">Yeah I?m surprised I hadn?t seen any issues :grimacing:</div></div></div><br/>
<div><a id="1623665867.043600"><img src="https://avatars.slack-edge.com/2021-06-14/2168250301747_bb85b6981eda324bc5b9_72.png" /></a><div class="message"><div class="username">joaoproenca</div><a style="text-decoration: none" href="#1623665867.043600" ><div class="time">2021-06-14 10:17</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1623665942.043800"><img src="https://avatars.slack-edge.com/2021-06-14/2168250301747_bb85b6981eda324bc5b9_72.png" /></a><div class="message"><div class="username">joaoproenca</div><a style="text-decoration: none" href="#1623665942.043800" ><div class="time">2021-06-14 10:19</div></a><div class="msg">hey! I guess I was the first one to bump into that last Wednesday then :smile:</div></div></div><br/>
<div><a id="1623776869.057700"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1623776869.057700" ><div class="time">2021-06-15 17:07</div></a><div class="msg">Hello again folks, following up about my upcoming Pull Request related to refactoring JSON Paths.

The situation is that my team would like to implement a feature whereby JSON Paths may include XML prefixes to disambiguate XML namespaces (a future PR). I concluded that JSON Paths would need to be changed (this PR) in such a way that they are parsed immediately upon parsing of the containing Pact structure (Request, Response, or Message), instead of being parsed lazily. That would allow XML prefixes contained in the JSON Path tokens to be resolved before matching occurs. (I considered a design where XML namespace+prefix information was passed through into matching instead, but abandoned it because it would require too many changes, and would spill out of XML-specific matching code)

One behavior change included in this refactor is that parsing errors for the JSON Path expressions will occur at a different time, namely on construction/parsing of those Pact structures rather than during matching. The current codebase actually ignores parse errors, converting them into log warnings and returning a path weight of zero when matched against any path.

*I'm hoping to get feedback specifically about this change to error handling*, but any other feedback is of course welcome!
The work in progress is here:
<a href="https://github.com/mitre/pact-reference/commit/c525f264afa48fffe4315400551a36e9ac7ec96e">https://github.com/mitre/pact-reference/commit/c525f264afa48fffe4315400551a36e9ac7ec96e</a>

The diff is very large, but the gist is that I'm moving `calc_path_weight` and `matches_token` into `<a href="http://path_exp.rs">http://path_exp.rs</a>` and encapsulating JSON Path operations into a new type, `JSONPath`.
Other disclaimers:
? This work is based on an old version of `pact-reference/master`, but I think the diff is still representative.
? I think I was incorrect in my comment in the commit message about the potential issue where HTTP headers and query strings are plain strings rather than real JSON Paths. I later realized that all strings do eventually get parsed as if they are JSON Paths. Please let me know if you can confirm this one way or the other.
Thanks very much!</div></div></div><br/>
<div><a id="1623797820.058000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1623797820.058000" ><div class="time">2021-06-15 22:57</div></a><div class="msg">I can review it when I get a chance. If the diff is large, is there a way we can split it up?

I have been moving the models out of the matching crate into a separate models one, so that may affect your branch, especially if it has been long running.</div></div></div><br/>
<div><a id="1623800595.067600"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1623800595.067600" ><div class="time">2021-06-15 23:43</div></a><div class="msg">I was trying to keep it small, but the changes needed just to get it to compile kept escalating and spreading across the codebase. Turns out a lot of stuff works directly with JSON Paths :) So I'm lost on how to split it into any logical pieces, but I'm all ears.

I linked directly to the diff in case you were curious, but mostly I wanted (at least for starters) to get a basic sense of whether this change fits your design and plans. In particular the error handling bit, and also whether this approach looks like a good way to get to the feature I mentioned, regarding XML prefixes in JSON Path tokens.</div></div></div><br/>
<div><a id="1623800690.069900"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1623800690.069900" ><div class="time">2021-06-15 23:44</div></a><div class="msg">And yes, I'm expecting to need to rebase and redo a bunch of this since things are moving around. Part of the reason I'm asking for this feedback now :)</div></div></div><br/>
<div><a id="1623801075.070100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1623801075.070100" ><div class="time">2021-06-15 23:51</div></a><div class="msg">Ok, I'll try review today. Creating a struct to represent the paths makes a lot of sense. I'm unsure of calling it JSONPath, though. Because they are not really JSON Paths (as in they do not conform to the spec), but are just based on them.</div></div></div><br/>
<div><a id="1623801134.071200"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1623801134.071200" ><div class="time">2021-06-15 23:52</div></a><div class="msg">Fair point about the struct name. Happy to call it something else :)</div></div></div><br/>
<div><a id="1623801356.071400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1623801356.071400" ><div class="time">2021-06-15 23:55</div></a><div class="msg">Maybe DocumentPath makes more sense, because they are paths to elements in any hierarchical document (JSON, XML, YAML) :man-shrugging:</div></div></div><br/>
<div><a id="1623804917.071600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1623804917.071600" ><div class="time">2021-06-16 00:55</div></a><div class="msg">Changes look good. Thanks for also converting to anyhow::Result as you went.</div></div></div><br/>
<div><a id="1623855361.071800"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1623855361.071800" ><div class="time">2021-06-16 14:56</div></a><div class="msg">Thanks for the review! I replied to your comments on that commit.</div></div></div><br/>
<div><a id="1623855465.072000"><img src="https://secure.gravatar.com/avatar/1b6fc9252bcec55759fed5a17597c9d0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">cstepanian</div><a style="text-decoration: none" href="#1623855465.072000" ><div class="time">2021-06-16 14:57</div></a><div class="msg">Regarding the name of this new type, `DocumentPath` sounds appropriate but the golfer in me worries that it's too many characters :slightly_smiling_face: Do you think `DocPath`would be acceptable?</div></div></div><br/>
<div><a id="1624338998.072300"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1624338998.072300" ><div class="time">2021-06-22 05:16</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.4">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.4</a>_ published by uglyog</div></div></div><br/>
<div><a id="1624339530.072400"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1624339530.072400" ><div class="time">2021-06-22 05:25</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.3">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.3</a>_ published by uglyog</div></div></div><br/>
<div><a id="1624339987.072600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624339987.072600" ><div class="time">2021-06-22 05:33</div></a><div class="msg">:tada:</div></div></div><br/>
<div><a id="1624339989.072800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624339989.072800" ><div class="time">2021-06-22 05:33</div></a><div class="msg">thanks Ron</div></div></div><br/>
<div><a id="1624417421.073200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624417421.073200" ><div class="time">2021-06-23 03:03</div></a><div class="msg">```&gt; @pact-foundation/pact@10.0.0-beta.38 build:v3 /Users/matthewfellows/development/public/pact-js
&gt; neon build --release

neon info running cargo
   Compiling proc-macro-nested v0.1.7
   Compiling mime_guess v2.0.3
   Compiling pact-js-v3 v0.0.6 (/Users/matthewfellows/development/public/pact-js/native)
   Compiling futures-util v0.3.15
   Compiling multipart v0.17.1
   Compiling h2 v0.3.3
   Compiling futures-executor v0.3.15
   Compiling futures v0.3.15
   Compiling hyper v0.14.9
   Compiling hyper-rustls v0.22.1
   Compiling reqwest v0.11.4
   Compiling pact_matching v0.9.3
   Compiling pact_mock_server v0.7.17
   Compiling pact_matching_ffi v0.0.3
   Compiling pact_verifier v0.10.7
error[E0432]: unresolved import `pact_matching::models::json_utils`
  --&gt; /Users/matthewfellows/.cargo/registry/src/github.com-1ecc6299db9ec823/pact_verifier-0.10.7/src/lib.rs:30:28
   |
30 | use pact_matching::models::json_utils::json_to_string;
   |                            ^^^^^^^^^^ could not find `json_utils` in `models`

error: aborting due to previous error

For more information about this error, try `rustc --explain E0432`.
error: could not compile `pact_verifier````</div></div></div><br/>
<div><a id="1624417436.073600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624417436.073600" ><div class="time">2021-06-23 03:03</div></a><div class="msg">So the update to matching breaks the verifier, it seems some packages have moved</div></div></div><br/>
<div><a id="1624417474.073900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624417474.073900" ><div class="time">2021-06-23 03:04</div></a><div class="msg">I think i?ll need to update the `pact_verifier` package</div></div></div><br/>
<div><a id="1624417490.074200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624417490.074200" ><div class="time">2021-06-23 03:04</div></a><div class="msg">Ah, damn, my bad</div></div></div><br/>
<div><a id="1624417508.074500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624417508.074500" ><div class="time">2021-06-23 03:05</div></a><div class="msg">I only thought to release the matching crate</div></div></div><br/>
<div><a id="1624417522.074800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624417522.074800" ><div class="time">2021-06-23 03:05</div></a><div class="msg">Do you want me to do that now?</div></div></div><br/>
<div><a id="1624417845.075400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624417845.075400" ><div class="time">2021-06-23 03:10</div></a><div class="msg">I?m in there now</div></div></div><br/>
<div><a id="1624417872.075700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624417872.075700" ><div class="time">2021-06-23 03:11</div></a><div class="msg">Just a matter of running the release script I assume?</div></div></div><br/>
<div><a id="1624418042.076600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624418042.076600" ><div class="time">2021-06-23 03:14</div></a><div class="msg">No, it needs to be branched off the last release commit, because there are later changes that would require the model and matching crate released again</div></div></div><br/>
<div><a id="1624418051.076800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624418051.076800" ><div class="time">2021-06-23 03:14</div></a><div class="msg">I'm doing that now</div></div></div><br/>
<div><a id="1624418065.077000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624418065.077000" ><div class="time">2021-06-23 03:14</div></a><div class="msg">ah ok thanks</div></div></div><br/>
<div><a id="1624418082.077500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624418082.077500" ><div class="time">2021-06-23 03:14</div></a><div class="msg">The mock service has the same problem, whilst you?re at it :laughing:</div></div></div><br/>
<div><a id="1624418093.077800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624418093.077800" ><div class="time">2021-06-23 03:14</div></a><div class="msg">thx</div></div></div><br/>
<div><a id="1624418298.078400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624418298.078400" ><div class="time">2021-06-23 03:18</div></a><div class="msg">If you?re feeling generous, might as well publish the latest FFIs too? (I think Adam is keen to use the new logging infra in Pact .NET)</div></div></div><br/>
<div><a id="1624418341.078800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624418341.078800" ><div class="time">2021-06-23 03:19</div></a><div class="msg">Release all the things</div></div></div><br/>
<div><a id="1624418394.078900"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1624418394.078900" ><div class="time">2021-06-23 03:19</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.8">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.8</a>_ published by uglyog</div></div></div><br/>
<div><a id="1624418817.079100"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1624418817.079100" ><div class="time">2021-06-23 03:26</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server-v0.7.18">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server-v0.7.18</a>_ published by uglyog</div></div></div><br/>
<div><a id="1624419174.079200"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1624419174.079200" ><div class="time">2021-06-23 03:32</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server_ffi-v0.1.0">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server_ffi-v0.1.0</a>_ published by uglyog</div></div></div><br/>
<div><a id="1624419593.079300"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1624419593.079300" ><div class="time">2021-06-23 03:39</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_ffi-v0.0.5">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_ffi-v0.0.5</a>_ published by uglyog</div></div></div><br/>
<div><a id="1624420065.079800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624420065.079800" ><div class="time">2021-06-23 03:47</div></a><div class="msg">looking better. I think we now have a dependency on `pact_matching_ffi` , which makes sense because of the log interface:

``` @pact-foundation/pact@10.0.0-beta.38 build:v3 /Users/matthewfellows/development/public/pact-js
&gt; neon build --release

neon info running cargo
   Compiling pact-js-v3 v0.0.6 (/Users/matthewfellows/development/public/pact-js/native)
   Compiling pact_mock_server_ffi v0.1.0
error[E0432]: unresolved import `pact_matching_ffi::log::fetch_log_buffer`
  --&gt; /Users/matthewfellows/.cargo/registry/src/github.com-1ecc6299db9ec823/pact_mock_server_ffi-0.1.0/src/lib.rs:92:3
   |
92 |   fetch_log_buffer,
   |   ^^^^^^^^^^^^^^^^
   |   |
   |   no `fetch_log_buffer` in `log`
   |   help: a similar name exists in the module: `fetch_memory_buffer`

error: aborting due to previous error

For more information about this error, try `rustc --explain E0432`.
error: could not compile `pact_mock_server_ffi````</div></div></div><br/>
<div><a id="1624420219.080000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624420219.080000" ><div class="time">2021-06-23 03:50</div></a><div class="msg">Just releasing that now</div></div></div><br/>
<div><a id="1624420433.080300"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1624420433.080300" ><div class="time">2021-06-23 03:53</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.4">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.4</a>_ published by uglyog</div></div></div><br/>
<div><a id="1624420616.080700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624420616.080700" ><div class="time">2021-06-23 03:56</div></a><div class="msg">I've also fixed some imports in pact-js</div></div></div><br/>
<div><a id="1624420662.081100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624420662.081100" ><div class="time">2021-06-23 03:57</div></a><div class="msg">ah ok cool</div></div></div><br/>
<div><a id="1624420664.081300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624420664.081300" ><div class="time">2021-06-23 03:57</div></a><div class="msg">thx</div></div></div><br/>
<div><a id="1624420667.081400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624420667.081400" ><div class="time">2021-06-23 03:57</div></a><div class="msg">Should be all good now</div></div></div><br/>
<div><a id="1624420718.081700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624420718.081700" ><div class="time">2021-06-23 03:58</div></a><div class="msg">thx :pray:</div></div></div><br/>
<div><a id="1624420721.081900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624420721.081900" ><div class="time">2021-06-23 03:58</div></a><div class="msg">I?ll pull shortly</div></div></div><br/>
<div><a id="1624611392.083300"><img src="https://avatars.slack-edge.com/2021-06-14/2168250301747_bb85b6981eda324bc5b9_72.png" /></a><div class="message"><div class="username">joaoproenca</div><a style="text-decoration: none" href="#1624611392.083300" ><div class="time">2021-06-25 08:56</div></a><div class="msg">Hey folks. Pact-rust is the basis for the pact-ref-mock-server on DockerHub, right? Any chance we get an updated docker container with these latest developments?  :slightly_smiling_face:</div></div></div><br/>
<div><a id="1624616286.083900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624616286.083900" ><div class="time">2021-06-25 10:18</div></a><div class="msg">Should be able to have a look early next week. And yes, I'm pretty sure it is</div></div></div><br/>
<div><a id="1624616302.084500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624616302.084500" ><div class="time">2021-06-25 10:18</div></a><div class="msg">Surprised it's not triggered automatically like the Ruby one. #TODO</div></div></div><br/>
<div><a id="1624622999.084800"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624622999.084800" ><div class="time">2021-06-25 12:09</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1624623070.085900"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624623070.085900" ><div class="time">2021-06-25 12:11</div></a><div class="msg">:wave: Is there a list of supported rust versions or anything? I?ve tried to run a `cargo install pact_verifier_cli` and I?m getting an error that looks like a dependency version mismatch (error in thread)</div></div></div><br/>
<div><a id="1624623104.086000"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624623104.086000" ><div class="time">2021-06-25 12:11</div></a><div class="msg">```   Compiling pact_verifier_cli v0.8.5
error[E0061]: this function takes 1 argument but 0 arguments were supplied
   --&gt; /Users/scottriley/.cargo/registry/src/github.com-1ecc6299db9ec823/pact_verifier_cli-0.8.5/src/main.rs:242:9
    |
242 |   match handle_cli().await {
    |         ^^^^^^^^^^-- supplied 0 arguments
    |         |
    |         expected 1 argument
    |
note: function defined here
   --&gt; /Users/scottriley/.cargo/registry/src/github.com-1ecc6299db9ec823/pact_verifier_ffi-0.0.5/src/verifier.rs:133:14
    |
133 | pub async fn handle_cli(version: &amp;str) -&gt; Result&lt;(), i32&gt; {
    |              ^^^^^^^^^^

error: aborting due to previous error

For more information about this error, try `rustc --explain E0061`.```</div></div></div><br/>
<div><a id="1624623147.086200"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624623147.086200" ><div class="time">2021-06-25 12:12</div></a><div class="msg">this is on latest stable rust (`1.53.0`)</div></div></div><br/>
<div><a id="1624623223.086400"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624623223.086400" ><div class="time">2021-06-25 12:13</div></a><div class="msg">I?m also not sure - other than the docker image is there a way to download the already compiled binary? (I can see the readme has some release scripts for osx/windows/etc.)</div></div></div><br/>
<div><a id="1624626529.086600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624626529.086600" ><div class="time">2021-06-25 13:08</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.8.5">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.8.5</a></div></div></div><br/>
<div><a id="1624626634.086800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624626634.086800" ><div class="time">2021-06-25 13:10</div></a><div class="msg">Not sure about that error. Main seems to be passing in GH actions tho</div></div></div><br/>
<div><a id="1624628046.087000"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624628046.087000" ><div class="time">2021-06-25 13:34</div></a><div class="msg">ok :thumbsup: yeh I missed the verifier publishes in github</div></div></div><br/>
<div><a id="1624628047.087200"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624628047.087200" ><div class="time">2021-06-25 13:34</div></a><div class="msg">thanks</div></div></div><br/>
<div><a id="1624713033.088000"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1624713033.088000" ><div class="time">2021-06-26 13:10</div></a><div class="msg">Hi,
I got this error when using <a href="https://github.com/pact-foundation/pact-reference/releases/download/libpact_mock_server_ffi-v0.1.0/pact_mock_server_ffi-c.h">https://github.com/pact-foundation/pact-reference/releases/download/libpact_mock_server_ffi-v0.1.0/pact_mock_server_ffi-c.h</a>
&gt; Uncaught FFI\ParserException: undefined C type 'PactSpecification' at line 513</div></div></div><br/>
<div><a id="1624723443.088800"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1624723443.088800" ><div class="time">2021-06-26 16:04</div></a><div class="msg">Another question:
We don't have something like this for pact message?
&gt; $ffi-&gt;with_specification($pactMessage, $ffi-&gt;PactSpecification_V3);</div></div></div><br/>
<div><a id="1624726426.089400"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1624726426.089400" ><div class="time">2021-06-26 16:53</div></a><div class="msg">And another question:
Do we want to release new version of `pact_cli` ?</div></div></div><br/>
<div><a id="1624749577.089500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624749577.089500" ><div class="time">2021-06-26 23:19</div></a><div class="msg">Don't need it for that yet, it's only v3</div></div></div><br/>
<div><a id="1624752563.089700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624752563.089700" ><div class="time">2021-06-27 00:09</div></a><div class="msg">I don?t actually use that header file, not sure if it?s up to date</div></div></div><br/>
<div><a id="1624752584.089900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624752584.089900" ><div class="time">2021-06-27 00:09</div></a><div class="msg">I map them to `int` (it?s an enum that is c compatible as sequential integers)</div></div></div><br/>
<div><a id="1624754390.090100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624754390.090100" ><div class="time">2021-06-27 00:39</div></a><div class="msg">Ah! The structs and enums have been moved to a separate library. So they are not included in the header file by default.</div></div></div><br/>
<div><a id="1624755906.090400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624755906.090400" ><div class="time">2021-06-27 01:05</div></a><div class="msg">Is that header created by hand or automatically? Do we need it?</div></div></div><br/>
<div><a id="1624756509.090600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624756509.090600" ><div class="time">2021-06-27 01:15</div></a><div class="msg">automatically. But I don't think we need that enum, just an integer value would work</div></div></div><br/>
<div><a id="1624756529.090900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624756529.090900" ><div class="time">2021-06-27 01:15</div></a><div class="msg">cool, that?s what I do</div></div></div><br/>
<div><a id="1624758323.091100"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1624758323.091100" ><div class="time">2021-06-27 01:45</div></a><div class="msg">My plan is to download that header file to use it in pact-php. Can I create a ticket to fix it?</div></div></div><br/>
<div><a id="1624758727.091300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624758727.091300" ><div class="time">2021-06-27 01:52</div></a><div class="msg">I've already fixed it :smile:</div></div></div><br/>
<div><a id="1624759903.092200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624759903.092200" ><div class="time">2021-06-27 02:11</div></a><div class="msg">@uglyog I saw your fix on doc comments. Don?t clean up my mess, I?m happy to update the README and doc comments next week on my OSS day if you like?</div></div></div><br/>
<div><a id="1624761982.092400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624761982.092400" ><div class="time">2021-06-27 02:46</div></a><div class="msg">Already done.</div></div></div><br/>
<div><a id="1624762027.092600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624762027.092600" ><div class="time">2021-06-27 02:47</div></a><div class="msg">Not the readme, I generally don't do documentation. :wink:</div></div></div><br/>
<div><a id="1624889523.098000"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624889523.098000" ><div class="time">2021-06-28 14:12</div></a><div class="msg">How do folks normally deal with authenticated provider endpoints when using the standalone verifier? As far as I can see I?ve got three options of:
? Load some config that disables this auth when we boot the provider app before running the verifier cli (don?t really like the idea of doing this)
? Do something in the state change endpoint to provide some auth credentials (we?d need to make sure that every interaction did some provider state setup)
? Go back to the ruby standalone verifier and use `custom-provider-header` 
Have I understood this correctly? (and asked in the right channel :sweat_smile:)</div></div></div><br/>
<div><a id="1624922889.098300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624922889.098300" ><div class="time">2021-06-28 23:28</div></a><div class="msg">Normally people are using the verifier from their build, so they have control over the app and can disable the auth (using either of the methods you described).</div></div></div><br/>
<div><a id="1624922909.098500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1624922909.098500" ><div class="time">2021-06-28 23:28</div></a><div class="msg">But can you raise a github issue so we can get that option added</div></div></div><br/>
<div><a id="1624923643.098700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624923643.098700" ><div class="time">2021-06-28 23:40</div></a><div class="msg">the `custom-provider-header` option doesn?t allow dynamic values though - is that sufficient?</div></div></div><br/>
<div><a id="1624923668.098900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624923668.098900" ><div class="time">2021-06-28 23:41</div></a><div class="msg">one option is to use the provider state injected values, and use the state handler to return a  valid auth header/token/whatever</div></div></div><br/>
<div><a id="1624956452.099100"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624956452.099100" ><div class="time">2021-06-29 08:47</div></a><div class="msg">ok, cool - thanks this is useful</div></div></div><br/>
<div><a id="1624956460.099300"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624956460.099300" ><div class="time">2021-06-29 08:47</div></a><div class="msg">I was mostly just verifying that I was on the right path</div></div></div><br/>
<div><a id="1624956542.099600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624956542.099600" ><div class="time">2021-06-29 08:49</div></a><div class="msg">Thanks.</div></div></div><br/>
<div><a id="1624956548.099800"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624956548.099800" ><div class="time">2021-06-29 08:49</div></a><div class="msg">The custom header may work, if it supports multiple values (i.e. we?ve got some endpoints behind jwt auth, and other just behind basic)</div></div></div><br/>
<div><a id="1624956593.100500"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624956593.100500" ><div class="time">2021-06-29 08:49</div></a><div class="msg">we could generate a sort of ?magic jwt? and ?magic user/pass combo? per run or something and load them in in an env var</div></div></div><br/>
<div><a id="1624967770.100800"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624967770.100800" ><div class="time">2021-06-29 11:56</div></a><div class="msg">&gt; one option is to use the provider state injected values, and use the state handler to return avalid auth header/token/whatever
I?m not sure I understand how this would work - how would the valid auth header/token/whatever actually get injected into the requests the verifier is making?</div></div></div><br/>
<div><a id="1624968180.101100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624968180.101100" ><div class="time">2021-06-29 12:03</div></a><div class="msg">there is a feature in v4 that allows a consumer to specify that certain properties/fields/path elements (anywhere a matcher can go) aren?t known at verification time, and are captured in an expression. The state handler is responsible for returning values to inject into the expression.

When the verification step runs, it uses the values returned from the state handler, and puts them in the request</div></div></div><br/>
<div><a id="1624968181.101300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624968181.101300" ><div class="time">2021-06-29 12:03</div></a><div class="msg">see <a href="https://pactflow.io/blog/injecting-values-from-provider-states/">https://pactflow.io/blog/injecting-values-from-provider-states/</a></div></div></div><br/>
<div><a id="1624969302.101700"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624969302.101700" ><div class="time">2021-06-29 12:21</div></a><div class="msg">ok, cool</div></div></div><br/>
<div><a id="1624969332.101900"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624969332.101900" ><div class="time">2021-06-29 12:22</div></a><div class="msg">one of the first consumers we?re using this with is unfortunately using `pact-ruby` which I think is lagging behind quite a bit</div></div></div><br/>
<div><a id="1624969881.102200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624969881.102200" ><div class="time">2021-06-29 12:31</div></a><div class="msg">What was your provider again? I forgot why you weren't using a framework to hide this away?</div></div></div><br/>
<div><a id="1624970350.102400"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624970350.102400" ><div class="time">2021-06-29 12:39</div></a><div class="msg">the provider is an old rails app</div></div></div><br/>
<div><a id="1624970361.102600"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624970361.102600" ><div class="time">2021-06-29 12:39</div></a><div class="msg">(i.e. rails 3.2)</div></div></div><br/>
<div><a id="1624972123.102900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1624972123.102900" ><div class="time">2021-06-29 13:08</div></a><div class="msg">What features are you needing from the latest of pact?</div></div></div><br/>
<div><a id="1624972736.103100"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624972736.103100" ><div class="time">2021-06-29 13:18</div></a><div class="msg">Things like the v3 spec?s generators</div></div></div><br/>
<div><a id="1624972759.103300"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624972759.103300" ><div class="time">2021-06-29 13:19</div></a><div class="msg">and the provider value injection</div></div></div><br/>
<div><a id="1624986281.103500"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1624986281.103500" ><div class="time">2021-06-29 17:04</div></a><div class="msg">We've ended up with a proxy server that sits in front of the app and injects some auth into the requests the verifier makes, this should work ok for now</div></div></div><br/>
<div><a id="1625373698.105600"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1625373698.105600" ><div class="time">2021-07-04 04:41</div></a><div class="msg">I think interaction's description should not be required in this code:
&gt; $interaction = $ffi-&gt;new_interaction($pact, 'a simple request');
Because later we will set the same value again with:
&gt; $ffi-&gt;upon_receiving($interaction, 'a simple request (again)');</div></div></div><br/>
<div><a id="1625374804.106400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625374804.106400" ><div class="time">2021-07-04 05:00</div></a><div class="msg">That's right. There was a technical reason for C++ but for others it doesn't matter</div></div></div><br/>
<div><a id="1625445882.106700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625445882.106700" ><div class="time">2021-07-05 00:44</div></a><div class="msg">@uglyog as per the single FFI package :point_down:</div></div></div><br/>
<div><a id="1625446293.106900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625446293.106900" ><div class="time">2021-07-05 00:51</div></a><div class="msg">So the idea I had was to just create a _new_ ffi package, that simply re-exports the useful functions of the other FFIs</div></div></div><br/>
<div><a id="1625446312.107100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625446312.107100" ><div class="time">2021-07-05 00:51</div></a><div class="msg">That would have the upside of not impacting existing users, but also just means we have more packages</div></div></div><br/>
<div><a id="1625446342.107300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625446342.107300" ><div class="time">2021-07-05 00:52</div></a><div class="msg">We should also have a plan to deprecate and remove the other libs</div></div></div><br/>
<div><a id="1625446342.107500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625446342.107500" ><div class="time">2021-07-05 00:52</div></a><div class="msg">We could do the expand contract - add the new unified ffi, wait for all consumers to get on it, and then remove the old ones?</div></div></div><br/>
<div><a id="1625446679.108700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625446679.108700" ><div class="time">2021-07-05 00:57</div></a><div class="msg">Side note, how do I build and use the `pact_mock_service_ffi` package locally? It always complains about the `pact_matching_ffi` lib being missing? I recall you mentioning some trick, but can?t find it</div></div></div><br/>
<div><a id="1625447000.108800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625447000.108800" ><div class="time">2021-07-05 01:03</div></a><div class="msg">You mean `pact_mock_server_ffi`</div></div></div><br/>
<div><a id="1625447010.109000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625447010.109000" ><div class="time">2021-07-05 01:03</div></a><div class="msg">How are you building it?</div></div></div><br/>
<div><a id="1625447055.109200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625447055.109200" ><div class="time">2021-07-05 01:04</div></a><div class="msg">Running `cargo build` in that directory works for me</div></div></div><br/>
<div><a id="1625447214.109400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625447214.109400" ><div class="time">2021-07-05 01:06</div></a><div class="msg">one sec?</div></div></div><br/>
<div><a id="1625447250.109600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625447250.109600" ><div class="time">2021-07-05 01:07</div></a><div class="msg">the build works, it?s when I use the artifact</div></div></div><br/>
<div><a id="1625447285.109800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625447285.109800" ><div class="time">2021-07-05 01:08</div></a><div class="msg">```--- ? Running Pact examples
go test -v -tags=consumer -count=1 <a href="http://github.com/pact-foundation/pact-go/v2/examples/">http://github.com/pact-foundation/pact-go/v2/examples/</a>...
dyld: Library not loaded: libpact_matching_ffi.dylib
  Referenced from: /var/folders/3l/vsf3kf6n3yd_p40kwn_1883c0000gn/T/go-build645829403/b001/examples.test
  Reason: image not found
FAIL	<a href="http://github.com/pact-foundation/pact-go/v2/examples">http://github.com/pact-foundation/pact-go/v2/examples</a>	0.312s
?   	<a href="http://github.com/pact-foundation/pact-go/v2/examples/types">http://github.com/pact-foundation/pact-go/v2/examples/types</a>	[no test files]
FAIL
make: *** [pact] Error 1```</div></div></div><br/>
<div><a id="1625447300.110000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625447300.110000" ><div class="time">2021-07-05 01:08</div></a><div class="msg">if I use one downloaded from github releases, it works</div></div></div><br/>
<div><a id="1625447318.110200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625447318.110200" ><div class="time">2021-07-05 01:08</div></a><div class="msg">So I think it?s something to do with how the artifact is generated. It?s like it doesn?t contain the  matching lib, and just refers to it</div></div></div><br/>
<div><a id="1625447474.110400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625447474.110400" ><div class="time">2021-07-05 01:11</div></a><div class="msg">My copy does not link to anything else:
```$ ldd target/debug/libpact_mock_server_ffi.so 
        linux-vdso.so.1 (0x00007ffcd57fe000)
        libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f2d4e847000)
        libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f2d4e825000)
        libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f2d4e6d7000)
        libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f2d4e6d0000)
        libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f2d4e4e4000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f2d4fcd1000)```
</div></div></div><br/>
<div><a id="1625447489.110600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625447489.110600" ><div class="time">2021-07-05 01:11</div></a><div class="msg">Sorry, I don't have an OSX environment</div></div></div><br/>
<div><a id="1625447539.110800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625447539.110800" ><div class="time">2021-07-05 01:12</div></a><div class="msg">Yeah, not sure  why mine does!
```?  pact-go git:(feat/message-metadata) ? otool -L /usr/local/lib/libpact_mock_server_ffi.dylib
/usr/local/lib/libpact_mock_server_ffi.dylib:
	libpact_matching_ffi.dylib (compatibility version 0.0.0, current version 0.0.0)
	/System/Library/Frameworks/Security.framework/Versions/A/Security (compatibility version 1.0.0, current version 59306.140.5)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1677.104.0)
	/usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1281.100.1)
	/usr/lib/libresolv.9.dylib (compatibility version 1.0.0, current version 1.0.0)```</div></div></div><br/>
<div><a id="1625447558.111000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625447558.111000" ><div class="time">2021-07-05 01:12</div></a><div class="msg">I?ll dig further</div></div></div><br/>
<div><a id="1625447572.111200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625447572.111200" ><div class="time">2021-07-05 01:12</div></a><div class="msg">It?ll be a pain to test locally if the unified FFI contains all the others</div></div></div><br/>
<div><a id="1625447604.111400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625447604.111400" ><div class="time">2021-07-05 01:13</div></a><div class="msg">Have you upgraded your rust compiler (what version are you running?)</div></div></div><br/>
<div><a id="1625447942.111600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625447942.111600" ><div class="time">2021-07-05 01:19</div></a><div class="msg">Maybe I should buy on old refurbished macbook to help diagnose these issues</div></div></div><br/>
<div><a id="1625448666.111800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625448666.111800" ><div class="time">2021-07-05 01:31</div></a><div class="msg">(i?ll do an update now)</div></div></div><br/>
<div><a id="1625448706.112000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625448706.112000" ><div class="time">2021-07-05 01:31</div></a><div class="msg">```?  native git:(feat/message-metadata) ? rustup -V                                                                                                                                                                                                                                                           &lt;aws:pact-prod&gt;
rustup 1.24.2 (755e2b07e 2021-05-12)
info: This is the version for the rustup toolchain manager, not the rustc compiler.
info: The currently active `rustc` version is `rustc 1.53.0 (53cb7b09b 2021-06-17)````</div></div></div><br/>
<div><a id="1625448784.112200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625448784.112200" ><div class="time">2021-07-05 01:33</div></a><div class="msg">That is the latest</div></div></div><br/>
<div><a id="1625448833.112400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625448833.112400" ><div class="time">2021-07-05 01:33</div></a><div class="msg">ah</div></div></div><br/>
<div><a id="1625448853.112600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625448853.112600" ><div class="time">2021-07-05 01:34</div></a><div class="msg">Rustup is now one micro version newer :wink:</div></div></div><br/>
<div><a id="1625457865.113000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625457865.113000" ><div class="time">2021-07-05 04:04</div></a><div class="msg">@uglyog @tjones re: <a href="https://github.com/pact-foundation/pact-reference/pull/120">https://github.com/pact-foundation/pact-reference/pull/120</a></div></div></div><br/>
<div><a id="1625457914.114100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625457914.114100" ><div class="time">2021-07-05 04:05</div></a><div class="msg">I just spent the last hour mucking about to support an incoming JSON payload that accepts a `pactMessageMetadata` field, and a `pactMessageContents` field, which is represented as a set of `Bytes` (to allow non-JSON payloads).</div></div></div><br/>
<div><a id="1625457965.114800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625457965.114800" ><div class="time">2021-07-05 04:06</div></a><div class="msg">Doing this seems to be a bad idea, because I?m going to have to make a lot of changes (I thikn) to `<a href="http://messages.rs">http://messages.rs</a>` to know what to do when it receives different content types inside the bytes. It might not be as dramatic as that, but it does feel like double handling of that sort of logic, which I can see is already present further down the line</div></div></div><br/>
<div><a id="1625457983.115300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625457983.115300" ><div class="time">2021-07-05 04:06</div></a><div class="msg">I?m going to take a lunch break, and that will pretty much be it for the day today (meetings this arvo)</div></div></div><br/>
<div><a id="1625458046.115900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458046.115900" ><div class="time">2021-07-05 04:07</div></a><div class="msg">One thought I had, was to not accept an incoming JSON payload, but retrieve metadata via HTTP headers</div></div></div><br/>
<div><a id="1625458071.116400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458071.116400" ><div class="time">2021-07-05 04:07</div></a><div class="msg">that would be fairly convenient to do, I think, but I?m not convinced it?s a nice approach</div></div></div><br/>
<div><a id="1625458105.116500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625458105.116500" ><div class="time">2021-07-05 04:08</div></a><div class="msg">It would be a bit awkward for users</div></div></div><br/>
<div><a id="1625458115.116700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458115.116700" ><div class="time">2021-07-05 04:08</div></a><div class="msg">yeah</div></div></div><br/>
<div><a id="1625458186.116900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458186.116900" ><div class="time">2021-07-05 04:09</div></a><div class="msg">The alternative is to make it more awkward for the JSON use case (because you need to write JSON as bytes over the wire)</div></div></div><br/>
<div><a id="1625458306.117600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625458306.117600" ><div class="time">2021-07-05 04:11</div></a><div class="msg">Actually, if the headers were prefixed, that might be ok</div></div></div><br/>
<div><a id="1625458323.117800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625458323.117800" ><div class="time">2021-07-05 04:12</div></a><div class="msg">So each metadata field has a different header</div></div></div><br/>
<div><a id="1625458334.118000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458334.118000" ><div class="time">2021-07-05 04:12</div></a><div class="msg">that?s what I was thinking</div></div></div><br/>
<div><a id="1625458351.118400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625458351.118400" ><div class="time">2021-07-05 04:12</div></a><div class="msg">Some people I know of have JSON as metadata values</div></div></div><br/>
<div><a id="1625458383.118800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625458383.118800" ><div class="time">2021-07-05 04:13</div></a><div class="msg">They would need to encode it into the header value</div></div></div><br/>
<div><a id="1625458403.119300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458403.119300" ><div class="time">2021-07-05 04:13</div></a><div class="msg">specifically, the code in `make_provider_request` is I think where it would need to change. It eventually calls `match_message` which currently accepts the `Message` that needs to be ready to go (so any bytes would need to be decoded back into their correct type, and the content-type correctly parsed etc.)</div></div></div><br/>
<div><a id="1625458423.119500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458423.119500" ><div class="time">2021-07-05 04:13</div></a><div class="msg">:grimacing:</div></div></div><br/>
<div><a id="1625458425.119700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458425.119700" ><div class="time">2021-07-05 04:13</div></a><div class="msg">gah</div></div></div><br/>
<div><a id="1625458451.119900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458451.119900" ><div class="time">2021-07-05 04:14</div></a><div class="msg">so would it be `PACT_MESSAGE_METADATA_&lt;key&gt;=&lt;value&gt;`</div></div></div><br/>
<div><a id="1625458466.120200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458466.120200" ><div class="time">2021-07-05 04:14</div></a><div class="msg">k</div></div></div><br/>
<div><a id="1625458471.120400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625458471.120400" ><div class="time">2021-07-05 04:14</div></a><div class="msg">I?ll give that a go, but probably tonight</div></div></div><br/>
<div><a id="1625458510.120600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625458510.120600" ><div class="time">2021-07-05 04:15</div></a><div class="msg">It does have a nice separation between data and metadata.</div></div></div><br/>
<div><a id="1625458537.120800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625458537.120800" ><div class="time">2021-07-05 04:15</div></a><div class="msg">Which, I suppose, is what headers actually are</div></div></div><br/>
<div><a id="1625460651.122100"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625460651.122100" ><div class="time">2021-07-05 04:50</div></a><div class="msg">I was assuming that the metadata would largely be provided by the pact framework, and not by the users</div></div></div><br/>
<div><a id="1625460691.123400"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625460691.123400" ><div class="time">2021-07-05 04:51</div></a><div class="msg">As in, users provide the key/values, but ?we? (as in pact-js or whatever) decide how it gets put on the wire</div></div></div><br/>
<div><a id="1625461073.123600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625461073.123600" ><div class="time">2021-07-05 04:57</div></a><div class="msg">Yeah, that's mostly true</div></div></div><br/>
<div><a id="1625461084.123800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625461084.123800" ><div class="time">2021-07-05 04:58</div></a><div class="msg">But also the verifier is a CLI tool</div></div></div><br/>
<div><a id="1625461093.124000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625461093.124000" ><div class="time">2021-07-05 04:58</div></a><div class="msg">So users could build tools around it</div></div></div><br/>
<div><a id="1625461113.124200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625461113.124200" ><div class="time">2021-07-05 04:58</div></a><div class="msg">But I think it's ok, as long as it's documented how to properly use it</div></div></div><br/>
<div><a id="1625461801.124400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625461801.124400" ><div class="time">2021-07-05 05:10</div></a><div class="msg">It would be a change in the JS side Tim, but easily enough I think. Thoughts?</div></div></div><br/>
<div><a id="1625463983.124600"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625463983.124600" ><div class="time">2021-07-05 05:46</div></a><div class="msg">What's the change? Using headers instead?</div></div></div><br/>
<div><a id="1625464012.124800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464012.124800" ><div class="time">2021-07-05 05:46</div></a><div class="msg">I think that might be the commented bit. I definitely already implemented it, when I was trying to guess at how it might be handled on the rust side</div></div></div><br/>
<div><a id="1625464060.125000"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464060.125000" ><div class="time">2021-07-05 05:47</div></a><div class="msg">Shall we say: `PACT_MESSAGE_METADATA_&lt;key&gt;=&lt;JSON encoded value&gt;`?</div></div></div><br/>
<div><a id="1625464269.125200"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464269.125200" ><div class="time">2021-07-05 05:51</div></a><div class="msg"><a href="https://stackoverflow.com/a/40347926/790070">https://stackoverflow.com/a/40347926/790070</a>

^ We have to be a bit careful with JSON in headers</div></div></div><br/>
<div><a id="1625464371.125500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625464371.125500" ><div class="time">2021-07-05 05:52</div></a><div class="msg">I think they should be simple values, and people who want to put JSON in need to encode/decode them themselves</div></div></div><br/>
<div><a id="1625464400.125700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625464400.125700" ><div class="time">2021-07-05 05:53</div></a><div class="msg">Actually, now that I recall, it wasn't JSON they were using, but XML :scream:</div></div></div><br/>
<div><a id="1625464412.125900"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464412.125900" ><div class="time">2021-07-05 05:53</div></a><div class="msg">"simple values" - do you mean strings?</div></div></div><br/>
<div><a id="1625464429.126100"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464429.126100" ><div class="time">2021-07-05 05:53</div></a><div class="msg">Because without some kind of encoding ,we can't tell the difference between `0` and `"0"`</div></div></div><br/>
<div><a id="1625464436.126300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625464436.126300" ><div class="time">2021-07-05 05:53</div></a><div class="msg">Primitives (not collections)</div></div></div><br/>
<div><a id="1625464556.126500"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464556.126500" ><div class="time">2021-07-05 05:55</div></a><div class="msg">How do we tell the difference between numbers and strings?</div></div></div><br/>
<div><a id="1625464566.126700"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464566.126700" ><div class="time">2021-07-05 05:56</div></a><div class="msg">Also primitives are different in different languages</div></div></div><br/>
<div><a id="1625464623.126900"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464623.126900" ><div class="time">2021-07-05 05:57</div></a><div class="msg">If we're expecting the consumer to handle serialisation, can we say "strings" and leave the implementation up to the user?</div></div></div><br/>
<div><a id="1625464646.127100"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625464646.127100" ><div class="time">2021-07-05 05:57</div></a><div class="msg">(also, it's not quite "strings", because the headers have some restrictions)</div></div></div><br/>
<div><a id="1625465464.127300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625465464.127300" ><div class="time">2021-07-05 06:11</div></a><div class="msg">Metadata is represented as a hashmap of string -&gt; string anyway</div></div></div><br/>
<div><a id="1625465502.127600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625465502.127600" ><div class="time">2021-07-05 06:11</div></a><div class="msg">&gt;  If we?re expecting the consumer to handle serialisation, can we say ?strings? and leave the implementation up to the user?
That?s what I think we should do. I actually think it?s what it currently assumes also</div></div></div><br/>
<div><a id="1625466391.127800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625466391.127800" ><div class="time">2021-07-05 06:26</div></a><div class="msg">Pact-JVM had to change that from string -&gt; string  to string -&gt; any</div></div></div><br/>
<div><a id="1625466400.128000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625466400.128000" ><div class="time">2021-07-05 06:26</div></a><div class="msg">We should do the same here</div></div></div><br/>
<div><a id="1625466542.128200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625466542.128200" ><div class="time">2021-07-05 06:29</div></a><div class="msg">Here is the issue: <a href="https://github.com/pact-foundation/pact-jvm/issues/1006">https://github.com/pact-foundation/pact-jvm/issues/1006</a></div></div></div><br/>
<div><a id="1625466592.128500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625466592.128500" ><div class="time">2021-07-05 06:29</div></a><div class="msg">&gt;  This is a problem when integrating with messaging frameworks that also provide metadata with raw Object values instead of String (like IMessage of azure servicebus in my case) because you can't translate the pact Message to such a message representation then (at least not with hard workarounds.)</div></div></div><br/>
<div><a id="1625466875.128700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625466875.128700" ><div class="time">2021-07-05 06:34</div></a><div class="msg">Chris. Then a header value per metadata key/value pair is not going to work, because headers are string values</div></div></div><br/>
<div><a id="1625467079.128900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625467079.128900" ><div class="time">2021-07-05 06:37</div></a><div class="msg">I think JSON values will work (that way they retain the types). I looked at azure servicebus IMessage, and most of it is things like destination channel and correlation ids. But there are lock types and sessions as well.</div></div></div><br/>
<div><a id="1625467132.129100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625467132.129100" ><div class="time">2021-07-05 06:38</div></a><div class="msg">99% will just be string values (like destination queue) and correlation IDs (numbers and UUIDs)</div></div></div><br/>
<div><a id="1625468129.129300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468129.129300" ><div class="time">2021-07-05 06:55</div></a><div class="msg">Sorry, was on a call Ron</div></div></div><br/>
<div><a id="1625468175.129500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468175.129500" ><div class="time">2021-07-05 06:56</div></a><div class="msg">So if each key had its own header, I don?t think that would would work, because a `0` would be represented as a `"0"`</div></div></div><br/>
<div><a id="1625468183.129700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468183.129700" ><div class="time">2021-07-05 06:56</div></a><div class="msg">I always thought you were a call girl, err, I mean guy</div></div></div><br/>
<div><a id="1625468213.130000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468213.130000" ><div class="time">2021-07-05 06:56</div></a><div class="msg">but if we smashed all of the metadata into a sinlgle header, then we could represent it as JSON</div></div></div><br/>
<div><a id="1625468242.130200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468242.130200" ><div class="time">2021-07-05 06:57</div></a><div class="msg">No, each key is a separate header, and the value is a JSON value</div></div></div><br/>
<div><a id="1625468262.130400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468262.130400" ><div class="time">2021-07-05 06:57</div></a><div class="msg">ah so then

 `PACT_MESSAGE_METADATA_FOO=0` = number
 `PACT_MESSAGE_METADATA_FOO="0"` = string?</div></div></div><br/>
<div><a id="1625468272.130700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468272.130700" ><div class="time">2021-07-05 06:57</div></a><div class="msg">k</div></div></div><br/>
<div><a id="1625468313.130900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468313.130900" ><div class="time">2021-07-05 06:58</div></a><div class="msg">We need the types if people are using type matchers</div></div></div><br/>
<div><a id="1625468376.131100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468376.131100" ><div class="time">2021-07-05 06:59</div></a><div class="msg">How do we do that? Do we need to encode something else into the value?</div></div></div><br/>
<div><a id="1625468465.131300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468465.131300" ><div class="time">2021-07-05 07:01</div></a><div class="msg">The JSON values have types</div></div></div><br/>
<div><a id="1625468465.131500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468465.131500" ><div class="time">2021-07-05 07:01</div></a><div class="msg">Ironic: <a href="https://pact-foundation.slack.com/archives/C9UN99H24/p1625468438328500">https://pact-foundation.slack.com/archives/C9UN99H24/p1625468438328500</a></div></div></div><br/>
<div><a id="1625468506.131800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468506.131800" ><div class="time">2021-07-05 07:01</div></a><div class="msg">&gt;  The JSON values have types
are you referring to the Rust side here or just commenting that if we properly encode the values the types will be correct?</div></div></div><br/>
<div><a id="1625468534.132000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468534.132000" ><div class="time">2021-07-05 07:02</div></a><div class="msg">When you parse a value as JSON, you get a typed value</div></div></div><br/>
<div><a id="1625468578.132300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468578.132300" ><div class="time">2021-07-05 07:02</div></a><div class="msg">`PACT_MESSAGE_METADATA_FOO=false` is a boolean</div></div></div><br/>
<div><a id="1625468602.132600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468602.132600" ><div class="time">2021-07-05 07:03</div></a><div class="msg">```pub struct MessagePact {
    /// Consumer side of the pact
    pub consumer: Consumer,
    /// Provider side of the pact
    pub provider: Provider,
    /// List of messages between the consumer and provider.
    pub messages: Vec&lt;message::Message&gt;,
    /// Metadata associated with this pact file.
    pub metadata: BTreeMap&lt;String, BTreeMap&lt;String, String&gt;&gt;,
    /// Specification version of this pact
    pub specification_version: PactSpecification,
}```
Just so I?m clear, would we be changing `metadata` to be a `BTreeMap&lt;String, BTreeMap&lt;String, Value&gt;&gt;` ?</div></div></div><br/>
<div><a id="1625468620.132800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468620.132800" ><div class="time">2021-07-05 07:03</div></a><div class="msg">i.e. using the json `Value` type instead of a String?</div></div></div><br/>
<div><a id="1625468656.133000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468656.133000" ><div class="time">2021-07-05 07:04</div></a><div class="msg">Actually, I might make this two PRs</div></div></div><br/>
<div><a id="1625468669.133200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468669.133200" ><div class="time">2021-07-05 07:04</div></a><div class="msg">Step one - extract the headers into the current implementation of pure strings</div></div></div><br/>
<div><a id="1625468683.133400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468683.133400" ><div class="time">2021-07-05 07:04</div></a><div class="msg">step 2, refactor to allow richer objects</div></div></div><br/>
<div><a id="1625468858.133600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468858.133600" ><div class="time">2021-07-05 07:07</div></a><div class="msg">That sounds like a sensible plan</div></div></div><br/>
<div><a id="1625468873.133800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468873.133800" ><div class="time">2021-07-05 07:07</div></a><div class="msg">Before the night is out, you'll probably have 3 PRs</div></div></div><br/>
<div><a id="1625468880.134000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468880.134000" ><div class="time">2021-07-05 07:08</div></a><div class="msg">Maybe 4</div></div></div><br/>
<div><a id="1625468929.134300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468929.134300" ><div class="time">2021-07-05 07:08</div></a><div class="msg">Actually, I think `BTreeMap&lt;String, Value&gt;`</div></div></div><br/>
<div><a id="1625468963.134500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625468963.134500" ><div class="time">2021-07-05 07:09</div></a><div class="msg">You're confusing the Pact metadata with the message metadata :smile:</div></div></div><br/>
<div><a id="1625468963.134700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625468963.134700" ><div class="time">2021-07-05 07:09</div></a><div class="msg">Yes, I just realised the same thing</div></div></div><br/>
<div><a id="1625469011.135000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625469011.135000" ><div class="time">2021-07-05 07:10</div></a><div class="msg">You could just use a `HashMap`, because order is not important</div></div></div><br/>
<div><a id="1625469029.135300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625469029.135300" ><div class="time">2021-07-05 07:10</div></a><div class="msg">&gt;  Before the night is out, you?ll probably have 3 PRs
When I?m in unfamiliar territory, I prefer to try and get an idea in front of others before going too far, so that I can get feedback on the general approach</div></div></div><br/>
<div><a id="1625469046.135500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625469046.135500" ><div class="time">2021-07-05 07:10</div></a><div class="msg">hope it?s OK</div></div></div><br/>
<div><a id="1625469058.135700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625469058.135700" ><div class="time">2021-07-05 07:10</div></a><div class="msg">I?ve appreciated the quick response on the last few (you too @tjones!)</div></div></div><br/>
<div><a id="1625469084.136000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625469084.136000" ><div class="time">2021-07-05 07:11</div></a><div class="msg">That's the problem, 3 people's opinions -&gt; 4 PRs</div></div></div><br/>
<div><a id="1625469683.136300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625469683.136300" ><div class="time">2021-07-05 07:21</div></a><div class="msg">Checked the V4 model, and it already is the correct type
```  /// Metadata associated with this message.
  pub metadata: HashMap&lt;String, Value&gt;,```</div></div></div><br/>
<div><a id="1625470268.136600"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625470268.136600" ><div class="time">2021-07-05 07:31</div></a><div class="msg">You have to be careful with json in headers because JSON lets you have characters you can?t have in headers. There?s a discussion and a JS workaround in the stackoverflow issue I linked</div></div></div><br/>
<div><a id="1625470303.136800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625470303.136800" ><div class="time">2021-07-05 07:31</div></a><div class="msg">headers are largely arbitrary otherwise - there?s no length requirement, and most http implementations will accept up to 8k of headers (!)</div></div></div><br/>
<div><a id="1625470379.137100"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625470379.137100" ><div class="time">2021-07-05 07:32</div></a><div class="msg">I like the ?encode as JSON? approach. But we should put a warning for implementers in the spec, because `removeNewlines(JSON.stringify(foo))` is not enough.</div></div></div><br/>
<div><a id="1625470783.137300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625470783.137300" ><div class="time">2021-07-05 07:39</div></a><div class="msg">base64 encoded is probably a better approach</div></div></div><br/>
<div><a id="1625472061.137600"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625472061.137600" ><div class="time">2021-07-05 08:01</div></a><div class="msg">much</div></div></div><br/>
<div><a id="1625472223.137800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625472223.137800" ><div class="time">2021-07-05 08:03</div></a><div class="msg">I think it?s also gonig to have to be a single header. The reason is that I don?t think we?ll be able to reliably deal with strange keys (e.g. if there is a space, or hyphen)</div></div></div><br/>
<div><a id="1625472237.138000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625472237.138000" ><div class="time">2021-07-05 08:03</div></a><div class="msg">(I?ll think later when back in front of laptop)</div></div></div><br/>
<div><a id="1625472282.138200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625472282.138200" ><div class="time">2021-07-05 08:04</div></a><div class="msg">also I think it will mess with case</div></div></div><br/>
<div><a id="1625485067.138400"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625485067.138400" ><div class="time">2021-07-05 11:37</div></a><div class="msg">We could also restrict the keys</div></div></div><br/>
<div><a id="1625485092.138600"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1625485092.138600" ><div class="time">2021-07-05 11:38</div></a><div class="msg">but a single header probably makes more sense</div></div></div><br/>
<div><a id="1625485892.138800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625485892.138800" ><div class="time">2021-07-05 11:51</div></a><div class="msg">I think it?s easier anyway</div></div></div><br/>
<div><a id="1625524144.139300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625524144.139300" ><div class="time">2021-07-05 22:29</div></a><div class="msg">FYI I made some progress on the ?support complex values? in the metadata. Tested in go</div></div></div><br/>
<div><a id="1625524158.139700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625524158.139700" ><div class="time">2021-07-05 22:29</div></a><div class="msg">I need to fix the compilation in the matching_ffi package, but it works</div></div></div><br/>
<div><a id="1625543712.139900"><img src="https://secure.gravatar.com/avatar/b8292d8601c8381e5db765b93ef6ce5e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /></a><div class="message"><div class="username">talank</div><a style="text-decoration: none" href="#1625543712.139900" ><div class="time">2021-07-06 03:55</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1625656012.140100"><img src="https://avatars.slack-edge.com/2021-07-06/2244026689219_e06e5cbb1c93cb353abe_72.png" /></a><div class="message"><div class="username">swoichhaa</div><a style="text-decoration: none" href="#1625656012.140100" ><div class="time">2021-07-07 11:06</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1625850581.142000"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1625850581.142000" ><div class="time">2021-07-09 17:09</div></a><div class="msg">If header have multiple values we have to use `index` in `with_header`  <a href="https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_mock_server_ffi/src/lib.rs#L775">https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_mock_server_ffi/src/lib.rs#L775</a> ?
I did google and I think that multiple-value header can be present by a string with comma-separated <a href="https://stackoverflow.com/questions/32667075/multiple-values-on-http-headers">https://stackoverflow.com/questions/32667075/multiple-values-on-http-headers</a>, so I think `index` is not needed. Is that right?</div></div></div><br/>
<div><a id="1625873399.143400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625873399.143400" ><div class="time">2021-07-09 23:29</div></a><div class="msg">Rust represents it internally differently though, I think for matching purposes. @uglyog care to elaborate?</div></div></div><br/>
<div><a id="1625886394.145200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625886394.145200" ><div class="time">2021-07-10 03:06</div></a><div class="msg">While using a comma-separated string may work (the headers will be generated in that form), there are some cases where it may not work. For instance, if using a matcher, the matcher will be applied to the whole string.</div></div></div><br/>
<div><a id="1625886511.147000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1625886511.147000" ><div class="time">2021-07-10 03:08</div></a><div class="msg">We can update it to detect a comma-separated string, but there are cases where that can cause problems. It kind of has to be done on a header by header basis. For instance, headers with date values have a comma separating the day from the month part.</div></div></div><br/>
<div><a id="1625986064.147300"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1625986064.147300" ><div class="time">2021-07-11 06:47</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.5">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.0.5</a>_ published by uglyog</div></div></div><br/>
<div><a id="1625986600.147400"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1625986600.147400" ><div class="time">2021-07-11 06:56</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.4">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.9.4</a>_ published by uglyog</div></div></div><br/>
<div><a id="1625987092.147500"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1625987092.147500" ><div class="time">2021-07-11 07:04</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.5">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching_ffi-v0.0.5</a>_ published by uglyog</div></div></div><br/>
<div><a id="1625987498.147600"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1625987498.147600" ><div class="time">2021-07-11 07:11</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server-v0.7.19">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server-v0.7.19</a>_ published by uglyog</div></div></div><br/>
<div><a id="1625987934.147700"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1625987934.147700" ><div class="time">2021-07-11 07:18</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server_ffi-v0.1.1">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server_ffi-v0.1.1</a>_ published by uglyog</div></div></div><br/>
<div><a id="1625988669.147800"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1625988669.147800" ><div class="time">2021-07-11 07:31</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.9">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.9</a>_ published by uglyog</div></div></div><br/>
<div><a id="1625989011.147900"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1625989011.147900" ><div class="time">2021-07-11 07:36</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_ffi-v0.0.6">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_ffi-v0.0.6</a>_ published by uglyog</div></div></div><br/>
<div><a id="1625989745.148000"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1625989745.148000" ><div class="time">2021-07-11 07:49</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.0.0">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.0.0</a>_ published by uglyog</div></div></div><br/>
<div><a id="1625993246.149200"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1625993246.149200" ><div class="time">2021-07-11 08:47</div></a><div class="msg">How to set metadata for message?
I got this error:
&gt; Expected message metadata 'routing_key' to have value 'And the clowns have all gone to bed' but was ''
This code return the message <a href="https://github.com/pact-foundation/pact-reference/blob/master/php/src/provider-proxy.php#L30">https://github.com/pact-foundation/pact-reference/blob/master/php/src/provider-proxy.php#L30</a>, but I don't know how to modify it to fix the error.</div></div></div><br/>
<div><a id="1625995179.149700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625995179.149700" ><div class="time">2021-07-11 09:19</div></a><div class="msg">Can you please show the pact that was generated?</div></div></div><br/>
<div><a id="1625995236.150400"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1625995236.150400" ><div class="time">2021-07-11 09:20</div></a><div class="msg">This one <a href="https://github.com/pact-foundation/pact-php/blob/master/example/pacts/test_consumer-test_provider.json#L23">https://github.com/pact-foundation/pact-php/blob/master/example/pacts/test_consumer-test_provider.json#L23</a></div></div></div><br/>
<div><a id="1625995248.150800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625995248.150800" ><div class="time">2021-07-11 09:20</div></a><div class="msg">Metadata is not part of the message itself, it needs to be sent back</div></div></div><br/>
<div><a id="1625995250.150900"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1625995250.150900" ><div class="time">2021-07-11 09:20</div></a><div class="msg">But I changed `version` to `3.0.0`</div></div></div><br/>
<div><a id="1625995262.151100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625995262.151100" ><div class="time">2021-07-11 09:21</div></a><div class="msg">Yep</div></div></div><br/>
<div><a id="1625995324.151400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625995324.151400" ><div class="time">2021-07-11 09:22</div></a><div class="msg">See <a href="https://github.com/pact-foundation/pact-reference/pull/120">https://github.com/pact-foundation/pact-reference/pull/120</a></div></div></div><br/>
<div><a id="1625995383.151800"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1625995383.151800" ><div class="time">2021-07-11 09:23</div></a><div class="msg">Thanks, I will check</div></div></div><br/>
<div><a id="1625995423.151900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625995423.151900" ><div class="time">2021-07-11 09:23</div></a><div class="msg">:+1:</div></div></div><br/>
<div><a id="1625996329.152500"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1625996329.152500" ><div class="time">2021-07-11 09:38</div></a><div class="msg">This is an issue I got when using new `Pact FFI Library 0.0.0`
&gt; FFI\ParserException: ';' expected, got '&lt;STRING&gt;' at line 275 </div></div></div><br/>
<div><a id="1625998124.153800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625998124.153800" ><div class="time">2021-07-11 10:08</div></a><div class="msg">I haven't used the new all in one FFI interface yet but if you can tell us what you're doing / provide more input that might help</div></div></div><br/>
<div><a id="1625998136.154200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625998136.154200" ><div class="time">2021-07-11 10:08</div></a><div class="msg">Otherwise I'll be able to test Pact Go this week sometime myself</div></div></div><br/>
<div><a id="1626013370.155300"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626013370.155300" ><div class="time">2021-07-11 14:22</div></a><div class="msg">I think it come from `pact.h` , around these lines:
```#ifdef __cplusplus
extern "C" {
#endif // __cplusplus```
I think we need to generate a file `pact-c.h` like other FFI libraries</div></div></div><br/>
<div><a id="1626014253.156400"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626014253.156400" ><div class="time">2021-07-11 14:37</div></a><div class="msg">Another thing I saw is every methods starting with `pactffi_*` , not sure it's needed</div></div></div><br/>
<div><a id="1626014835.157100"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626014835.157100" ><div class="time">2021-07-11 14:47</div></a><div class="msg">Not sure why body's type changed from `char` to `uint8_t`
```void pactffi_message_with_contents(struct MessageHandle message,
                                   const char *content_type,
                                   const uint8_t *body,
                                   size_t size);```</div></div></div><br/>
<div><a id="1626016491.157200"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626016491.157200" ><div class="time">2021-07-11 15:14</div></a><div class="msg">I think `pact_message_metadata` is causing problem. Slim framework (PHP) normalize header name into `pact-message-metadata` . I tested by rename in `<a href="http://message.rs">http://message.rs</a>` and it works. Do we consider rename it?</div></div></div><br/>
<div><a id="1626043486.157400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626043486.157400" ><div class="time">2021-07-11 22:44</div></a><div class="msg">These were requested by @tjones</div></div></div><br/>
<div><a id="1626043532.158500"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1626043532.158500" ><div class="time">2021-07-11 22:45</div></a><div class="msg">It?s just a convention for ensuring that there?s no collision with other C libs.</div></div></div><br/>
<div><a id="1626043537.158800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626043537.158800" ><div class="time">2021-07-11 22:45</div></a><div class="msg">It was requested to only have 1 header file. It needs those ifdefs to be usable in C++</div></div></div><br/>
<div><a id="1626043568.159000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626043568.159000" ><div class="time">2021-07-11 22:46</div></a><div class="msg">This is to support binary payloads</div></div></div><br/>
<div><a id="1626051361.159300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626051361.159300" ><div class="time">2021-07-12 00:56</div></a><div class="msg">In the other libraries, we don?t bother using the header files. I don?t know about PHP, but we can simply define the bits we need</div></div></div><br/>
<div><a id="1626051392.159600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626051392.159600" ><div class="time">2021-07-12 00:56</div></a><div class="msg">Yep. So that tells me you probably havn?t supported binary payloads in the HTTP mock service (that?s fine, but just take note)</div></div></div><br/>
<div><a id="1626054486.159900"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626054486.159900" ><div class="time">2021-07-12 01:48</div></a><div class="msg">Maybe separate into 2 functions:
? pactffi_message_with_contents
? pactffi_message_with_binary_contents
What do you think?</div></div></div><br/>
<div><a id="1626054557.160100"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626054557.160100" ><div class="time">2021-07-12 01:49</div></a><div class="msg">Sadly PHP only support c's header, not cpp <a href="https://www.php.net/manual/en/ffi.cdef.php">https://www.php.net/manual/en/ffi.cdef.php</a></div></div></div><br/>
<div><a id="1626054676.160300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626054676.160300" ><div class="time">2021-07-12 01:51</div></a><div class="msg">We don?t need both though - whether you?re sending JSON or binary, it just needs to be given an array of bytes</div></div></div><br/>
<div><a id="1626054872.160500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626054872.160500" ><div class="time">2021-07-12 01:54</div></a><div class="msg">Oh, we will have to go back to two separate header files then.</div></div></div><br/>
<div><a id="1626054906.160700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626054906.160700" ><div class="time">2021-07-12 01:55</div></a><div class="msg">In the short term, just comment out those lines</div></div></div><br/>
<div><a id="1626054951.160900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626054951.160900" ><div class="time">2021-07-12 01:55</div></a><div class="msg">How are you defining the FFI interface Tien? In Go and JS, I can just define the functions and types I need locally</div></div></div><br/>
<div><a id="1626054969.161100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626054969.161100" ><div class="time">2021-07-12 01:56</div></a><div class="msg">but it probably is best there is an up-to-date c interface - does the c bindgen give that to us for free Ron?</div></div></div><br/>
<div><a id="1626054989.161300"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626054989.161300" ><div class="time">2021-07-12 01:56</div></a><div class="msg">I download it, both header and library files</div></div></div><br/>
<div><a id="1626054994.161500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626054994.161500" ><div class="time">2021-07-12 01:56</div></a><div class="msg">So, before we generated two headers, one for C and one for C++</div></div></div><br/>
<div><a id="1626055013.161800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626055013.161800" ><div class="time">2021-07-12 01:56</div></a><div class="msg">Also Tien - does @cfmack know you?re doing this? Might be worthing looping him in, or getting access to be able to submit PRs off the main branch? There is probably a lot of work goinsg on here, so ideally the maintainer is across it</div></div></div><br/>
<div><a id="1626055017.162100"><img src="https://avatars.slack-edge.com/2018-03-29/338362239890_804a33f50574d0099158_72.jpg" /></a><div class="message"><div class="username">cfmack</div><a style="text-decoration: none" href="#1626055017.162100" ><div class="time">2021-07-12 01:56</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1626055021.162200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626055021.162200" ><div class="time">2021-07-12 01:57</div></a><div class="msg">But there was a discussion to only have one header (@tjones may have been in that)</div></div></div><br/>
<div><a id="1626055037.162400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626055037.162400" ><div class="time">2021-07-12 01:57</div></a><div class="msg">Might also have been on the .Net channel</div></div></div><br/>
<div><a id="1626055099.162600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626055099.162600" ><div class="time">2021-07-12 01:58</div></a><div class="msg">For a single header to work with C++, the C functions have to be wrapped in `extern "C" {`</div></div></div><br/>
<div><a id="1626056020.162800"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626056020.162800" ><div class="time">2021-07-12 02:13</div></a><div class="msg">@matt.fellows no he doesn't know, I didn't submit any code yet</div></div></div><br/>
<div><a id="1626056081.163100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626056081.163100" ><div class="time">2021-07-12 02:14</div></a><div class="msg">I reckon it?s worth the two of you having a chat (even just async in #pact-php or something) to try and get aligned. The work you?re doing is great, and it would be a shame if there are barriers to getting it into the main repo - so any coaching/guidance you can get now will probably save you later!</div></div></div><br/>
<div><a id="1626056154.163300"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1626056154.163300" ><div class="time">2021-07-12 02:15</div></a><div class="msg">I don't know about only one header. Having the C headers only feels like it makes sense to me, but there may be a reason it's good to have two. If we only have one, it'd be better to only have C rather than C++</div></div></div><br/>
<div><a id="1626056377.163600"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1626056377.163600" ><div class="time">2021-07-12 02:19</div></a><div class="msg">Shouldn't it be `char*`?</div></div></div><br/>
<div><a id="1626056445.163800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1626056445.163800" ><div class="time">2021-07-12 02:20</div></a><div class="msg">`uint8_t*` is only probably a byte, whereas `char*` is guaranteed to be. Although, I don't think it actually matters, because we'll have 8 bit bytes on everything we're likely to be running on.</div></div></div><br/>
<div><a id="1626056573.164000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626056573.164000" ><div class="time">2021-07-12 02:22</div></a><div class="msg">It really makes no difference, you'll have to caste one way or another. This is more an indication that it takes bytes, not characters.</div></div></div><br/>
<div><a id="1626056597.164200"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1626056597.164200" ><div class="time">2021-07-12 02:23</div></a><div class="msg">Fair enough :+1:</div></div></div><br/>
<div><a id="1626138571.164400"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626138571.164400" ><div class="time">2021-07-13 01:09</div></a><div class="msg">what do you think about this?</div></div></div><br/>
<div><a id="1626138774.164600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626138774.164600" ><div class="time">2021-07-13 01:12</div></a><div class="msg">In retrospect, I have no idea why I went with underscores.</div></div></div><br/>
<div><a id="1626138875.164900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626138875.164900" ><div class="time">2021-07-13 01:14</div></a><div class="msg">I don?t think any language has currently implemented `_` so we could definitely change it</div></div></div><br/>
<div><a id="1626138880.165100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626138880.165100" ><div class="time">2021-07-13 01:14</div></a><div class="msg">@uglyog care to weigh in?</div></div></div><br/>
<div><a id="1626139031.165300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1626139031.165300" ><div class="time">2021-07-13 01:17</div></a><div class="msg">No, fine with me. Other headers use dashes</div></div></div><br/>
<div><a id="1626139068.165500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626139068.165500" ><div class="time">2021-07-13 01:17</div></a><div class="msg">exactly, NFI what I was thinking</div></div></div><br/>
<div><a id="1626140032.165700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1626140032.165700" ><div class="time">2021-07-13 01:33</div></a><div class="msg">I?ve just made the small change to support this, but a new release will be required before it?s in the wild. For now, you can pull down the changes locally Tien to validate</div></div></div><br/>
<div><a id="1626140352.165900"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626140352.165900" ><div class="time">2021-07-13 01:39</div></a><div class="msg">Will do. Thanks</div></div></div><br/>
<div><a id="1626140806.166200"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1626140806.166200" ><div class="time">2021-07-13 01:46</div></a><div class="msg">It works. I can't wait for the next release</div></div></div><br/>
<div><a id="1626338581.166600"><img src="https://avatars.slack-edge.com/2021-06-18/2183517667893_4aa6885a86eced2ccef0_72.jpg" /></a><div class="message"><div class="username">tomknee1</div><a style="text-decoration: none" href="#1626338581.166600" ><div class="time">2021-07-15 08:43</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1626838963.166700"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1626838963.166700" ><div class="time">2021-07-21 03:42</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.8.6">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.8.6</a>_ published by uglyog</div></div></div><br/>
<div><a id="1626846751.166900"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1626846751.166900" ><div class="time">2021-07-21 05:52</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_mock_server_cli-v0.7.5">https://github.com/pact-foundation/pact-reference/releases/tag/pact_mock_server_cli-v0.7.5</a>_ published by uglyog</div></div></div><br/>
<div><a id="1627002199.167200"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1627002199.167200" ><div class="time">2021-07-23 01:03</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_consumer-v0.7.7">https://github.com/pact-foundation/pact-reference/releases/tag/pact_consumer-v0.7.7</a>_ published by uglyog</div></div></div><br/>
<div><a id="1627012749.167300"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1627012749.167300" ><div class="time">2021-07-23 03:59</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.1.0">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.1.0</a>_ published by uglyog</div></div></div><br/>
<div><a id="1627013940.167400"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1627013940.167400" ><div class="time">2021-07-23 04:19</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.10.0">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.10.0</a>_ published by uglyog</div></div></div><br/>
<div><a id="1628052121.000600"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1628052121.000600" ><div class="time">2021-08-04 04:42</div></a><div class="msg">I wonder do you forget to release new version of `Pact FFI Library 0.0.1` ?</div></div></div><br/>
<div><a id="1628052616.000700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1628052616.000700" ><div class="time">2021-08-04 04:50</div></a><div class="msg">No, there is not any major changes since `0.0.0`. Are you looking for something in particular?</div></div></div><br/>
<div><a id="1628052866.000900"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1628052866.000900" ><div class="time">2021-08-04 04:54</div></a><div class="msg">I'm impatiently waiting for 2 changes to be released:
? Separate `pact.h` and `pact-c.h`
? Change header `PACT_MESSAGE_METADATA` to `PACT-MESSAGE-METADATA`</div></div></div><br/>
<div><a id="1628053400.001100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1628053400.001100" ><div class="time">2021-08-04 05:03</div></a><div class="msg">Ok, the second one is in the changes, but we haven't created the two headers in the build yet</div></div></div><br/>
<div><a id="1628053426.001300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1628053426.001300" ><div class="time">2021-08-04 05:03</div></a><div class="msg">So releasing it now only has the `PACT_MESSAGE_METADATA` change</div></div></div><br/>
<div><a id="1628053536.001500"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1628053536.001500" ><div class="time">2021-08-04 05:05</div></a><div class="msg">I am waiting for both, so no worry, I will wait more</div></div></div><br/>
<div><a id="1628482907.001800"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1628482907.001800" ><div class="time">2021-08-09 04:21</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1628483193.003300"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1628483193.003300" ><div class="time">2021-08-09 04:26</div></a><div class="msg">Had a convo with @matt.fellows in another channel
Looking pointers to get started with the end goal of implementing Pact consumer framework, shooting for spec v.3, in Elixir via FFI to Rust.</div></div></div><br/>
<div><a id="1628483895.005300"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1628483895.005300" ><div class="time">2021-08-09 04:38</div></a><div class="msg">great!
How do you import libraries into Elixir?
With Rust, you?d `cargo build` the `libpact_ffi` code. That would generate a framework for you (either, .so, .dll, .a, .dlyb?). How would you pull that kind of framework file into your Elixir code/project/framework?</div></div></div><br/>
<div><a id="1628483973.005900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1628483973.005900" ><div class="time">2021-08-09 04:39</div></a><div class="msg">There are some examples calling the FFI libs form other languages: <a href="https://github.com/pact-foundation/pact-reference#other-languages">https://github.com/pact-foundation/pact-reference#other-languages</a></div></div></div><br/>
<div><a id="1628484122.006100"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1628484122.006100" ><div class="time">2021-08-09 04:42</div></a><div class="msg">I?ve left my future-self some notes here too <a href="https://gist.github.com/surpher/bbf88e191e9d1f01ab2e2bbb85f9b528">https://gist.github.com/surpher/bbf88e191e9d1f01ab2e2bbb85f9b528</a></div></div></div><br/>
<div><a id="1628487630.007100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1628487630.007100" ><div class="time">2021-08-09 05:40</div></a><div class="msg">For some implementation guidance, we?ve been using GH projects to track the high level tasks. Examples:

Go:<a href="https://github.com/pact-foundation/pact-go/projects/2">https://github.com/pact-foundation/pact-go/projects/2</a>
JS:<a href="https://github.com/pact-foundation/pact-js/projects/3">https://github.com/pact-foundation/pact-js/projects/3</a>

Pact Go: internal FFI bindings here <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mockserver/mock_server.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mockserver/mock_server.go</a> and an example of it running <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mockserver/mock_server_test.go#L125-L162">https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mockserver/mock_server_test.go#L125-L162</a>. This is internal framework, but you can see how it works.

Pact .NET is also in a decent state for inspiration: <a href="https://github.com/pact-foundation/pact-net/tree/feature/4.0.0">https://github.com/pact-foundation/pact-net/tree/feature/4.0.0</a></div></div></div><br/>
<div><a id="1628490596.007700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1628490596.007700" ><div class="time">2021-08-09 06:29</div></a><div class="msg">Sorry, bad links (refactored to use the single / all-in-one FFI lib):

? <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mock_server.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mock_server.go</a>
? <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mock_server_test.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mock_server_test.go</a></div></div></div><br/>
<div><a id="1628784927.008000"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628784927.008000" ><div class="time">2021-08-12 16:15</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1628793415.008200"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628793415.008200" ><div class="time">2021-08-12 18:36</div></a><div class="msg">Hey @marko.justinek, I?ve been looking into Elixir bindings along with @pedroefajardo_pactio.

As far as I?m aware, there are two ways to do FFI in Elixir that apply here. There?s the lower-level approach from Erlang (called NIFs), and a Rust-specific abstraction called <a href="https://github.com/rusterlium/rustler">https://github.com/rusterlium/rustler</a>, which will execute `cargo build` with the right arguments and hide the complexity there.

I?ve started a project with Elixir bindings (see #pact-elixir for details) and I?m trying to get Rustler configured, but I?ve had poor luck so far. I couldn?t get Rustler?s compilation to work, so I set it to just use a pre-built library file that I copied out of the `target` directory. But now I?m seeing errors that suggest that the file isn?t compiled with the right flags/configuration:

```$ mix run_mock_server

# ...

12:28:46.949 [warn]  The on_load function for module Elixir.Pact returned:
{:error, {:bad_lib, 'Failed to find library init function: \'dlsym(0x7f85dd604160, _nif_init): symbol not found\''}}```
So at this point I?m thinking of going back through your gist (thanks, by the way!) and maybe dropping down to raw NIFs.</div></div></div><br/>
<div><a id="1628798410.008500"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628798410.008500" ><div class="time">2021-08-12 20:00</div></a><div class="msg">Aha, looks like I misunderstood something foundational about NIFs - they require instrumentation on the Rust/C/C++ side so they play nicely with the BEAM. Here?s an article that talks about <a href="https://andrealeopardi.com/posts/using-c-from-elixir-with-nifs/">https://andrealeopardi.com/posts/using-c-from-elixir-with-nifs/</a>, and it starts by importing a header on the C side:

```#include "erl_nif.h" ```
So I think I?ll need to create a Rust shim within the Elixir project and have that depend on the library internally.</div></div></div><br/>
<div><a id="1628879142.008900"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1628879142.008900" ><div class="time">2021-08-13 18:25</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1628879425.010800"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1628879425.010800" ><div class="time">2021-08-13 18:30</div></a><div class="msg">Hi all. I have just picked up and started using the Rust pact_verifier_cli and am running into an issue.

I'm attempting to use the pact_verifier_cli to verify all pacts with a certain tag
```pact_verifier_cli ...
--consumer-version-selectors="{\"tag\": \"prodlkjasdlfjlsajkdf\",\"latest\": false}"```
However it appears this flag is getting ignored and the same pact is verified no matter what data I pass.

I'm not sure if I'm misusing this flag or formatting the value incorrectly or if there is a product bug. Any pointers?

I also just posed this same question on stack overflow before seeing this slack channel...
<a href="https://stackoverflow.com/questions/68776438/pact-verifier-cli-not-honoring-consumer-version-selectors">https://stackoverflow.com/questions/68776438/pact-verifier-cli-not-honoring-consumer-version-selectors</a></div></div></div><br/>
<div><a id="1628881574.011200"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1628881574.011200" ><div class="time">2021-08-13 19:06</div></a><div class="msg">Or is this better to file on GitHub?</div></div></div><br/>
<div><a id="1628898753.011400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1628898753.011400" ><div class="time">2021-08-13 23:52</div></a><div class="msg">Can you please set loglevel to verbose?</div></div></div><br/>
<div><a id="1628898977.011600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1628898977.011600" ><div class="time">2021-08-13 23:56</div></a><div class="msg">These options should be available in the next release <a href="https://github.com/pact-foundation/pact-reference/blob/8d6ea58bf525e7ec23824d155551e24daccc5744/rust/pact_verifier/src/pact_broker.rs#L938">https://github.com/pact-foundation/pact-reference/blob/8d6ea58bf525e7ec23824d155551e24daccc5744/rust/pact_verifier/src/pact_broker.rs#L938</a></div></div></div><br/>
<div><a id="1629116179.011900"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1629116179.011900" ><div class="time">2021-08-16 12:16</div></a><div class="msg">I did see the history on the repo and saw more selector facets were coming in the next release - cool stuff. Or are you saying the `--consumer-version-selectors` is not available in the current release?

Even with this trace log level I do not get the same output -
I don?t see that same `Sending JSON...` DEBUG message (<a href="https://github.com/pact-foundation/pact-reference/blame/8d6ea58bf525e7ec23824d155551e24daccc5744/rust/pact_verifier/src/pact_broker.rs#L408">https://github.com/pact-foundation/pact-reference/blame/8d6ea58bf525e7ec23824d155551e24daccc5744/rust/pact_verifier/src/pact_broker.rs#L408</a>) - are we using the same version?

```$ pact_verifier_cli --version

pact_verifier_cli 0.8.6
pact verifier version     : v0.8.6
pact specification version: v3.0.0```
</div></div></div><br/>
<div><a id="1629116292.012100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629116292.012100" ><div class="time">2021-08-16 12:18</div></a><div class="msg">I tested with the exact same version (i.e. the current, as of today)</div></div></div><br/>
<div><a id="1629116306.012300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629116306.012300" ><div class="time">2021-08-16 12:18</div></a><div class="msg">what does a  `--loglevel trace` look like?</div></div></div><br/>
<div><a id="1629116510.012500"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1629116510.012500" ><div class="time">2021-08-16 12:21</div></a><div class="msg">```12:18:39 [DEBUG] (1) pact_verifier::pact_broker: Link URL is templated
12:18:39 [DEBUG] (1) pact_verifier::pact_broker: templated URL = <a href="https://pact-broker.eng.internal.com/pacts/provider/{provider}/latest">https://pact-broker.eng.internal.com/pacts/provider/{provider}/latest</a>
12:18:39 [DEBUG] (1) pact_verifier::pact_broker: Looking up value for key 'provider'
12:18:39 [DEBUG] (1) pact_verifier::pact_broker: final URL = <a href="https://pact-broker.eng.internal.com/pacts/provider/KVP/latest">https://pact-broker.eng.internal.com/pacts/provider/KVP/latest</a>
12:18:39 [INFO] Fetching path '/pacts/provider/KVP/latest' from pact broker
12:18:40 [DEBUG] (1) reqwest::async_impl::client: response '200 OK' for <a href="https://pact-broker.eng.internal.com/pacts/provider/KVP/latest">https://pact-broker.eng.internal.com/pacts/provider/KVP/latest</a>
12:18:40 [TRACE] (5) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:341] signal: Want
12:18:40 [TRACE] (5) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:355] signal found waiting giver, notifying
12:18:40 [TRACE] (1) pact_verifier::pact_broker: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/pact_verifier-0.10.9/src/pact_broker.rs:480] with_retries: attempt 2/3 is Ok(Response { url: Url { scheme: "https", cannot_be_a_base: false, username: "", password: None, host: Some(Domain("<a href="http://pact-broker.eng.internal.com">http://pact-broker.eng.internal.com</a>")), port: None, path: "/pacts/provider/KVP/latest", query: None, fragment: None }, status: 200, headers: {"content-type": "application/hal+json;charset=utf-8", "date": "Mon, 16 Aug 2021 12:18:40 GMT", "strict-transport-security": "max-age=15724800; includeSubDomains", "vary": "Accept", "x-content-type-options": "nosniff", "x-pact-broker-version": "2.76.0", "content-length": "924", "connection": "keep-alive"} })
12:18:40 [TRACE] (5) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:341] signal: Want
12:18:40 [TRACE] (5) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:200] poll_want: taker wants!
12:18:40 [TRACE] (5) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:341] signal: Want
12:18:40 [INFO] Fetching path '/pacts/provider/KVP/consumer/AE/version/635fa55deedbc8410aeff25fcea58d6c5d9ccc30' from pact broker
12:18:40 [DEBUG] (1) reqwest::async_impl::client: response '200 OK' for <a href="https://pact-broker.eng.internal.com/pacts/provider/KVP/consumer/AE/version/635fa55deedbc8410aeff25fcea58d6c5d9ccc30">https://pact-broker.eng.internal.com/pacts/provider/KVP/consumer/AE/version/635fa55deedbc8410aeff25fcea58d6c5d9ccc30</a>
12:18:40 [TRACE] (1) pact_verifier::pact_broker: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/pact_verifier-0.10.9/src/pact_broker.rs:480] with_retries: attempt 2/3 is Ok(Response { url: Url { scheme: "https", cannot_be_a_base: false, username: "", password: None, host: Some(Domain("<a href="http://pact-broker.eng.internal.com">http://pact-broker.eng.internal.com</a>")), port: None, path: "/pacts/provider/KVP/consumer/AE/version/635fa55deedbc8410aeff25fcea58d6c5d9ccc30", query: None, fragment: None }, status: 200, headers: {"content-type": "application/hal+json;charset=utf-8", "date": "Mon, 16 Aug 2021 12:18:40 GMT", "strict-transport-security": "max-age=15724800; includeSubDomains", "vary": "Accept", "x-content-type-options": "nosniff", "x-pact-broker-version": "2.76.0", "content-length": "41720", "connection": "keep-alive"} })
12:18:40 [TRACE] (11) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:341] signal: Want
12:18:40 [TRACE] (11) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:355] signal found waiting giver, notifying
12:18:40 [TRACE] (11) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:341] signal: Want
12:18:40 [TRACE] (11) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:200] poll_want: taker wants!
12:18:40 [TRACE] (11) want: [/Users/ben.kaiser/.cargo/registry/src/github.com-1ecc6299db9ec823/want-0.3.0/src/lib.rs:341] signal: Want
12:18:40 [DEBUG] (1) pact_verifier: Got pact with links [Link { name: "curies", href: None, templated: false, title```</div></div></div><br/>
<div><a id="1629116568.012700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629116568.012700" ><div class="time">2021-08-16 12:22</div></a><div class="msg">is there more?</div></div></div><br/>
<div><a id="1629116654.012900"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1629116654.012900" ><div class="time">2021-08-16 12:24</div></a><div class="msg">i mean there are about 11k lines</div></div></div><br/>
<div><a id="1629116688.013100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629116688.013100" ><div class="time">2021-08-16 12:24</div></a><div class="msg">any chance of a gist or a private DM?</div></div></div><br/>
<div><a id="1629116703.013400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629116703.013400" ><div class="time">2021-08-16 12:25</div></a><div class="msg">it says it found a Pact, so just wondering what the problem is</div></div></div><br/>
<div><a id="1629120686.013600"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1629120686.013600" ><div class="time">2021-08-16 13:31</div></a><div class="msg">The issue is that the requests to the broker don?t appear to be passing the ConsumerVersionSelectors at all. I do not see the DEBUG statement `Sending JSON` as in your response to the StackOverflow.

In hopes that the cargo library was incorrect I have also installed from Github but the output appears to be the same.</div></div></div><br/>
<div><a id="1629121987.013800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629121987.013800" ><div class="time">2021-08-16 13:53</div></a><div class="msg">final update - BUG!</div></div></div><br/>
<div><a id="1629121992.014000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629121992.014000" ><div class="time">2021-08-16 13:53</div></a><div class="msg">issue coming soon</div></div></div><br/>
<div><a id="1629122427.014200"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1629122427.014200" ><div class="time">2021-08-16 14:00</div></a><div class="msg">Thanks for the troubleshooting help Matt!
<a href="https://github.com/pact-foundation/pact-reference/issues/133">https://github.com/pact-foundation/pact-reference/issues/133</a></div></div></div><br/>
<div><a id="1629159403.014500"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1629159403.014500" ><div class="time">2021-08-17 00:16</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.1.1">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_models-v0.1.1</a>_ published by uglyog</div></div></div><br/>
<div><a id="1629160036.014600"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1629160036.014600" ><div class="time">2021-08-17 00:27</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.10.1">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_matching-v0.10.1</a>_ published by uglyog</div></div></div><br/>
<div><a id="1629160774.014700"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1629160774.014700" ><div class="time">2021-08-17 00:39</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server-v0.7.20">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_mock_server-v0.7.20</a>_ published by uglyog</div></div></div><br/>
<div><a id="1629161425.014800"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1629161425.014800" ><div class="time">2021-08-17 00:50</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.10">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier-v0.10.10</a>_ published by uglyog</div></div></div><br/>
<div><a id="1629162203.014900"><img src="https://avatars.slack-edge.com/2021-04-18/1968392074598_680a0a367e65b19bc66a_72.png" /></a><div class="message"><div class="username">github2</div><a style="text-decoration: none" href="#1629162203.014900" ><div class="time">2021-08-17 01:03</div></a><div class="msg">[pact-foundation/pact-reference] New release _<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.0.1">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.0.1</a>_ published by uglyog</div></div></div><br/>
<div><a id="1629250193.015100"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1629250193.015100" ><div class="time">2021-08-18 01:29</div></a><div class="msg">@tien.xuan.vo: 0.0.1 is now released :tada:</div></div></div><br/>
<div><a id="1629250692.015300"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1629250692.015300" ><div class="time">2021-08-18 01:38</div></a><div class="msg">Some lessons from pact-js - we found it easiest to use the closest-to-c bindings we could (using node-ffi), rather than using the rust-specific bindings (which we got from neon). This was because the rust-specific bindings were less feature complete when it came to differences between the way each side handles asynchronous behaviour. Also, pragmatically the C bindings are more widely used (because they're not just for rust). Your mileage may vary</div></div></div><br/>
<div><a id="1629251942.015500"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629251942.015500" ><div class="time">2021-08-18 01:59</div></a><div class="msg">Yay! :v:</div></div></div><br/>
<div><a id="1629351026.016100"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629351026.016100" ><div class="time">2021-08-19 05:30</div></a><div class="msg">Maybe you forget to upload `pact-cpp.h` to the release?</div></div></div><br/>
<div><a id="1629351124.017200"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629351124.017200" ><div class="time">2021-08-19 05:32</div></a><div class="msg">Running these commands:
```cd pact_ffi
rustup run nightly cbindgen \
                                  --config cbindgen.toml \
                                  --crate pact_ffi \
                                  --output include/pact.h```
 I got this error:</div></div></div><br/>
<div><a id="1629351264.017700"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629351264.017700" ><div class="time">2021-08-19 05:34</div></a><div class="msg">```ERROR: Parsing crate `pact_ffi`: couldn't run `cargo rustc --pretty=expanded`: Compile("       reference/rust/target/debug/build/ring-38bf9793e960dc3f/out` (exit status: 1)\n")
ERROR: Couldn't generate bindings for /home/tien/Projects/pact-reference/rust/pact_ffi.```</div></div></div><br/>
<div><a id="1629351285.017800"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629351285.017800" ><div class="time">2021-08-19 05:34</div></a><div class="msg">The message is too long I can't post here, it's just part of it</div></div></div><br/>
<div><a id="1629351972.018200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629351972.018200" ><div class="time">2021-08-19 05:46</div></a><div class="msg">I thought you couldn't use that one? `pact.h` does not have any C++ preprocessor definitions</div></div></div><br/>
<div><a id="1629352574.018400"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629352574.018400" ><div class="time">2021-08-19 05:56</div></a><div class="msg">yes, I don't use that one. Just wanna make sure it's not a mistake</div></div></div><br/>
<div><a id="1629359856.018600"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629359856.018600" ><div class="time">2021-08-19 07:57</div></a><div class="msg">I think this is the error:
`error: Unrecognized option: 'pretty'\n\nerror: could not compile `pact_ffi`\n\nCaused by:\n  process didn't exit successfully: `rustc --crate-name pact_ffi --edition=2018 pact_ffi/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi --crate-type cdylib --crate-type staticlib --crate-type rlib --emit=dep-info,metadata -C embed-bitcode=no -C debuginfo=2 -Z unstable-options --pretty=expanded -C metadata=e2d01246786ccf59 -C extra-filename=-e2d01246786ccf59 --out-dir /home/tien/Projects/pact-reference/rust/target/debug/deps`</div></div></div><br/>
<div><a id="1629359875.018800"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629359875.018800" ><div class="time">2021-08-19 07:57</div></a><div class="msg">Do you know why and how can I fix it?</div></div></div><br/>
<div><a id="1629360432.019000"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629360432.019000" ><div class="time">2021-08-19 08:07</div></a><div class="msg">I found this <a href="https://www.reddit.com/r/rust/comments/2ts5z7/what_happened_to_pretty/">https://www.reddit.com/r/rust/comments/2ts5z7/what_happened_to_pretty/</a></div></div></div><br/>
<div><a id="1629381515.019400"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629381515.019400" ><div class="time">2021-08-19 13:58</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1629475940.019900"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1629475940.019900" ><div class="time">2021-08-20 16:12</div></a><div class="msg">hello everyone,
At work we are working to implement an Elixir (wrapper?) for the Pact provider verification making calls into the Rust (core) implementation

Looking for which specific functionsto bind to in order to implement our wrapper. Pact-js apparently has a beta branch that already does this, does anyone know which branch that is?  I am looking at <a href="https://github.com/pact-foundation/pact-js/tree/feat/ffi-core">https://github.com/pact-foundation/pact-js/tree/feat/ffi-core</a> but I am not 100% sure that?s the one</div></div></div><br/>
<div><a id="1629483614.020200"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629483614.020200" ><div class="time">2021-08-20 18:20</div></a><div class="msg">:hand: Interested in this as well!</div></div></div><br/>
<div><a id="1629486056.020400"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1629486056.020400" ><div class="time">2021-08-20 19:00</div></a><div class="msg">i meant the Pact Consumer flow but i?ve been told it is easier to start with the verification part.

So, looking for info on both</div></div></div><br/>
<div><a id="1629500405.024800"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1629500405.024800" ><div class="time">2021-08-20 23:00</div></a><div class="msg">PactSwift is using pactffi for consumer side in PactSwiftMockServer package. 
<a href="https://github.com/surpher/PacSwiftMockServer">https://github.com/surpher/PacSwiftMockServer</a> Sources/MockServer.swift

setup, verify, finalize are the required ones for mvp</div></div></div><br/>
<div><a id="1629504035.025100"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1629504035.025100" ><div class="time">2021-08-21 00:00</div></a><div class="msg">thank you @marko.justinek</div></div></div><br/>
<div><a id="1629505202.025300"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1629505202.025300" ><div class="time">2021-08-21 00:20</div></a><div class="msg">eh, only now found the link is bogus? (was typing on my mobile), here?s the permalink to the file:
<a href="https://github.com/surpher/PactSwiftMockServer/blob/0a8c00bbe5fd8019ffe40cfd0618e02e1cd72a4d/Sources/MockServer.swift">https://github.com/surpher/PactSwiftMockServer/blob/0a8c00bbe5fd8019ffe40cfd0618e02e1cd72a4d/Sources/MockServer.swift</a></div></div></div><br/>
<div><a id="1629505524.025700"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1629505524.025700" ><div class="time">2021-08-21 00:25</div></a><div class="msg">```pactffi_create_mock_server(...)
pactffi_mock_server_matched(...)
pactffi_mock_server_mismatches(...)
pactffi_write_pact_file(...)
pactffi_cleanup_mock_server(...)```
This is the header file for the pactffi binary and what PactSwiftMockServer is using:
<a href="https://github.com/surpher/PactSwiftMockServer/blob/0a8c00bbe5fd8019ffe40cfd0618e02e1cd72a4d/Sources/pact_ffi.h">https://github.com/surpher/PactSwiftMockServer/blob/0a8c00bbe5fd8019ffe40cfd0618e02e1cd72a4d/Sources/pact_ffi.h</a></div></div></div><br/>
<div><a id="1629505798.026100"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1629505798.026100" ><div class="time">2021-08-21 00:29</div></a><div class="msg">What you use (from pactffi interface) will depend on how elixir runs your tests.
I started writing PactSwift just before gradual pact build up was exposed and possible using pact_mock_server_ffi (now pactffi). PactSwift parses and generates the Pact structure as a whole and it is then passed to pactffi.
XCTest also destroys my MockService instance for each and every unit test it runs so I needed a way to hold on to all the interactions (one for each unit test), and only then tell pactffi to write the contract into a file with all the interactions that were tested.
You may be able to start the mock server and pass it interactions?</div></div></div><br/>
<div><a id="1629509583.026400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629509583.026400" ><div class="time">2021-08-21 01:33</div></a><div class="msg">I wouldn't use JS as basis yet, take a look at <a href="https://github.com/pact-foundation/pact-go/tree/2.x.x/internal/native">https://github.com/pact-foundation/pact-go/tree/2.x.x/internal/native</a></div></div></div><br/>
<div><a id="1629509673.026600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629509673.026600" ><div class="time">2021-08-21 01:34</div></a><div class="msg">Also Pact .NET <a href="https://github.com/pact-foundation/pact-net/tree/feature/4.0.0">https://github.com/pact-foundation/pact-net/tree/feature/4.0.0</a></div></div></div><br/>
<div><a id="1629509703.026900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629509703.026900" ><div class="time">2021-08-21 01:35</div></a><div class="msg">Definitely provider side is easier first</div></div></div><br/>
<div><a id="1629509723.027100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629509723.027100" ><div class="time">2021-08-21 01:35</div></a><div class="msg">Takes newline separated arguments that the CLI takes</div></div></div><br/>
<div><a id="1629509743.027300"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1629509743.027300" ><div class="time">2021-08-21 01:35</div></a><div class="msg">thanks @matt.fellows</div></div></div><br/>
<div><a id="1629524850.027700"><img src="https://avatars.slack-edge.com/2021-01-25/1662992859462_e57bac760199d0b30fb3_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1629524850.027700" ><div class="time">2021-08-21 05:47</div></a><div class="msg">The most basic MVP for provider verification using pactffi has just succeeded on PactSwift where pacts from local directory are used to verify a provider:
? PactSwiftMockServer package that does the actual pactffi call -&gt; <a href="https://github.com/surpher/PactSwiftMockServer/blob/4c7982bc2d65f219573d4a89e66bb98e13ccbfdc/Sources/Verifier.swift">https://github.com/surpher/PactSwiftMockServer/blob/4c7982bc2d65f219573d4a89e66bb98e13ccbfdc/Sources/Verifier.swift</a>
? To be on safe side `VerificationOptions` type is used so end users are limited to how many crazy things they can do: <a href="https://github.com/surpher/PactSwiftMockServer/blob/4c7982bc2d65f219573d4a89e66bb98e13ccbfdc/Sources/Model/VerificationOptions.swift">https://github.com/surpher/PactSwiftMockServer/blob/4c7982bc2d65f219573d4a89e66bb98e13ccbfdc/Sources/Model/VerificationOptions.swift</a>
? PactSwift interface to end users -&gt; <a href="https://github.com/surpher/PactSwift/blob/e76187e994e4725f2cf58fbca9b0a8d81317df0e/Sources/ProviderVerifier.swift">https://github.com/surpher/PactSwift/blob/e76187e994e4725f2cf58fbca9b0a8d81317df0e/Sources/ProviderVerifier.swift</a>
The ?ho?up a minute? moment I had was where each of the arguments that are passed to `pactffi_verify(args: string)` needed to be on its own line! Not the key-value pair, but each word. I had key-value pairs but pactffi_verify was returning an error saying I passed invalid arguments.
So what <a href="https://github.com/surpher/PactSwiftMockServer/blob/4c7982bc2d65f219573d4a89e66bb98e13ccbfdc/Sources/Model/VerificationOptions.swift#L88">https://github.com/surpher/PactSwiftMockServer/blob/4c7982bc2d65f219573d4a89e66bb98e13ccbfdc/Sources/Model/VerificationOptions.swift#L88</a> is replacing all spaces with `\n`. (will need revisiting and optimising once `Verifier` gets more options etc).

Hope that?ll help with understanding and planning your Elixir architecture better. :thumbsup:

Here?s a verified Swift (on macOS) provider running on Vapor 4:</div></div></div><br/>
<div><a id="1629525773.028200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629525773.028200" ><div class="time">2021-08-21 06:02</div></a><div class="msg">Might makes sense for this whole community of FFI integrators getting together to discuss experience, share learnings and see how we can improve (e.g. docs)</div></div></div><br/>
<div><a id="1629525782.028400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629525782.028400" ><div class="time">2021-08-21 06:03</div></a><div class="msg">What do we think?</div></div></div><br/>
<div><a id="1629537896.028600"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629537896.028600" ><div class="time">2021-08-21 09:24</div></a><div class="msg">That sounds like a good idea to me :slightly_smiling_face:  (I'm having a very-first-steps look at the python wrapper)

imo, consistency between the different implementations would be beneficial, but I'm not sure how practical that would be for different languages (error handling for example)?</div></div></div><br/>
<div><a id="1629538249.028800"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629538249.028800" ><div class="time">2021-08-21 09:30</div></a><div class="msg">There are a few approach/best practice type questions I'm wondering about, such as around how tightly coupled they are and possible future proofing. For example with the error handling (I'm not sure how likely it would be, but just as an example), each implementation is having some response and error message as a result of a non-zero return code. That is susceptible to change which could be easily missed in a new version. Would that sort of thing make sense to have say another FFI call to a function providing a map of error codes and meanings for the crate's method, rather than each implementation needing to be maintained?</div></div></div><br/>
<div><a id="1629538433.029000"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629538433.029000" ><div class="time">2021-08-21 09:33</div></a><div class="msg">I was thinking about that from the args example as well, if it could make sense to have an FFI call that lists the valid options, but I can't think how you could do that without losing the possibility of any nice typing :thinking_face:</div></div></div><br/>
<div><a id="1629540356.029700"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629540356.029700" ><div class="time">2021-08-21 10:05</div></a><div class="msg">&gt; ./pact_verifier_cli --help
&gt; 
&gt; --build-url &lt;build-url&gt;
&gt;             URL of the build to associate with the published verification results.
Can you explain a bit about this option?</div></div></div><br/>
<div><a id="1629542658.035400"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629542658.035400" ><div class="time">2021-08-21 10:44</div></a><div class="msg">Hi, I'm trying to take a look at the log output produced by the pact_ffi crate, specifically the verifier currently (this is for the python implementation).
If I call pactffi_log_to_buffer() once it works fine, but if it is called again (this is after loading the lib again in another test) it comes back with a -1 - however it still seems to carry on logging to the buffer.
I'm also getting some weirdness whereby the output comes back fine if running in debug but not running normally :thinking_face:
? should you be able to request logging to a buffer again? I can't see how to "stop" logging (calling to log to a file works ok)
? any way to flush/sync/etc to make sure the response is ready? (although I'm not sure if it's timing, adding a crude sleep doesn't help)
As per other threads, I haven't seen log handling in the other ffi implementations so not sure preferred approach here (possible I've missed it somewhere), doing the same thing is probably preferable :slightly_smiling_face:</div></div></div><br/>
<div><a id="1629542757.035800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629542757.035800" ><div class="time">2021-08-21 10:45</div></a><div class="msg">There's definitely a few quirks to work out</div></div></div><br/>
<div><a id="1629542795.036800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629542795.036800" ><div class="time">2021-08-21 10:46</div></a><div class="msg">But now you can't call it twice. The method is clearly documented that way, but you're probably not reading that so wouldn't know!</div></div></div><br/>
<div><a id="1629542813.037400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629542813.037400" ><div class="time">2021-08-21 10:46</div></a><div class="msg">I'd recommend having the rust code open so you can read the method signatures</div></div></div><br/>
<div><a id="1629542825.037900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629542825.037900" ><div class="time">2021-08-21 10:47</div></a><div class="msg">Even if you don't speak rust, they should be legible</div></div></div><br/>
<div><a id="1629542857.039000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629542857.039000" ><div class="time">2021-08-21 10:47</div></a><div class="msg">Also I don't think the logging methods do much on the provider side, albeit I haven't tested the new methods since they were added (they do work on the consumer side)</div></div></div><br/>
<div><a id="1629542998.039300"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629542998.039300" ><div class="time">2021-08-21 10:49</div></a><div class="msg">I saw you can't call apply twice, which the log to buffer wraps up</div></div></div><br/>
<div><a id="1629543010.039600"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629543010.039600" ><div class="time">2021-08-21 10:50</div></a><div class="msg">wasn't sure if there's a way around it :thinking_face:</div></div></div><br/>
<div><a id="1629543461.043200"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629543461.043200" ><div class="time">2021-08-21 10:57</div></a><div class="msg">My description, wasn't very clear - the idea was that it should be separate anyway rather than intending to call it twice, a test will: 1. load lib, 2. make ffi call. The problem happens when a second test is trying to do that, I was hoping it would be closed enough to not have overlap but it seems it's still there to some extent I don't know enough about CFFI to undersand :thinking_face:
Anyway, for now I'll look at the file option I think - the non FFI tests check some stdout, I'm looking at mirroring them at least to some extent</div></div></div><br/>
<div><a id="1629550773.047200"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629550773.047200" ><div class="time">2021-08-21 12:59</div></a><div class="msg">What about for log levels? As far as I can see, there's no way to change the level once the logger is set initially (I'm probably focusing too much on the lower value things here, but I like to get a bit of an understanding of my surroundings before going too far).
Example use case, I'd like to make sure I can control the log level when calling the lib since TRACE logs can get a bit long. I can set it, but only once (this again may be a python CFFI "issue" of me not being able to re-load the library and start again in a second test - so I've currently ended up with a bit of a singleton class which I don't really like :disappointed:)</div></div></div><br/>
<div><a id="1629555111.047300"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629555111.047300" ><div class="time">2021-08-21 14:11</div></a><div class="msg">Re "Looking for which specific functionsto bind to in order to implement our wrapper", for me as well it could be helpful to have some "compliance" style compatibility matrix, although idk if that would be overkill?</div></div></div><br/>
<div><a id="1629590183.047600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629590183.047600" ><div class="time">2021-08-21 23:56</div></a><div class="msg">Unfortunately, you can't change the log level, or I haven't found a way yet. I would recommend using debug level, not trace.</div></div></div><br/>
<div><a id="1629590237.047800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629590237.047800" ><div class="time">2021-08-21 23:57</div></a><div class="msg">This is to capture the URL of the CI build that is running the verification</div></div></div><br/>
<div><a id="1629608628.049200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629608628.049200" ><div class="time">2021-08-22 05:03</div></a><div class="msg">@matt.fellows @mike.geeves064 @marko.justinek I've created an initial verifier FFI prototype. You can see it being using from C here: <a href="https://github.com/pact-foundation/pact-reference/blob/master/c/provider-verifcation/src/main.c#L9">https://github.com/pact-foundation/pact-reference/blob/master/c/provider-verifcation/src/main.c#L9</a></div></div></div><br/>
<div><a id="1629608711.049400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629608711.049400" ><div class="time">2021-08-22 05:05</div></a><div class="msg">Using a handle approach means we can accumulate log entries against the handle and then provide a function to retrieve them.</div></div></div><br/>
<div><a id="1629611652.050100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629611652.050100" ><div class="time">2021-08-22 05:54</div></a><div class="msg">@mike.geeves064 @matt.fellows all the docs are available at <a href="https://docs.rs/pact_ffi/0.0.2/pact_ffi/">https://docs.rs/pact_ffi/0.0.2/pact_ffi/</a></div></div></div><br/>
<div><a id="1629620779.050500"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629620779.050500" ><div class="time">2021-08-22 08:26</div></a><div class="msg">Thanks, I'd found along with trying to understand the src in places. Ahhhh pointers! :open_mouth:</div></div></div><br/>
<div><a id="1629620835.050800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629620835.050800" ><div class="time">2021-08-22 08:27</div></a><div class="msg">Nice!</div></div></div><br/>
<div><a id="1629620897.051000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629620897.051000" ><div class="time">2021-08-22 08:28</div></a><div class="msg">Cc also @pact544 @yann.courtel @matt682 @tien.xuan.vo</div></div></div><br/>
<div><a id="1629621227.051200"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629621227.051200" ><div class="time">2021-08-22 08:33</div></a><div class="msg">:+1: trace wasn't intentional, that came out when not specifying anything else. I'll go on the basis of not changing, don't "need" to just wondering for completeness</div></div></div><br/>
<div><a id="1629623224.051400"><img src="https://avatars.slack-edge.com/2022-02-04/3042827452823_04aefaa8271d55360355_72.jpg" /></a><div class="message"><div class="username">pact544</div><a style="text-decoration: none" href="#1629623224.051400" ><div class="time">2021-08-22 09:07</div></a><div class="msg">Very nice :+1:</div></div></div><br/>
<div><a id="1629627255.055000"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629627255.055000" ><div class="time">2021-08-22 10:14</div></a><div class="msg">It will replace this code, right?
&gt; pactffi_verify(&lt;parameters for Pact Verifier CLI&gt;);</div></div></div><br/>
<div><a id="1629627584.057200"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629627584.057200" ><div class="time">2021-08-22 10:19</div></a><div class="msg">Apologies for essentially a rust noob question, I am just trying to play with an idea to then be able to pull something back via ffi into python, but I'm finding it far harder than expected to get a basic function working that returns a string that can be manipulated. The goal was a quick and dirty just return some JSON back as a str that could be used on the other side (I wanted to try and inspect the contents of the clap app.p.opts, for example).
I've tried the following permutations of can I get anything to send back that isn't an str, but seem to have fundamentally not understood something (I remember when Java was new, I was very happy at not having to worry about pointers :smile: ). If there's a one line "you just do this" or "go read this", a pointer (ha!) would be appreciated. If it's a much more complicated "first you need to learn rust properly" I'll need to skip for now.
&gt; #[no_mangle]
&gt; pub extern "C" fn pactffi_verifier_cli_args() -&gt; *const c_char {
&gt;     let normal_str = "hello world\0";
&gt;     let string_with_a_big_s = "hello world\0".to_owned();
&gt;     let mut mut_string_with_a_big_s = "hello world\0".to_owned();
&gt;     let c_string = CString::new("hello world").unwrap();
&gt;     let c_string_to_bytes = <a href="http://c_string.as">http://c_string.as</a>_bytes();
&gt;     let c_string_as_c_str = <a href="http://c_string.as">http://c_string.as</a>_c_str();
&gt;     let c_string_as_c_str_to_str = <a href="http://c_string_as_c_str.to">http://c_string_as_c_str.to</a>_str().unwrap();
&gt;     let c_str = CStr::from_bytes_with_nul(b"hello world c_str\0");
&gt; 
&gt;     <a href="http://normal_str.as">http://normal_str.as</a>_ptr() as *const c_char // works
&gt;     // <a href="http://string_with_a_big_s.as">http://string_with_a_big_s.as</a>_str().as_ptr() as *const c_char // doesn't work
&gt;     // <a href="http://mut_string_with_a_big_s.as">http://mut_string_with_a_big_s.as</a>_str().as_ptr() as *const c_char // doesn't work
&gt;     // <a href="http://c_string.as">http://c_string.as</a>_ptr() as *const c_char // doesn't work
&gt;     // <a href="http://c_string_to_bytes.as">http://c_string_to_bytes.as</a>_ptr() as *const c_char // doesn't work
&gt;     // <a href="http://c_string_as_c_str.as">http://c_string_as_c_str.as</a>_ptr() as *const c_char // doesn't work
&gt;     // <a href="http://c_string_as_c_str_to_str.as">http://c_string_as_c_str_to_str.as</a>_ptr() as *const c_char // doesn't work
&gt;     // c_str.unwrap().as_ptr() as *const c_char
&gt; }</div></div></div><br/>
<div><a id="1629627772.057300"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629627772.057300" ><div class="time">2021-08-22 10:22</div></a><div class="msg">So far rust is making me sad :smiling_face_with_tear: It's been a long time since I looked properly at something more low level, I have been living here for a while: <a href="https://xkcd.com/353/">https://xkcd.com/353/</a> :smile:</div></div></div><br/>
<div><a id="1629636499.057700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629636499.057700" ><div class="time">2021-08-22 12:48</div></a><div class="msg">The problem is that most of the data is allocated on the stack, and so will discarded once the function returns.</div></div></div><br/>
<div><a id="1629636930.058300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629636930.058300" ><div class="time">2021-08-22 12:55</div></a><div class="msg">```// This is a static string, probably pointing to fixed memory.
let normal_str = "hello world\0";

// This creates a String Struct, which owns it's data. Will copy the string and destroy the data when the function returns
let string_with_a_big_s = "hello world\0".to_owned();

// This is the same as above, but the variable is mutable (you can change it's contents).
let mut mut_string_with_a_big_s = "hello world\0".to_owned();

// This creates a CString struct, which owns it's contents, but will also be disposed when the function returns.
// It is the same as a String struct, but the data is NULL terminated
let c_string = CString::new("hello world").unwrap();

// This gets a slice (static array) of the string bytes. Also allocated in the stack.
let c_string_to_bytes = c_string.as_bytes();

// This gets a CStr slice (same as a str slice, but is NULL terminated). Still on the stack.
let c_string_as_c_str = c_string.as_c_str();

// This converts the cstr slice into a str slice (array of characters, not null terminated). Still on the stack.
let c_string_as_c_str_to_str = c_string_as_c_str.to_str().unwrap();

// This creates a CStr from a null terminated array of bytes. Also on the stack. 
let c_str = CStr::from_bytes_with_nul(b"hello world c_str\0");```</div></div></div><br/>
<div><a id="1629637112.058500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629637112.058500" ><div class="time">2021-08-22 12:58</div></a><div class="msg">The magic method is `CString::into_raw()`</div></div></div><br/>
<div><a id="1629637143.058700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629637143.058700" ><div class="time">2021-08-22 12:59</div></a><div class="msg">&gt;  Consumes the CString and transfers ownership of the string to a C caller.</div></div></div><br/>
<div><a id="1629637200.058900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629637200.058900" ><div class="time">2021-08-22 13:00</div></a><div class="msg">It does this by allocating the CString struct on the Rust heap, and then returning the pointer. It won't be disposed of when the function returns.</div></div></div><br/>
<div><a id="1629637260.059100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629637260.059100" ><div class="time">2021-08-22 13:01</div></a><div class="msg">Internally, it is using a Box, which is a smart pointer to data on the heap</div></div></div><br/>
<div><a id="1629637479.059300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629637479.059300" ><div class="time">2021-08-22 13:04</div></a><div class="msg">Thanks Ron. 

Mike, I've definitely committed a few pointer sins to the project already so your bemusement is not uncommon</div></div></div><br/>
<div><a id="1629637514.059500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629637514.059500" ><div class="time">2021-08-22 13:05</div></a><div class="msg">Boundaries are hard!</div></div></div><br/>
<div><a id="1629638736.059700"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629638736.059700" ><div class="time">2021-08-22 13:25</div></a><div class="msg">Thanks thanks! I will try to digest and take another look later this eve :slightly_smiling_face:
Boundaries are hard! :grinning: Funny when lessons come back, like with trig "I'll never need that when I'm older", 10 years later calculating the angle from a satellite to figure out how much "shadow" there is from a tree over a field. "I'll never need pointers again! Java is the future!" Said I 21 years ago :joy:</div></div></div><br/>
<div><a id="1629654553.059900"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629654553.059900" ><div class="time">2021-08-22 17:49</div></a><div class="msg">:party_parrot:
Apparently I had not tried all the possible things :smile:
&gt; let mut str_1 = "hello".to_owned();
&gt; let str_2 = "world";
&gt; 
&gt; str_1.push_str(" ");
&gt; str_1.push_str(str_2);
&gt; 
&gt; let c_str = CString::new(str_1).unwrap();
&gt; c_str.into_raw() as *const c_char
Success! Thanks for that, I can concatenate and return strings! into_raw() is indeed magical :smile:
Definitely a bit of reading on heaps and stacks needed going into Rust, vs stumbling through as works well enough in py :slightly_smiling_face:</div></div></div><br/>
<div><a id="1629658158.060300"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629658158.060300" ><div class="time">2021-08-22 18:49</div></a><div class="msg">This makes me laugh. It is amusing that it was so much easier creating and manipulating structs and then creating some JSON from it...than just returning a string. Tableflip :smile: I am back to having fun now</div></div></div><br/>
<div><a id="1629664918.062400"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629664918.062400" ><div class="time">2021-08-22 20:41</div></a><div class="msg">I have a question/proposal on approach for some of the FFI work, very much just a poc and not in any way final code, just playing with an idea :)

I've made a quick and dirty additional FFI function "pactffi_verifier_cli_args" in the Rust verifier: <a href="https://github.com/mikegeeves/pact-reference/pull/1/files#diff-acb08ed5a8b61dfc509747740c1c045f39c31f59105bb0290a36c7c911252254">https://github.com/mikegeeves/pact-reference/pull/1/files#diff-acb08ed5a8b61dfc509747740c1c045f39c31f59105bb0290a36c7c911252254</a>
This looks at the clap arguments defined in the Rust code and for now extracts: the argument long name, if there is a short single character option and the help. The function then returns this as a JSON string.
It's more complicated than this ofc - multiple, defaults, types and so on - but just to demonstrate..

On the python side, for the CLI wrapper, I'm then just calling that function and using it to programatically setting up the click options for calling via CLI:
<a href="https://github.com/mikegeeves/pact-python/pull/1/files#diff-4d935290cd4b707d3487eda5c7a90daf7c5f79c22d85bba238f218068d501e05">https://github.com/mikegeeves/pact-python/pull/1/files#diff-4d935290cd4b707d3487eda5c7a90daf7c5f79c22d85bba238f218068d501e05</a>

This is then nicely giving the help options without having to manually add them all in (snipped):

&gt; $ pact-verifier --help
&gt; Usage: pact-verifier [OPTIONS]
&gt; 
&gt; Options:
&gt;   --request-timeout TEXT          Sets the HTTP request timeout in
&gt;                                   milliseconds for requests to the target API
&gt;                                   and for state change requests.
&gt;   --include-wip-pacts-since TEXT  Allow pacts that don't match given consumer
&gt;                                   selectors (or tags) to  be verified, without
&gt;                                   causing the overall task to fail. For more
&gt;                                   information, see <a href="https://pact.io/wip">https://pact.io/wip</a>
&gt; &lt;snip&gt;
&gt;   -u, --url TEXT                  URL of pact file to verify (can be repeated)
&gt;   -d, --dir TEXT                  Directory of pact files to verify (can be
&gt;                                   repeated)
&gt;   -f, --file TEXT                 Pact file to verify (can be repeated)
&gt;   -l, --loglevel TEXT             Log level (defaults to warn)
&gt;   --help                          Show this message and exit.
The idea here being that at least some benefit from having the single library being shared is lost if there's then a dependency for each implementation to maintain the sets of arguments and descriptions and so on. It's an extra point of failure for e.g. typo fix, extra arg, arg removed, when for the most part (some more complicated arguments sure, but for the simple ones) the wrapper only really needs to dumbly pass them through. On the Rust side if there's anything bad it will handle it there. Half way could be each version just grabbing the JSON and at least then being able to identify if there is a change which may need to be actioned, that would be simple enough to test for.

Thoughts? Any value in trying to progress this? There's way more to look at but I thought a quick poc to explain would be helpful for at least a discussion. No offence if the consensus is an abomination (as my first ever Rust code is for sure :smile: thank you again@uglyog !)</div></div></div><br/>
<div><a id="1629677082.062800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629677082.062800" ><div class="time">2021-08-23 00:04</div></a><div class="msg">see also me attempting to fix a strange memory bug that only appeared on CI: <a href="https://github.com/pact-foundation/pact-reference/commits/master?after=50fcd409d98c92d6d3ff2034e83ae547122d07f5+244&amp;branch=master">https://github.com/pact-foundation/pact-reference/commits/master?after=50fcd409d98c92d6d3ff2034e83ae547122d07f5+244&amp;branch=master</a></div></div></div><br/>
<div><a id="1629677101.063200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629677101.063200" ><div class="time">2021-08-23 00:05</div></a><div class="msg">Turns out memory layout once you leave the safety of Rust is hard :stuck_out_tongue:</div></div></div><br/>
<div><a id="1629677573.063400"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629677573.063400" ><div class="time">2021-08-23 00:12</div></a><div class="msg">:D CI definitely painful, I'm glad you can squash commits to hide what went on</div></div></div><br/>
<div><a id="1629677596.063600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629677596.063600" ><div class="time">2021-08-23 00:13</div></a><div class="msg">hehe</div></div></div><br/>
<div><a id="1629677725.063800"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629677725.063800" ><div class="time">2021-08-23 00:15</div></a><div class="msg">"why do you have 300 commits with the message 'sad face'" during a code review, fun times.
Ahh which reminds me, there was a ticket for GitLab examples somewhere I think :thinking_face: (on the list of things I didn't quite get onto in the past year)</div></div></div><br/>
<div><a id="1629692448.064300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629692448.064300" ><div class="time">2021-08-23 04:20</div></a><div class="msg">Looks fine to me. Just remember the JSON string will be allocated on the Rust heap, and will need to be freed with the `pactffi_free_string` function once done with it on the Python side.</div></div></div><br/>
<div><a id="1629710757.064600"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1629710757.064600" ><div class="time">2021-08-23 09:25</div></a><div class="msg">I'll have a look at some of the other option types, I've added in possible_values which seems to work ok as well.
&gt;   -l, --loglevel [error|warn|info|debug|trace|none]
Will look into the pactffi_free_string, I've seen the warnings that it should be used but haven't seen/tried it.
Have moved the code over to <a href="http://mod.rs">http://mod.rs</a> from <a href="http://verifier.rs">http://verifier.rs</a>, I assume it's supposed to go there instead? I am not too sure about tests for Rust at all :smile:</div></div></div><br/>
<div><a id="1629718453.064800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1629718453.064800" ><div class="time">2021-08-23 11:34</div></a><div class="msg">Also, I've created#libpact_ffi-users- since there's quite a bit of discussion about the rust pact ffi bindings in the different language channels, but the discussions cover quite a bit of the same ground. Please join if this is useful or of interest to you!</div></div></div><br/>
<div><a id="1629718635.065000"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1629718635.065000" ><div class="time">2021-08-23 11:37</div></a><div class="msg">We also have this new guideline (on my todo list is to do a pass over the rust core and make sure we're sticking to it):

<a href="https://github.com/pact-foundation/pact-specification#logging-in-a-pact-library">https://github.com/pact-foundation/pact-specification#logging-in-a-pact-library</a></div></div></div><br/>
<div><a id="1629814997.065300"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629814997.065300" ><div class="time">2021-08-24 14:23</div></a><div class="msg">Fixed by running `cargo install cbindgen` to update cbindgen from `v0.19.0` to `v0.20.0`</div></div></div><br/>
<div><a id="1629821897.065500"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629821897.065500" ><div class="time">2021-08-24 16:18</div></a><div class="msg">I am trying this and I think some parameter are missing like:
```--state-change-url
<a href="http://localhost:8000/change-state">http://localhost:8000/change-state</a>```
</div></div></div><br/>
<div><a id="1629822616.065700"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1629822616.065700" ><div class="time">2021-08-24 16:30</div></a><div class="msg">Unless don't remove `pactffi_verify` so we can use parameters</div></div></div><br/>
<div><a id="1629846887.065900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629846887.065900" ><div class="time">2021-08-24 23:14</div></a><div class="msg">It might be the case. I think it?s just a POC to show how that might work as a replacement for the current ?all in one? function, which is less than ideal</div></div></div><br/>
<div><a id="1629847665.066100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1629847665.066100" ><div class="time">2021-08-24 23:27</div></a><div class="msg">I haven't implemented all the options yet</div></div></div><br/>
<div><a id="1630066701.000100"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630066701.000100" ><div class="time">2021-08-27 12:18</div></a><div class="msg">@uglyog to check, on the python side I am adding this to the list of FFI functions to expose:
&gt; // mock_server
&gt; void pactffi_free_string(char *);
as part of the others declared like this:
&gt; PactFFI.ffi.cdef(
&gt;     """
&gt; // root crate
&gt; char *pactffi_version(void);
&gt; 
&gt; // verifier
&gt; int pactffi_verify(char *);
&gt; 
&gt; // mock_server
&gt; void pactffi_free_string(char *);
&gt; 
&gt; // log
&gt; int pactffi_log_to_file(char *, int);
&gt; 
&gt; // experimenting
&gt; char *pactffi_verifier_cli_args(void);
&gt; """
&gt; )
and then in my python code using it, I'm then just calling it like this:
&gt; result = self.lib.pactffi_verifier_cli_args()
&gt; cli_args_json = Arguments(**json.loads(self.ffi.string(result).decode("utf-8")))
&gt; self.lib.pactffi_free_string(result)
Is that correct? It works ok, but I am not sure how to verify that the memory is being freed correctly? (I am a little nervous about the pactffi_verifier_cli itself, if there is anything else I should be doing to clean up there too :thinking_face: )</div></div></div><br/>
<div><a id="1630121559.000300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630121559.000300" ><div class="time">2021-08-28 03:32</div></a><div class="msg">It should be good as long as you call the method. No need to verify that the Rust memory management works :smile:</div></div></div><br/>
<div><a id="1630134921.000500"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630134921.000500" ><div class="time">2021-08-28 07:15</div></a><div class="msg">:+1:</div></div></div><br/>
<div><a id="1630136005.000700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630136005.000700" ><div class="time">2021-08-28 07:33</div></a><div class="msg">Reviewed the PR. There are some minor things that can be improved, but it looks good to me</div></div></div><br/>
<div><a id="1630136628.000900"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630136628.000900" ><div class="time">2021-08-28 07:43</div></a><div class="msg">Awesome, thanks. Comments/improvements to make very welcome</div></div></div><br/>
<div><a id="1630356799.001100"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630356799.001100" ><div class="time">2021-08-30 20:53</div></a><div class="msg">Back at a PC so have made the updates, I'd missed a couple of the compiler warnings on /// docs for the structs which are added too. For my next attempt I may try editing in something other than pycharm which does work but possibly isn't ideal :smile:

What are the conventions here on hitting merge / dealing with comments? Previously I've worked with teams where for example only the person raising a comment should then resolve them, other times the dev resolves after updating. Similar with when to merge (e.g. only after comments are all resolved, other times as soon as there's approval)</div></div></div><br/>
<div><a id="1630357650.001300"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630357650.001300" ><div class="time">2021-08-30 21:07</div></a><div class="msg">@uglyog thank you for taking the time to explain detail of some basics to a newbie, appreciate it :slightly_smiling_face:  :taco:</div></div></div><br/>
<div><a id="1630363475.001600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630363475.001600" ><div class="time">2021-08-30 22:44</div></a><div class="msg">I'm happy to have the PR merged when the comments are addressed. If you're confident you've addressed them, you can resolve them</div></div></div><br/>
<div><a id="1630401672.001800"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630401672.001800" ><div class="time">2021-08-31 09:21</div></a><div class="msg">:+1: done</div></div></div><br/>
<div><a id="1630401778.002000"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630401778.002000" ><div class="time">2021-08-31 09:22</div></a><div class="msg">Hopefully I didn't break anything :thinking_face:</div></div></div><br/>
<div><a id="1630402310.002200"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630402310.002200" ><div class="time">2021-08-31 09:31</div></a><div class="msg">Oh wait, I haven't since that was just the draft in my fork, approval needed over here: <a href="https://github.com/pact-foundation/pact-reference/pull/136">https://github.com/pact-foundation/pact-reference/pull/136</a></div></div></div><br/>
<div><a id="1630402439.002500"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1630402439.002500" ><div class="time">2021-08-31 09:33</div></a><div class="msg">I forgot initially it was just looking at my fork as a poc/explanation rather than expecting the code to actually go in :smile:</div></div></div><br/>
<div><a id="1631027689.004700"><img src="https://avatars.slack-edge.com/2021-08-13/2372943037222_dcda65dd9aff89442244_72.jpg" /></a><div class="message"><div class="username">ben.kaiser</div><a style="text-decoration: none" href="#1631027689.004700" ><div class="time">2021-09-07 15:14</div></a><div class="msg">I can?t quite pinpoint the issue but running a `cargo install pact_verifier_cli` today is failing whereas on 8/23 it was successful.

``` &gt; [2/2] RUN cargo install --version 0.8.7 pact_verifier_cli:
#5 0.979     Updating <a href="http://crates.io">http://crates.io</a> index
#5 28.38  Downloading crates ...
#5 28.65   Downloaded pact_verifier_cli v0.8.7
#5 29.03   Installing pact_verifier_cli v0.8.7
#5 29.81  Downloading crates ...
...
#5 32.29    Compiling libc v0.2.101
#5 32.29    Compiling cfg-if v1.0.0
#5 32.29    Compiling autocfg v1.0.1
#5 32.60    Compiling proc-macro2 v1.0.29
#5 33.22    Compiling unicode-xid v0.2.2
#5 33.25    Compiling memchr v2.4.1
#5 33.25    Compiling syn v1.0.76
#5 33.39    Compiling log v0.4.14
#5 33.62    Compiling cc v1.0.70
#5 33.70    Compiling serde_derive v1.0.130
#5 33.70    Compiling serde v1.0.130
#5 34.12    Compiling once_cell v1.8.0
#5 34.18    Compiling version_check v0.9.3
#5 34.51    Compiling pin-project-lite v0.2.7
#5 34.65    Compiling futures-core v0.3.17
#5 34.72    Compiling untrusted v0.7.1
#5 34.95    Compiling parking_lot_core v0.8.5
#5 34.96    Compiling proc-macro-hack v0.5.19
#5 35.29    Compiling spin v0.5.2
#5 35.36    Compiling smallvec v1.6.1
#5 35.40    Compiling proc-macro-nested v0.1.7
#5 35.50    Compiling futures-task v0.3.17
#5 35.68    Compiling scopeguard v1.1.0
#5 35.79    Compiling futures-channel v0.3.17
#5 35.82    Compiling futures-sink v0.3.17
#5 35.84    Compiling itoa v0.4.8
#5 35.98    Compiling lazy_static v1.4.0
#5 36.07    Compiling fnv v1.0.7
#5 36.12    Compiling pin-utils v0.1.0
#5 36.14    Compiling regex-syntax v0.6.25
#5 36.22    Compiling futures-io v0.3.17
#5 36.25    Compiling slab v0.4.4
#5 36.47    Compiling hashbrown v0.11.2
#5 36.72    Compiling ppv-lite86 v0.2.10
#5 37.14    Compiling ryu v1.0.5
#5 37.22    Compiling httparse v1.5.1
#5 37.60    Compiling tinyvec_macros v0.1.0
#5 37.66    Compiling base64 v0.13.0
#5 37.73    Compiling getrandom v0.1.16
#5 38.13    Compiling matches v0.1.9
#5 38.26    Compiling semver v1.0.4
#5 38.53    Compiling percent-encoding v2.1.0
#5 38.72    Compiling pkg-config v0.3.19
#5 39.15    Compiling try-lock v0.2.3
#5 39.30    Compiling serde_json v1.0.67
#5 39.71    Compiling encoding_rs v0.8.28
#5 40.02    Compiling unicode-bidi v0.3.6
#5 40.88    Compiling httpdate v1.0.1
#5 41.64    Compiling openssl-probe v0.1.4
#5 42.24    Compiling tower-service v0.3.1
#5 42.40    Compiling mime v0.3.16
#5 42.51    Compiling ucd-trie v0.1.3
#5 43.51    Compiling strsim v0.10.0
#5 44.06    Compiling anyhow v1.0.43
#5 44.26    Compiling maplit v1.0.2
#5 44.42    Compiling ident_case v1.0.1
#5 44.61    Compiling bitflags v1.3.2
#5 44.62    Compiling minimal-lexical v0.1.3
#5 44.76    Compiling peresil v0.3.0
#5 45.00    Compiling remove_dir_all v0.5.3
#5 45.13    Compiling ipnet v2.3.1
#5 45.49    Compiling typed-arena v1.7.0
#5 45.71    Compiling either v1.6.1
#5 45.96    Compiling fixedbitset v0.4.0
#5 46.95    Compiling safemem v0.3.3
#5 47.22    Compiling indextree v4.3.1
#5 47.69    Compiling rustversion v1.0.5
#5 48.13    Compiling hex v0.4.3
#5 48.34    Compiling bytecount v0.6.2
#5 48.68    Compiling quick-error v1.2.3
#5 48.85    Compiling ansi_term v0.12.1
#5 48.88    Compiling async-trait v0.1.51
#5 49.32    Compiling difference v2.0.0
#5 49.81    Compiling termcolor v1.1.2
#5 50.49    Compiling unicode-width v0.1.8
#5 50.64    Compiling ansi_term v0.11.0
#5 50.88    Compiling vec_map v0.8.2
#5 51.10    Compiling humantime v2.1.0
#5 51.28    Compiling strsim v0.8.0
#5 51.89    Compiling zeroize v1.4.1
#5 52.19    Compiling instant v0.1.10
#5 52.30    Compiling futures-macro v0.3.17
#5 52.59    Compiling tokio v1.11.0
#5 52.72    Compiling indexmap v1.7.0
#5 52.87    Compiling futures-util v0.3.17
#5 53.00    Compiling num-traits v0.2.14
#5 53.20    Compiling num-integer v0.1.44
#5 53.64    Compiling unicase v2.6.0
#5 53.73    Compiling nom v7.0.0
#5 53.93    Compiling ring v0.16.20
#5 54.12    Compiling lock_api v0.4.5
#5 54.13    Compiling tracing-core v0.1.19
#5 54.57    Compiling tinyvec v1.3.1
#5 54.86    Compiling form_urlencoded v1.0.1
#5 55.47    Compiling onig_sys v69.7.0
#5 55.94    Compiling pest v2.1.3
#5 56.05    Compiling sxd-document v0.3.2
#5 56.20    Compiling itertools v0.10.1
#5 58.35    Compiling textwrap v0.11.0
#5 63.99    Compiling tracing v0.1.26
#5 67.20    Compiling unicode-normalization v0.1.19
#5 70.34    Compiling semver-parser v0.10.2
#5 77.09    Compiling quote v1.0.9
#5 77.70    Compiling signal-hook-registry v1.4.0
#5 78.07    Compiling num_cpus v1.13.0
#5 78.42    Compiling getrandom v0.2.3
#5 79.38    Compiling socket2 v0.4.1
#5 79.46    Compiling time v0.1.44
#5 79.75    Compiling fs2 v0.4.3
#5 80.17    Compiling atty v0.2.14
#5 80.33    Compiling aho-corasick v0.7.18
#5 80.83    Compiling buf_redux v0.8.4
#5 81.51    Compiling twoway v0.1.8
#5 82.04    Compiling mio v0.7.13
#5 83.47    Compiling want v0.3.0
#5 83.87    Compiling fern v0.6.0
#5 84.52    Compiling os_info v3.0.7
#5 86.48    Compiling lenient_semver_version_builder v0.4.2
#5 87.57    Compiling idna v0.2.3
#5 88.93    Compiling semver v0.11.0
#5 91.24    Compiling petgraph v0.6.0
#5 94.59    Compiling parking_lot v0.11.2
#5 95.99    Compiling rand_core v0.6.3
#5 96.51    Compiling uuid v0.8.2
#5 96.77    Compiling rand_core v0.5.1
#5 97.23    Compiling clap v2.33.3
#5 97.49    Compiling regex v1.5.4
#5 107.1    Compiling pact_ffi v0.0.2
#5 107.5    Compiling mime_guess v2.0.3
#5 108.7    Compiling lenient_semver_parser v0.4.2
#5 109.3    Compiling url v2.2.2
#5 114.1    Compiling sct v0.6.1
#5 114.7    Compiling webpki v0.21.4
#5 116.4    Compiling onig v6.2.0
#5 117.8    Compiling tree_magic_mini v3.0.2
#5 119.0    Compiling chrono v0.4.19
#5 123.2    Compiling rand_chacha v0.3.1
#5 123.3    Compiling darling_core v0.13.0
#5 124.1    Compiling rand_chacha v0.2.2
#5 124.7    Compiling env_logger v0.8.4
#5 129.3    Compiling tokio-macros v1.3.0
#5 129.9    Compiling thiserror-impl v1.0.29
#5 133.6    Compiling parse-zoneinfo v0.3.0
#5 133.8    Compiling lenient_semver v0.4.2
#5 133.9    Compiling ct-logs v0.8.0
#5 134.1    Compiling rustls v0.19.1
#5 134.3    Compiling webpki-roots v0.21.1
#5 134.5    Compiling simplelog v0.9.0
#5 135.3    Compiling rand v0.8.4
#5 136.9    Compiling rand v0.7.3
#5 137.4    Compiling darling_macro v0.13.0
#5 139.2    Compiling thiserror v1.0.29
#5 143.5    Compiling chrono-tz v0.5.3
#5 144.1    Compiling pact_models v0.1.3
#5 144.7    Compiling rand_regex v0.15.1
#5 145.3    Compiling tempfile v3.2.0
#5 146.9    Compiling rustls-native-certs v0.5.0
#5 146.9    Compiling darling v0.13.0
#5 147.0    Compiling futures-executor v0.3.17
#5 147.6    Compiling bytes v1.1.0
#5 149.1    Compiling serde_urlencoded v0.7.0
#5 152.8    Compiling multipart v0.17.1
#5 152.9    Compiling serde_with_macros v1.5.0
#5 154.8    Compiling futures v0.3.17
#5 156.8    Compiling http v0.2.4
#5 162.3    Compiling serde_with v1.10.0
#5 164.6    Compiling http-body v0.4.3
#5 165.0    Compiling tokio-util v0.6.8
#5 166.2    Compiling tokio-rustls v0.22.0
#5 166.5    Compiling h2 v0.3.4
#5 176.0    Compiling hyper v0.14.12
#5 184.1    Compiling hyper-rustls v0.22.1
#5 184.3    Compiling reqwest v0.11.4
#5 191.4    Compiling pact_matching v0.10.3
#5 215.7    Compiling pact_mock_server v0.7.20
#5 277.1    Compiling pact_verifier v0.10.11
#5 278.2 error[E0004]: non-exhaustive patterns: `&amp;None` not covered
#5 278.2    --&gt; /usr/local/cargo/registry/src/github.com-1ecc6299db9ec823/pact_verifier-0.10.11/src/pact_broker.rs:293:33
#5 278.2     |
#5 278.2 293 |         Some(ref auth) =&gt; match auth {
#5 278.2     |                                 ^^^^ pattern `&amp;None` not covered
#5 278.2     |
#5 278.2    ::: /usr/local/cargo/registry/src/github.com-1ecc6299db9ec823/pact_models-0.1.3/src/http_utils.rs:18:3
#5 278.2     |
#5 278.2 18  |   None
#5 278.2     |   ---- not covered
#5 278.2     |
#5 278.2     = help: ensure that all possible cases are being handled, possibly by adding wildcards or more match arms
#5 278.2     = note: the matched value is of type `&amp;HttpAuth`
#5 278.2
#5 278.2 error[E0004]: non-exhaustive patterns: `&amp;None` not covered
#5 278.2    --&gt; /usr/local/cargo/registry/src/github.com-1ecc6299db9ec823/pact_verifier-0.10.11/src/pact_broker.rs:430:31
#5 278.2     |
#5 278.2 430 |       Some(ref auth) =&gt; match auth {
#5 278.2     |                               ^^^^ pattern `&amp;None` not covered
#5 278.2     |
#5 278.2    ::: /usr/local/cargo/registry/src/github.com-1ecc6299db9ec823/pact_models-0.1.3/src/http_utils.rs:18:3
#5 278.2     |
#5 278.2 18  |   None
#5 278.2     |   ---- not covered
#5 278.2     |
#5 278.2     = help: ensure that all possible cases are being handled, possibly by adding wildcards or more match arms
#5 278.2     = note: the matched value is of type `&amp;HttpAuth`
#5 278.2
#5 278.4 error: aborting due to 2 previous errors
#5 278.4
#5 278.4 For more information about this error, try `rustc --explain E0004`.
#5 278.4 error: failed to compile `pact_verifier_cli v0.8.7`, intermediate artifacts can be found at `/tmp/cargo-installs3DdhF`
#5 278.4
#5 278.4 Caused by:
#5 278.4   could not compile `pact_verifier`
#5 278.4
#5 278.4 To learn more, run the command again with --verbose.
------
executor failed running [/bin/sh -c cargo install --version 0.8.7 pact_verifier_cli]: exit code: 101```</div></div></div><br/>
<div><a id="1631056691.004900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1631056691.004900" ><div class="time">2021-09-07 23:18</div></a><div class="msg">`pact_matching` crate update was released. It must have accidentally contained a breaking change.</div></div></div><br/>
<div><a id="1631061571.005200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1631061571.005200" ><div class="time">2021-09-08 00:39</div></a><div class="msg">I have released `pact_verifier` crate, which fixes this issue</div></div></div><br/>
<div><a id="1632054932.006400"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1632054932.006400" ><div class="time">2021-09-19 12:35</div></a><div class="msg">Is `url` in `pactffi_verifier_set_provider_state` required? I'm thinking about adding this for it:
```

        EXIT_SUCCESS
    } {
        EXIT_FAILURE
    }```</div></div></div><br/>
<div><a id="1632058019.006500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632058019.006500" ><div class="time">2021-09-19 13:26</div></a><div class="msg">I don't think it is</div></div></div><br/>
<div><a id="1632058038.006700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632058038.006700" ><div class="time">2021-09-19 13:27</div></a><div class="msg">What would that do? All I see is it might pass or might fail :rolling_on_the_floor_laughing:</div></div></div><br/>
<div><a id="1632058042.006900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632058042.006900" ><div class="time">2021-09-19 13:27</div></a><div class="msg">But not when</div></div></div><br/>
<div><a id="1632059070.007100"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1632059070.007100" ><div class="time">2021-09-19 13:44</div></a><div class="msg">It's related to this conversation <a href="https://github.com/pact-foundation/pact-reference/pull/139#discussion_r704606269">https://github.com/pact-foundation/pact-reference/pull/139#discussion_r704606269</a></div></div></div><br/>
<div><a id="1632059087.007300"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1632059087.007300" ><div class="time">2021-09-19 13:44</div></a><div class="msg">If `url` is optional, then I won't add that block of code</div></div></div><br/>
<div><a id="1632093065.007500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1632093065.007500" ><div class="time">2021-09-19 23:11</div></a><div class="msg">`url` is optional, in the sense that without it the provider states won't be invoked, they are ignored. But I think it should be required `pactffi_verifier_set_provider_state` because otherwise there is no point in calling that method.</div></div></div><br/>
<div><a id="1632815774.009000"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1632815774.009000" ><div class="time">2021-09-28 07:56</div></a><div class="msg">ahem. next time I will try and stick with a single message rather than the steps while going through, it looks like there is a lot but it was all just part of one thing :open_mouth:</div></div></div><br/>
<div><a id="1632998760.009200"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1632998760.009200" ><div class="time">2021-09-30 10:46</div></a><div class="msg">Ah yeah. Any commit message with `feat` or `fix` ends up in the changelog</div></div></div><br/>
<div><a id="1632998878.009500"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1632998878.009500" ><div class="time">2021-09-30 10:47</div></a><div class="msg">:slightly_smiling_face: Indeed. I come from a world where every branch was squashed during merge so just the single commit :smile: Unexpected consequence of small and frequent commits!</div></div></div><br/>
<div><a id="1632999043.009700"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1632999043.009700" ><div class="time">2021-09-30 10:50</div></a><div class="msg">An advantage of not squashing is that you aren't discouraged from fixing unrelated things you notice while working - you just make those separate commits, named appropriately</div></div></div><br/>
<div><a id="1632999158.009900"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1632999158.009900" ><div class="time">2021-09-30 10:52</div></a><div class="msg">I mean, I've never seen people discouraged from fixing unrelated things, only discouraged from taking on a code review :smile:</div></div></div><br/>
<div><a id="1632999261.010100"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1632999261.010100" ><div class="time">2021-09-30 10:54</div></a><div class="msg">Need to "practice" partial commits and modifying commits before pushing a bit more :thinking_face:</div></div></div><br/>
<div><a id="1632999567.010300"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1632999567.010300" ><div class="time">2021-09-30 10:59</div></a><div class="msg">Why not use the index? `git add` will do your partial commit</div></div></div><br/>
<div><a id="1632999670.010500"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1632999670.010500" ><div class="time">2021-09-30 11:01</div></a><div class="msg">I mean code chunks rather than file level</div></div></div><br/>
<div><a id="1636001070.001800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1636001070.001800" ><div class="time">2021-11-04 04:44</div></a><div class="msg">Any chance you could do a release of the CLI also Ron? Someone was asking for it so they could do provider verification with branches</div></div></div><br/>
<div><a id="1636001423.001900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1636001423.001900" ><div class="time">2021-11-04 04:50</div></a><div class="msg">Yeah, I have to release all the things to remove the beta versions</div></div></div><br/>
<div><a id="1636005609.002600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1636005609.002600" ><div class="time">2021-11-04 06:00</div></a><div class="msg">Just checked the changes, you only made the branches change to the FFI libs and not the CLI</div></div></div><br/>
<div><a id="1636005666.002800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1636005666.002800" ><div class="time">2021-11-04 06:01</div></a><div class="msg">Was the person asking for the change with the CLI?</div></div></div><br/>
<div><a id="1636005737.003000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1636005737.003000" ><div class="time">2021-11-04 06:02</div></a><div class="msg">hmm, did I not do that. Bad me</div></div></div><br/>
<div><a id="1636005743.003200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1636005743.003200" ><div class="time">2021-11-04 06:02</div></a><div class="msg">yes, they wanted CLI</div></div></div><br/>
<div><a id="1636005758.003400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1636005758.003400" ><div class="time">2021-11-04 06:02</div></a><div class="msg">Lucky they are asleep, probably, and I can delete my message telling them it?s ready :laughing:</div></div></div><br/>
<div><a id="1636005787.003800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1636005787.003800" ><div class="time">2021-11-04 06:03</div></a><div class="msg">Remember how I fixed the horrible dependency problem by duplicating the clap args?</div></div></div><br/>
<div><a id="1636005842.004000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1636005842.004000" ><div class="time">2021-11-04 06:04</div></a><div class="msg">:point_up:</div></div></div><br/>
<div><a id="1636006577.004200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1636006577.004200" ><div class="time">2021-11-04 06:16</div></a><div class="msg">?I do now</div></div></div><br/>
<div><a id="1636437648.004600"><img src="https://avatars.slack-edge.com/2021-11-01/2671695937797_a5f0fb501cdc1b3e239e_72.png" /></a><div class="message"><div class="username">john</div><a style="text-decoration: none" href="#1636437648.004600" ><div class="time">2021-11-09 06:00</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1636995460.007700"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1636995460.007700" ><div class="time">2021-11-15 16:57</div></a><div class="msg">Do you miss `pact.h` and `pact-cpp.h`  in this release <a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.1.0">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.1.0</a> ?</div></div></div><br/>
<div><a id="1637014972.007800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637014972.007800" ><div class="time">2021-11-15 22:22</div></a><div class="msg">Let me check, it should have been generated</div></div></div><br/>
<div><a id="1637017282.008000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637017282.008000" ><div class="time">2021-11-15 23:01</div></a><div class="msg">Looks like the release failed to generate them. I'll update it and try work out what happened.</div></div></div><br/>
<div><a id="1637029208.009000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637029208.009000" ><div class="time">2021-11-16 02:20</div></a><div class="msg">@matt.fellows :point_up:</div></div></div><br/>
<div><a id="1637029476.009200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637029476.009200" ><div class="time">2021-11-16 02:24</div></a><div class="msg">danke</div></div></div><br/>
<div><a id="1637029482.009600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637029482.009600" ><div class="time">2021-11-16 02:24</div></a><div class="msg">just need the FFI and then I?m sweet I think</div></div></div><br/>
<div><a id="1637035088.009900"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1637035088.009900" ><div class="time">2021-11-16 03:58</div></a><div class="msg">It's still missing in 0.1.1, but at least I can see them in 0.1.0. Thanks</div></div></div><br/>
<div><a id="1637035438.010200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637035438.010200" ><div class="time">2021-11-16 04:03</div></a><div class="msg">updated</div></div></div><br/>
<div><a id="1637046326.013500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637046326.013500" ><div class="time">2021-11-16 07:05</div></a><div class="msg">Heads up @tjones @yann.courtel @pact544 and @tien.xuan.vo, this release has a new pointer attribute (`interaction_type` ) on the `InteractionHandle` which resulted in a segfault for Pact Go when I ran it. Wasn?t too difficult to track down, and may not actually cause issues for you.

@uglyog wondering if we should create an acceptance suite for the FFI that would catch this. I?m not that familiar with approaches here, if that?s something we can statically check or if having a fully fledged c consumer suite that links to it would be a good idea?</div></div></div><br/>
<div><a id="1637046420.013700"><img src="https://avatars.slack-edge.com/2021-08-27/2413662737015_de6ff58508cf010527f8_72.png" /></a><div class="message"><div class="username">yann.courtel</div><a style="text-decoration: none" href="#1637046420.013700" ><div class="time">2021-11-16 07:07</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1637046669.014900"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1637046669.014900" ><div class="time">2021-11-16 07:11</div></a><div class="msg">According to rust?s package manager 0.x is a breaking change, so I think it was marked correctly (but maybe not obviously)</div></div></div><br/>
<div><a id="1637046808.015700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637046808.015700" ><div class="time">2021-11-16 07:13</div></a><div class="msg">interesting. That just raises more questions, I think the FFI interface should be semver (I?m assuming that?s the case!) but we haven?t actually ever discussed that that I can recall</div></div></div><br/>
<div><a id="1637046827.016200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637046827.016200" ><div class="time">2021-11-16 07:13</div></a><div class="msg">the main point was just sharing that info, so you don?t have to re-discover it</div></div></div><br/>
<div><a id="1637047076.017000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637047076.017000" ><div class="time">2021-11-16 07:17</div></a><div class="msg">It looks like the kind of change that is fairly innocuous and hard to catch (i.e. the FFI API looks the same if just look at the types/signatures)</div></div></div><br/>
<div><a id="1637047101.017400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637047101.017400" ><div class="time">2021-11-16 07:18</div></a><div class="msg">and because it?s FFI, it just blows up if you call it (one of the downsides of FFI)</div></div></div><br/>
<div><a id="1637047542.017900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637047542.017900" ><div class="time">2021-11-16 07:25</div></a><div class="msg">Hmmm I?m also finding that the JSON bodies are being stringified in this release. I?ll create a thread, it could be something dumb I?m doing :point_down:</div></div></div><br/>
<div><a id="1637048470.018200"><img src="https://avatars.slack-edge.com/2021-08-27/2413662737015_de6ff58508cf010527f8_72.png" /></a><div class="message"><div class="username">yann.courtel</div><a style="text-decoration: none" href="#1637048470.018200" ><div class="time">2021-11-16 07:41</div></a><div class="msg">Thanks for the heads-up!</div></div></div><br/>
<div><a id="1637060448.018700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637060448.018700" ><div class="time">2021-11-16 11:00</div></a><div class="msg">I have small pact acceptance suite in Pact Go that tests that go can call the main FFI methods.

The one that runs through a basic lifecycle is producing this pact file:

```?  native git:(2.x.x) ? cat /var/folders/xj/rmgl_kbn1qzb9953tw7lv_yc0000gn/T/pact-go123408037/test-http-consumer-test-http-provider.json                                                                                                                                                                    &lt;aws:pact-prod&gt;
{
  "consumer": {
    "name": "test-http-consumer"
  },
  "interactions": [
    {
      "description": "some interaction",
      "key": "8369cdf3b43ff542",
      "pending": false,
      "providerStates": [
        {
          "name": "some state"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/products"
      },
      "response": {
        "body": {
          "content": "{\"age\":23,\"alive\":true,\"name\":\"some name\"}",
          "contentType": "*/*",
          "encoded": false
        },
        "headers": {
          "Content-Type": [
            "application/json"
          ]
        },
        "matchingRules": {
          "body": {
            "$.name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          }
        },
        "status": 200
      },
      "type": "Synchronous/HTTP"
    }
  ],
  "metadata": {
    "pactRust": {
      "ffi": "0.1.2",
      "mockserver": "0.8.2",
      "models": "0.2.1"
    },
    "pactSpecification": {
      "version": "4.0"
    }
  },
  "provider": {
    "name": "test-http-provider"
  }
}```
</div></div></div><br/>
<div><a id="1637060564.018900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637060564.018900" ><div class="time">2021-11-16 11:02</div></a><div class="msg">there are at least 2 issues:

1. It doesn?t seem to respect the `pactffi_with_specification` method at all, and always serialises a v4 pact
2. the JSON body seems to be stringified and when it is verified the verification fails because it?s comparing text and the formatting/values are different</div></div></div><br/>
<div><a id="1637060652.019100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637060652.019100" ><div class="time">2021-11-16 11:04</div></a><div class="msg">It checks the content type, but for some reason is still doing a text comparison on the response:

```
  A request to do a foo
    returns a response which
      has status code 200 (OK)
      includes headers
        "Content-Type" with value "application/json" (OK)
      has a matching body (FAILED)

[2021-11-16T11:03:06Z ERROR pact_verifier] Failed to load pact - Failed to load pact '/Users/matthewfellows/go/src/github.com/pact-foundation/pact-go/examples/pacts/PactGoV2ConsumerMatch-V2ProviderMatch.json' - No such file or directory (os error 2)

Failures:

1) Verifying a pact between PactGoV3Consumer and V3Provider Given User foo exists - A request to do a foo
    1.1) has a matching body
           $ -&gt; Expected text 'Some(b"{\"accountBalance\":123.76,\"arrayContaining\":[\"string\",1,{\"foo\":\"bar\"}],\"datetime\":\"2020-01-01\",\"equality\":\"a thing\",\"id\":12,\"itemsMin\":[\"thereshouldbe3ofthese\",\"thereshouldbe3ofthese\",\"thereshouldbe3ofthese\"],\"itemsMinMax\":[27,27,27,27,27],\"lastName\":\"Sampson\",\"name\":\"Billy\",\"superstring\":\"foo\"}")' but received 'Some(b"\n\t\t\t{\n\t\t\t\t\"accountBalance\": 123.76,\n\t\t\t\t\"datetime\": \"2020-01-01\",\n\t\t\t\t\"equality\": \"a thing\",\n\t\t\t\t\"id\": 12,\n\t\t\t\t\"itemsMin\": [\n\t\t\t\t\t\"thereshouldbe3ofthese\",\n\t\t\t\t\t\"thereshouldbe3ofthese\",\n\t\t\t\t\t\"thereshouldbe3ofthese\"\n\t\t\t\t],\n\t\t\t\t\"itemsMinMax\": [\n\t\t\t\t\t27,\n\t\t\t\t\t27,\n\t\t\t\t\t27,\n\t\t\t\t\t27,\n\t\t\t\t\t27\n\t\t\t\t],\n\t\t\t\t\"lastName\": \"Sampson\",\n\t\t\t\t\"name\": \"Billy\",\n\t\t\t\t\"superstring\": \"foo\",\n\t\t\t\t\"arrayContaining\": [\n\t\t\t\t\t\"string\",\n\t\t\t\t\t1,\n\t\t\t\t\t{\n\t\t\t\t\t\t\"foo\": \"bar\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}")'```</div></div></div><br/>
<div><a id="1637060750.019300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637060750.019300" ><div class="time">2021-11-16 11:05</div></a><div class="msg">(note this is a *different pact file* than what is being verified, but the other is a long longer because of matching rules. The same set of symptoms though)</div></div></div><br/>
<div><a id="1637064011.019700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637064011.019700" ><div class="time">2021-11-16 12:00</div></a><div class="msg">So, I think I?ve fixed the serialisation issue. I?ll submit a WIP fix to see if it?s the root cause or just a proximate one</div></div></div><br/>
<div><a id="1637064035.019900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637064035.019900" ><div class="time">2021-11-16 12:00</div></a><div class="msg">as for spec version, it seems we?ve now migrated to the `V4Pact` struct, which doesn?t have anywhere to set the spec version (because, presumably, it is always V4)</div></div></div><br/>
<div><a id="1637064077.020100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637064077.020100" ><div class="time">2021-11-16 12:01</div></a><div class="msg">we track the FFI spec version here:

```pub struct PactHandleInner {
  pub(crate) pact: V4Pact,
  pub(crate) mock_server_started: bool,
  pub(crate) specification_version: PactSpecification
}```
but because the `specification_version` property is not ever passed on to the pact itself, it obviously won?t ever serialise another version</div></div></div><br/>
<div><a id="1637064167.020300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637064167.020300" ><div class="time">2021-11-16 12:02</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-reference/pull/162">https://github.com/pact-foundation/pact-reference/pull/162</a></div></div></div><br/>
<div><a id="1637099113.020700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637099113.020700" ><div class="time">2021-11-16 21:45</div></a><div class="msg">I think the problem here is that those structs are meant to be opaque structs and the internals are not meant to be exposed via FFI. They should just be typed pointers.</div></div></div><br/>
<div><a id="1637099161.020900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637099161.020900" ><div class="time">2021-11-16 21:46</div></a><div class="msg">I'll look into the cbingen config to see why they are exposing the internals.</div></div></div><br/>
<div><a id="1637099313.021200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637099313.021200" ><div class="time">2021-11-16 21:48</div></a><div class="msg">thanks, yeah it does look like implementation detail</div></div></div><br/>
<div><a id="1637099373.021700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637099373.021700" ><div class="time">2021-11-16 21:49</div></a><div class="msg">the PR fixes the JSON serialisation issue, but not sure how to tackle the spec version</div></div></div><br/>
<div><a id="1637109418.021900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637109418.021900" ><div class="time">2021-11-17 00:36</div></a><div class="msg">Oh, I was on the assumption we were passing pointers, but the FFI functions are passing the actual structs. Sorry, my bad.

I trying `#[repr(transparent)]` with the handles, which will represent the handles as an opaque type on the other side of the FFI boundary.

There are integration tests that test the FFI functions from C, but they don't test all the functions, they only run on Linux agents and they only test from a simple C consumer.</div></div></div><br/>
<div><a id="1637115696.022200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637115696.022200" ><div class="time">2021-11-17 02:21</div></a><div class="msg">cool, let us know. I think a general pointer type without knowing the details makes more sense from the outside so we don?t leak implementation details / break things etc.</div></div></div><br/>
<div><a id="1637115708.022400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637115708.022400" ><div class="time">2021-11-17 02:21</div></a><div class="msg">but also, I know less about those details.</div></div></div><br/>
<div><a id="1637115746.022600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637115746.022600" ><div class="time">2021-11-17 02:22</div></a><div class="msg">&gt;  There are integration tests that test the FFI functions from C, but they don?t test all the functions, they only run on Linux agents and they only test from a simple C consumer.
what would an ideal version look like? Perhaps it?s something we can get assistance from the general community with, including others (I?m conscious you have the main maintainer responsibility and there is a _lot_ in the core at the moment)</div></div></div><br/>
<div><a id="1637116731.022800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637116731.022800" ><div class="time">2021-11-17 02:38</div></a><div class="msg">Is the V4 pact file issue when using it with a mock server? Ie. calling `pactffi_write_pact_file`?</div></div></div><br/>
<div><a id="1637117042.023000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637117042.023000" ><div class="time">2021-11-17 02:44</div></a><div class="msg">yeah</div></div></div><br/>
<div><a id="1637117158.023200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637117158.023200" ><div class="time">2021-11-17 02:45</div></a><div class="msg">if you run just this test (`http_consumer_feature_test`) in the ffi package you can see the output in `/tmp/pact/http-consumer?json`</div></div></div><br/>
<div><a id="1637117288.023400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637117288.023400" ><div class="time">2021-11-17 02:48</div></a><div class="msg">Ok, the issue is the spec version is stored against the handle, and the mock server knows nothing about that.

We can change the mock server, but that will require changing a lot of the mock server functions.

I'm creating a new function `pactffi_pact_handle_write_file` which takes the handle, so it knows the spec version.</div></div></div><br/>
<div><a id="1637117413.023800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637117413.023800" ><div class="time">2021-11-17 02:50</div></a><div class="msg">Yeah, it?s just stored on the handle at the moment and doesn?t actually go anywhere</div></div></div><br/>
<div><a id="1637117483.024000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637117483.024000" ><div class="time">2021-11-17 02:51</div></a><div class="msg">any reason not to just update the existing FFI method? Either way on an upgrade it won?t functionally work unless code is changed</div></div></div><br/>
<div><a id="1637117999.024300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637117999.024300" ><div class="time">2021-11-17 02:59</div></a><div class="msg">We need to update all the mock server FFI methods (there are a few, based on inputs and whether it's HTTP or HTTPS). It will be a breaking change.</div></div></div><br/>
<div><a id="1637120400.024600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1637120400.024600" ><div class="time">2021-11-17 03:40</div></a><div class="msg">Previous me provided for these types of problems, and introduced the functions `start_mock_server_with_config`. So if we use those, we just need to add the spec version to the config, and no breaking changes!!! :tada:</div></div></div><br/>
<div><a id="1637120922.024900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637120922.024900" ><div class="time">2021-11-17 03:48</div></a><div class="msg">Thanks last Ron</div></div></div><br/>
<div><a id="1637125546.025300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637125546.025300" ><div class="time">2021-11-17 05:05</div></a><div class="msg">`s/last/past`</div></div></div><br/>
<div><a id="1637125930.025500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637125930.025500" ><div class="time">2021-11-17 05:12</div></a><div class="msg">`0.1.2` is looking much better Ron</div></div></div><br/>
<div><a id="1637125950.025700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637125950.025700" ><div class="time">2021-11-17 05:12</div></a><div class="msg">I?ve noticed a couple of the versions in the metadata are escaped:
```  "metadata": {
    "pactRust": {
      "ffi": "\"0.1.2\"",
      "mockserver": "\"0.8.3\"",
      "models": "0.2.1"
    },
    "pactSpecification": {
      "version": "3.0.0"
    }
  },```</div></div></div><br/>
<div><a id="1637125959.025900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637125959.025900" ><div class="time">2021-11-17 05:12</div></a><div class="msg">Also I have a failing message test, i?ll let you know what it found</div></div></div><br/>
<div><a id="1637128349.026400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637128349.026400" ><div class="time">2021-11-17 05:52</div></a><div class="msg">the message pact fn?s seem to be getting null pointers received, just trying to work out why. Compiling locally from master I get some different output.</div></div></div><br/>
<div><a id="1637128364.026600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637128364.026600" ><div class="time">2021-11-17 05:52</div></a><div class="msg">Ah, there is a 0.1.3 but not published yet. Cool, working with that FFI signature?</div></div></div><br/>
<div><a id="1637129078.026800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637129078.026800" ><div class="time">2021-11-17 06:04</div></a><div class="msg">OK, the issue was that I hadn?t updated the message handle types, which meant go was sending more stuff into the method signature and causing strange issues with converting strings.</div></div></div><br/>
<div><a id="1637130483.027100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1637130483.027100" ><div class="time">2021-11-17 06:28</div></a><div class="msg">Looks like we have a green build, thanks Ron!

:rocket:</div></div></div><br/>
<div><a id="1638791726.033700"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1638791726.033700" ><div class="time">2021-12-06 11:55</div></a><div class="msg">Hm, I've pushed up a tiny fix, which I think looks ok, although I'm not sure if this is the best way to add in (Rust knowledge still very low), also a little wary that this is a change of behaviour so could cause breakage, even if the current behaviour wasn't as expected

I'm seeing what looks like the --state-change-teardown flag not working properly, master branch of pact-reference, unless I totally misunderstood something :smile:

Default:
&gt; $ ./rust/target/debug/pact_verifier_cli -d /home/mgeeves/dev/GitHub/mikegeeves/pact-foundation/pact-python/examples/pacts --loglevel info -p 8000 -s <a href="http://localhost:8000/_pact/provider_states">http://localhost:8000/_pact/provider_states</a> 
&gt; 
&gt; Verifying a pact between UserServiceClient and UserService
&gt; *09:32:25 [INFO] Running provider state change handler 'UserA exists and is not an administrator' for 'a request for UserA'*
&gt;   Given UserA exists and is not an administrator
&gt; 09:32:25 [INFO] Running provider verification for 'a request for UserA'
&gt; 09:32:25 [INFO] Sending request to provider at <a href="http://localhost:8000/">http://localhost:8000/</a>
&gt; 09:32:25 [INFO] Received response: HTTP Response ( status: 200, headers: Some({"content-length": ["134"], "server": ["uvicorn"], "date": ["Mon", "06 Dec 2021 09:32:24 GMT"], "content-type": ["application/json"]}), body: Present(134 bytes, application/json) )
&gt; 09:32:25 [INFO] comparing to expected response: HTTP Response ( status: 200, headers: Some({}), body: Present(134 bytes) )
&gt; *09:32:25 [INFO] Running provider state change handler 'UserA exists and is not an administrator' for 'a request for UserA'*
&gt; *09:32:25 [INFO] Running provider state change handler 'UserA does not exist' for 'a request for UserA'*
&gt;   Given UserA does not exist
&gt; 09:32:25 [INFO] Running provider verification for 'a request for UserA'
&gt; 09:32:25 [INFO] Sending request to provider at <a href="http://localhost:8000/">http://localhost:8000/</a>
&gt; 09:32:25 [INFO] Received response: HTTP Response ( status: 404, headers: Some({"content-type": ["application/json"], "content-length": ["27"], "server": ["uvicorn"], "date": ["Mon", "06 Dec 2021 09:32:24 GMT"]}), body: Present(27 bytes, application/json) )
&gt; 09:32:25 [INFO] comparing to expected response: HTTP Response ( status: 404, headers: Some({}), body: Missing )
&gt; *09:32:25 [INFO] Running provider state change handler 'UserA does not exist' for 'a request for UserA'*
With --state-change-teardown:
&gt; $ ./rust/target/debug/pact_verifier_cli -d /home/mgeeves/dev/GitHub/mikegeeves/pact-foundation/pact-python/examples/pacts --loglevel info -p 8000 -s <a href="http://localhost:8000/_pact/provider_states">http://localhost:8000/_pact/provider_states</a>  --state-change-teardown
&gt; 
&gt; Verifying a pact between UserServiceClient and UserService
&gt; *09:35:38 [INFO] Running provider state change handler 'UserA exists and is not an administrator' for 'a request for UserA'*
&gt;   Given UserA exists and is not an administrator
&gt; 09:35:38 [INFO] Running provider verification for 'a request for UserA'
&gt; 09:35:38 [INFO] Sending request to provider at <a href="http://localhost:8000/">http://localhost:8000/</a>
&gt; 09:35:38 [INFO] Received response: HTTP Response ( status: 200, headers: Some({"content-type": ["application/json"], "date": ["Mon", "06 Dec 2021 09:35:38 GMT"], "server": ["uvicorn"], "content-length": ["134"]}), body: Present(134 bytes, application/json) )
&gt; 09:35:38 [INFO] comparing to expected response: HTTP Response ( status: 200, headers: Some({}), body: Present(134 bytes) )
&gt; *09:35:38 [INFO] Running provider state change handler 'UserA exists and is not an administrator' for 'a request for UserA'*
&gt; *09:35:38 [INFO] Running provider state change handler 'UserA does not exist' for 'a request for UserA'*
&gt;   Given UserA does not exist
&gt; 09:35:38 [INFO] Running provider verification for 'a request for UserA'
&gt; 09:35:38 [INFO] Sending request to provider at <a href="http://localhost:8000/">http://localhost:8000/</a>
&gt; 09:35:38 [INFO] Received response: HTTP Response ( status: 404, headers: Some({"date": ["Mon", "06 Dec 2021 09:35:38 GMT"], "server": ["uvicorn"], "content-length": ["27"], "content-type": ["application/json"]}), body: Present(27 bytes, application/json) )
&gt; 09:35:38 [INFO] comparing to expected response: HTTP Response ( status: 404, headers: Some({}), body: Missing )
&gt; *09:35:38 [INFO] Running provider state change handler 'UserA does not exist' for 'a request for UserA'*
After fix:
&gt; $ ./rust/target/debug/pact_verifier_cli -d /home/mgeeves/dev/GitHub/mikegeeves/pact-foundation/pact-python/examples/pacts --loglevel info -p 8000 -s <a href="http://localhost:8000/_pact/provider_states">http://localhost:8000/_pact/provider_states</a> 
&gt; 
&gt; Verifying a pact between UserServiceClient and UserService
&gt; *11:43:17 [INFO] Running provider state change handler 'UserA exists and is not an administrator' for 'a request for UserA'*
&gt;   Given UserA exists and is not an administrator
&gt; 11:43:17 [INFO] Running provider verification for 'a request for UserA'
&gt; 11:43:17 [INFO] Sending request to provider at <a href="http://localhost:8000/">http://localhost:8000/</a>
&gt; 11:43:17 [INFO] Received response: HTTP Response ( status: 200, headers: Some({"server": ["uvicorn"], "date": ["Mon", "06 Dec 2021 11:43:16 GMT"], "content-length": ["134"], "content-type": ["application/json"]}), body: Present(134 bytes, application/json) )
&gt; 11:43:17 [INFO] comparing to expected response: HTTP Response ( status: 200, headers: Some({}), body: Present(134 bytes) )
&gt; *11:43:17 [INFO] Running provider state change handler 'UserA does not exist' for 'a request for UserA'*
&gt;   Given UserA does not exist
&gt; 11:43:17 [INFO] Running provider verification for 'a request for UserA'
&gt; 11:43:17 [INFO] Sending request to provider at <a href="http://localhost:8000/">http://localhost:8000/</a>
&gt; 11:43:17 [INFO] Received response: HTTP Response ( status: 404, headers: Some({"server": ["uvicorn"], "content-length": ["27"], "date": ["Mon", "06 Dec 2021 11:43:16 GMT"], "content-type": ["application/json"]}), body: Present(27 bytes, application/json) )
&gt; 11:43:17 [INFO] comparing to expected response: HTTP Response ( status: 404, headers: Some({}), body: Missing )</div></div></div><br/>
<div><a id="1638795398.034000"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1638795398.034000" ><div class="time">2021-12-06 12:56</div></a><div class="msg">Ahh tests fail</div></div></div><br/>
<div><a id="1638827852.034400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638827852.034400" ><div class="time">2021-12-06 21:57</div></a><div class="msg">I'll have a look at it for you</div></div></div><br/>
<div><a id="1638828078.034600"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1638828078.034600" ><div class="time">2021-12-06 22:01</div></a><div class="msg">:+1: it's not causing me any problems, I just noticed it when looking at state changes</div></div></div><br/>
<div><a id="1638832046.034900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638832046.034900" ><div class="time">2021-12-06 23:07</div></a><div class="msg">Thanks for the fix!</div></div></div><br/>
<div><a id="1638836308.035100"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638836308.035100" ><div class="time">2021-12-07 00:18</div></a><div class="msg">I've merged it, but changed it to be non-async</div></div></div><br/>
<div><a id="1638865775.035500"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1638865775.035500" ><div class="time">2021-12-07 08:29</div></a><div class="msg">:D Rust looks interesting, still on my Todo list to learn! Typing and traits are :open_mouth:</div></div></div><br/>
<div><a id="1638887278.035700"><img src="https://avatars.slack-edge.com/2021-11-08/2692463631910_326d4058fe7a25fbbf74_72.png" /></a><div class="message"><div class="username">mike.geeves064</div><a style="text-decoration: none" href="#1638887278.035700" ><div class="time">2021-12-07 14:27</div></a><div class="msg">:facepalm: ah should have modified it to print "Running provider state [setup|teardown] change handler" or something, as well, I will leave that for another day because PR overhead :slightly_smiling_face: ..and meanwhile start reading the Rust book because even that tiny change took me way too long :smile:</div></div></div><br/>
<div><a id="1641465339.000200"><img src="https://avatars.slack-edge.com/2022-01-06/2939560137584_364952336657f432f0c2_72.jpg" /></a><div class="message"><div class="username">marconota.mac</div><a style="text-decoration: none" href="#1641465339.000200" ><div class="time">2022-01-06 10:35</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1641838204.000500"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1641838204.000500" ><div class="time">2022-01-10 18:10</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1642395934.000700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642395934.000700" ><div class="time">2022-01-17 05:05</div></a><div class="msg">@uglyog you OK if I release the latest FFI now that you merged that PR in, or was that on your list anyway?</div></div></div><br/>
<div><a id="1642396085.001400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1642396085.001400" ><div class="time">2022-01-17 05:08</div></a><div class="msg">Before we can release FFI, we need to release the mock server and verifier crates</div></div></div><br/>
<div><a id="1642396103.001700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1642396103.001700" ><div class="time">2022-01-17 05:08</div></a><div class="msg">But I can do those (wasn't planning on it)</div></div></div><br/>
<div><a id="1642398592.002000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642398592.002000" ><div class="time">2022-01-17 05:49</div></a><div class="msg">yep, I assumed I?d need to follow the dependency chain. If you can do it though that?s awesome, thank you</div></div></div><br/>
<div><a id="1642474173.003300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642474173.003300" ><div class="time">2022-01-18 02:49</div></a><div class="msg">@uglyog I?m finding a few tests don?t seem to work consistently across OS versions, and they all seem to be binary payload related.

e.g. <a href="https://github.com/pact-foundation/pact-js/runs/4848121252?check_suite_focus=true#step:4:7668">https://github.com/pact-foundation/pact-js/runs/4848121252?check_suite_focus=true#step:4:7668</a>
<a href="https://github.com/pact-foundation/pact-js-core/runs/4812794228?check_suite_focus=true#step:4:361">https://github.com/pact-foundation/pact-js-core/runs/4812794228?check_suite_focus=true#step:4:361</a> (not the ubuntu build passes, but osx fails)</div></div></div><br/>
<div><a id="1642474339.003400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1642474339.003400" ><div class="time">2022-01-18 02:52</div></a><div class="msg">Those use the magic mime file type DB, which is GPL so we can't include it in the libs. It is also normally not available on Windows.</div></div></div><br/>
<div><a id="1642474443.003600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642474443.003600" ><div class="time">2022-01-18 02:54</div></a><div class="msg">I thought that might be the case</div></div></div><br/>
<div><a id="1642474454.003800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642474454.003800" ><div class="time">2022-01-18 02:54</div></a><div class="msg">I?m wondering how we deal with it cross platform</div></div></div><br/>
<div><a id="1642474473.004000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642474473.004000" ><div class="time">2022-01-18 02:54</div></a><div class="msg">Should it not take the `content-type` header first, rather than sniff the payload?</div></div></div><br/>
<div><a id="1642474485.004200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642474485.004200" ><div class="time">2022-01-18 02:54</div></a><div class="msg">i.e. if there is no `content-type` , fallback to the magic mime type detection?</div></div></div><br/>
<div><a id="1642474547.004400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1642474547.004400" ><div class="time">2022-01-18 02:55</div></a><div class="msg">That is assuming the content type header will always be correct.</div></div></div><br/>
<div><a id="1642475056.004600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642475056.004600" ><div class="time">2022-01-18 03:04</div></a><div class="msg">I know. In my case, the tests have consistent setup and content types in the HTTP request, but the FFI is overriding what it detects and failing the build. What do you recommend ?</div></div></div><br/>
<div><a id="1642475092.004800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642475092.004800" ><div class="time">2022-01-18 03:04</div></a><div class="msg">I?d say the majority of use cases will run builds on the same OS (so unlikely to get different responses)</div></div></div><br/>
<div><a id="1642475208.005000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1642475208.005000" ><div class="time">2022-01-18 03:06</div></a><div class="msg">There is an Apache project for doing this, but it is for the JVM. I was thinking of using their config files, but porting the implementation to Rust. They are Apache v2 licensed.</div></div></div><br/>
<div><a id="1642475241.005200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1642475241.005200" ><div class="time">2022-01-18 03:07</div></a><div class="msg"><a href="https://tika.apache.org/">https://tika.apache.org/</a></div></div></div><br/>
<div><a id="1642506919.005500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1642506919.005500" ><div class="time">2022-01-18 11:55</div></a><div class="msg">Raised an issue to track</div></div></div><br/>
<div><a id="1643594866.606649"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643594866.606649" ><div class="time">2022-01-31 02:07</div></a><div class="msg">:clap: JSON output</div></div></div><br/>
<div><a id="1643981255.222859"><img src="https://avatars.slack-edge.com/2021-12-13/2846991394177_a27a94517078ebb6139d_72.jpg" /></a><div class="message"><div class="username">fabio.rodrigues</div><a style="text-decoration: none" href="#1643981255.222859" ><div class="time">2022-02-04 13:27</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1644413187.092869"><img src="https://avatars.slack-edge.com/2022-02-09/3091871403105_605b41e807aa6b6ab126_72.jpg" /></a><div class="message"><div class="username">agustin.gomes</div><a style="text-decoration: none" href="#1644413187.092869" ><div class="time">2022-02-09 13:26</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1646321845.313099"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1646321845.313099" ><div class="time">2022-03-03 15:37</div></a><div class="msg">Do we want to move csv in pact-plugins to a new project e.g. pact-csv-plugin like we did for pact-protobuf-plugin?</div></div></div><br/>
<div><a id="1646337980.018119"><img src="https://avatars.slack-edge.com/2022-02-04/3049882734678_44ae22a3e66eb6d77d44_72.jpg" /></a><div class="message"><div class="username">ricardo.gonzaga</div><a style="text-decoration: none" href="#1646337980.018119" ><div class="time">2022-03-03 20:06</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1646344876.786919"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1646344876.786919" ><div class="time">2022-03-03 22:01</div></a><div class="msg">That's a good idea. Then it will have it's own lifecycle</div></div></div><br/>
<div><a id="1646375974.379969"><img src="https://secure.gravatar.com/avatar/5f26112b4b3e23fd30904c536a43ea91.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">tomas.sakinis</div><a style="text-decoration: none" href="#1646375974.379969" ><div class="time">2022-03-04 06:39</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1648716300.342139"><img src="https://secure.gravatar.com/avatar/6a5230985365547d583e8b8f3cd0f2ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">thomas.heilbronner</div><a style="text-decoration: none" href="#1648716300.342139" ><div class="time">2022-03-31 08:45</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
<div><a id="1650309110.623549"><img src="https://secure.gravatar.com/avatar/e56972270335da29ddd62580416412c4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">lewiscowles</div><a style="text-decoration: none" href="#1650309110.623549" ><div class="time">2022-04-18 19:11</div></a><div class="msg">has joined #pact-rust</div></div></div><br/>
</div></body></html>