<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-03-24 03:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-03-26 10:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-04-05 04:06</div><div class="msg">/github subscribe pact-foundation/pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-05-02 04:56</div><div class="msg">/github unsubscribe pact-foundation/pact-js commits</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-05-02 04:57</div><div class="msg">/github unsubscribe pact-foundation/pact-js commits</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-05-02 04:57</div><div class="msg">/github unsubscribe pact-foundation/pact-js deployments public</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f791abc0cda5d63443d1f484376f1537.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">sgleadow</div><div class="time">2018-05-09 07:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-05-09 07:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-09 07:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-09 07:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:22</div><div class="msg">@rgshah781988 that error message has nothing to do with pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:22</div><div class="msg">that's an assertion error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-09 07:22</div><div class="msg">exactly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:23</div><div class="msg">must be coming from your tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-09 07:23</div><div class="msg">you?re not properly handling the promise, it seems</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-09 07:23</div><div class="msg">if you can share your test code, we can probably help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:24</div><div class="msg">but remember that we're not here to fix your tests for you, there's plenty of documentation out there, so please try your best before bringing it to us as we're busy as well :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:24</div><div class="msg">Yes sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:25</div><div class="msg">I got stuck since 5 days</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:26</div><div class="msg">did you follow an example on how to use pact?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:26</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:26</div><div class="msg">When I use matchers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:26</div><div class="msg">`const { Pact, Matchers } = require('../../../dist/pact')` ...this doesn't seem right..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:26</div><div class="msg">THen i am facing issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:27</div><div class="msg">can you post the link of the example you're following?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:27</div><div class="msg">Actually, Example is working.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:28</div><div class="msg">pact-foundation e2e folder</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:28</div><div class="msg">I am trying my application with it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:28</div><div class="msg">I am getting pact file creating successfully without using matchers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:29</div><div class="msg">...I asked for the link to the example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:29</div><div class="msg">When I use matchers then I am getting error.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:29</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/consumer.spec.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/consumer.spec.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:32</div><div class="msg">right.  An where in this example are we doing `expect(response.data).to.eql(EXPECTED_BODY)`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:33</div><div class="msg">As per this , I did implementation in my project : <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/mocha/test/get-dogs.spec.js">https://github.com/pact-foundation/pact-js/blob/master/examples/mocha/test/get-dogs.spec.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:34</div><div class="msg">so, you took 2 different examples and mashed it together</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:34</div><div class="msg">I have updated code as per this details</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:35</div><div class="msg">the line before `expect(response.data).to.eql(EXPECTED_BODY)`, add this: `console.log(JSON.stringify(response.data, null, 2));console.log(JSON.stringify(EXPECTED_BODY, null, 2));`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:35</div><div class="msg">run the example again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:35</div><div class="msg">This example , I need to use matchers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:35</div><div class="msg">and see if they're equal</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:38</div><div class="msg">Expect condition is failing. I am getting console response</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:38</div><div class="msg">anywho, I need to get home.  I suggest that you try to understand how pact works before you start combining tests together.  There's plenty of resources out there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:38</div><div class="msg">the expect is failing because the objects are not the same</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:38</div><div class="msg">one is the pact definition, the other is the action object coming from the mock</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:38</div><div class="msg">they're 2 different things</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:38</div><div class="msg">one explains the format, the other returns the end results</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 07:39</div><div class="msg">Thanks you so much @mboudreau</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:39</div><div class="msg">point is, you're not suppose to do an expect on the whole object</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:40</div><div class="msg">do an expect on individual properties</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:40</div><div class="msg">or keys if needed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 07:41</div><div class="msg">but really, by adding those tests, you're not testing your code, you're testing the mock service.  We have plenty of tests for those, and I assure you they work.  You should be testing your own code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-09 07:41</div><div class="msg">I think we should update the examples. The original `dog api` examples are so contrived they are useless - i.e. they encourage testing the whole object. I?ll put an issue in pact-js for us to fix them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-09 07:50</div><div class="msg">:point_up:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 08:23</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 13:37</div><div class="msg">How can I get dynamic response from pact files ? I tried using matchers such as like,eachlike</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 13:38</div><div class="msg">I am working on API which has POST call with different payload values.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-09 13:38</div><div class="msg">According response changes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a64731e1d8e2c05e2a2a2255e7cbdd12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">slack1</div><div class="time">2018-05-09 20:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ad9b8b190b8e35184d3682955e0d7523.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">brentbarker9</div><div class="time">2018-05-09 20:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 22:25</div><div class="msg">you don't.  The point of pact is to generate a new response for each different request, hence you're now mapping all of the "interactions" as part of the "contract"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-09 22:26</div><div class="msg">you can reuse responses if you'd like for a different interaction though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-10 01:37</div><div class="msg">I think ?dynamic response? isn?t quite what you mean :slightly_smiling_face:

You have
- variable request (on parameters), and
- deterministic response fields (constant, or from parameters), or
- flexible response fields (?dynamic? such as a fresh ID).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-10 01:37</div><div class="msg">for all response fields, you may want to use a flexible matcher</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-05-10 04:01</div><div class="msg">That's fine @rgshah781988. Just make a different interaction (request/response) for each different POST example. If the post is to the same URL, you'll need to make sure that only one interaction is mocked at a time, so the mock knows which response to return. That is, you'll have to do a set up/tear down for each interaction (which is actually the recommended way to use pact anyway).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-10 05:47</div><div class="msg">Yes, This what I expect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-10 05:47</div><div class="msg">So, how to do flexible matcher</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-10 06:09</div><div class="msg">Have a look in the docs: <a href="https://github.com/pact-foundation/pact-js#matching">https://github.com/pact-foundation/pact-js#matching</a>
There?s an example under the heading *Match based on type* :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-10 06:09</div><div class="msg">ok tysm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-10 07:33</div><div class="msg">Just released a neat little video showing some of the features of Pact JS and integration with the broker: <a href="https://github.com/pact-foundation/pact-js/#examples">https://github.com/pact-foundation/pact-js/#examples</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-10 07:33</div><div class="msg">Useful?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-10 09:15</div><div class="msg">Pact JS and integration with the broker . All inforamtion is clear with pact-broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-10 11:05</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-11 05:28</div><div class="msg">Having the console recording is nice, but with no scrub bar, it all disappears before I can read it :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-11 05:28</div><div class="msg">Maybe <a href="https://asciinema.org/">https://asciinema.org/</a> would be easier to use?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-11 06:17</div><div class="msg">that?s what I used to create it. The annoying thing about asciinema is that it doesn?t play - I should probably like to it though, good point</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-11 07:11</div><div class="msg">you mean there?s no embeddable player? <a href="http://asciicinema.org">http://asciicinema.org</a> is covered in them :s I thought it was part of the package</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-11 07:12</div><div class="msg">As in, you can?t embed the player into a GitHub README (or maybe you can now). You can only put the image and a link</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-11 07:12</div><div class="msg">That?s why the SVG plugin exists - because it plays, so you can see it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-11 07:13</div><div class="msg">so the best of both words is the SVG in the readme (because it looks sexy and can play) and a link to the player, where you can control the speed?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-11 07:21</div><div class="msg">right, because you need to source the player script</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-11 07:22</div><div class="msg">I guess you could iframe it . . . nothing but hacks to workaround that :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-05-11 07:22</div><div class="msg">but if the svg linked to a player, I think that?d be good enough</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-18 10:18</div><div class="msg">No update or message in pacts js since last 7 days :sunglasses: Is anyone working with pactjs or not ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-18 11:20</div><div class="msg">@rgshah781988 hehehe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-18 11:20</div><div class="msg">People still migrating (and using) the gazillion other channels they were communicating to us on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-18 11:21</div><div class="msg">But I like to think, it?s so amazing and easy to use, that noone needs to ask questions about pact-js :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-05-18/366091458050_a83d8a889a0d963c6413_72.jpg" /><div class="message"><div class="username">rgshah781988</div><div class="time">2018-05-18 11:24</div><div class="msg">@matt.fellows gazillion  ?  can you share link of it ? I can find some solution or help.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-18 12:47</div><div class="msg">what do you mean, sorry?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-18 12:48</div><div class="msg">I was just remarking that the move from gitter/google groups/etc. to Slack is new, so it?s still new place to grow this community, hence not many conversations yet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6a5230985365547d583e8b8f3cd0f2ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">thomas.heilbronner</div><div class="time">2018-05-21 09:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d06c70af62cd8d231ae5c39a58e980e6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">avinash.eediga</div><div class="time">2018-05-23 05:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d06c70af62cd8d231ae5c39a58e980e6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">avinash.eediga</div><div class="time">2018-05-30 00:41</div><div class="msg">hi guys</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d06c70af62cd8d231ae5c39a58e980e6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">avinash.eediga</div><div class="time">2018-05-30 00:41</div><div class="msg">how do i add authorization headers  to access my endpoint to verify</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-30 02:39</div><div class="msg">@avinash.eediga could you please provide more info? Also, have you seen `customProviderHeaders` in <a href="https://github.com/pact-foundation/pact-js#verification-options">https://github.com/pact-foundation/pact-js#verification-options</a>?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-30 02:40</div><div class="msg">please also read <a href="https://docs.pact.io/faq#how-do-i-test-oauth-or-other-security-headers">https://docs.pact.io/faq#how-do-i-test-oauth-or-other-security-headers</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ad9b8b190b8e35184d3682955e0d7523.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">brentbarker9</div><div class="time">2018-05-30 20:17</div><div class="msg">Can I match based on the key? For example, I have a payload that returns with `{"monthJan":5}`, and every month that key will change (monthFeb, monthMarch, etc..)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-30 22:19</div><div class="msg">you can match using a regex</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-30 22:19</div><div class="msg">wait, I think that might be on the value, not the key</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-05-30 22:39</div><div class="msg">Yep, you can?t do it on the keys yet I?m afraid. That?s something slated for v4 of the spec: <a href="https://github.com/pact-foundation/pact-specification/tree/version-4">https://github.com/pact-foundation/pact-specification/tree/version-4</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-05-30 22:57</div><div class="msg">@brentbarker9 is there a way to change the data structure?  I can't imagine monthJan/monthFeb/etc to be a great way of doing it since the key changes.  It's adding more complexity than needed.  What are you trying to accomplish with this data structure?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ad9b8b190b8e35184d3682955e0d7523.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">brentbarker9</div><div class="time">2018-05-30 23:05</div><div class="msg">Yeah, talked to the dev. They are going to change the data structure to make a little more sense and not have the keys dynamic</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ad9b8b190b8e35184d3682955e0d7523.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">brentbarker9</div><div class="time">2018-05-30 23:06</div><div class="msg">Very cool it is going to be in v4 though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ad9b8b190b8e35184d3682955e0d7523.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">brentbarker9</div><div class="time">2018-05-30 23:06</div><div class="msg">thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/afa70c74da28803d0e0a158db432c03c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">g.r.mccann</div><div class="time">2018-05-31 10:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b293cca97ecb8264699f1eac8336779.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">dervis4</div><div class="time">2018-06-07 08:26</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/32434a39d3db6d9e71998fcc17812f40.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">vinny</div><div class="time">2018-06-15 06:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-06-21 10:51</div><div class="msg">is it possible to pass query parameter values in array ? something like this `page=[1]&amp;limit=[25]&amp;fql=[]`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-21 10:51</div><div class="msg">It should just be a string</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-21 10:52</div><div class="msg">I don't think it would be treated any differently to any other string.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-21 10:52</div><div class="msg">`{page: "[1]"}`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-21 10:52</div><div class="msg">Are you trying to work around some limitation in pact, or is that what your API requires?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-06-21 10:57</div><div class="msg">this is what my API requires</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-21 10:57</div><div class="msg">Should be fine. Why do you ask? Have you had problems?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-06-21 11:01</div><div class="msg">no problem.. i just wanted to try that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/170f925b0e1656ad60b3283fcf340957.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">ragarwal</div><div class="time">2018-06-22 03:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-06-22 10:17</div><div class="msg">Doesn't sound very consumer-driven :P</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-22 16:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-22 16:57</div><div class="msg">Hi, I am new on pact. I am having some issue with regex matching on a request,  is not matching any other value after the one specified in generate. I noticed if I remove manually from the json the [0] it then start to work. how should I setup in order to allow any value to be match? any idea?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-23 23:46</div><div class="msg">Something is wrong with the serialisation of the query. It should be an object, not a string. @matt.fellows does pact js turn the query in to a string, or does it pass the object through? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-06-24 00:48</div><div class="msg">I'll double check Beth. It should turn it into an object</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-24 00:51</div><div class="msg">@wchuang can you post the mock service logs? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-06-24 01:12</div><div class="msg">@bethskurrie this is what the framework serialises before sending over the wire to the mock service:
```
  "request": {
    "method": "GET",
    "path": "/animals/available",
    "query": {
      "page": {
        "json_class": "Pact::Term",
        "data": {
          "generate": "1",
          "matcher": {
            "json_class": "Regexp",
            "o": 0,
            "s": ".*"
          }
        }
      }
    }
  }
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-06-24 01:13</div><div class="msg">I?m not treating query strings any different to regular parameters, and to my eyes that looks to be consistent</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-24 01:45</div><div class="msg">Yep, it looks fine to me. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-24 01:47</div><div class="msg">@wchuang what you see in the pact is not what the mock service uses for matching. The pact is written after the request matching is done. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-06-24 01:56</div><div class="msg">also that matcher is pretty useless (it?s a regex that matches everything) - you might as well just match on type with `like('1')` which basically matches any string</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-06-24 01:58</div><div class="msg">@wchuang do you mean that when you modify the pact, it fixes your _consumer_ test or the _provider_ verification test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-06-24 01:59</div><div class="msg">I?ve just tested that locally anyway using the e2e examples in the repository, and the consumer test passes just fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 15:36</div><div class="msg">sorry for the delay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 15:37</div><div class="msg">15:36:36 [INFO]
 ===&gt; Received request: Request { method: "GET", path: "/api/objects", query: Some({"page": ["2"]}), headers: Some({"Authorization": "Basic Og==", "Content-Type": "application/json", "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36", "Accept-Encoding": "gzip, deflate, br", "Cache-Control": "no-cache", "Accept-Language": "en-US,en;q=0.9,it;q=0.8", "Postman-Token": "c9ebfe6b-d8c6-000c-5d03-b31d268636c3", "Accept": "*/*", "Connection": "keep-alive", "Host": "localhost:18119"}), body: Empty, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }
 15:36:36 [INFO]                    body: ''

15:36:36 [INFO] comparing to expected request: Request { method: "GET", path: "/api/objects", query: Some({"page": ["1"]}), headers: None, body: Missing, matching_rules: MatchingRules { rules: {"query": Category { name: "query", rules: {"page[0]": RuleList { rules: [Regex(".*")], rule_logic: And }} }} }, generators: Generators { categories: {} } }
 15:36:36 [WARN] No matching request found, sending 404 Not Found</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 15:37</div><div class="msg">thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 16:25</div><div class="msg">I used the regex, because now I am matching anything, but in long term i want to also do assertation on the string itself. i am trying now with like</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 16:30</div><div class="msg">service    | ===&gt; Received request: Request { method: "GET", path: "/api/objects", query: Some({"page": ["2"]}), headers: Some({"Postman-Token": "866f0fef-1ecd-122c-801b-4480d74c63d2", "Authorization": "Basic Og==", "Accept": "*/*", "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36", "Host": "localhost:18119", "Accept-Encoding": "gzip, deflate, br", "Accept-Language": "en-US,en;q=0.9,it;q=0.8", "Connection": "keep-alive", "Content-Type": "application/json", "Cache-Control": "no-cache"}), body: Empty, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }
service    | 16:27:40 [INFO]                    body: ''
service    |
service    | 16:27:40 [INFO] comparing to expected request: Request { method: "GET", path: "/api/objects", query: Some({"page": ["1"]}), headers: None, body: Missing, matching_rules: MatchingRules { rules: {"query": Category { name: "query", rules: {"page[0]": RuleList { rules: [Type], rule_logic: And }} }} }, generators: Generators { categories: {} } }
service    | 16:27:40 [WARN] No matching request found, sending 404 Not Found</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 16:30</div><div class="msg">no matching with Like, use somethinglike could not a like</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 16:30</div><div class="msg">withRequest: {
                    method: 'GET',
                    path: '/api/objects',
                    query: {
                        page: somethingLike('1')
                    }
                },</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 16:31</div><div class="msg">that the test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 16:31</div><div class="msg">and this is the json generated "description": "Get object",
      "request": {
        "method": "GET",
        "path": "/api/objects",
        "query": "page=1",
        "matchingRules": {
          "$.query.page[0]": {
            "match": "type"
          }
        }
      },</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 16:31</div><div class="msg">I just call with /api/objects?page=2</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-25 16:32</div><div class="msg">on the consumer test works, I need then to start the mock service and use is like the real one, here is failing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-26 05:55</div><div class="msg">@wchuang which implementation are you using? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-26 05:56</div><div class="msg">Those aren't the mock service logs from the ruby implementation (used by pact-js) </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-26 11:36</div><div class="msg">Hi beth, sorry for the misunderstanding, as said at the beginning I am new to pact :stuck_out_tongue: I have talked with my qa team, and basically we are using the pact-stub-server to then run the json file. that log come from there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-26 11:36</div><div class="msg"><a href="https://github.com/pact-foundation/pact-stub-server">https://github.com/pact-foundation/pact-stub-server</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-26 11:36</div><div class="msg">I guess here is the prob, do you know if these are compatible to be use in that way?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-06-26 11:57</div><div class="msg">Oh! You'll need @uglyog to help you with that. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd6f8e2762f3a108d11859666d52f65d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wchuang</div><div class="time">2018-06-26 12:39</div><div class="msg">k thanks beth for our help :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-06-27 06:22</div><div class="msg">this happens when we use the pact files with stub-server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c950bb44e4168a39ef361df236defff3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">spai</div><div class="time">2018-06-27 10:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-07-05 05:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff7f12107ea127e7c4e2412e897ab590.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">bsayers</div><div class="time">2018-07-11 08:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:07</div><div class="msg">cross-posting from #general : <a href="https://pact-foundation.slack.com/archives/C5F4KFKR8/p1531428184000342">https://pact-foundation.slack.com/archives/C5F4KFKR8/p1531428184000342</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:07</div><div class="msg">So yep, basically that?s the right one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:13</div><div class="msg">Cool. You mentioned avoiding karma-pact when possible. Why is that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:21</div><div class="msg">Well it?s just a bit more complicated to setup and has some restrictions. The reason is that inside Karma you don?t have access to the filesystem, so you need to configure Pact in your client test and in the Karma config (which starts the mock server, logs etc.). 

But the big one for me is that it encourages testing via UIs (end-to-end / acceptance style) rather than testing _just_ the collaborating components using pure JS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:23</div><div class="msg">ohhhh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:23</div><div class="msg">:ewww:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:24</div><div class="msg">yeah I?d like to avoid a UI</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:24</div><div class="msg">hehe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:24</div><div class="msg">that?s not to say that `karma-pact` means you have to test via the UI, but Karma most often is associated with it. If you know what you?re doing (i.e. can structure your tests appropriately) then you?re good :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:25</div><div class="msg">right on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:25</div><div class="msg">thank you for your time! this is helpful info</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:25</div><div class="msg">no worries!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:25</div><div class="msg">Now, I think I?ve seen your name from somewhere before - you?ve been using Pact for a while yeah?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:26</div><div class="msg">yessir I have, and with pleasure :simple_smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:26</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:26</div><div class="msg">Have I seen you on the Pact Broker forums maybe? (i.e. the forum for the hosted product <a href="http://pact.dius.com.au">http://pact.dius.com.au</a> ? which is now #pact-broker)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:28</div><div class="msg">I think you and Beth did a video ?intro to Pact? meeting with us a while ago (for Instructure). Also I?ve asked a few questions in the Google Group and Stackoverflow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:28</div><div class="msg">aha! Yes that?s it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:29</div><div class="msg">thanks to Pact we?ve scaled back our E2E test suite and moved almost all of them to run on deployed ?staging? and ?prod? environments only. So much faster CI!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:29</div><div class="msg">Where in discussions with Robert Lamb at the moment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:29</div><div class="msg">oh cool, that?s really great to hear</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:30</div><div class="msg">excellent, yeah Robert?s leading the Pact adoption for our flagship product</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:30</div><div class="msg">speaking of whom, I have a meeting with him right now :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:30</div><div class="msg">haha ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-07/377407683521_c8609271c649a3c185a9_72.jpg" /><div class="message"><div class="username">mikey</div><div class="time">2018-07-12 21:30</div><div class="msg">Thanks again, matt! Really appreciate all your help.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-12 21:30</div><div class="msg">say hi (and let him know that when it?s daylight here i?ll be talking with out people about how we can help :smile: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-07-16/399019658833_b40b11254f9193ef61f2_72.jpg" /><div class="message"><div class="username">michael.follmann</div><div class="time">2018-07-16 21:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-07-16/399019658833_b40b11254f9193ef61f2_72.jpg" /><div class="message"><div class="username">michael.follmann</div><div class="time">2018-07-16 21:54</div><div class="msg">Hi, I?m trying to integrate Pact JS into a React project. It worked well until I tried to build the application with Jenkins. When I execute `yarn install` I get the following error:
```
`Postinstalled Failed Unexpectedly: Extraction failed for /var/lib/jenkins/workspace/.../node_modules/@pact-foundation/pact-node/standalone/pact-1.52.1-linux-x86_64.tar.gz: Checksum rejected for file 'pact-1.52.1-linux-x86_64.tar.gz' with checksum pact-1.52.1-linux-x86_64.tar.gz.checksum`
```
I doubt that this a Pact JS issue, I?d rather blame Jenkins or Nexus. But I was hoping that maybe you have seen this before and could give me a useful hint how to resolve this. Thank you in advance!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-16 22:20</div><div class="msg">It would be worth trynig to get your hands on `/var/lib/jenkins/workspace/.../node_modules/@pact-foundation/pact-node/standalone/pact-1.52.1-linux-x86_64.tar.gz`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-16 22:21</div><div class="msg">Perhaps there is an intermediate proxy or something and it?s not properly downloading it, so when it does the validation it?s incorrect?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-07-16/399019658833_b40b11254f9193ef61f2_72.jpg" /><div class="message"><div class="username">michael.follmann</div><div class="time">2018-07-17 07:12</div><div class="msg">Thank you @matt.fellows! Unfortunately, the workspace is already gone and I can?t reproduce the issue. I can see that this file has been downloaded from <a href="https://github.com/pact-foundation/pact-ruby-standalone/releases/download/v1.52.1/pact-1.52.1-linux-x86_64.tar.gz">https://github.com/pact-foundation/pact-ruby-standalone/releases/download/v1.52.1/pact-1.52.1-linux-x86_64.tar.gz</a>.
Maybe it was a temporary issue with GitHub or any network/firewall component that corrupted the artifact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-17 07:14</div><div class="msg">the old ?turn it on and off again? trick - no worries, glad it?s up and working :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-07-16/399019658833_b40b11254f9193ef61f2_72.jpg" /><div class="message"><div class="username">michael.follmann</div><div class="time">2018-07-17 07:39</div><div class="msg">It?s safe to assume that it was a temporary GitHub issue:
<a href="https://status.github.com/messages">https://status.github.com/messages</a>
```
Jul 16, 2018 7:44 PM 20:04 CEST We've discovered the issue causing connectivity failures and are remediating. 
```
Thank you for your support! :+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-17 07:44</div><div class="msg">no worries</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/96d56ccd47ca4d572c831bdee95f80be.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">dominic.jones</div><div class="time">2018-07-17 07:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cdad1e44fedd93627ee671d1a3c6e33.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">matt</div><div class="time">2018-07-18 16:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-07-23 05:43</div><div class="msg">what?s the status of the pact js framework in terms of supporting parallel tests ?
the most prevalent example is jest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-23 07:02</div><div class="msg">It?s possible, albeit you?ll need to follow the caveats outlined in the readme</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-23 07:02</div><div class="msg">it?s easiest if the parallelised tests are hitting a different mock endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2018-07-23 07:10</div><div class="msg">Easiest == only possible. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-23 07:11</div><div class="msg">or `s/a different mock endpoint/a different mock provider`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-23 07:11</div><div class="msg">you definitely need a different _mock endpoint_ to make tests against a single provider work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-23 07:13</div><div class="msg">see <a href="https://github.com/pact-foundation/pact-js#parallel-tests">https://github.com/pact-foundation/pact-js#parallel-tests</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-07-23 07:56</div><div class="msg">alright. going to test that soon and will report back with feedback</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-07-23 08:43</div><div class="msg">Let us know how things go. I should be semi available later on tonight :laughing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-07-23 09:02</div><div class="msg">no rush, but appreciate it :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2018-07-26 11:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-08/413104972629_c6634b926b35f22b1a40_72.jpg" /><div class="message"><div class="username">codypumper</div><div class="time">2018-08-08 14:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-02-27/563061823653_df91edb2081076e4fc30_72.jpg" /><div class="message"><div class="username">kurst03</div><div class="time">2018-08-09 00:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8953f87dda4ff920d5391ac497a53393.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">mbudde</div><div class="time">2018-08-09 08:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-08-09 16:50</div><div class="msg">how much ?beta? is pact-js 6 exactly? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-09 20:42</div><div class="msg">More production ready than beta. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-09 20:43</div><div class="msg">It's just the message pact interface that might change. We were wanting more feedback </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-08-10 08:21</div><div class="msg">is there a PR or an issue opened on it which I should follow? and is there a list of items that need to land to make 6 ready?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2018-08-12 09:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dbb6a46ffe1d75d795a7ffbf5aeeb74a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">wilkin4</div><div class="time">2018-08-12 21:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0f118f2b21bbc97559b88e682b8cf988.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">nathanrobert.smith</div><div class="time">2018-08-13 12:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 06:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 06:46</div><div class="msg">Hi ,is it possible to create interactions  in JS like this ?matchingRules?: {
         ?$.query.var1[0]?: {
           ?match?: ?regex?,
           ?regex?: ?.*?
         },
         ?$.query.var2[0]?: {
           ?match?: ?regex?,
           ?regex?: ?.*?
         },
what should i pass in var 2 that my two api calls are successful
<a href="http://localhost:${PORT}/api/objects?var1=0&amp;var2=25">http://localhost:${PORT}/api/objects?var1=0&amp;var2=25</a> and <a href="http://localhost:${PORT}/api/objects?var1">http://localhost:${PORT}/api/objects?var1</a>
Is it possible to do by provider states?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-15 09:00</div><div class="msg">Rather than showing the expected pact file, let's start at the start. What's the goal of your test? You can definitely apply matchers to query strings if that's what you're asking</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-15 09:36</div><div class="msg">You'll probably want to use a type matcher also, rather than a regex if you don't care about the value</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 09:45</div><div class="msg">I want two tests to work .For example One uses only one parameter and other query uses two parameter .How do i do that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 09:45</div><div class="msg"><a href="http://localhost:${PORT}/api/objects?var1=0&amp;var2=25">http://localhost:${PORT}/api/objects?var1=0&amp;var2=25</a> and <a href="http://localhost:${PORT}/api/objects?var1">http://localhost:${PORT}/api/objects?var1</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 09:45</div><div class="msg">like this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 09:46</div><div class="msg">one is to list the data and in other test we pass one more parameter of sorting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-08-15 13:46</div><div class="msg">@dagarwal there isn?t any problem to do that. what?s your issue?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-08-15 13:46</div><div class="msg">you define different interactions in different tests so there?s no reason why you can?t do what you just described</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 13:49</div><div class="msg">I tried the same way .It just creates only one response for two interactions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 13:49</div><div class="msg">let me share the code with u</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-08-15 13:50</div><div class="msg">you should do:
1. set up interaction
2. run your test on the cdc
3. verify the interaction
for each one single test case that you have</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-08-15 13:50</div><div class="msg">it?s a best practice regardless to cdc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-15 13:57</div><div class="msg">I have shared the code with u</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-15 22:31</div><div class="msg">Did you want to share it with the channel so you can get the collective help of the community?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-08-17 14:23</div><div class="msg">@matt.fellows it allows me to create only one json , m adding two interaction with diff query and same path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-17 22:27</div><div class="msg">You don't need to run setup for each test. You should be able to run it once for the whole test suite.

Secondly, each test is unique based on the `given` and `uponReceiving` values. You can differentiate then with different values and pact will then record them as unique interactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2018-08-19 02:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2018-08-19 02:45</div><div class="msg"><a href="https://pact-foundation.slack.com/archives/C5F4KFKR8/p1534627536000200">https://pact-foundation.slack.com/archives/C5F4KFKR8/p1534627536000200</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-07-29/697168626386_5ff6ffb8f202d7ef15a5_72.jpg" /><div class="message"><div class="username">deshdeepdivakar</div><div class="time">2018-08-19 03:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 09:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 09:34</div><div class="msg">Cheers!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 09:39</div><div class="msg">If there's any examples of larger code bases with Angular Karma and PactJS out there - i'd been keen to have a look!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 17:38</div><div class="msg">Is this usually a fairly quiet channel over the weekend yeah?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-19 21:33</div><div class="msg">Hehe yeah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 21:48</div><div class="msg">No worries :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-19 21:51</div><div class="msg">Ah, I thought I had responded to this. I have some ideas/tips but have not used it with karma in anger. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-19 21:52</div><div class="msg">This might be of help <a href="https://github.com/pact-foundation/pact-js/blob/master/README.md#splitting-tests-across-multiple-files">https://github.com/pact-foundation/pact-js/blob/master/README.md#splitting-tests-across-multiple-files</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-19 21:54</div><div class="msg">The mock server that spins up is specific to each consumer/provider pair. So you can't reuse it for others. This is often the cause of strange behavior</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 21:57</div><div class="msg">The provider/consumer pair is unique. But it's specified at the top of each spec file like so :


    let provider;

    beforeAll(function (done) {
        provider = new PactWeb({
            consumer: 'FRESUI',
            provider: 'FRESAPI',
            logLevel: 'info',
            port: 1234,
            host: 'localhost',
        });
        // required for slower CI environments
        setTimeout(done, 2000);

        // Required if run with `singleRun: false`
        provider.removeInteractions();
    });

    afterAll(function (done) {
        provider.finalize().then(done, e =&gt; done.fail(e));
    });</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 21:58</div><div class="msg">I had looked at the README but wasn't sure how to achieve the setup and teardown across all Karma Tests. As a sort of beforeAllTests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 21:59</div><div class="msg">I'm not sure how much of a clue it is - but i get all sorts of failure spam on my console (Even on successful test pass).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-19 22:00</div><div class="msg">I don't think you can at this point. I'd suggest setting up multiple pact servers (on different ports) in your karma config, and then link to the different servers in your tests. 1 for each mock server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 22:05</div><div class="msg">Even with the same consumers? Is this just from a reliability standpoint?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-19 22:06</div><div class="msg">It does seem to pass on occassion on the build servers, just not reliably</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-08-20 04:58</div><div class="msg">most people have the weekend off from work :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-20 06:40</div><div class="msg">for the same consumer/provider _pair_, yes. If you have different providers but the same _consumer_ then it?s likely to cause issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-20 06:42</div><div class="msg">In your Karma config, you?ll need a separate mock server for each unique consumer/provider combination. e.g. if you have two providers, something like this:

```
    // Pact Providers
    pact: [{
      port: 1234,
      consumer: 'Consumer',
      provider: 'Provider1',
      log: path.resolve(process.cwd(), 'logs', 'pact.log'),
      dir: path.resolve(process.cwd(), 'pacts')
    },
{
      port: 5678,
      consumer: 'Consumer',
      provider: 'Provider2',
      log: path.resolve(process.cwd(), 'logs', 'pact.log'),
      dir: path.resolve(process.cwd(), 'pacts')
    }
],
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-20 06:44</div><div class="msg">Karma is responsible for starting the mock servers. After that, the jasmine tests are responsible for wiring to the correct mock server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-20 07:22</div><div class="msg">Shock horror :joy: I only ask to set my expectations right :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-20 07:23</div><div class="msg">Cheers Matt - i had a quick go last night but had some issues. On for another go now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-20 07:36</div><div class="msg">Actually - just re-read back there. In the tests my Consumer/Provider Pair IS the same. Is it still recommended for them to be on 2 seperate providers?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-20 11:32</div><div class="msg">and yet, I?m sure if we reviewed commit history this is where the majority of commits are made :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-08-20 21:00</div><div class="msg">only for the good projects :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-20 21:01</div><div class="msg">:laughing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-21 06:25</div><div class="msg">I think i've figure out what's wrong. I had
    afterEach((done) =&gt; {
        provider.verify().then(done, e =&gt; done.fail(e));
    });
In each of my tests when i was never looking to do this on my Angular tests.

My intention was to create unit tests with the mock responses - generate a pact file, publish to broker and then verify the pact on the actual consumers CI Build.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-21 06:26</div><div class="msg">So verifying the provider in the angular tests is pointless (Or is it, question for another day), and removing this resolves my issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-22 23:21</div><div class="msg">Hmm something doesn?t seem right here. `provider.verify().then(done, e =&gt; done.fail(e));`is not actually doing a provider verification, it?s checking that what you told the mock you were about to send to it in fact came through. If things are failing, that?s a cause for concern</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-22 23:22</div><div class="msg">if you could share a working example, or close enough to what you have it might be useful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-22 23:24</div><div class="msg">Might also be worth reading <a href="https://github.com/pact-foundation/pact-js/blob/master/README.md#parallel-tests">https://github.com/pact-foundation/pact-js/blob/master/README.md#parallel-tests</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-23 06:31</div><div class="msg">Ah i did read afterwards that i may have misunderstood there. Perhaps there's a bug with this as it did seem to be fairly inconsistent with the results it provided.

I'll hopefully get some time to dive into this again, i hit a bit of another snag with state management in the other thread too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-23 06:41</div><div class="msg">oh dear</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-23 06:42</div><div class="msg">if you have code that reproduces it, I can either help fix the bug, the docs or your code</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/775b38bbeb22c78dc21587499b34168d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">richarddalziel</div><div class="time">2018-08-23 09:00</div><div class="msg">I'll see if i can isolate it in a smaller repository - it may take me to the weekend to get round to it though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2018-08-23 12:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2018-08-23 12:48</div><div class="msg">Hello everyone. I have a question regarding using the `customProviderHeaders` . I am using it with AWS authentication, but I need each different request to be authenticated differently.

How do I add a different provider header to each single interaction?  Because basically, I need to dynamically add the headers according to information about the interaction I'm currently on.

Is there a direct way to do this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-23 12:53</div><div class="msg">Yeah it?s a limitation at the moment. Currently you can?t do it per interaction, unless your verification step is split for each interaction (not easy to do)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-23 12:53</div><div class="msg">could you please raise a request, I think I have a solution for working around how this works that could achieve this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2018-08-23 13:10</div><div class="msg">i was thinking as a workaround of getting the json file from the pact broker in a separate function, running through it and dynamically adding the auth header, make a new (local json), and then use that path for the pactUrls instead.

This should work right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2018-08-23 13:10</div><div class="msg">sure, where should I raise the request? pact-js repo ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9a51f0a6f3b96c065e4ed4114f6d23d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">nabrosimova</div><div class="time">2018-08-23 19:41</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/60adf2aa11aea2cffa07f0e0c920dd04.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">bherrera</div><div class="time">2018-08-23 19:42</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-08-23 20:52</div><div class="msg">Yes please</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2018-08-24 17:01</div><div class="msg">Hello guys. I could use some help.

I seem to have come across a weird bug, or maybe I am doing something wrong. We spent a while trying to debug it thinking it might be something we are doing on our side, but after debugging some of the code, I think it might be on pact-provider-verifier.rb , since I assume it is somewhere in there that it makes the HTTP request to my local server, but that's as far as we got.

- I have a pact broker hosted on heroku (temporarily) deployed like this <a href="https://github.com/pact-foundation/pact_broker/tree/master/example">https://github.com/pact-foundation/pact_broker/tree/master/example</a> , which i believe is using the latest version.
- Since this is a Serverless project, we had to make a local server for the providerStatesSetupUrl.

I am using the customProviderHeaders option to do AWS authentication. I need to pass in 3 headers. This is where it gets weird. I have to pass in 'Authorization' , 'X-Amz-Date' and 'Content-Type' headers.
- If I just pass in the first 2, I can see that pact talks to my local setup server, and it passes it the state in the body of the request. This, however, won't work, since it needs the third header.
- However, when I pass in the additional header 'Content-Type: application/x-www-form-urlencoded ' , for some reason, the state is no longer passed in the body of the request. It is being sent as an empty object {}, without the state.

It appears if I send any Content-Type that isn't Content-Type/application-json, including some gibberish , the state gets passed as empty.

Any clues?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2018-08-28 10:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2018-08-30 08:18</div><div class="msg">Morning all, having some issues getting Pact working with Angular 6 and Karma.
See below for the log against the terminal, and the package.json file in the thread. I'm following the tutorial on the git hub page, using the Karma + Jasmine page to modify the other relavent files. Any help would be appreciated. Thank you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2018-08-30 08:19</div><div class="msg">apologies in advance for any rookie mistakes, first time using JS/TS frameworks here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-02/374324941092_6fb5b0c3baf968b92f8a_72.png" /><div class="message"><div class="username">richard.peckett</div><div class="time">2018-08-30 08:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8bfe86a74f2db7a33ae26f715c206646.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">rhys</div><div class="time">2018-09-04 10:31</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-09-04 16:08</div><div class="msg">Hello all , I am getting ?Failed to load pact from ?pacts? - Failed to parse Pact JSON - expected value at line 1 column 1 ?error after docker pull , I have not made any changes in pact file .Any suggestions ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bb099f4058bf3d69c44e1fb7badae63f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">christophe</div><div class="time">2018-09-19 17:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-19 18:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-19 18:10</div><div class="msg">Hi guys</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-19 18:11</div><div class="msg">I?m running into an issue and someone in general chat told me to ping you guys? <a href="https://stackoverflow.com/questions/52410277/error-with-typescript-pact-io-test-popsicleerror-unable-to-connect-to">https://stackoverflow.com/questions/52410277/error-with-typescript-pact-io-test-popsicleerror-unable-to-connect-to</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-19 18:11</div><div class="msg">Oh hah I see my issue posted above</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-09-20 02:06</div><div class="msg">"solved" :upside_down_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-20 12:30</div><div class="msg">Did you ever work out what this is?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-20 12:31</div><div class="msg">Did you ever solve this? Sorry for my delay, must of missed it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-20 12:32</div><div class="msg">I think there is an issue on the repo that logs this issue. Why do you need to _actually_ auth to AWS  for the provider verification? Can you stub it out?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2018-09-20 13:25</div><div class="msg">hi @matt.fellows, no worries at all. Afraid I haven't been able to solve it no</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-09-20 13:25</div><div class="msg">yes it worked for me later</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-20/440663134327_ee2efe2d47ca2accd2ff_72.png" /><div class="message"><div class="username">wilson.mahann</div><div class="time">2018-09-20 14:22</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/743da2f506a4486c027bad59d7c21c8e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">zackary.mccolgan</div><div class="time">2018-09-20 17:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-20 22:42</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-25 21:41</div><div class="msg">I asked this in General, but realized this is the correct place to post this issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-25 21:41</div><div class="msg">But I?m getting the following Pact test errors:
```
console.error node_modules/@pact-foundation/pact/pact.js:110
    Pact verification failed!

  console.error node_modules/@pact-foundation/pact/pact.js:111
    Actual interactions do not match expected interactions for mock MockService.

    Missing requests:
        GET /frontoffice/api/liquidity-pool/get-total-payout
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-26 03:19</div><div class="msg">Hi @leon.gaban, the answer is in the error you are getting - your code (presumably `getTotalPayout`) is not hitting the Pact Mock Service endpoint `/frontoffice/api/liquidity-pool/get-total-payout`. It might be making an HTTP call, but it must not be calling the right thing (the Pact mock server).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 13:12</div><div class="msg">ok I?ll work on mocking that endpoint today, thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 14:47</div><div class="msg">@matt.fellows are there any good examples you could pass on?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 14:52</div><div class="msg">Hmm, `getTotalPayout` looks correct to me tho</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 14:53</div><div class="msg">and I have a `src/__mocks__/axios.ts` file

```
// tslint:disable-next-line:no-empty
const mockNoop = () =&gt; new Promise(() =&gt; {});

export default {
  get: jest.fn(() =&gt; Promise.resolve({ data: { total_payout: 100.21 }})),
  default: mockNoop,
  post: mockNoop,
  put: mockNoop,
  delete: mockNoop,
  patch: mockNoop
};
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 14:56</div><div class="msg">I?ll post a new stackoverflow question (will change paths to hide real api), I need code example help at this point.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 15:02</div><div class="msg"><a href="https://stackoverflow.com/questions/52520827/pact-io-getting-missing-requests-error-when-running-npm-run-pacttest">https://stackoverflow.com/questions/52520827/pact-io-getting-missing-requests-error-when-running-npm-run-pacttest</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 15:03</div><div class="msg">I will try create a small repo to reproduce this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 15:29</div><div class="msg">Repo up! <a href="https://github.com/leongaban/pact-io-js-test">https://github.com/leongaban/pact-io-js-test</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-26 15:31</div><div class="msg">running into a no tests found error atm :confused: `No tests found`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-26 20:28</div><div class="msg">This suggests you're mocking out axois completely, so no http call us going to be made. Hence why it's not making any http calls to the next mock server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-26 20:30</div><div class="msg">Pact is expecting a call via http. It's pretending to be your provider and will respond when interacted with</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-26 20:47</div><div class="msg">Thanks Leon</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-26 20:51</div><div class="msg">I?ve responded on Stack Overflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-26 22:44</div><div class="msg">There are multiple problems with your code

1. Axios seems to be used, but is not in your package.json. I?m guessing because you?re mocking it out (2)
2. Axios is mocked out to provide canned responses, DO NOT mock out axios during Pact testing (it?s ok for local dev if y,ou want) as this will prevent real calls being made to Pact
3. Configure axios in tests to hit the Pact mock service. Something like

pactSetup.ts:
```
// Configure axios to use the Pact mock server for Pact tests
import axios from "axios";
axios.defaults.baseURL = "<a href="http://localhost:1234">http://localhost:1234</a>";
```

4. Read the log files that Pact spits out. It tells you what?s going on. To re-iterate: You?ve told Pact that there should be an interaction on
5. You might want to use Pact for a local stub server for local development, once you?ve started generating Pacts (after 1-4 are fixed). The binary is actually installed in your node_modules and the docs for how it operates are at <a href="https://github.com/pact-foundation/pact-ruby-standalone/releases">https://github.com/pact-foundation/pact-ruby-standalone/releases</a>

I typically have a script in package.json that looks something like:

```
"stubs": "$(find . -name pact-stub-service | head -n 1) pacts/* --port 4000"
```

So that I can run `npm run stubs` and have a local stub of the provider running on port 4000</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-26 22:48</div><div class="msg">I?ve responded with the above and more on SO (<a href="https://stackoverflow.com/questions/52520827/pact-io-getting-missing-requests-error-when-running-npm-run-pacttest/52525869#52525869">https://stackoverflow.com/questions/52520827/pact-io-getting-missing-requests-error-when-running-npm-run-pacttest/52525869#52525869</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-26 22:48</div><div class="msg">The rest is up to you mate!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-28 01:09</div><div class="msg">How did you go @leon.gaban?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0c49f217fd024bef86965e580f931ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">leon.gaban</div><div class="time">2018-09-28 13:59</div><div class="msg">I?ll try to get it working this weekend, so I?ll remove the axios mock</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-09-30 08:55</div><div class="msg">while the README at `<a href="https://github.com/pact-foundation/pact-js">https://github.com/pact-foundation/pact-js</a>` is for version 6, the installation instructions there are `npm i -S @pact-foundation/pact@latest` which will install version 5 since the `latest` tag is associated with that where-as 6 is tagged as pre-release</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-09-30 08:55</div><div class="msg">not sure if that?s intentional or not but I find it confusing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-30 11:43</div><div class="msg">That is misleading, I'll get that fixed. Thanks Liran!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-09-30 12:14</div><div class="msg">Thanks! anytime</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-09-30 21:50</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-01 00:57</div><div class="msg">Fix on the way out for this process - thanks for the tip!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-01 01:48</div><div class="msg">lol, thanks integration . . .
&gt; *Release - null*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-01 01:49</div><div class="msg">right?!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-01 11:30</div><div class="msg">Nice :) </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2018-10-02 04:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3d1fca0e6ccc2c64192a6c2dcf8b7eed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">holden.mcginnis</div><div class="time">2018-10-03 15:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 00:04</div><div class="msg"><!here> so I?m thinking of deprecating node versions below `6` in the next release. It?s hard to keep dependencies up to date and secure, because a lot of them only support 6 or later. Thoughts?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 00:05</div><div class="msg">Release train `6.x.x` can continue to support until it?s deprecated, and `5.x.x`will be deprecated (&gt; 1 year old now)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-09 00:06</div><div class="msg">@matt.fellows sounds like a good idea as 6 is anyway in maintenance mode.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-09 00:06</div><div class="msg">so I guess new threshold will be 8?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-09 00:06</div><div class="msg">5 is not relevant at all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 00:07</div><div class="msg">I think 6 is still pretty common, so I?d prefer to start there unless good reason not to. Pact is used a lot in Enterprise environments, which can sometimes be a bit slower to upgrade/adopt</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 00:07</div><div class="msg">Part of the trigger, is I?m constantly finding myself (and others) to fix things to make it compatible - we?re fighting the system now, rather than flowing with it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-09 00:09</div><div class="msg">yep that?s true</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 00:09</div><div class="msg">I can see why 8 might be good - `async` etc.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-09 00:09</div><div class="msg">nods</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-09 00:10</div><div class="msg">also, 6 will be unsupported by 2019 which is just a few months ahead</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 00:10</div><div class="msg">hmmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 02:04</div><div class="msg">Hmmm? this integration might be a bit noisy!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-09 02:31</div><div class="msg">:stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 02:32</div><div class="msg">Was looking at some bots to automate versioning, staleness and triage issue/PRs - same :clock2:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-09 02:32</div><div class="msg">yeah, I just got spammed with emails</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 02:32</div><div class="msg">Heaps of good ones at <a href="https://probot.github.io/apps">https://probot.github.io/apps</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-09 02:32</div><div class="msg">good job :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-09 02:32</div><div class="msg">sorry about that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-10-09 11:10</div><div class="msg">i have pact tests which have get , Put request and for video functionality .It stops working if i go higher than v0.0.9 . anyone has any idea or faced this issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-10-09 11:10</div><div class="msg"><a href="https://github.com/pact-foundation/pact-stub-server/issues/6">https://github.com/pact-foundation/pact-stub-server/issues/6</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2018-10-11 00:55</div><div class="msg">Hi all - I wrote a proposal for improving the `pact-js` DSL - I'd be very interested in any thoughts:

<a href="https://gist.github.com/TimothyJones/d138bf765509d41e0ce8a4bfb777a31d">https://gist.github.com/TimothyJones/d138bf765509d41e0ce8a4bfb777a31d</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2018-10-11 00:55</div><div class="msg">Comments welcome on the issue here: <a href="https://github.com/pact-foundation/pact-js/issues/215">https://github.com/pact-foundation/pact-js/issues/215</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2018-10-15 09:50</div><div class="msg">@matt.fellows hi matt, just to update you, i've managed to solve the above problem.
The issue was in my *pact.spec.ts file i was trying to import Pact class from /pact instead of pact-web
Using the equivalent PactWeb class is now allowing Karma to run without throwing  up the errors in the previous attachement.
However, when i come to try and create a broker for my tests, i'm required to use the Publisher class from pact-node module folder, doing this is bringing me back to the original problem of all those module not found errors in the terminal,.
pact-web doesn't seem to have an equivalent for publishing to a broker, any ideas?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-15 10:14</div><div class="msg">Hi Adam.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-15 10:14</div><div class="msg">That?s great to hear!

On the publishing topic, you would never want to be publishing pacts from `pact-web`, at least, it?s not an intended behaviour</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-15 10:15</div><div class="msg">&gt; However, when i come to try and create a broker for my tests,

Hmm, that doesn?t make sense. The broker is a hosted component (e.g. <a href="http://pact.dius.com.au">http://pact.dius.com.au</a> or <a href="https://github.com/pact-foundation/pact_broker/">https://github.com/pact-foundation/pact_broker/</a>), do you mean ?publish a pact??

&gt;  i?m required to use the Publisher class from pact-node module folder, doing this is bringing me back to the original problem of all those module not found errors in the terminal,.

Yes, this won?t work in a non-node env (<a href="https://github.com/pact-foundation/pact-js/#using-pact-in-non-node-environments">https://github.com/pact-foundation/pact-js/#using-pact-in-non-node-environments</a>)

&gt; pact-web doesn?t seem to have an equivalent for publishing to a broker, any ideas?

Yes, pact-web is just a DSL for the tests themselves, which when successfully run then produce a pact file. This is what gets published.

It is recommended that only CI would publish pacts, so I would decouple the publishing (e.g. create a task `npm run pact:publish` from your test runs (`npm t`) - see <a href="https://github.com/pact-foundation/pact_broker/wiki/Set-up-checklist#consumer-team">https://github.com/pact-foundation/pact_broker/wiki/Set-up-checklist#consumer-team</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2018-10-15 10:42</div><div class="msg">thanks for the reply Matt, appreciate your help. Ideally would like to debug the publishing code locally, but it could be we need to look at not using Karma if we're wanting to do that. Thanks again :+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-15 12:08</div><div class="msg">What do you mean by "debug publishing locally"?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-15 12:13</div><div class="msg">Oh right, I mean you can still test it from your local, but you wouldn't normally attach the publish step to your testing code anyway. There's an e2e example in the project repo if you want to see an example though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2018-10-15 12:24</div><div class="msg">we've got a <a href="http://pact.net">http://pact.net</a> implementation for our back end microservices, and our senior developer is setting up the entire pact test process from creation&gt;verification&gt;publishing as part of the test. This is allowing us to test that the broker is running the contract comparison against the consumer/provider correctly. I was attempting to do the same with our front end application (written in Angular).
You think this approach is unwise in general or for simply a front-end application? Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-15 22:28</div><div class="msg">Just in general, you don?t want to be publishing pacts to the broker during development (i.e. TDD). Unless each time you run your test process locally you want to both publish the artifacts to the broker, and then run the provider verification (which seems very much overkill to me).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-15 22:29</div><div class="msg">You might want to be able to set an environment flag (e.g. `CI=true`) to be able to test that the process works, or for setting it up in the first place</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-10-16 08:25</div><div class="msg">Hi,
When i try provider verification like this,

```describe('Pact Verification', () =&gt; {
    it('should validate the expectations of Matching Service', function () { 
  
      let opts = {
        provider: 'Animal Profile Service',
        providerBaseUrl: '<a href="http://localhost:8081">http://localhost:8081</a>',
        pactBrokerUrl: '<a href="https://test.pact.dius.com.au/">https://test.pact.dius.com.au/</a>',
        pactBrokerUsername: 'dXfltyFMgNOFZAxr8io9wJ37iUpY42M',
        pactBrokerPassword: 'O5AIZWxelWbLvqMd8PkAVycBJh2Psyg1',
        publishVerificationResult: true,
        providerVersion: "1.0.0"
      }
      return new Verifier().verifyProvider(opts)
        .then(output =&gt; {
          console.log('Pact Verification Complete!')
          console.log(output)
        });
    });
  });```

i get an error
``` 1) Pact Verification
       should validate the expectations of Matching Service:
     TypeError: Must provide the providerBaseUrl argument
      at assertImpl (node_modules/check-types/src/check-types.js:730:11)
      at assertPredicate (node_modules/check-types/src/check-types.js:718:5)
      at Function.nonEmptyString (node_modules/check-types/src/check-types.js:710:14)
      at new Verifier (node_modules/@pact-foundation/pact-node/src/verifier.js:51:27)
      at Context.&lt;anonymous&gt; (test/pact/proververification.spec.js:26:14)```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-10-16 08:26</div><div class="msg">what am i missing in this ? i have given providerBaseUrl in opts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 10:28</div><div class="msg">hmm it looks ok to my eye</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 10:28</div><div class="msg">Can you please share an example project on GitHub I can use to reproduce the issue? (i.e. with package.json etc.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-10-16 11:40</div><div class="msg">yes @matt.fellows, <a href="https://github.com/vini46/PactProviderSample">https://github.com/vini46/PactProviderSample</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 11:49</div><div class="msg">OK I think the first problem is you?re not using the `@pact-foundation/pact` dependency, albeit it should still probably work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 11:49</div><div class="msg">see <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js</a> (it?s using a relative import, but that is the dependency from above)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 11:52</div><div class="msg">Ah, you?re problem is you?re using the API that exists on the `@pact-foundation/pact` dependency, but calling it on the `@pact-foundation/pact-node` dependency</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 11:53</div><div class="msg">Whilst you?re passing the right options through, you?re passing them to `verifyProvider()` and not the `new Verifier(opts)` constructor. As soon as you fix the constructor problem, it will complain that the method doesn?t exist</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 11:53</div><div class="msg">TL;DR - change `const { Verifier } = require("@pact-foundation/pact-node");` to `const { Verifier } = require("@pact-foundation/pact");`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 11:53</div><div class="msg">:ok_hand:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-10-16 12:37</div><div class="msg">thanks @matt.fellows it worked :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-16 21:45</div><div class="msg">@matt.fellows probably worth to document on the pact-foundation/pact-js github repo the different npms and what are they used for. The README on that repo also references @pact-foundation/pact-node in the broker publishing section</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-16 22:23</div><div class="msg">Thanks, I'll check today</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b919585a1136e508a3d24ec9c54bb5c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">daniel.straus</div><div class="time">2018-10-16 22:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-16 23:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-16 23:07</div><div class="msg">Good evening, I?m trying to trouble shoot this request
```
describe('List of personal snippets', () =&gt; {
    beforeEach(() =&gt; {
      const interaction = {
        state: 'I have a list of snippets',
        uponReceiving: 'a request for all the snippets',
        withRequest: {
          method: 'POST',
          path: '/v2/searches/snippets',
          body: { type: 'personal' },
          headers: {
            'Content-Type': 'application/json',
          },
        },
        willRespondWith: {
          status: 200,
          headers: {
            'Content-Type': 'application/json',
          },
          body: EXPECTED_BODY,
        },
      }

      return pactProviders.scintillas.addInteraction(interaction)
    })

    it('returns a list of snippets', async done =&gt; {
      const fetched_data = await fetch(`${url}/v2/searches/snippets`, {
        method: 'POST',
        body: JSON.stringify({ type: 'personal' }),
        headers: { 'Content-Type': 'application/json' },
      })
      const response = await fetched_data.json()
      expect(response).toEqual(EXPECTED_BODY)
      pactProviders.scintillas.verify()
      done()
    })
  })
```

In this setup when I added to `withRequest`
```
body: { type: 'personal' },
          headers: {
            'Content-Type': 'application/json',
          },
```
and
```
body: JSON.stringify({ type: 'personal' }),
headers: { 'Content-Type': 'application/json' },
```
to my `fetch` request. The provider doesn?t like it and it dies right after being created
```
[2018-10-16T23:00:38.974Z]  INFO: pact-node@6.19.11/72860 on Marcos-MacBook-Pro.local: Created './standalone/darwin-1.54.4/bin/pact-mock-service service --consumer 'Rhapsody' --cors 'true' --pact_dir '/Users/marcodellolio/src/rhapsody/pacts' --host '127.0.0.1' --log '/Users/marcodellolio/src/rhapsody/logs/mockserver-integration.log' --pact-file-write-mode 'merge' --port '8001' --provider 'Scintillas' --pact_specification_version '2'' process with PID: 72882
[2018-10-16T23:00:40.051Z]  INFO: pact-node@6.19.11/72860 on Marcos-MacBook-Pro.local: Removing Pact with PID: 72882
[2018-10-16T23:00:40.054Z]  INFO: pact-node@6.19.11/72860 on Marcos-MacBook-Pro.local:
    Deleting Pact Server with options:
```

Should I parse my request in a particular way?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:14</div><div class="msg">Most of the core maintainers are at an event today, so I'm not sure when you might get a solid reply :sweat_smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 00:17</div><div class="msg">oh! thank you for letting me know, do you have a post request example I can confront mine with?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:27</div><div class="msg">I'll have a look :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:32</div><div class="msg">The most recent one I've got handy is from about a year ago . . .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:33</div><div class="msg">```
    describe('can add an thing', () =&gt; {
      // given:
      beforeEach(() =&gt;
        provider.addInteraction({
          state: 'a view with two samplers',
          uponReceiving: 'request to add a thing',
          withRequest: {
            method: 'POST',
            path: '/view/0/sampler/1/thing',
            headers: headers.request,
            body: {
              type: 'interleaved',
              metrics: [{ type: 'event', name: 'view' }],
              variants: [{ name: 'jim', data: '' }, { name: 'bob', data: '' }],
              name: 'Some new thing'
            }
          },
          willRespondWith: {
            status: 201,
            body: {
              id: like('0'),
              state: 'unscheduled'
            }
          }
        })
      );

      // when:
      it('', () =&gt;
        client.thing
          .add(0, 1, {
            type: 'interleaved',
            metrics: [{ type: 'event', name: 'view' }],
            variants: [{ name: 'jim', data: '' }, { name: 'bob', data: '' }],
            name: 'Some new thing'
          })
          .then(body =&gt; {
            expect(body).to.eql({
              id: '0',
              state: 'unscheduled'
            });
          })
          .catch(fail));
    });
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:35</div><div class="msg">and in the API client . . .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:35</div><div class="msg">well, it's quite abstracted, and using `axios`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:36</div><div class="msg">would that be useful too? or is this enough to work from?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 00:40</div><div class="msg">I think so thank you! I just have to figure out how correctly parse the payloads</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:42</div><div class="msg">if you're not using `axios`, this may not be helpful, but here you go:
```
const mimeJson = 'application/json';
const headers = {
  'Content-Type': mimeJson,
  Accept: mimeJson
};
const GET = 'GET';
const POST = 'POST';
const PATCH = 'PATCH';
const DELETE = 'DELETE';

const transformBody = body =&gt; {
  if (body) {
    return JSON.stringify(body);
  }
  return null;
};
const wrapRequest = (url, method = GET, body = null) =&gt;
  axios({
    url,
    method,
    headers,
    data: transformBody(body)
  })
    .then(resp =&gt; resp.data)
    .catch(error =&gt; {
      if (error.response) {
        // Made a request, but got a failure code
        if (error.response.data.message) {
          const errorMessage = {
            status: error.response.status,
            message: error.response.data.message
          };
          throw errorMessage;
        }
... etc
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 00:44</div><div class="msg">what `transformBody(body)` does?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:49</div><div class="msg">it's just above the `wrapRequest` function</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 00:49</div><div class="msg">oh sorry I missed it. Thank you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-17 00:49</div><div class="msg">it just calls `JSON.stringify` if the body is truthy (mostly if it's not `null`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 02:56</div><div class="msg">As a quick note, to understand why it?s failing it might be worth setting logging to DEBUG and looking at the log files to see if there is any indication is to why it?s dying</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 02:56</div><div class="msg">Dying is not good :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 03:07</div><div class="msg">```
[2018-10-17T01:53:47.261Z]  INFO: pact-node@6.19.11/86087 on Marcos-MacBook-Pro.local:
    Creating Pact Server with options:
    consumer = Rhapsody,
    cors = true,
    dir = /Users/marcodellolio/src/rhapsody/pacts,
    host = 127.0.0.1,
    log = /Users/marcodellolio/src/rhapsody/logs/mockserver-integration.log,
    pactFileWriteMode = merge,
    port = 8001,
    provider = Scintillas,
    spec = 2,
    ssl = false,
    sslcert = ,
    sslkey =
[2018-10-17T01:53:47.262Z]  INFO: pact@7.0.1/86087 on Marcos-MacBook-Pro.local:
    Setting up Pact with Consumer "Rhapsody" and Provider "Scintillas"
       using mock service on Port: "8001"
[2018-10-17T01:53:47.815Z] DEBUG: pact-node@6.19.11/86087 on Marcos-MacBook-Pro.local: Starting pact binary with '/bin/sh,[object Object],...
..."NODE_ENV":"test","JEST_WORKER_ID":"1"}}'
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 03:07</div><div class="msg">```
[2018-10-17T01:53:47.819Z]  INFO: pact-node@6.19.11/86087 on Marcos-MacBook-Pro.local: Created './standalone/darwin-1.54.4/bin/pact-mock-service service --consumer 'Rhapsody' --cors 'true' --pact_dir '/Users/marcodellolio/src/rhapsody/pacts' --host '127.0.0.1' --log '/Users/marcodellolio/src/rhapsody/logs/mockserver-integration.log' --pact-file-write-mode 'merge' --port '8001' --provider 'Scintillas' --pact_specification_version '2'' process with PID: 86109
[2018-10-17T01:53:48.664Z] DEBUG: pact-node@6.19.11/86087 on Marcos-MacBook-Pro.local:
    INFO  WEBrick 1.3.1
    INFO  ruby 2.2.2 (2015-04-13) [x86_64-darwin13]

[2018-10-17T01:53:48.664Z] DEBUG: pact-node@6.19.11/86087 on Marcos-MacBook-Pro.local:
    INFO  WEBrick::HTTPServer#start: pid=86109 port=8001

[2018-10-17T01:53:48.909Z]  INFO: pact-node@6.19.11/86087 on Marcos-MacBook-Pro.local: Removing Pact with PID: 86109
[2018-10-17T01:53:48.911Z]  INFO: pact-node@6.19.11/86087 on Marcos-MacBook-Pro.local:
    Deleting Pact Server with options:
    consumer = Rhapsody,
    cors = true,
    dir = /Users/marcodellolio/src/rhapsody/pacts,
    host = 127.0.0.1,
    log = /Users/marcodellolio/src/rhapsody/logs/mockserver-integration.log,
    pactFileWriteMode = merge,
    port = 8001,
    provider = Scintillas,
    spec = 2,
    ssl = false,
    sslcert = ,
    sslkey =
[2018-10-17T01:53:48.913Z] DEBUG: pact-node@6.19.11/86087 on Marcos-MacBook-Pro.local:
    INFO  going to shutdown ...
    INFO  WEBrick::HTTPServer#start done.

 FAIL  test/pact/consumer/scintillas.test.js
  ? Test suite failed to run

    Error: Timeout - Async callback was not invoked within the 10000ms timeout specified by jest.setTimeout.

      at mapper (../../node_modules/jest-jasmine2/build/queue_runner.js:41:52)

Test Suites: 1 failed, 1 total
Tests:       0 total
Snapshots:   0 total
Time:        13.27s
Ran all test suites matching /test\/pact\/consumer\/scintillas/i.
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 03:09</div><div class="msg">it shuts down a second after, and obviously my fetch sends a request to not existing server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 03:17</div><div class="msg">mmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 03:17</div><div class="msg">could you please try running the command it shows in the debug output? e.g. something along the lines of `./standalone/darwin-1.54.4/bin/pact-mock-service service --consumer 'Rhapsody' --cors 'true' --pact_dir '/Users/marcodellolio/src/rhapsody/pacts' --host '127.0.0.1' --log '/Users/marcodellolio/src/rhapsody/logs/mockserver-integration.log' --pact-file-write-mode 'merge' --port '8001' --provider 'Scintillas' --pact_specification_version '2'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 03:18</div><div class="msg">(you probably need to ensure the args are all correct but it _should_ start a server and wait. If it crashes, that might tell us what?s happening)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 03:18</div><div class="msg">it?s possible there is perhaps a port conflict</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 03:29</div><div class="msg">I?m not sure what command I?m supposed to run. But as soon I remove
```
body: { type: 'personal' },
          headers: {
            'Content-Type': 'application/json',
          },
```
from the request expectation and from the actual fetch post request, the test works correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 03:33</div><div class="msg">It should start a server on port 8001</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 03:34</div><div class="msg">you should then be able to hit it e.g. `curl localhost:8001` and it should return something (an error saying it can?t find an interaction)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 03:34</div><div class="msg">if that happens, that tells me something else is the problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 03:34</div><div class="msg">I?d say it?s something to do with the way your fetch thing is working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 03:36</div><div class="msg">I suspect that too, because I applied the headers to fix this
```
{"interaction_diffs": [{"body": {"ACTUAL": "[{\"type\":\"personal\"}]", "EXPECTED": [{"type": "personal"}]}, "description": "a request for all the snippets", "provider_state": "I have a list of snippets"}], "message": "No interaction found for POST /v2/searches/snippets"}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 03:37</div><div class="msg">because JSON.stringify(body) would not match my expected body</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 03:37</div><div class="msg">```
withRequest: {
          method: 'POST',
          path: '/v2/searches/snippets',
          body: [{ type: 'personal' }],
          headers: {
            Accept: 'application/json',
            'Content-Type': 'application/json',
          },
        },
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-17 13:39</div><div class="msg">I was able to solve the problem using `superagent` as client for my request.  Still no success with `axios` or `fetch`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-10-09/451969509649_b93a7cb890acf75f2d79_72.jpg" /><div class="message"><div class="username">brian.smith.keith</div><div class="time">2018-10-17 14:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2018-10-17 15:10</div><div class="msg">is there an npm module for `can-i-deploy` ? (<a href="https://github.com/pact-foundation/pact_broker-client#can-i-deploy">https://github.com/pact-foundation/pact_broker-client#can-i-deploy</a>)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-10-17 23:27</div><div class="msg">I can?t spot anything odd with your fetch. are you still using superagent as a workaround?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 23:30</div><div class="msg">Yeah, it looks ok to me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-17 23:31</div><div class="msg">Marco if you could please create a small project we can use to repro and raise an issue on pact-js, we?ll get to the bottom of it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-18 00:31</div><div class="msg">Update, looks like I was doing something odd with the beforeAll, afterAll hooks in Jest. I?m trying to spin up a mock provider for each service
```
global.pactProviders = {
  scintillas: new Pact({
    port: 8000 + Number(process.env.JEST_WORKER_ID),
    log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    cors: true,
    pactfileWriteMode: 'merge',
    consumer: 'Rhapsody',
    provider: 'Scintillas',
    logLevel: 'error',
  }),
}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-18 00:33</div><div class="msg">Looks like is working now, I?ll try to replace `superagent` with `fetch`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-18 04:48</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 01:08</div><div class="msg">Good evening again.
Do you mind clarifying this(?):
&gt;Each test is fully self-contained, with its own mock server on its own port

for ?test? it means test suit I guess.

I?m trying to start those 2 providers in parallel
```
global.pactProviders = {
  scintillas: new Pact({
    port: 8000 + Number(process.env.JEST_WORKER_ID),
    log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    cors: true,
    pactfileWriteMode: 'merge',
    consumer: 'Rhapsody',
    provider: 'Scintillas',
    logLevel: 'error',
  }),
  emailGateway: new Pact({
    port: 8000 + Number(process.env.JEST_WORKER_ID),
    log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    cors: true,
    pactfileWriteMode: 'merge',
    consumer: 'Rhapsody',
    provider: 'Scintillas',
    logLevel: 'error',
  }),
}
```
with a
```
 beforeAll(async done =&gt; {
    await pactProviders.scintillas/emailGateway.setup()
    done()
  })
```
in each suit but it errors with `Port '8001'/'8002' is already in use by another process.` Working correctly if remove one provider from the global object.

Thank you in advance</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 01:11</div><div class="msg">It can be for each test, but it normally adds extra overhead to restart the server every time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 01:12</div><div class="msg">but fomr what I can see, the JEST_WORKER_ID would be the same for both mocks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 01:12</div><div class="msg">hence it would have a port conflict</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 01:13</div><div class="msg">Shouldn?t the `JEST_WORKER_ID` increase with the test suit ran?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 01:15</div><div class="msg">in fact is failing on two different ports
```
ime:        1s, estimated 4s
 FAIL  test/pact/consumer/email_gateway.test.js0-19T01:07:30.248Z]  INFO: pact@7.0.1/96160 on Marcos-MacBook-Pro.local:
  ? Test suite failed to run

    Port '8001' is already in use by another process.

      16 |     logLevel: 'error',
      17 |   }),
    &gt; 18 |   emailGateway: new Pact({
         |                 ^
      19 |     port: 8000 + Number(process.env.JEST_WORKER_ID),
      20 |     log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
      21 |     dir: path.resolve(process.cwd(), 'pacts'),

      at Pact.Object.&lt;anonymous&gt;.Pact.createServer (../../node_modules/@pact-foundation/pact-node/src/pact.ts:48:10)
      at new Pact (../../node_modules/@pact-foundation/src/pact.ts:64:34)
      at Object.&lt;anonymous&gt; (testSetup.js:18:17)

 FAIL  test/pact/consumer/scintillas.test.js
  ? Test suite failed to run

    Port '8002' is already in use by another process.

      16 |     logLevel: 'error',
      17 |   }),
    &gt; 18 |   emailGateway: new Pact({
         |                 ^
      19 |     port: 8000 + Number(process.env.JEST_WORKER_ID),
      20 |     log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
      21 |     dir: path.resolve(process.cwd(), 'pacts'),

      at Pact.Object.&lt;anonymous&gt;.Pact.createServer (../../node_modules/@pact-foundation/pact-node/src/pact.ts:48:10)
      at new Pact (../../node_modules/@pact-foundation/src/pact.ts:64:34)
      at Object.&lt;anonymous&gt; (testSetup.js:18:17)

Test Suites: 2 failed, 2 total
Tests:       0 total
Snapshots:   0 total
Time:        2.156s, estimated 4s
Ran all test suites matching /test\/pact\/consumer/i
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 01:28</div><div class="msg">I believe the problem could be in the `beforeAll`:
before running the 1st test it starts 8001. Because the suit haven?t started yet and the ?reserved the worker 1? it tries to start a new provider again on 8001.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 01:59</div><div class="msg">Have you seen the Jest example in the pact-js repo?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:00</div><div class="msg">yes, but in that example there is a single provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:00</div><div class="msg">yes, but it is used across two separate test suites</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:00</div><div class="msg">in your case above, technically it _is_ just a single provider ?Scintillas?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:00</div><div class="msg">You?re just creating two instances of it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:02</div><div class="msg">In any case, I think you?re right about the logic.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:02</div><div class="msg">Hi Matt, this what I?m trying to avoid. If I?m not wrong the example should be run with `--runInBand`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:02</div><div class="msg">true, yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:02</div><div class="msg">I?m trying to start in parallel two different providers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:02</div><div class="msg">np</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:03</div><div class="msg">(just wanted to make sure you had good reasons and had thought about it first :slightly_smiling_face: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:04</div><div class="msg">I think you?re right though, it?s probably a logic thing where the provider is being created too many times</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:05</div><div class="msg">I need, in someway, to bind the the second provider to the starting on the first test suit</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:06</div><div class="msg">or I could scope the `beforeAll` inside each test suit, making sure to start only when the previous is started</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:08</div><div class="msg">why not just a) hard code the port for each test suite or b) randomly generate the port for each test suite?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:08</div><div class="msg">`s/test/test suite`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:18</div><div class="msg">well, hard coding the ports, brought up something new.
```
    Setting up Pact with Consumer "Rhapsody" and Provider "Scintillas"
       using mock service on Port: "8001"
[2018-10-19T02:16:38.270Z]  INFO: pact@7.0.1/1710 on Marcos-MacBook-Pro.local:
    Setting up Pact with Consumer "Rhapsody" and Provider "Scintillas"
       using mock service on Port: "8002"
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:19</div><div class="msg">do you see anything wrong with this global object pattern?
```
global.pactProviders = {
  scintillas: new Pact({
    port: 8001,
    log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    cors: true,
    pactfileWriteMode: 'merge',
    consumer: 'Rhapsody',
    provider: 'Scintillas',
    logLevel: 'error',
  }),
  emailGateway: new Pact({
    port: 8002,
    log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    cors: true,
    pactfileWriteMode: 'merge',
    consumer: 'Rhapsody',
    provider: 'Scintillas',
    logLevel: 'error',
  }),
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:24</div><div class="msg">seems to work fine when hard coding?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:25</div><div class="msg">could it be at jest uses parallel test runners?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:25</div><div class="msg">I'm not entirely versed in how jest works</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-19 02:25</div><div class="msg">looks OK to me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:34</div><div class="msg">sometimes javascript is frustrating
```
Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        1s[2018-10-19T02:36:27.226Z]  INFO: pact@7.0.1/5567 on Marcos-MacBook-Pro.local:
    Setting up Pact with Consumer "Rhapsody" and Provider "Scintillas"
       using mock service on Port: "8001"
[2018-10-19T02:36:27.228Z]  INFO: pact@7.0.1/5567 on Marcos-MacBook-Pro.local:
    Setting up Pact with Consumer "Rhapsody" and Provider "Scintillas"
       using mock service on Port: "8002"
[2018-10-19T02:36:27.273Z]  INFO: pact@7.0.1/5568 on Marcos-MacBook-Pro.local:
    Setting up Pact with Consumer "Rhapsody" and Provider "Scintillas"
 RUNS  test/pact/consumer/scintillas.test.js
 RUNS  test/pact/consumer/email_gateway.test.js

Test Suites: 0 of 2 total
Tests:       0 total
Snapshots:   0 total
Time:        2s[2018-10-19T02:36:27.933Z] ERROR: pact-node@6.19.11/5568 on Marcos-MacBook-Pro.local:
    Pact Binary Error: /Users/marcodellolio/src/rhapsody/node_modules/@pact-foundation/pact-node/standalone/darwin-1.54.4/lib/vendor/ruby/2.2.0/gems/webrick-1.3.1/lib/webrick/utils.rb:85:in `initialize': Address already in use - bind(2) for "127.0.0.1" port 8001 (Errno::EADDRINUSE)
    	from /Users/marcodellolio/src/rhapsody/node_modules/@pact-foundation/pact-node/standalone/darwin-1.54.4/lib/vendor/ruby/2.2.0/gems/webrick-1.3.1/lib/webrick/utils.rb:85:in `new'
    	from /Users/marcodellolio/src/rhapsody/node_modules/@pact-foundation/pact-node/standalone/darwin-1.54.4/lib/vendor/ruby/2.2.0/gems/webrick-1.3.1/lib/webrick/utils.rb:85:in `block in create_listeners'
    	from /Users/marcodellolio/src/rhapsody/node_modules/@pact-foundation/pact-node/standalone/darwin-1.54.4/lib/vendor/ruby/2.2.0/gems/webrick-1.3.1/lib/webrick/utils.rb:82:in `each'

```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:34</div><div class="msg">now fails on the same port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:35</div><div class="msg">I don't see a failure?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:37</div><div class="msg">sorry I should have it past it all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:40</div><div class="msg">right, I believe it's because that jest try to run all tests in parallel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:40</div><div class="msg">hence, there will be a port conflict</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:40</div><div class="msg">unless, there's an individual pact server ran on a random port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:40</div><div class="msg">for each test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:42</div><div class="msg">I?m trying to achieve parallelism. For what concerns the server setup I?m just using the following

```
beforeAll(done =&gt; {
  Promise.all(
    Object.keys(pactProviders).map(provider =&gt; pactProviders[provider].setup())
  ).then(() =&gt; done())
})

afterAll(done =&gt; {
  Promise.all(
    Object.keys(pactProviders).map(provider =&gt;
      pactProviders[provider].finalize()
    )
  ).then(() =&gt; done())
})
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:43</div><div class="msg">instead of using beforeAll/afterAll</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:43</div><div class="msg">why don't you just use a single before/after?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:43</div><div class="msg">which will run before and after each individual tests?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:44</div><div class="msg">I should set a specific before hook for each test suit?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:47</div><div class="msg">I think so, if you want to go the parallel route :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 02:51</div><div class="msg">let me try this path and I?ll let you know. Thank you guys!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 02:52</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-19 03:26</div><div class="msg">Btw, we're aware that this is a frustrating issue (especially with Jest), and @schalkt worked on a proposal for a better DSL: <a href="https://github.com/pact-foundation/pact-js/issues/215">https://github.com/pact-foundation/pact-js/issues/215</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 03:33</div><div class="msg">so, I was able to run the test in parallel defining the provider inside the test suit. Thank you all as always and good night</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-19 03:34</div><div class="msg">Where are you, Marco? It's only 14:34 here :sweat_smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 03:35</div><div class="msg">Atlanta, US. Its 23:35 here!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-19 03:35</div><div class="msg">Where are you all?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-19 03:40</div><div class="msg">Many of us are in Melbourne, Australia~* :flag-au:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2018-10-19 04:07</div><div class="msg">:arrow_up:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-19 04:08</div><div class="msg">Haha, many are in other places, too :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2018-10-22 03:06</div><div class="msg">@matt.fellows (and other interested parties) - I'm thinking of closing all of those dependabot pull requests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2018-10-22 03:07</div><div class="msg">Many of them introduce breaking changes, and for the ones that don't, I'm not sure we should be upgrading libraries without a reason</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2018-10-22 03:07</div><div class="msg">Thoughts?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-22 04:02</div><div class="msg">yep, go for it. There?s that branch for pact-js that we?ll fix manually to begin with, at which point we can re-enable it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-22 04:11</div><div class="msg">lol, looks like Github's coming back online</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2018-10-23 10:11</div><div class="msg">@simon.nizov has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-23 13:11</div><div class="msg">Hey Guys good morning (I guess good evening in AU:flag-au:). Thank you for your help with jest, everything is running smoothly! I have a question about Karma</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-23 13:13</div><div class="msg">I define my pact server in `karma.conf.js` and in the test file I create a new provider.
```
provider = new Pact.PactWeb({
      consumer: 'Rhapsody',
      provider: 'Scintillas',
      port: 9443,
      host: '127.0.0.1',
    })
```

What if in my `karma.conf.js` I define more servers, how do I create a mock provider identifying the right server? Just the port?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bc7aa56e8e004e4984e954e5e4cb2bc0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">tom.hombergs</div><div class="time">2018-10-23 19:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bc7aa56e8e004e4984e954e5e4cb2bc0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">tom.hombergs</div><div class="time">2018-10-23 19:40</div><div class="msg">@marco.dellolio yes, we use it like that. The only difference is the port (and potentially the provider name)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-23 20:57</div><div class="msg">@marco.dellolio, as @tom.hombergs said. You also don?t even need to pass the consumer/provider to the `PactWeb` constructor anymore (no need to duplicate what?s configured in the karma conf anyway). There should be a warning in your console about that I think</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-23 21:04</div><div class="msg">Thank you guys. Yes I was able to dry up my code a little</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-23 21:18</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-24 02:14</div><div class="msg">Hello guys, does anybody have a good use case of Pact working with `$httpBackend` in Angular.js sounds like it prevents to make real http request in the test environment</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-24 02:16</div><div class="msg"><a href="https://github.com/DiUS/pact-consumer-js-dsl/wiki/Using-Pact-with-Angular">https://github.com/DiUS/pact-consumer-js-dsl/wiki/Using-Pact-with-Angular</a> ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-24 02:32</div><div class="msg">That?s a pretty old repo, but the idea is probably the same - you?ll need to ensure there is a real http service injected into your configuration</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-24 02:32</div><div class="msg">I haven?t used Angular for a few years, and am out of touch with current practices myself</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/10db53b66da7be77b9c6f8d3d4b598ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">marco.dellolio</div><div class="time">2018-10-24 03:00</div><div class="msg">For me is brand new, we have a good part of our legacy front end with Angular models serving data to React Components, need to cover those with Pact as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bc7aa56e8e004e4984e954e5e4cb2bc0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">tom.hombergs</div><div class="time">2018-10-24 03:20</div><div class="msg">@matt.fellows thanks for looking into <a href="https://github.com/pact-foundation/pact-js/issues/234">https://github.com/pact-foundation/pact-js/issues/234</a> for me! What's the difference between the @pact-foundation/pact-web and @pact-foundation/pact packages anyways?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-24 04:05</div><div class="msg">No worries @tom.hombergs. I don?t have time for the longer version, but the TL;DR is <a href="https://github.com/pact-foundation/pact-js/#using-pact-in-non-node-environments">https://github.com/pact-foundation/pact-js/#using-pact-in-non-node-environments</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-26 05:00</div><div class="msg">new project, who dis?
```
.../node_modules/@pact-foundation/pact/pact.js:40
        this.opts = Pact.createOptionsWithDefaults(config);
                  ^

TypeError: Cannot set property 'opts' of undefined
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-26 05:01</div><div class="msg">Anyone seen this coming from the `Pact({...})` provider constructor?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-26 05:01</div><div class="msg">Working from <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/mocha/test/get-dogs.spec.js">https://github.com/pact-foundation/pact-js/blob/master/examples/mocha/test/get-dogs.spec.js</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2018-10-26 05:05</div><div class="msg">ahaha omg . . . missing a `new` keyword :ok_hand::innocent:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-26 06:34</div><div class="msg">Lol</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-27 05:23</div><div class="msg">Thanks @tom.hombergs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-10-27 05:23</div><div class="msg">also, in case you haven?t seen it, your eyeballs on <a href="https://github.com/pact-foundation/pact-js/issues/209">https://github.com/pact-foundation/pact-js/issues/209</a> and <a href="https://github.com/pact-foundation/pact-js/issues/215">https://github.com/pact-foundation/pact-js/issues/215</a> would be appreciated. Looking to simplify things whilst also making it more powerful/expressive</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bb42171e04c0810420506bbd5f68254e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">mmonson</div><div class="time">2018-10-30 20:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5c3705b9407b3ac649987f7249b7dafa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">anothonyvong</div><div class="time">2018-11-01 21:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/63148816ce66df2a5a79caea4478d523.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">hansrd_98</div><div class="time">2018-11-02 01:42</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-31/426962432530_cf65bc5cabfc881f2653_72.jpg" /><div class="message"><div class="username">romuald.quantin</div><div class="time">2018-11-02 08:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2018-11-02 22:41</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2018-11-03 12:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-05 12:47</div><div class="msg">yay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-05 12:47</div><div class="msg">mostly passed :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ea6f73cca7b6f9ebc967af19dca502aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nic</div><div class="time">2018-11-06 09:04</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-11-20 16:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-11-20 16:29</div><div class="msg">Hi everyone. Is the intention of the function in this example <a href="https://github.com/pact-foundation/pact-js/blob/d8214e6112f3ba26b93f46bee7fa6f3d8d970f76/karma/jasmine/client.js#L8">https://github.com/pact-foundation/pact-js/blob/d8214e6112f3ba26b93f46bee7fa6f3d8d970f76/karma/jasmine/client.js#L8</a> to show that we need to implement a method in each service we test with pact to override the environment's api base url? Thanks for any advice you can give</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-11-20 17:06</div><div class="msg">The below code passes when calling `apiService.createPactClient`.
I'd prefer not to have to create a new method in this service just to set localhost as the base url instead of the environment's api base url. However if I try to hardcode the base url + my path in the `karma.conf.js` as proxy key, it can't see the request. Am I doing something wrong? Using Angular 6 + Karma + Jasmine

```
// karma.conf.js

module.exports = function (config) {
...
    pact: [{
      consumer: 'ApiService',
      provider: 'backend',
      port: 7228,
      logLevel: 'DEBUG',
      cors: true,
      log: path.resolve(process.cwd(), 'logs', 'pact.log'),
      dir: path.resolve(process.cwd(), 'pacts'),
    }],
    proxies: {
      '/me': '<a href="http://127.0.0.1:7228/me">http://127.0.0.1:7228/me</a>',
    },
}
```

```
// api.service.js
import environment from './environment';

// simplified from a Typescript + Angular 6 class
class ApiService {
  // Overwrite the environment base api url
  createPactClient(baseUrl: string) {
    environment.apiBaseUrl = baseUrl;
  }

  getUser() {
    const path = '/me';
    return HttpClient.get(`${environment.apiBaseUrl}${path}`, new HttpHeaders());
  }
}
```

```
// api.service.spec.js
import * as Pact from '@pact-foundation/pact-web';

describe('PACT ApiService', () =&gt; {

  let apiService;
  let provider;

  const dummyUser = {
    firstName: 'dummy firstName',
    lastName: 'dummy lastName',
  };

  beforeAll(done =&gt; {
    provider = new Pact.PactWeb({
      port: 7228,
      host: '127.0.0.1',
    });

    done();

    provider.removeInteractions(); // Required for `singleRun: false`
  });

  afterAll(done =&gt; {
    provider.finalize().then(done, e =&gt; done.fail(e));
  });

  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      imports: [HttpClientModule],
      providers: [ApiService],
    });

    apiService = TestBed.get(ApiService);
  });

  describe('getUser', () =&gt; {
    beforeAll(done =&gt; {
      provider.addInteraction({
        state: 'provider responds with a user',
        uponReceiving: 'a request to GET a user',
        withRequest: {
          method: 'GET',
          path: `/me`,
        },
        willRespondWith: {
          status: 200,
          body: Pact.Matchers.somethingLike(dummyUser),
        },
      }).then(done, e =&gt; done.fail(e));
    });

    afterEach(done =&gt; {
      provider.verify().then(done, e =&gt; done.fail(e));
    });

    it('should get user', done =&gt; {
      // Overwrite the environment api base url
      apiService.createPactClient('<a href="http://localhost:7228">http://localhost:7228</a>');

      apiService.getUser().subscribe(response =&gt; {
        expect(response).toEqual(dummyUser);
        done();
      }, e =&gt; done.fail(e));
    });
  });
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-21 05:11</div><div class="msg">Pretty much, yes. Another standard option is to use Environment variables to inject configuration (in non-Karma use cases probably)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-21 05:16</div><div class="msg">I?m not that familiar with `proxies` in Karma/Angular. Is it possible to have another `environment` configuration for `pact` tests, which contains the endpoint/port required for pact tests? This way it?s consistent with the rest of your code base?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-11-21 09:23</div><div class="msg">Thanks
I will try to set up another environment for pact, but instead I think it would be for karma as that is what I use to run pact along with my other tests.
Perhaps having them run independently makes more sense.
I'll work out how to set the environment variable for the base url to localhost when running in karma + pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-30/778301475936_4f07ce22d98432b05423_72.jpg" /><div class="message"><div class="username">borsuk.artem034</div><div class="time">2018-11-21 15:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2018-11-23 15:11</div><div class="msg">Hey everyone. I was wondering if people have had experience using this in integration between frontend and backend (for example a React app and a NodeJS backend)? The reason I'm asking is because I am now working on establishing it between frontend and backend (where I see it can definitely bring a lot of value), but I feel like the "Consumer Driven" part gets a bit lost in some parts, depending on how you do it. I saw a couple of examples of people trying it online, and I guess that's what I want to know - what you think is the best approach:

- Approach A: you write your consumer tests on the http client or functions dealing with making the requests, and you just concern yourself with the data being handled properly by the HTTP client;
- Approach B: you write actual frontend facing consumer tests on how this data is handled by the UI;

So, Approach A is simple to implement and still guarantees that when the provider API makes changes, it doesn't break the frontend (the more common use-case). But Approach B is more "consumer driven" , because if you were to make changes to how you handle or expect the data, it would actually break a consumer build.

Which one is best? Is there value in both?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-23 21:13</div><div class="msg">@bernardo.guerreiro happy you?re bringing up the subject.
A sounds more like by-the-book consumer unit testing. B you can still do but in a form of end-to-end integration tests. Meaning that with B you are actually clicking buttons on the UI and driving flows that trigger API calls, which you can then have a stubbed mock server based on the consumer contracts, to return the results for.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-24 15:57</div><div class="msg">I think b, but not in the form that tests via a UI e2e test. You want to test your service delegate code / collaborator. If it still feels closer to a pure unit test then you're in the sweet spot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-24 15:58</div><div class="msg">Most examples use the http client for convenience/ simplicity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-24 15:58</div><div class="msg">See js issues - one is there about expired being contrived</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-26 12:10</div><div class="msg">Hey Guys ,  I am writing a provider verification tests and verification is failing  due to  difference in actual and expected .I am trying to add matchers and see if it works .I am using method verifyProvider and for that i was used the  parameter pactBrokerUrl .I want to know is it possible to verify the provider with my local json file and if yes , how  ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-26 12:17</div><div class="msg">@dagarwal sure, you can `pactUrls` instead of `pactBrokerUrl` and include contract files from the local filesystem.
an example from the docs:
```js
    pactUrls: [path.resolve(process.cwd(), "pacts", "myjsmessageconsumer-myjsmessageprovider.json")],
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-26 12:17</div><div class="msg">Wow cool thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-26 12:17</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-26 12:18</div><div class="msg">~I am gettign   * Expected 8061159 but got 15053699 at $[0].id
       * Expected ?Country? but got ?address? at $[0].name
       * Expected ?Country? but got ?Address? at $[0].displayName
       * Actual array is too short and should have contained 10329 at $[0].visibilityIds[1]
       * Actual array is too short and should have contained 10323 at $[0].visibilityIds[2]
       * Actual array is too short and should have contained 10240 at $[0].visibilityIds[3]
       * Actual array is too short and should have contained 17575 at $[0].visibilityIds[4]
       * Expected ?31 Jan 2018 11:56:48 +00:00? but got ?10 Jul 2018 11:04:50 +00:00" at $[0].created
       * Expected ?01 Feb 2018 11:58:49 +00:00? but got ?10 Jul 2018 11:04:50 +00:00" at $[0].lastModified
       * Expected 8078165 but got 15053796 at $[1].id
       * Expected ?demo-tt? but got ?asdf? at $[1].name
       * Expected ?Demo tt? but got ?asdf? at $[1].displayName
       * Expected ?01 Feb 2018 11:03:59 +00:00? but got ?10 Jul 2018 11:21:20 +00:00" at $[1].created
       * Expected ?01 Feb 2018 11:03:59 +00:00? but got ?10 Jul 2018 11:21:20 +00:00" at $[1].lastModified
       * Actual array is too long and should not contain a Hash at $[2]
       * Actual array is too long and should not contain a Hash at $[3]
       * Actual array is too long and should not contain a Hash at $[4]
       * Actual array is too long and should not contain a Hash at $[5]
       * Actual array is too long and should not contain a Hash at $[6]
       * Actual array is too long and should not contain a Hash at $[7] and so on when i am doing provider verification~</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-26 12:19</div><div class="msg">I am getting   * Expected 8061159 but got 15053699 at $[0].id
      * Expected ?Country? but got ?address? at $[0].name
      * Expected ?Country? but got ?Address? at $[0].displayName
      * Actual array is too short and should have contained 10329 at $[0].visibilityIds[1]
      * Actual array is too short and should have contained 10323 at $[0].visibilityIds[2]
      * Actual array is too short and should have contained 10240 at $[0].visibilityIds[3]
      * Actual array is too short and should have contained 17575 at $[0].visibilityIds[4]
      * Expected ?31 Jan 2018 11:56:48 +00:00? but got ?10 Jul 2018 11:04:50 +00:00" at $[0].created
      * Expected ?01 Feb 2018 11:58:49 +00:00? but got ?10 Jul 2018 11:04:50 +00:00" at $[0].lastModified
      * Expected 8078165 but got 15053796 at $[1].id
      * Expected ?demo-tt? but got ?asdf? at $[1].name
      * Expected ?Demo tt? but got ?asdf? at $[1].displayName
      * Expected ?01 Feb 2018 11:03:59 +00:00? but got ?10 Jul 2018 11:21:20 +00:00" at $[1].created
      * Expected ?01 Feb 2018 11:03:59 +00:00? but got ?10 Jul 2018 11:21:20 +00:00" at $[1].lastModified
      * Actual array is too long and should not contain a Hash at $[2]
      * Actual array is too long and should not contain a Hash at $[3]
      * Actual array is too long and should not contain a Hash at $[4]
      * Actual array is too long and should not contain a Hash at $[5]
      * Actual array is too long and should not contain a Hash at $[6]
      * Actual array is too long and should not contain a Hash at $[7] and so on when i am doing provider verification.Even if i add PACT.like it starts to give      ?visibilityIds?: [
              ... ,
       -      Fixnum,
       -      Fixnum,
       -      Fixnum,
       -      Fixnum,
       +      Pact::IndexNotFound,
       +      Pact::IndexNotFound,
       +      Pact::IndexNotFound,
       +      Pact::IndexNotFound,
            ]
          },
          ... ,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,
       -  Pact::UnexpectedIndex,</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-26 12:19</div><div class="msg">Can someone help me with what kind of  matchers needs to be added</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2d551fbcbfb44ddd9cabbbac79454026.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">syed.haq</div><div class="time">2018-11-26 14:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-26 16:56</div><div class="msg">What have you tried? Can you please share? Looks like you need an `eachLike`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-26 16:56</div><div class="msg">i tried like</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-26 16:59</div><div class="msg">will try with each like .Basically provider have big  array list like { (arr1,val1), (arr2,val2) , (arr3,val3) and so on and I have added just two values {(arrConsumer1,valConsumer1) ,(arrConsumer2,valConsumer2) )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-26 16:59</div><div class="msg">Also values are different</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-27 10:19</div><div class="msg">Hi , I am getting this error after adding matchers : like while doing verification  . 1) Verifying a pact between flex-search-app and flex-taxonomy-service Get object for listing taxonomies with GET /api/taxonomies?accountId=4&amp;enabled=true returns a response which has a matching body
     Failure/Error: expect(response_body).to match_term expected_response_body, diff_options, example

[2018-11-27T10:14:07.150Z]  WARN: pact-node@6.20.0/41092 on Dollys-MacBook-Pro.local: Pact exited with code 1.
       Actual: [{?id?:15053699,?name?:?address?,?displayName?:?Address?,?description?:??,?enabled?:true,?accountId?:4,?visibilityIds?:[4],?userId?:5,?created?:?10 Jul 2018 11:04:50 +00:00?,?lastModified?:?10 Jul 2018 11:04:50 +00:00?},{?id?:15053796,?name?:?asdf?,?displayName?:?asdf?,?description?:??,?enabled?:true,?accountId?:4,?visibilityIds?:[4],?userId?:5,?created?:?10 Jul 2018 11:21:20 +00:00",?lastModified?:?10 Jul 2018 11:21:20 +00:00"},  and so on
 Its a huge array list at provider level  .                                                                                                                                                                                                 At At consumer level i have added the test as : before(() =&gt; {
            return provider.addInteraction({
                given: ?GET call for taxonomies?,
                uponReceiving: ?Get object for listing taxonomies?,
                withRequest: {
                    method: ?GET?,
                    path: ?/api/taxonomies?,
                    query: {
                        accountId: term({
                            generate: ?4?,
                            matcher: ?4?
                        }),
                        enabled: term({
                            generate: ?true?,
                            matcher: ?true?
                        })
                    }
                },
                willRespondWith: {
                    status: 200,
                    body: [
                       like ({
                            ?id?: like(8061159),
                            ?name?: like(?Country?),
                            ?displayName?: like(?Country?),
                            ?description?: like(??),
                            ?enabled?: like(true),
                            ?accountId?: like(4),
                            ?visibilityIds?: like([
                                4,
                                10329,
                                10323,
                                10240,
                                17575
                            ]),
                            ?userId?: like(5),
                            ?created?: like(?31 Jan 2018 11:56:48 +00:00?),
                            ?lastModified?: like(?01 Feb 2018 11:58:49 +00:00?)
                        })
                    ]
                }
            });
        });</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-27 10:24</div><div class="msg">@dagarwal it?s really hard to help with partial output.
if you don?t have the code publicly available to look at, can you paste the full output of the pact test failure on some place like pastebin and provide a link?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-27 10:24</div><div class="msg">Ok sure would do that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-27 10:27</div><div class="msg">@liran.tal <a href="https://pastebin.com/eCvwM0aM">https://pastebin.com/eCvwM0aM</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-27 10:28</div><div class="msg"><a href="https://pastebin.com/9vuWCeJe">https://pastebin.com/9vuWCeJe</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-27 10:29</div><div class="msg"><a href="https://pastebin.com/eCvwM0aM">https://pastebin.com/eCvwM0aM</a> and <ttps://pastebin.com/9vuWCeJe></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-27 10:38</div><div class="msg">I can point out several things that look a bit off.

on the consumer side -
1. the term matchers on the query doesn?t look like they?re used properly. the matcher is supposed to be a regex syntax
2. the matching for dates is not going to really work the way you think, it?ll just match any string type, not the actual date format you see there now.
3. the visibility ids are using hard coded items</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-27 10:39</div><div class="msg">cool , let me try updating these and see if it works Thanks !!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-27 10:39</div><div class="msg">I suggest that you try to build the contract and verify it step-by-step. it will be easier for you to debug what?s wrong and why it fails</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-27 10:40</div><div class="msg">if you add many matchers and expectations on the consumer side and something fails on the provider, it?s hard to debug why exactly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/287bb23f57a850c63f8bbd50c7ad7bed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">liran.tal</div><div class="time">2018-11-27 10:40</div><div class="msg">I mean, the log is there to help you but if you?re starting out fresh you might want to take it in steps</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-27 10:41</div><div class="msg">Actually we built in huge tests at consumer level and data has got complex .now we are doing provider verification :disappointed: should have done it from initial stage .I am really struggling now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-27 17:46</div><div class="msg">I can see the problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-27 17:46</div><div class="msg">when using array matchers, you need to remove the actual array within/ouotside</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-27 17:46</div><div class="msg">e.g.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-27 17:47</div><div class="msg">`body: eachLike({?})` not `body: [ like({...}) ]`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-27 17:47</div><div class="msg">or `body: eachLike({?})` not `body: eachLike([{...}])`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-27 17:47</div><div class="msg">`eachLike` implies it?s an array</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-27 17:48</div><div class="msg">so pact is expecting an array containing an array</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-27 17:53</div><div class="msg">I?ve answered your question on SO also</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-11-28 08:36</div><div class="msg">Thanks a lot :dancer: it worked</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-11-28 17:01</div><div class="msg">Hi,
Are there are any recommended ways to automate pact test creation (in my case for an Angular 7 webapp)?
Preferably generating tests off an (api) service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-28 17:15</div><div class="msg">No - see <a href="https://docs.pact.io/faq#can-i-generate-my-pact-file-from-something-like-swagger">https://docs.pact.io/faq#can-i-generate-my-pact-file-from-something-like-swagger</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-11-28 17:31</div><div class="msg">Thanks. We have an api service which is rapidly expanding and are looking for a sustainable way to expand our pact tests without copy and pasting chunks of `describe('...`
Really trying to decide where the source of truth is, and how to minimise mistakes in the pact tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-28 17:32</div><div class="msg">gotcha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-28 17:33</div><div class="msg">great!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-28 17:34</div><div class="msg">Don?t forget to accept the answer :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-28 17:35</div><div class="msg">The key thing is that each test needs to capture the intentions of the consumer, not what is documented in a provider.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-28 17:37</div><div class="msg">It might be possible to automate it, but you?re likely to add in assumptions that your client code is doing that may be incorrect and therefore void all of the pact work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-11-29 09:22</div><div class="msg">Understood. Thanks. I think we won't be automating this now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-29 16:38</div><div class="msg">@dagarwal can you please share what you expect your API response to look like to help you with your matchers?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-29 16:39</div><div class="msg">I suspect you want an object which contains array items (taxon's), not an array of items which always have arrays nested within</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-29 16:39</div><div class="msg">This is why it's telling you it's expecting an array, but got a hash</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-11-29 16:41</div><div class="msg">The eachLike matcher says at the location specified, it expects an array</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9dcfc41709214ae90526f307d538e6f2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">kamilmarkow</div><div class="time">2018-11-29 16:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-12-03 09:07</div><div class="msg">@matt.fellows Yes exactly . It contains array items in taxons . Please find link : <a href="https://pastebin.com/2SJnTrfG">https://pastebin.com/2SJnTrfG</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-03 10:01</div><div class="msg">So if the root reflect is not an array, reminder the eachlike matcher on it, but leave it for taxons</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7ed3c3338945df507da3e15b4d3f81b7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">sai.krishna</div><div class="time">2018-12-03 14:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-12-03 15:11</div><div class="msg">reminder the eachlike matcher on it, means .I dint get it :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-03 21:18</div><div class="msg">I?ve updated the example in SO. I think you want this:

```
const firstChild = like({
  ?name?: ?Geo?,
  ?taxons?: eachLike({
          ?id?: 115590,
          ?name?: ?Africa?,
          ?hasChildren?: false
      })
  });
``

Note that the initial `eachLike` is now just `like`. This means you don?t expect an array at the root of the response, you want an object.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ea6f73cca7b6f9ebc967af19dca502aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nic</div><div class="time">2018-12-04 12:28</div><div class="msg">~hey pact people, has anyone got an example of updating the provider on a test by test basis for jest? my consumer has contracts with multiple providers so I need to update the provider on a test by test basis to create multiple pacts. I don't think I've seen an example of doing this in JS - i might have missed it. any pointers gratefully received!~</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-12-04 14:34</div><div class="msg">Thanks @matt.fellows :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-12-04 14:34</div><div class="msg">i want to use more than one element in array. I am using eachLike with min .Can you guys tell me whats wrong here :                                     const taxonomiesList =
    [{
        ?id?: 8061159,
        ?name?: ?Country?,
        ?displayName?: ?Country?,
        ?description?: ??,
        ?enabled?: true,
        ?accountId?: 4,
        ?visibilityIds?: like[4],
        ?userId?: 5,
        ?created?: ?31 Jan 2018 11:56:48 +00:00?,
        ?lastModified?: ?01 Feb 2018 11:58:49 +00:00?
    },
        {
            ?id?: 8078165,
            ?name?: ?demo-tt?,
            ?displayName?: ?Demo tt?,
            ?description?: ??,
            ?enabled?: true,
            ?accountId?: 4,
            ?visibilityIds?: like[4],
            ?userId?: 5,
            ?created?: ?01 Feb 2018 11:03:59 +00:00?,
            ?lastModified?: ?01 Feb 2018 11:03:59 +00:00?
        ])


const taxonomies = eachLike(taxonomiesList, { min: 2});
module.exports = {
    taxonomies
};  But this is generating both  id ( inside body ) two times ( so total 4) in the json file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-04 20:25</div><div class="msg">All good. Did that help you understand how it works?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2018-12-04 22:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-12-05 08:31</div><div class="msg">yes but still I am unable to create data for more than one element in array using eachLike and min</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-05 10:51</div><div class="msg">If you need further help, we'll need a code base where we can reproduce the problem your having exactly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-12-05 11:28</div><div class="msg">Okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-05 19:08</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-06 23:05</div><div class="msg">@dagarwal I?ve mentioned this a few times - _do not_ put an array `[]` inside of the `eachLike` statement for what you are trying to do to. It is trying to create a multi-dimensional array. You want a single dimension array, so simply put _one_ object inside the `eachLike` clause e.g.

```
eachLike({
       'id': 8061159,
       'name': 'Country',
       'displayName': 'Country',
       'description': '',
       'enabled': true,
       'accountId': 4,
       'visibilityIds': like[4],
       'userId': 5,
       'created': '31 Jan 2018 11:56:48 +00:00',
       'lastModified': '01 Feb 2018 11:58:49 +00:00'
   })
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-12-12 10:09</div><div class="msg">Hi Matt and all,
Could you explain this setTimeout to me please?
<a href="https://github.com/pact-foundation/pact-js/blob/master/karma/jasmine/client-spec.js#L16">https://github.com/pact-foundation/pact-js/blob/master/karma/jasmine/client-spec.js#L16</a>

I had intermittently failing tests yesterday (only in our CI build - in docker on VSTS, and very occasionally locally) and putting `done()` into the setTimeout in that beforeAll for each test fixed it.
Still can?t work out which interaction clearing this is delaying. Is this preventing tests from clearing each other?s interactions? Or is it preventing one of the below lines from clearing the test?s own interactions before the request is received?
`provider.removeInteractions();`
`provider.finalize().then(done, e =&gt; done.fail(e));`
`provider.verify().then(done, e =&gt; done.fail(e));`


In this failing test we can see the interaction was registered, then cleared and then request was received (so no request was found).

```
I, [2018-12-11T16:32:35.619070 #5595]  INFO -- : Registered expected interaction GET /my/stuff
D, [2018-12-11T16:32:35.619242 #5595] DEBUG -- : {
  "description": "a request to GET stuff",
  "providerState": "provider responds with snapshot ref data",
  "request": {
    "method": "GET",
    "path": "/my/stuff"
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json"
    },
    "body": {
      "json_class": "Pact::SomethingLike",
      "contents": {
        "0": {
          "stuff": "dummy stuff",
        }
      }
    }
  }
}
I, [2018-12-11T16:32:35.620329 #5595]  INFO -- : Cleared interactions
I, [2018-12-11T16:32:35.653797 #5595]  INFO -- : Received request GET /my/stuff
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-12-12 10:40</div><div class="msg">? then this line triggers the fail
```
E, [2018-12-11T16:32:35.653947 #5595] ERROR -- : No matching interaction found for GET /my/rates-evidence
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2018-12-12 11:51</div><div class="msg">yes @matt.fellows thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-12 20:51</div><div class="msg">It's a bit of a hack. Its basically saying "wait for 2 seconds and hope the pact mock server is up in time on port 1234</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-12 20:51</div><div class="msg">A better way would be to wait for the port to be ready</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-12 20:51</div><div class="msg">Is this test failing or one of yours? If you share the code I'm happy to take a look</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-12-13 09:25</div><div class="msg">I had random failures on my CI build only across  all tests until I put the done in a setTimeout. All tests are consistently passing now, but adds +2s for each test.

What I?m trying to understand is which line is doing the ?Cleared interactions? in between registering interaction and receiving request.

From looking at pact-web.js, could be one of three provider methods (mentioned above). Line 28, 32 or 70 in below gist.

Here?s the gist, thanks :slightly_smiling_face: <a href="https://gist.github.com/rorymcgit/819f1a3eb697c864fcf47c9e6f8f5fe2">https://gist.github.com/rorymcgit/819f1a3eb697c864fcf47c9e6f8f5fe2</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-13 09:29</div><div class="msg">removeInteractions, finalise and verify will all clear them from memory</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-12-13 09:44</div><div class="msg">Do you know which one of these is causing the ?Cleared interactions? in this case, i.e. if the `done()` on line 25 is not in a setTimeout?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-13 11:29</div><div class="msg">hmm not at a cursory glance i?m sorry. If you had your code to share i?m haappy to look at that too</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-12-13 12:11</div><div class="msg">I have the gist here, thanks  <a href="https://gist.github.com/rorymcgit/819f1a3eb697c864fcf47c9e6f8f5fe2">https://gist.github.com/rorymcgit/819f1a3eb697c864fcf47c9e6f8f5fe2</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-13 20:37</div><div class="msg">Hmm the provider removeInteractions in the before all is a promise. Stricly speaking you might want to properly handle it even tho the setTimeout above should prevent it. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-13 20:37</div><div class="msg">Are there any strange Jasmine overlapping behaviours causing strangeness?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-12-14 10:51</div><div class="msg">I found that everything ran in the order it should have run (by putting a load of numbered console.logs throughout the code), even for failing tests.
That?s interesting that `removeInteractions` isn?t really being handled properly. I might try moving the done from inside the setTimeout to in a `.then`. Thanks for your help - I?ll update you if I find anything interesting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2018-12-19 10:08</div><div class="msg">@matt.fellows I said I?d update if I found anything interesting, and I think I have.

<a href="https://gist.github.com/rorymcgit/cf7cc8f07c20507f699900f8484435c1#file-api-service-get-foo-pact_v2-spec-ts-L23">https://gist.github.com/rorymcgit/cf7cc8f07c20507f699900f8484435c1#file-api-service-get-foo-pact_v2-spec-ts-L23</a>

Moving the `done()` to happen on resolve of the `removeInteractions` means my CI build does not have pact tests failing intermittently (like it was without being wrapped by the setTimeout) and does not add 2 seconds per test either.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2018-12-19 23:31</div><div class="msg">Thanks @rjmcguinness - makes sense!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-17/505686187329_4cdb1394cf7ce0858c07_72.png" /><div class="message"><div class="username">davegallant</div><div class="time">2019-01-02 17:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-02 17:28</div><div class="msg">Hello , Do we have any npm package to install can-i-deploy ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-02 23:11</div><div class="msg">Sorry, I haven't gotten around to enabling that in pact-node yet :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-03 08:44</div><div class="msg">@mboudreau Ok thanks .It would be good to have it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-03 08:45</div><div class="msg">One more question so to implement in this jenkins , i need to run the command to install it .any other way ? @mboudreau</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-03 08:51</div><div class="msg">Well, when you use npm, it does install the Ruby binary, so you could hit it directly with the command. There's already a pull request for this change, I just need to spend some time to add it. Could you allow me a day to look the pr over and merge it and release a new version?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-03 08:52</div><div class="msg">wow that would be great , Sure .Please let me know when done  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bef6de8d744e343b446ed8df83de51b7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">jdesouza</div><div class="time">2019-01-03 13:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-03 22:20</div><div class="msg">Also if you haven't seen this, take a look</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-03 22:20</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/package.json">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/package.json</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-03 22:21</div><div class="msg">Examples of using the binaries from package.json</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-03 22:21</div><div class="msg">Once properly installed into the path it should he even easier</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 06:09</div><div class="msg">@dagarwal I've updated pact-node to include `can-i-deploy`, version 6.21.0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-04 06:58</div><div class="msg">:clap:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 10:18</div><div class="msg">wow thanks @mboudreau :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 10:28</div><div class="msg">Thanks Matt its good , i havent checked that link before</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 10:44</div><div class="msg">@mboudreau Latest version for that is 6.20.2  as of now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 10:51</div><div class="msg">from where? npm says 6.21.0 <a href="https://www.npmjs.com/package/@pact-foundation/pact-node">https://www.npmjs.com/package/@pact-foundation/pact-node</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 10:53</div><div class="msg">It gave me this ? Please choose a version of ?@pact-foundation/pact-node? from this list: (Use arrow keys)
? 6.20.2
  6.20.1
  6.20.0
  6.19.12</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 10:53</div><div class="msg">just update your package.json file to use 6.21.0 and do an `npm install`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 10:54</div><div class="msg">yeah it worked with that .I updated package and file and was doing yarn install and getting error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 10:54</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 11:04</div><div class="msg">must have been some caching or something</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 11:04</div><div class="msg">yeah right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-01-04 11:12</div><div class="msg">great work @mboudreau , I use pact-node and we were previously using the can-i-deploy standalone, so nice to have this option now :ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 11:36</div><div class="msg">thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 11:37</div><div class="msg">it was mostly @tjones doing the work, I just supervised :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 13:28</div><div class="msg">Thanks to @tjones too for the efforts  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 14:05</div><div class="msg">Hello @mboudreau @tjones thanks for can-i-deploy functionality .but it fails when we do can i deploy because in can-deploy.js file this.__argMapping  , we are passing ?version?: ?--version?, but in the function we are using  options.pacticipantVersion =options.pacticipantVersion instead of options.pacticipantVersion =options.version   .I tried replacing the variables and it works fine .Please fix it .  Do let me know if you want any further information .Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 14:20</div><div class="msg">crap, sorry, you're right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 14:21</div><div class="msg">np .Please let me know once the update is ready :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 14:22</div><div class="msg">I'll do it now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-04 14:23</div><div class="msg">Perfect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-04 14:59</div><div class="msg">6.21.1 is building now, should be available in about 10 minutes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-05 08:22</div><div class="msg">Did this version work @dagarwal?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/34f21bd92f68fff43accc7940dcbdd38.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">ilya.markevich1991</div><div class="time">2019-01-05 21:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-06 15:36</div><div class="msg">no @mboudreau it is giving me same error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d2f10315b68e3e7e2097e076ea7cf790.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">cdaly</div><div class="time">2019-01-07 18:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:10</div><div class="msg">could you Please check  @mboudreau</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 10:11</div><div class="msg">whoops, didn't see this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 10:12</div><div class="msg">I'll get it done now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:12</div><div class="msg">Okay thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 10:52</div><div class="msg">wait, how are you calling can-i-deploy? can you give me an example of the command you use?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:54</div><div class="msg">yes I am doing like this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:54</div><div class="msg">const pactNode = require('@pact-foundation/pact-node');
const checkVerificationForProvider = {
    pacticipant: [Pacticpant1],
    version: ['1.0.0'],
    pactBroker: '<a href="https://pact.ooflex.net/">https://pact.ooflex.net/</a>'
};


pactNode.canDeploy(checkVerificationForProvider).then(() =&gt; {
    console.log("Verified can i deploy against Provider?);
}).catch(err =&gt; {
    console.error("Verification failed for  can i deploy Provider service", err);
});</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 10:55</div><div class="msg">can you change "version" for "pacticipantVersion" as see if it works?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:55</div><div class="msg">ok let me try</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:57</div><div class="msg">The version must be specified using --version or --latest [TAG] for pacticipant flex-taxonomy-service

Verification failed for  can i deploy against flex taxonomy service Error: The version must be specified using --version or --latest</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:57</div><div class="msg">i get this @mboudreau</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 10:58</div><div class="msg">ah, yeah, I see it now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:58</div><div class="msg">i guess here we need to pass version only as in the   internal code you are using it as pacticipactVersion</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 10:59</div><div class="msg">the pact binary uses --version but I can't with the CLI in node since it messes up the CLI and thing --version is for the project version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 10:59</div><div class="msg">hence why I'm trying to use pacticipantVersion since it's also more descriptive</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 10:59</div><div class="msg">okay so will you be changing the code accordingly ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 10:59</div><div class="msg">yep, gimme a moment</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 11:00</div><div class="msg">Sure ,thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 11:46</div><div class="msg">there's some tests missing here to make sure this doesn't break again.  I'm going to release a quick fix for now, but I'll need to invest more time in the tests so that it won't ever break again :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 11:47</div><div class="msg">Sounds good :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 12:28</div><div class="msg">you going to be around in the next 10 minutes to make sure it works?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 12:29</div><div class="msg">Okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 12:29</div><div class="msg">cool, sending it off for deployment, I'll let you know when it's up so you can confirm it works on your end and finish this for good :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 12:30</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 13:00</div><div class="msg">6.21.2 is out, please try it now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 13:07</div><div class="msg">@dagarwal?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 13:07</div><div class="msg">yes trying</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-08 13:09</div><div class="msg">it works :slightly_smiling_face: thanks @mboudreau</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 13:10</div><div class="msg">woo!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-08 13:10</div><div class="msg">np, thanks for being patient :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-01-08 15:29</div><div class="msg">Hi Matt and all,
Using Karma/Jasmine/Angular 7/Typescript with karma-pact, pact-node, pact-web.

I have added the eachLike matcher to my tests but have run into a problem with my Jasmine text expectations.
The Jasmine test is failing here
<a href="https://gist.github.com/rorymcgit/7858c2e82f4d70341072d981dc70b54b#file-failing-eachlike-api-service-get-foo-pact-spec-ts-L62">https://gist.github.com/rorymcgit/7858c2e82f4d70341072d981dc70b54b#file-failing-eachlike-api-service-get-foo-pact-spec-ts-L62</a>
because I have changed the body of the object to include the eachLike matcher.

Previously in my `provider.addInteraction` I had:
```
willRespondWith: {
  status: 200,
  body: Matchers.somethingLike({
    foo: [{
      bar: ['a string'],
    }, {
      bar: ['another string'],
    }],
  }),
}

```
Which meant I could `expect(response).toEqual(sameObjectAsWasPassedToBody)`. The only difference being wrapping it in a `somethingLike` above.

Now I have:
```
willRespondWith: {
  status: 200,
  body: {
    foo: Matchers.eachLike({
      bar: ['a string'],
    }),
   },
}

```

So I have to assert that the response is equal to a different object than what I have assigned to the `body` in the interaction.
<a href="https://gist.github.com/rorymcgit/0bb82714b2de91fde8769b4acd668c2f#file-passing-eachlike-api-service-get-foo-pact-spec-ts-L68">https://gist.github.com/rorymcgit/0bb82714b2de91fde8769b4acd668c2f#file-passing-eachlike-api-service-get-foo-pact-spec-ts-L68</a>

My question is: What is the value of a Jasmine test in our Pact test, if all we are testing anyway is what has been passed into the `body`? We are not testing api method (as it is stubbed by the Pact provider service). The value of Pact from a consumer side is to generate the Pact and test our requests.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-01-08 16:03</div><div class="msg">I am tempted to remove the expectation and just `provider.verify()`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-09 03:54</div><div class="msg">The point of `expect` in a pact test like this is to be able to ensure that the correct domain object is returning to the caller of `getFoo()`. In Javascript, that is often (but not always) the same object that's on the wire</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-09 03:54</div><div class="msg">if you're just returning the wire object without transformation, you could safely remove the expectation in your test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-09 03:56</div><div class="msg">However, what I like to do instead is to have a file of fixtures that describe the domain objects. This file is shared between the pact test's `expect` line, and the tests for the call site of `getFoo()`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-09 03:58</div><div class="msg">This means that we can be sure that the callers of `getFoo()` and the pact between your foo client and provider are in sync</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-09 03:58</div><div class="msg">With typescript, you probably don't need to do this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-09 04:05</div><div class="msg">without that `expect` call, you're missing out on:

1) Does the api method return the object? (guarding against misuse of the response in your `getFoo()`, eg returning `response` instead of `response.body`)

With shared fixtures, or careful typescript types, you also get:

2) Does the api method return the same object that the caller expects?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-09 04:07</div><div class="msg">:point_up: this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-01-10 09:48</div><div class="msg">Thanks for this, that?s very clear. I?ll keep the expectation and find a way to share the objects.

Do you have any thoughts on programatically adding `eachLike`s? i.e. adding a test helper method that iterates over the object and replaces arrays with `eachLike(array[0])`.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/44a7157dafab7750a0422d7c84f26ad0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">tiago.ferrazmartins</div><div class="time">2019-01-10 14:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/44a7157dafab7750a0422d7c84f26ad0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">tiago.ferrazmartins</div><div class="time">2019-01-10 14:43</div><div class="msg">Have anyone done this before?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-11 01:54</div><div class="msg">See <a href="https://docs.pact.io/faq#why-is-there-no-support-for-specifying-optional-attributes">https://docs.pact.io/faq#why-is-there-no-support-for-specifying-optional-attributes</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-14 06:13</div><div class="msg">I personally wouldn't do that, because the domain object (returned by the call site of your API) is a different object conceptually to the wire object (tested by pact verification), so I prefer them to be separate objects in code, even if they're very similar/the same.

However, I don't think it's wrong to try it - If you prefer no duplication, then a helper like you suggest seems like the way to go. I'd be interested to know how you like it after a few months of use.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:05</div><div class="msg">Hello,</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:05</div><div class="msg">can someone help me understand how the pact term works?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:05</div><div class="msg">i currently have a few done on my poc but when verifying i have no match done</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:06</div><div class="msg">mocha is complaining about it </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 22:15</div><div class="msg">what have you tried so far?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 22:15</div><div class="msg">It?s a regex matcher, which must correspond to the Ruby regex format. There are examples in the repo worth looking at first</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 22:16</div><div class="msg">Why would mocha care about the matcher? can you please elaborate?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:16</div><div class="msg">so I am validation iso8601DateTime</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:17</div><div class="msg">the default regex available on the DSL works when using a web based validator</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:17</div><div class="msg">but not when I do it on the pact</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:18</div><div class="msg">the generate is being hard matched with the expected response</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:18</div><div class="msg">I haven?t done the provider side yet I am starting at the consumer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:19</div><div class="msg">for example:
```
  state: term({
    matcher: 'ReviewPending|Approved|FundsPosted|SentToBank|Completed|RejectedFundsNotPosted|RejectedFundsNotSentToBank|RejectedUnapproved|RejectedValidationFailed|SendToBankFailed|FundsReturned|Postponed|Canceled',
    generate: 'Postponed',
  }),```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:19</div><div class="msg">the response from the provider will include any of those states</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:20</div><div class="msg">```
transferTime: like('2018-12-18T21:21:28.619Z'),
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:20</div><div class="msg">or different timestamps</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 22:27</div><div class="msg">What do you mean hard matched on the response? This doesn't make sense if your doing a consumer test.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 22:27</div><div class="msg">Are you matching a response or a request?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 22:28</div><div class="msg">Which one isn't working? The time or the other?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 22:34</div><div class="msg">```
interaction = {
        state: 'I have a list of transfer',
        uponReceiving: 'a request for all transfers',
        withRequest: {
          method: 'GET',
          query: 'page_size=5000',
          path: '/',
        },
        willRespondWith: {
          status: 200,
          headers: { 'Content-Type': 'application/json' },
          body: noFilter,
        }
      };```
`noFilter` has the Matchers

```
    it('returns the correct response', async() =&gt; {
      await searchRequest().then((response) =&gt; {
        expect(response).to.eql(SEARCH_RESPONSE);
      })
    });```
`SEARCH_RESPONSE` has a static JSON at the moment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 23:06</div><div class="msg">What are you expecting to happen here? I expect `response` to have the values `2018-12-18T21:21:28.619Z` and `Postponed` in it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 23:07</div><div class="msg">What?s the actual problem?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-28 23:08</div><div class="msg">So this is a consumer test, any `generate` value provided to the `term` matcher will be what comes back from the mock service. Later on during provider verification, it will check what the provider actually responds with, and will use the `matcher` portion of the test to ensure it is what is expected</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:17</div><div class="msg">Then why is that the SEARCH_RESPONSE (which is a copy json of the response of the provider) failing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:19</div><div class="msg">@vicenzo are you sure that `.to.eql` is a deep equal?  I thought it was a simple reference check just like `===` which won't work since the response is not the same object as the SEARCH_RESPONSE</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:19</div><div class="msg">look to see if it has a `.to.deep.eql` instead</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:19</div><div class="msg">the assertion error message is the same</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:19</div><div class="msg">`AssertionError: expected { Object (pageCursorId, evaluatedTransfers) } to deeply equal { Object (pageCursorId, evaluatedTransfers) } &lt;Click to see difference&gt;`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:20</div><div class="msg">what's the difference?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-28 23:21</div><div class="msg">can you share the definitions of `noFilter` and `SEARCH_RESPONSE`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:21</div><div class="msg">let me get a gist wipped up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-28 23:22</div><div class="msg">if it's chai, then I believe `eql` is the deep equal. `equals` is the reference check.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:23</div><div class="msg">wait, you're calling your API to return something that's auto generated?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-01-28 23:24</div><div class="msg">@vicenzo - are you hitting the pact mock server with this consumer test, or your real API?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:32</div><div class="msg"><a href="https://gist.github.com/vinchbr/dad7258068a00d4ea429ca67b9572ba5">https://gist.github.com/vinchbr/dad7258068a00d4ea429ca67b9572ba5</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:32</div><div class="msg">mock server @tjones</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:32</div><div class="msg">```const provider = new Pact({
  consumer: 'sentinel-ui',
  provider: 'sentinel-judge',
  host: 'localhost',
  port: MOCK_SERVER_PORT,
  log: path.resolve(process.cwd(), 'logs', 'pact.log'),
  dir: path.resolve(process.cwd(), 'pacts'),
  spec: 2,
  pactfileWriteMode: 'update',
  logLevel: 'info',
});```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:33</div><div class="msg">`searchRequest()` uses window to define the URL, I am just overriding the window global to point to the mock</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:37</div><div class="msg">You are correct on that one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:51</div><div class="msg">why are you using term matchers for your response?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:52</div><div class="msg">I mean, it's fine, but then you have the SEARCH_RESPONSE which is static and then completely different from your interaction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:52</div><div class="msg">and you expect it to be the same</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:53</div><div class="msg">which I don't really understand why you're doing this in the first place</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:54</div><div class="msg">so maybe I am missing the point completely of how to write these tests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:54</div><div class="msg">I can flip the script</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:54</div><div class="msg">would that fix it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:55</div><div class="msg">oh right that was why</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:55</div><div class="msg">when I use the matchers on the expect I get the pact json</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-28 23:55</div><div class="msg">before it is run through the ruby cli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:58</div><div class="msg">well, I'm not sure why you're testing the response at all, it's kind of what pact does for you.  All you want to do is make sure you test your API correctly and it's processing things correctly, and that the incoming body/query (not the response) has matchers so that the interactions are correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-28 23:59</div><div class="msg">so, for instance, you have a `page_size` query with 5000, maybe you want to use a term for that so that it's always a number, and it can't be lower than X or higher than Y, then have tests to make sure that these limits are working with pact and your API</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:00</div><div class="msg">I see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:00</div><div class="msg">or that another endpoint is a post and it expects a body of type Z with property blah of type something, but the response is always going to be the same thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:00</div><div class="msg">this test is a bust basically because it doesn?t have the matcher on the request itself</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:01</div><div class="msg">because it is the consumer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:01</div><div class="msg">if it was the provider than it would make sense to have the response matchers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:01</div><div class="msg">well, I wouldn't say it's a bust, you want a test to make sure that this interaction exists and it returns something, and that your consumer can parse the response and interact with it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:01</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:01</div><div class="msg">that was the point of this particular one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:02</div><div class="msg">but with the matchers and the like, not so much</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:02</div><div class="msg">you don't need the matchers for the response</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:02</div><div class="msg">```        willRespondWith: {
          status: 200,
          headers: { 'Content-Type': 'application/json' },
          body: SEARCH_RESPONSE,
        }
      };```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:02</div><div class="msg">so here should be like that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:02</div><div class="msg">and the expect should be that the response.eql(SEARCH_RESPONSE)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:02</div><div class="msg">something like that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:03</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:03</div><div class="msg">however, making sure that response equals response is a bit redundant</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:03</div><div class="msg">maybe there's something in your consumer you want to test to make sure that this triggers and returns, then displays correctly?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:04</div><div class="msg">the point of your consumer test is to test the consumer, including the interaction with the API</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:04</div><div class="msg">so, what's the function that calls this particular API endpoint? that's what you want to test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:04</div><div class="msg">`searchRequest()`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:04</div><div class="msg">this one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:05</div><div class="msg">```export function searchRequest(params) {
  const query = parseSearchQueryParams(params);
  return requests.get(`${URL(getAppConfigSetting('apiUrl'))}?${query}`);
}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:05</div><div class="msg">and it doesn't take any arguments or return anything?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:05</div><div class="msg">okay, that's better</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:05</div><div class="msg">so, plenty of tests that can be done here based on the params</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:05</div><div class="msg">see if the response fails, what does it do when it fails, what does it do when it succeeds, etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:06</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:06</div><div class="msg">I see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:06</div><div class="msg">you can make it more complex as well if it's suppose to show something on the screen or update a state somewhere</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:06</div><div class="msg">not this one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:06</div><div class="msg">ie. whatever in your consumer that calls `searchRequests`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:07</div><div class="msg">could I use pact to mock the api during a ui test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:07</div><div class="msg">you sure can :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:07</div><div class="msg">:shocked_face_with_exploding_head:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:08</div><div class="msg">you can make it as minute as a test (unit tests, single function) or much wider and complex (e2e, ui)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:08</div><div class="msg">with state or multiple states</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:11</div><div class="msg">right now I am just trying to get a POC done for consumer and provider</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:11</div><div class="msg">maybe I should move to the provider and see if I can break the contract</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:12</div><div class="msg">you?ll be seeing more of me soon =P</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:12</div><div class="msg">thank you for the help and lesson!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-01-29 00:13</div><div class="msg">np :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55fde8e9cd28306bb5caa18e3f07290a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vicenzo</div><div class="time">2019-01-29 00:15</div><div class="msg">now back to the company network where I can;t send messages</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-01-29 12:04</div><div class="msg">Hello guys , when i add pact matching with term here on path  withRequest: {
                   method: ?GET?,
                   path: term({
                       matcher: ?/api/assets/[0-9]+?,
                       generate: ?/api/assets/10006?
                   }),
               },    ( I am getting 404 when i try to load the data on UI :disappointed:  )  .Without adding matcher it just works fine for me . Any suggestions on what went wrong and how to achieve it ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-01-30 20:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-01-30 20:08</div><div class="msg">Hey folks!
Does pact-js has a full support for pact-specification v3 (<a href="https://github.com/pact-foundation/pact-specification/tree/version-3">https://github.com/pact-foundation/pact-specification/tree/version-3</a>)? I'm wondering how can I specify providerStates as an array in my JS code instead of a single string.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-01-30 20:18</div><div class="msg">@vitaliy.grigoruk no it doesn?t support all of v3, just the bits required to allow message pacts to work. So it?s v 2.x compatible you might say</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-01-30 20:26</div><div class="msg">does anything speaks against adding support for providerStates then? I may contribute with a PR.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-01 13:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-01 13:57</div><div class="msg">hey! I'm trying to validate my Pact, but my consumer uses fetch and when I run it through node that fails :confused: (fetch is not defined, etc)
any pointers on how I could solve it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-01 22:00</div><div class="msg">You could swap out the engine for something else (e.g. super agent) during test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-01 22:01</div><div class="msg">Another option is to use the pact-web dependency which runs in browser test environments</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-01 22:01</div><div class="msg">There are examples in the repo of karma / Jasmine tests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-02-02 00:00</div><div class="msg">Or `isomorphic-fetch`? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-02 00:01</div><div class="msg">Yep. I'd look to replace fetch as the simpler option. Pact is the easier library to deal with than pact web</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-04 08:10</div><div class="msg">awesome, thanks for the responses. I was skeptical at first thinking this would mean replacing the actual behavior of my consumer, but looks like that isn?t the case</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-04 15:01</div><div class="msg">another one: is there any matcher that would help with a return that can be a string or an object?
```
{
  target: "2019"
}
```
or
```
{
  target: { value: 1000 }
}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-04 15:02</div><div class="msg">my first idea was to use the term regex, but I figured that won?t work for objects</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-04 15:02</div><div class="msg">p.s.: I realize that is probably not the best API design there can be, but it is what I must use :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/573d572ba596768ce10cc2214e3fc30c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">tomw</div><div class="time">2019-02-04 17:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-04 20:15</div><div class="msg">There is no single matcher that would do that. You would write (at least) two separate tests to ensure that it?s covered. You may use a provider state to  document in which state the provider should be in too return either of the two formats (assuming it?s a similar looking requests that produces the two different shapes)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-05 08:16</div><div class="msg">thanks Matt, that helped :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-01-25/532709470292_d2189f5ded42c4532332_72.png" /><div class="message"><div class="username">karishnu</div><div class="time">2019-02-05 11:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-05 14:33</div><div class="msg">okay hopefully my last question :slightly_smiling_face: I have my pact file ready but when I try to validate it against my provider, it fails. That happens because our infra has a proxy in place that changes the endpoints of the provider.

Consumer:
```
GET local/api/zoo/animals
```
Provider:
```
GET local/zoo/animals
```

How can I handle this scenario? I?ve tried changing the host to use the /api (`localhost/api`) but that made my consumer tests fail :thinking_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-05 14:35</div><div class="msg">another thing to note is that the paths could be completely different depending on how it was set up (though that is less like)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-05 19:44</div><div class="msg">Is it always consistently this new path? Or just in test or something?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-06 08:32</div><div class="msg">yes, it is consistent. We have explicit rules to route one thing to the other, but the consumer / provider don?t know about them :confused:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-06 09:18</div><div class="msg">How/why do the consumer tests fail? Surely it's just a config item that sets the host and context path</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-06 10:19</div><div class="msg">Sadly not a config file on either end. We have HAProxy set up doing the routing between the provider?s endpoint to something else entirely (in this case, adding /api/).

The consumer (correctly) sends its requests to `/api/zoo/animals` and when the contract?s path is set to `/api/zoo/animals` the mock server is able to receive the request. With the same path, however, I?m unable to verify the provider is receiving the data from the mock server as requests are now being sent to `/api/zoo/animals` instead of `/zoo/animals` (as the provider expects).

does that make sense?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-06 13:14</div><div class="msg">Yes it does, I'm mostly confused as to how you can't modify the path the consumer uses during these tests. This is most bizarre. Can you explain why? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-06 13:15</div><div class="msg">It's common. Some people will just test the apt with the proxy in front of it, some will remove it from the equation (there is commentary on our side Wendie about this). </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-06 13:24</div><div class="msg">&gt; Yes it does, I?m mostly confused as to how you can?t modify the path the consumer uses during these tests. This is most bizarre. Can you explain why?
I?m not sure I follow. Do you mean implement a configuration system of sorts that changes the basepath in the implementation? Or by setting the path = ?/api/?? using Pact?

this is the part (I think?) I shouldn?t change or it breaks the provider:
```
// in provider.addInteractions()
      withRequest: {
        method: "GET",
        path: "/zoo/animals",
        headers: {
          Accept: "*/*",
        },
      },
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-06 15:17</div><div class="msg">how do we fail the build when can i deploy method is invoked and if verification was failed at provider side  as we don?t return any exit code from the method ( can-deploy.js)?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-06 15:18</div><div class="msg">@mboudreau @matt.fellows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-06 16:18</div><div class="msg">I feel like I?m missing something important that would trivialize this, but I can?t figure out what :cold_sweat:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-06 22:12</div><div class="msg">I haven't seen the API for can I deploy in JS yet so can't comment I'm afraid</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-06 22:16</div><div class="msg">Sure. So usually you have an http client that is configurable. When you setup your consumer application, you probably have to give it some information. Like where to find its provider (http url and path). Sometimes you can configure this with environment variables (e.g. `const providerBaseUrl = process.env.MY_PROVIDER_API = '<a href="http://foo.com/path/to/api">http://foo.com/path/to/api</a>'`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-06 22:25</div><div class="msg">@dagarwal is this for pact-node?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-06 22:25</div><div class="msg">because I'm fairly sure the pact-node version throws an error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-06 22:46</div><div class="msg">Sounds about right to me. Can you programmatically detect which contract failed?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-06 22:47</div><div class="msg">hm, that I do not know.  My gut says no, it just does the exit code but no extra data</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-06 22:47</div><div class="msg">that sounds like a great feature to have though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-06 22:47</div><div class="msg">not sure how feasible it is with the current ruby binary however</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-06 23:01</div><div class="msg">I know that HA proxy is in the mix there - who manages that? The provider or another team? So this is the setup in prod: `[consumer] -&gt; [HAProxy] -&gt; [provider]` right? HAProxy is responsible for adding the `/api` bit of the path and performing the routing to the provider. If this is _not_ tested as part of provider verification (ie. you verify by pointing directly at the provider, bypassing HAProxy, which I?m guessing is the case) then you only have 3 options:

1. Put in a path that omits the `/api` is part of your consumer tests, but make sure the configuration in production puts this there.
2. Test the provider _via_ the HAProxy service
3. Wrap the provider in a teeny lightweight proxy when you test it, so that the paths don?t get out of alignment</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:14</div><div class="msg">yes pact node .so when i use canDeploy we have console error as of now  so even if i catch the error , build keeps on going and does not fail</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-02-07 10:15</div><div class="msg">That makes sense, thanks a lot for sharing, Matt! :bow:
I?ll discuss the options with the team and go from there.

Do you think a feature request for it for Pact would fly? Another optional entry to the contract in `providerPath: string`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-07 10:18</div><div class="msg">It?s worth tabling. I can see it helping some, like yourself :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-07 10:18</div><div class="msg">and no probs@</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:50</div><div class="msg">if you catch the error without throwing another one, it'll gobble it up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:50</div><div class="msg">what are you using for your build system?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:50</div><div class="msg">jenkins</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:51</div><div class="msg">okay, and how do you run it? what's the command?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:52</div><div class="msg">i am runnign like this  return pactNode.canDeploy(checkVerification).then(() =&gt; {
        console.log(?Verified can i deploy against  service?);

    }).catch(err =&gt; {
        console.log(?Verification failed for  can i deploy against service?,err);

    });</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:52</div><div class="msg">i am doing like this in code and runnign the js file on jenkins</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:52</div><div class="msg">simply with node ?FileName?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:53</div><div class="msg">right, like I said, since you're catching the error, it never bubbles up to the node top level and thinks you handled it appropriately</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:53</div><div class="msg">no even if i dont have catch in it, it  does not fail my build</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:54</div><div class="msg">there's a few different ways of doing it, one is to just throw the error again:
```
return pactNode.canDeploy(checkVerification).then(() =&gt; {
       console.log(?Verified can i deploy against  service?);
   }).catch(err =&gt; {
       console.log(?Verification failed for  can i deploy against service?,err);
       throw err;
   });
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:54</div><div class="msg">ah right, because it's a promise.  You're probably not using something that handles promises in that way</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:55</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:55</div><div class="msg">it just gives unhandled warning</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:55</div><div class="msg">and the build goes on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:55</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:56</div><div class="msg">one way of doing it is to just do `process.exit(1);` when the catch happens</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 10:57</div><div class="msg">it'll make the program quit with an error code and jenkins will see that as a failed build</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:57</div><div class="msg">so whats the way then ? i tried wrapping up the logic in test and did add expect condition to fail it .But i was being suggested its not a test .its part of build .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 10:58</div><div class="msg">okay i will try with process.exit and see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-07 11:41</div><div class="msg">Also worth checking your Jenkins config. Make sure that any shell environment that you?re running in will also fail on non-zero exit codes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-07 11:41</div><div class="msg">i.e. in in bash, make sure `set -e` is set</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 11:47</div><div class="msg">okay will check</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-07 11:55</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-07 16:00</div><div class="msg">it worked that way , thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-07 21:06</div><div class="msg">great!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-07 21:06</div><div class="msg">Specifically, which way worked?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-02-07 22:45</div><div class="msg">the process.exit way :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-08 09:08</div><div class="msg">yeah that way :stuck_out_tongue: but it would be good if canDeploy method return the same as its actually checking for if we can deploy or not  so it should fail the build :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-08 09:28</div><div class="msg">Process.exit is an antipattern for libraries - it makes sense for cli tools which check for error codes. Throwing errors or rejecting promises is much more idiomatic in JS. Errors are values and can be used as control flow. Process.exit is a blunt hammer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-02-08 09:29</div><div class="msg">oh i see ..makes sense</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-08 09:30</div><div class="msg">:ok_hand:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/170f925b0e1656ad60b3283fcf340957.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">ragarwal</div><div class="time">2019-02-09 10:26</div><div class="msg"><a href="https://github.com/pact-foundation/pact-node/pull/139">https://github.com/pact-foundation/pact-node/pull/139</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-09 10:26</div><div class="msg">Thanks Rashi - i?m actually doing a few things now, will look at this :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/87758b3e9b15216b9155a2e5cb86099b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">arvindr3</div><div class="time">2019-02-11 13:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/87758b3e9b15216b9155a2e5cb86099b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">arvindr3</div><div class="time">2019-02-11 13:23</div><div class="msg">i m getting the issue while i m running the Pact Workshop - js
Error: Error from response: undefined
   at request.get.query.then.err (D:\Pact\pact-workshop-js-master\consumer\client.js:33:15)
   at process._tickCallback (internal/process/next_tick.js:68:7)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-11 20:24</div><div class="msg">At which step? What have you tried to fix it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-30/491835992433_4ce87833c878b463b0a9_72.jpg" /><div class="message"><div class="username">zach.the.hammer</div><div class="time">2019-02-12 01:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/87758b3e9b15216b9155a2e5cb86099b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">arvindr3</div><div class="time">2019-02-12 05:17</div><div class="msg">I m following the instructions given in the github page.I m first running the provider.js and in the seperate terminal i m running the Consumer.js file,while running consumer.js file i m getting the error that i have stated above.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-02-15 13:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2019-02-18 08:43</div><div class="msg">Hey @matt.fellows any update on this spike? I think this looked really good, do you have any plans to add it in a future release?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-18 08:47</div><div class="msg">I plan on releasing in the next drop. Did you have any comment or feedback? Even a thumbs up on that issue would be great</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-02-18 13:04</div><div class="msg">I?ll write down some feedback soon.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-18 20:00</div><div class="msg">that?d be awesome</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-19 17:06</div><div class="msg">I have an endpoint in my app which is like,
`/api/actions?context=type;type=publish;assetIds=10006` with different matrix params `;`
now when i create a consumer test with the same path, it throws `500` error.  Can anyone here let me know how this can be fixed ? TIA</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-02-19 17:27</div><div class="msg">you may need to URLencode your path, I had the same issue sending `somepath/$%` which becomes `somepath%2F%C2%A3%24%25` when encoded.

In JS `const path = encodeURI("$%");`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ba3803e6f94d3cb733aaf725ed78326b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">rickard.andersson</div><div class="time">2019-02-20 07:04</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-20 13:14</div><div class="msg">this didn't solve my issue :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 07:45</div><div class="msg">Can you please share your test code so we can see? Logs would he nice too</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 07:50</div><div class="msg">Hi Matt, this is my test code,
``` describe('Getting available action for publish', () =&gt; {
        before(() =&gt; {
            return provider.addInteraction({
                given: 'GET call',
                uponReceiving: 'Get available action',
                withRequest: {
                    method: 'GET',
                    path: "/api/actions?context=type;type=publish;assetIds=10006"
                },
                willRespondWith: {
                    status: 200,
                    headers: { 'Content-Type': 'application/json' },
                    body: actions
                }
            });
        });

        it('Get available actions for publish', () =&gt; {
            return request.get(`<a href="http://localhost:${PORT}/api/actions?context=type;type=publish;assetIds=10006`">http://localhost:${PORT}/api/actions?context=type;type=publish;assetIds=10006`</a>)
            .set({ 'Accept': 'application/json' }).then((response) =&gt; {
                return expect(Promise.resolve(response.status)).to.equal(200);
            }).catch(err =&gt; {
                console.log("Error in available actions", err);

            });
        });
    });```

and this is the logs which i get when i run the consumer tests,</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 07:50</div><div class="msg">and this is the logs,</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 07:51</div><div class="msg"><a href="https://pastebin.com/7AFcK3HV">https://pastebin.com/7AFcK3HV</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 07:53</div><div class="msg">Thanks. I can take a look later when back at a desk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 07:53</div><div class="msg">thank you :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 07:54</div><div class="msg">I'm actually not sure if or how we support matrix params.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 07:55</div><div class="msg">What do the pact logs say?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 07:55</div><div class="msg">From that, it just didn't match</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 07:56</div><div class="msg">i see status `500` response in pact logs,

``` at process._tickCallback (internal/process/next_tick.js:180:9)
        status: 500,
        text: '{"message":"No interaction found for GET /api/actions?context=type;type=publish;assetIds=10006","interaction_diffs":[]}\n',
        method: 'GET',
        path: '/api/actions?context=type;type=publish;assetIds=10006' },```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 07:56</div><div class="msg">like you said it is not matching with the path with matrix params</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 07:57</div><div class="msg">That's the unit test logs, I'm talking about the one pact itself generates</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 07:59</div><div class="msg">not sure... how can i get pact logs ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 08:01</div><div class="msg">There's an option in your pact test to specify where it goes. There is probably a log file in a `logs` or `pact` dir now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 08:06</div><div class="msg">got it, here goes the logs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 08:06</div><div class="msg"><a href="https://pastebin.com/vBraPQeH">https://pastebin.com/vBraPQeH</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 08:07</div><div class="msg">```I, [2019-02-21T13:33:57.330594 #6869]  INFO -- : Received request GET /api/actions?context=type;type=publish;assetIds=10006
D, [2019-02-21T13:33:57.330712 #6869] DEBUG -- : {
  "path": "/api/actions",
  "query": "context=type;type=publish;assetIds=10006",
  "method": "get",
  "headers": {
    "Host": "localhost:30044",
    "Accept-Encoding": "gzip, deflate",
    "User-Agent": "node-superagent/3.8.3",
    "Accept": "application/json",
    "Connection": "close",
    "Version": "HTTP/1.1"
  }
}
E, [2019-02-21T13:33:57.330820 #6869] ERROR -- : No matching interaction found for GET /api/actions?context=type;type=publish;assetIds=10006
E, [2019-02-21T13:33:57.330845 #6869] ERROR -- : Interaction diffs for that route:
E, [2019-02-21T13:33:57.330869 #6869] ERROR -- :```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 08:12</div><div class="msg">Based on that, you're library is sending thru the query string correctly (as a query string)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 08:12</div><div class="msg">But your test is putting it the path only. Use the query option of the pact interaction</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/45829eb2b9d72c78c730a87b71ee9816.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">vinod.baradwaj</div><div class="time">2019-02-21 08:14</div><div class="msg">let me try passing it as a param</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 10:10</div><div class="msg">How?d you go?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-02-21 13:18</div><div class="msg">@matt.fellows this is a tiny fix, will appreciate if we can get this merged/released</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-21 19:44</div><div class="msg">+:thumbsup: done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-23 01:51</div><div class="msg">Spike over: `8.x.x` is about to head out the door. See <a href="https://github.com/pact-foundation/pact-js#api-with-provider-states">https://github.com/pact-foundation/pact-js#api-with-provider-states</a> and <a href="https://github.com/pact-foundation/pact-js#modify-requests-prior-to-verification-request-filters">https://github.com/pact-foundation/pact-js#modify-requests-prior-to-verification-request-filters</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-23 01:52</div><div class="msg">Would love your feedback gents, also on the examples/docs if they need further improvementn</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-23 02:02</div><div class="msg">:point_up:

We?ve just removed one of the biggest complaints / pain points in Pact JS - the need for a `/setup` endpoint attached to your provider api. You can also now use `requestFilter`s to modify the req/res before sending to the provider. This is perfect for short lived bearer tokens:

Example:
```
let token
let opts = {
  provider: 'Animal Profile Service',
  ...
  stateHandlers: {
    "is authenticated": () =&gt; {
      token = "1234"
      Promise.resolve(`Valid bearer token generated`)
    },
    "is not authenticated": () =&gt; {
      token = ""
      Promise.resolve(`Expired bearer token generated`)
    }
  },

  // this middleware is executed for each request, allowing `token` to change between invocations
  // it is common to pair this with `stateHandlers` as per above, that can set/expire the token
  // for different test cases
  requestFilter: (req, res, next) =&gt; {
    req.headers["Authorization"] = `Bearer: ${token}`
    next()
  },

  // This header will always be sent for each and every request, and can't be dynamic
  // (i.e. passing a variable instead of the bearer token)
  customProviderHeaders: ["Authorization: Bearer 1234"]
}

return new Verifier(opts).verifyProvider().then(...)
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-23 02:04</div><div class="msg">As you can see, to setup state all you need to do is register a handler in the verifier and it will be invoked by the framework before the test case is run. We use `requestFilter` to set an authorization header depending on the current state</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-23 02:18</div><div class="msg">See the docs and e2e example <a href="https://github.com/pact-foundation/pact-js#api-with-provider-states">https://github.com/pact-foundation/pact-js#api-with-provider-states</a> for more <a href="https://github.com/pact-foundation/pact-js/tree/master/examples/e2e">https://github.com/pact-foundation/pact-js/tree/master/examples/e2e</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-02-25/559659594307_0c16994ac20928c10c69_72.png" /><div class="message"><div class="username">m.r.green</div><div class="time">2019-02-25 09:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-02-25 09:34</div><div class="msg">I?m sorry, I didn?t get back with results of my experiments last week. Due to specifics of our app, we need to wrap each pact verification (state setup + actual test request) into a single transaction (we run express server and launch pact from the same process). So, we need to start transaction before we actually set up state and rollback after a response is received from a server.
So, I took your code from ^ spike and modified it to serve our needs. I?ve added `afterResponse` hook (to rollback a transaction) and `beforeSetup` hook to start a transaction. I?m passing transaction id via a header to app server inside `requestFilter`.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-02-25 09:35</div><div class="msg">I can contribute via a PR, in case this could be useful for others.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-25 09:36</div><div class="msg">Ok thanks for feedback - not too late to add, but too late break :laughing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-25 09:38</div><div class="msg">I thought of having more hooks, but the request filter has the ability to do things to the response. The after hook could be useful for other purposes. If you have time, raising a feature enhancement on the repo is the best next step to get it in</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-02-25 09:38</div><div class="msg">great, will do that!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-02-25 10:02</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-01 03:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-01 03:10</div><div class="msg">Hi there... how are we supposed to pass request parameters in Pact Verifier ? are there any opts or do we need to use requestFilters... ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-01 03:11</div><div class="msg">what do you mean, sorry? Can you step back a bit and please let us know what you?re trying to do and where you?re at?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-01 03:32</div><div class="msg">Hi @matt.fellows
so I am quite new to pact. I might be interpreting the docs in a wrong way. but here is what I'm trying to do:
- I have followed the <a href="https://github.com/pact-foundation/pact-js#http-api-testing">https://github.com/pact-foundation/pact-js#http-api-testing</a> docs.... and created a mock provider within consumer spec.
- the pacts are getting generated as expected.
- next, I am trying to call the actual provider service (which is a real service hosted on my staging env).
- Within my provider spec I am trying to verify the pacts..
- So I am calling Verifier().verifyProvider(opts) - to hit the actual api and verify the pacts...
I am not sure how to pass the query parameters in the get request...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-01 03:39</div><div class="msg">So the `verifyProvider` call should be configured to fetch pacts somehow (either from a local folder or from a pact broker). ALl of the details of the requests are in there, and pact will issue the requests against the provider for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-01 03:40</div><div class="msg">If there are query parameters that should be in the requests, you should have those defined in your consumer tests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-01 03:41</div><div class="msg">great... thanks a lot for pointing me in the right direction... will update my consumer tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-01 03:42</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-01 04:35</div><div class="msg">Hey @matt.fellows .. m passing them as params: {abc: "xyz"} in consumer...
pacts are getting generated but still without the params.
I am using *axios* request</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-01 04:45</div><div class="msg">can you please share the test code ? Have you looked at the examples in the pact-js repo to see how they?re doing it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-01 04:53</div><div class="msg">sorry I being so tempted to ask questions as its easy... yes m following the examples and tired a couple of things.
trying a few more options... will share the test code if I couldn't resolve it soon</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-01 04:54</div><div class="msg">well yes :smile: I got it working</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-01 04:57</div><div class="msg">hehe yes, asking is easier :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-01 04:57</div><div class="msg">Doing is better! good job</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-01 05:04</div><div class="msg">thanks.. here's the code snippets .. might help someone who's new to pact like me
//index.js (provider mock)
`'use strict';`
`const axios = require('axios');`
`exports.getPrices = endpoint =&gt; {`
`  const url = endpoint.url;`
`  const port = endpoint.port;`
`  return axios.request({`
`    method: 'GET',`
`    baseURL: '${url}:${port}',`
`    url: '/root/data?abc=XYZ',`
`    headers: { "Content-Type": "application/json",}`
`  });`
`};`
//Snippet from consumer.spec.js
` describe('get /root/data', () =&gt; {`
`    before(done =&gt; {`
`      const interaction = {`
`        uponReceiving: 'a request for data',`
`        withRequest: {`
`          method: 'GET',`
`          path: '/root/data',`
`          headers: { "Content-Type": "application/json",},`
`          query: {"abc": "XYZ"},`
`        },`
`        willRespondWith: {`
`          status: 200,`
`          headers: {`
`            'Content-Type': 'application/json'`
`          },`
`          body: EXPECTED_BODY`
`        }`
`};`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 01:43</div><div class="msg">Hey Guys... another quick question.
My pact has two interactions, but when I run provider tests to verify this pact... only one interaction is verified. why is that ? Am I missing something
Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 01:45</div><div class="msg">hi!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 01:46</div><div class="msg">hey Matt</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 01:46</div><div class="msg">can you show us why it?s not working, or what leads you to think that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 01:46</div><div class="msg">also the pact contract that?s being verified</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 01:48</div><div class="msg">sure. lemme remove any confidential info.. sharing in a while</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 01:49</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 01:54</div><div class="msg">my pact looks like this... has 2 interactions (a request for data AND a request with missing or parameter)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 01:59</div><div class="msg">Provider (actual service) Pact Test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:01</div><div class="msg">please check if this info helps...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:04</div><div class="msg">also m not setting the PACT_DESCRIPTION env variable to run any individual interactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:04</div><div class="msg">ok, so the provider test is just a single ?test? but how do you know it?s not making multiple calls to your provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:04</div><div class="msg">Try modifying the pact.json file (by hand if you need) so that it hits a different path, and see if it fails</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:06</div><div class="msg">I thought the single test would run all the interactions... newbie mistakes maybe...
by hitting diff path you mean I should change the endpoint uri ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:09</div><div class="msg">The single test does run all the interactions - how do you know it?s not?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:10</div><div class="msg">so i mean modify `"path": "/root/data",` to something else like `"path": "/path/doesnt/exist/so/i/should/see/a/failure,`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:10</div><div class="msg">then you can see if it?s performed both tests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:10</div><div class="msg">coz in the run log.. it only shows one interaction passed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:10</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:10</div><div class="msg">oh I see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:10</div><div class="msg">sorry it was hard to see that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:11</div><div class="msg">sorry about that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:11</div><div class="msg">np</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:11</div><div class="msg">Are you sure it?s reading the correct pact file?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:11</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:11</div><div class="msg">there's only one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:11</div><div class="msg">the one you shared with me has 2</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:11</div><div class="msg">no wait.. you're right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:12</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:12</div><div class="msg">pact file is wrong</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:12</div><div class="msg">my bad</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:12</div><div class="msg">haha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9ae117871a540d3c0915f6821c4ba9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">punarjit.singh</div><div class="time">2019-03-04 02:13</div><div class="msg">silly me.. sorry for your time mate. thank you so much</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-04 02:13</div><div class="msg">np</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/547fd1d785e196143c3bb230a76d1651.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">josh.mccure</div><div class="time">2019-03-05 01:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2019-03-05 19:24</div><div class="msg">I'm having a bit of trouble understanding how matchers work with request paths.  Is there a good example to look at?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2019-03-05 19:26</div><div class="msg">The API I'm testing has a path segment which is a timestamp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-05 19:26</div><div class="msg">what have you tried?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2019-03-05 19:28</div><div class="msg">I presume I have to setup matchingRules with $.path in the request?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-05 19:31</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-05 19:31</div><div class="msg">look at the e2e example in the repository, there is a matcher example for paths in there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-05 19:33</div><div class="msg">```
        provider.addInteraction({
          state: "Has an animal with ID 1",
          uponReceiving: "a request for an animal with ID 1",
          withRequest: {
            method: "GET",
            path: term({ generate: "/animals/1", matcher: "/animals/[0-9]+" }),
            headers: { Authorization: "Bearer token" },
          },
          willRespondWith: {
            status: 200,
            headers: {
              "Content-Type": "application/json; charset=utf-8",
            },
            body: animalBodyExpectation,
          },
        })
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-05 20:37</div><div class="msg">How'd you go?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2019-03-05 21:05</div><div class="msg">~Thanks, will try again this afternoon~</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2019-03-05 21:06</div><div class="msg">Thanks, we'll give it a try this afternoon.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2019-03-05 21:08</div><div class="msg">Thats from this example <a href="https://github.com/pact-foundation/pact-js/tree/master/examples/e2e">https://github.com/pact-foundation/pact-js/tree/master/examples/e2e</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-05 21:08</div><div class="msg">Yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2019-03-05 23:35</div><div class="msg">Using `term` worked.  Thank you.  We're now matching the expected request, although struggling through debugging why the body of the provider response does not match:  `Expected a Hash but got a String`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">jeffm</div><div class="time">2019-03-05 23:39</div><div class="msg">```
  body: {
	't': {
	  't': Matchers.term({
		generate: `${subscribeTime}`,
		matcher: '[0-9]+'
	  }),
	  'r': 2
	},
	'm': []
  },
  
-{
-  "t": {
-    "t": "15518280219750000",
-    "r": 2
-  },
-  "m": [,
-
-  ]
-}
+"{\"t\":{\"t\":\"15518279409297495\",\"r\":2},\"m\":[]}"  
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-06 00:12</div><div class="msg">I think you need to match on the content type </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-06 00:12</div><div class="msg">As json</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-06 00:13</div><div class="msg">Either that, or your app is not sending JSON and is sending a string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-03-06 09:49</div><div class="msg">Hi pact-js team,

Do you have any recommendations for dealing with matching nested arrays? For example, I have a payload object with a property `option` which is an array of objects containing arrays, see below.

```
const dummyPayload = {
  options: [
    {
      name: 'option name 1',
      data: ['sub option 1', 'sub option 2', 'sub option 3'],
    },
    {name: 'option name 2, data...}
  ],
};
```

The below works, but is quite hard to read. This is a simplified example, and some of our responses have deeper nesting.
```
const dummyResponsePact = {
  options: Matchers.eachLike({
    ...dummyPayload.options,
    data: Matchers.eachLike(dummyPayload.options[0].data[0]),
  }),
};
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-06 09:50</div><div class="msg">Can you just not wrap the whole thing in a single `like` matcher?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-03-06 09:59</div><div class="msg">Looks like `like` is just an alias for `somethingLike`, which I am actually currently wrapping this object with when adding interactions (sorry that was not visible in the example).

The `somethingLike`/`like` matcher doesn?t deal with arrays like `eachLike` does though.

My intent is to have all the arrays in my object, however deeply nested, match at the one or more level, outputting the below in the pact:
```

        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.options": {
            "min": 1
          },
          "$.body.options[*].*": {
            "match": "type"
          },
          "$.body.options[*].data": {
            "min": 1
          },
          "$.body.options[*].data[*].*": {
            "match": "type"
          }
        }
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-06 11:15</div><div class="msg">My understanding is that wrapping the entire block in just a `like` - with no nested matchers - should automatically and recursively set type matchers (incl. to arrays) as it goes down the tree. Is this not happening?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-03-06 11:21</div><div class="msg">This is the only type matcher I get in the Pact json when passing the raw object into `Matchers.like()`
```
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        }
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-06 12:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-06 12:34</div><div class="msg">Hi i have a provider test as follow (using jest and using message queue)
```
/* eslint-disable no-undef */
const { MessageProviderPact } = require('@pact-foundation/pact');
const path = require('path');
const { getMsg } = require('./../mock-prestac');

describe('Message provider tests', () =&gt; {
  const p = new MessageProviderPact({
    messageProviders: {
      'a request for prepare': () =&gt; getMsg(),
    },
    log: path.resolve(process.cwd(), 'logs'),
    provider: 'prestac',
    providerVersion: '1.0.0',
    logLevel: 'fatal',

    pactUrls: [
      path.resolve(process.cwd(), 'pacts', 'prepare-prestac.json'),
    ],
  });

  describe('send a prepare message', () =&gt; {
    it('sends a valid prepare message', () =&gt; {
      p.verify();
    }, 30000);
  });
});
```
its working test pass but it dont exit and produce some error as follow
```
PASS tests/provider.test.pact.js (5.797s)
  Message provider tests
    send a prepare message
      ? sends a valid prepare message (18ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        7.742s
Ran all test suites.
Jest did not exit one second after the test run has completed.

This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
(node:11280) UnhandledPromiseRejectionWarning: Error: INFO: Reading pact at /xampp/htdocs/prepare-service/pacts/prepare-prestac.json


Verifying a pact between prepare and prestac
  Given message is valid
    a request for prepare

      has matching content (FAILED - 1)


Failures:

  1) Verifying a pact between prepare and prestac Given message is valid a request for prepare has matching content
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state 'message is valid' for consumer 'prepare' at <a href="http://localhost:63714/_pactSetup">http://localhost:63714/_pactSetup</a>. response status=415 response body=&lt;!DOCTYPE html&gt;
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at C:\xampp\htdocs\prepare-service\node_modules\body-parser\lib\read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (C:\xampp\htdocs\prepare-service\node_modules\raw-body\index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at process.internalTickCallback (internal/process/next_tick.js:70:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;


1 interaction, 1 failure

Failed interactions:


* A request for prepare given message is valid



(node:11280) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:11280) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-06 19:44</div><div class="msg">I think that's correct. Is it not doing what you would expect? Forget the serialisation into pact for a second, does the consumer and provider test work as expected?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-06 21:34</div><div class="msg">you need to return the `p.verify()` as it?s a promise. That?s why you?re getting a green test but an error printed out after</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-06 21:35</div><div class="msg">You should also setup a state handler for the ?message is valid? state</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-07 09:03</div><div class="msg">Thank for help will try your suggestion :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-07 09:58</div><div class="msg">hey can you provide me example of state handler? m not able to find it in
<a href="https://github.com/pact-foundation/pact-js/tree/master/examples/messages">https://github.com/pact-foundation/pact-js/tree/master/examples/messages</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-07 10:17</div><div class="msg">found it in <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js</a>

i am now returning `p.verify()` but still getting same error (no green test this time, guess it was not green before either just was not throwing error before showing test as green)

This is the output i am getting
```
$ npm run test:provider

&gt; render-service@1.0.0 test:provider C:\xampp\htdocs\render-service
&gt; jest --testRegex "/*(provider.test.pact.js)" --runInBand --setupFiles ./tests/config/pactSetup.js --setupTestFrameworkScriptFile=./tests/config/pactTestWrapper.js

[2019-03-07T10:14:23.616Z]  INFO: pact-node@6.21.5/3360 on DESKTOP-KOB10PR:
    Creating Pact Server with options:
    consumer = render,
    cors = false,
    dir = C:\xampp\htdocs\render-service\pacts,
    host = 127.0.0.1,
    log = C:\xampp\htdocs\render-service\pact logs\pact-tests.log,
    pactFileWriteMode = update,
    port = 8991,
    provider = prestac,
    spec = 2,
    ssl = false,
    sslcert = ,
    sslkey =
FAIL tests/provider.test.pact.js (6.689s)
  Message provider tests
    send a render message
       sends a valid render message (2046ms)

  ? Message provider tests ? send a render message ? sends a valid render message

    INFO: Reading pact at /xampp/htdocs/render-service/pacts/render-prestac.json


    Verifying a pact between render and prestac
      Given message is valid
        a request for rendering

          has matching content (FAILED - 1)


    Failures:

      1) Verifying a pact between render and prestac Given message is valid a request for rendering has matching content
         Failure/Error: raise "An error was raised while verifying the message.The response body is: #{response.body}"

         RuntimeError:
           An error was raised while verifying the message. The response body is: {}


    1 interaction, 1 failure

    Failed interactions:


    * A request for rendering given message is valid


      at ChildProcess.&lt;anonymous&gt; (node_modules/@pact-foundation/pact-node/src/verifier.ts:172:57)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 1 total
Snapshots:   0 total
Time:        10.63s
Ran all test suites.
Jest did not exit one second after the test run has completed.

This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:38</div><div class="msg">Hi guys, I have problem with matchers when I?m using them on headers and body for post wiht header `mulipart/form-data`.

When I use regex which should enable all characters `[\\s\\S]*` post always end with 500 on mock server. I can send you part of code if its more descriptive.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 10:41</div><div class="msg">My apologies, you don?t need a state setup for this. Att least, it?s not mandatory.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 10:41</div><div class="msg">What?s the pact logs say? It appears as if the content isn?t matching, which means its a legitimate failure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 10:49</div><div class="msg">The state is also passed in to the registered handler, so that can setup any state required if needed too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:52</div><div class="msg">Funny thing is that the commented matchers are not matched by pact correctly inspite of that they goes through ruby and js regex. Pactjs shows two the same with error that is not the same /shrug</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 10:54</div><div class="msg">What does the pact logs have to say about it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:55</div><div class="msg">oh wait</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:55</div><div class="msg">not that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 10:55</div><div class="msg">as an aside, this is a bit wrong:

```
after(async () =&gt; {
    return await platformBFF.finalize();
  });
```

remove the async and await</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 10:55</div><div class="msg">you can simply return the promise here - no need to await for it and then return. That?s just a double wrapped promise :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:56</div><div class="msg">mkay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 10:57</div><div class="msg">(there?s a few examples of that)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 10:58</div><div class="msg">also, what?s this all about? It looks like you?re trying to ensure a project is created before running the consumer tests? is that right?

```
    projectId = (await setup.createProject('floor', token)).body._id;
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:58</div><div class="msg">yes it is for provider side</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:59</div><div class="msg">i want to extract id and create project on real service and pass his id</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 10:59</div><div class="msg">it works fine in other tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:03</div><div class="msg">you can?t do that in pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:03</div><div class="msg">Test is all about creating via POST new floor which have picture and name. To get there you need to create previously project and there you are creating floor</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:04</div><div class="msg">I understand, but that is a scenario / functional tests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:04</div><div class="msg">I?d suggest taking a read through the FAQ</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:04</div><div class="msg"><a href="https://docs.pact.io/best_practices/consumer#use-pact-for-contract-testing-not-functional-testing-of-the-provider">https://docs.pact.io/best_practices/consumer#use-pact-for-contract-testing-not-functional-testing-of-the-provider</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:05</div><div class="msg">this path is used by mobile team</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:05</div><div class="msg">i only want to check this one endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:05</div><div class="msg">Aside from that, it just won?t work. Your consumer tests, if using Pact, hit the Pact mock server. . So creating a project and then hitting the pact endpoint has no impact on that test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:06</div><div class="msg">I?ve added a state handler example to message pact just now too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:07</div><div class="msg">Im not sure if i understand it correctly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:07</div><div class="msg">Have you read those FAQs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:07</div><div class="msg">Im just mocking floor endpoint thats all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:07</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:15</div><div class="msg">So im digging too deep in this test?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-07 11:16</div><div class="msg">Attached the logs.
it include warn and error
```
W, [2019-03-07T12:19:48.394818 #17152]  WARN -- : Could not load existing consumer contract from C:/xampp/htdocs/render-service/pacts/render-prestac.json due to undefined method `gsub' for nil:NilClass. Creating a new file.
E, [2019-03-07T12:19:48.394818 #17152] ERROR -- : undefined method `gsub' for nil:NilClass (NoMethodError)
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:18</div><div class="msg">sorry, was afk</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:19</div><div class="msg">so take me through what yoou?re doing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:19</div><div class="msg">1. the `createProject`
2. the `postFloor` bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:20</div><div class="msg">Something is wrong with the contract - how did it get created? Did you create it by hand?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-07 11:21</div><div class="msg">no i have consumer test which creates it, i delete it and create from consumer again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:21</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:22</div><div class="msg">could you please share the contract with us? Or a minimal version of it that creates that error? It seems that it is not being serialised correctly. That?s a bug somewhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:30</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:31</div><div class="msg">createProject is just for provider side to reach floor with exact id which im passing into consumer contract</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-07 11:31</div><div class="msg">my consumer test code
```
const {
  MessageConsumerPact,
  asynchronousBodyHandler,
} = require('@pact-foundation/pact');

const path = require('path');

const { validateMessage } = require('./../render');

const msg = {
  identifier: {},
  body: {
    projectId: 538481,
    projectPath: 'C:/xampp/htdocs/render-service/538481.aep',
    movPath: 'C:/xampp/htdocs/render-service/538481.mov',
    mp4Path: 'C:/xampp/htdocs/render-service/538481.mp4',
  },
};

describe('Message consumer tests', () =&gt; {
  const messagePact = new MessageConsumerPact({
    consumer: 'render',
    dir: path.resolve(process.cwd(), 'pacts'),
    pactfileWriteMode: 'update',
    provider: 'prestac',
    logLevel: 'fatal',
  });

  describe('Receive a valid message for rendering', () =&gt; {
    it('Process rendering', () =&gt; messagePact
      .given('message is valid')
      .expectsToReceive('a request for rendering')
      .withContent(msg)
      .verify(asynchronousBodyHandler(validateMessage)), 600000);
  });
});
```

and the contract it generate is
```
{
  "consumer": {
    "name": "render"
  },
  "provider": {
    "name": "prestac"
  },
  "messages": [
    {
      "description": "a request for rendering",
      "providerStates": [
        {
          "name": "message is valid",
          "params": null
        }
      ],
      "contents": {
        "identifier": {
        },
        "body": {
          "projectId": 1,
          "projectPath": "path",
          "movPath": "path",
          "mp4Path": "path"
        }
      },
      "matchingRules": {
        "body": {
        }
      },
      "metaData": {
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "3.0.0"
    }
  }
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:31</div><div class="msg">Project ---&gt; Floor . You cant create floor without project</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:32</div><div class="msg">does that actually create a project in the provider side?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:32</div><div class="msg">or mock it out, as you said before?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:32</div><div class="msg">It creates real project on service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:32</div><div class="msg">not mocked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:33</div><div class="msg">Consumer gets just id which is passed into path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:33</div><div class="msg">&gt;  You cant create floor without project

This is what we are referring to as a functional test, specifically for the provider. This sort of test belongs in the provider, not the consumer.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:33</div><div class="msg">Further more, with Pact, if your next test is to create the floor you?re not going to hit the provider service - you?re going to hit the Pact mock server. It doesn?t need the project to be created - it has no idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:34</div><div class="msg">so in that case when i use verify from provider side it didn?t get through</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:35</div><div class="msg">because real service did not get id and so on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:35</div><div class="msg">No, nothing you do in the consumer tests touches the real provider. That?s by design - otherwise you don?t need Pact, you can just do the usual e2e testing. Pact means that you can test each system separately as _unit tests_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:35</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:36</div><div class="msg">mkay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:36</div><div class="msg">each interaction should be tested on its own, and as close to a unit test as possible. The more setup you find yourself doing for a test is a smell that something is not right, and the test is getting too broad</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:36</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:38</div><div class="msg">ok, so lets back to interaction provided by me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:38</div><div class="msg">why this return 500 from mocked server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:39</div><div class="msg">I know you are talking that my test is not correct because I am setting up things from provider side in consumer test but it has nothing to do with 500 from mock server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:40</div><div class="msg">Something to do witht ASCII-8BIT</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:41</div><div class="msg">yeah encoding stack</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:42</div><div class="msg">I saw that it is common stack in pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:42</div><div class="msg">mmm yeah I?ve seen this before, but I?m not sure it?s ever been resolved</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:42</div><div class="msg"><a href="https://stackoverflow.com/questions/51604866/pact-verifier-is-failing-with-encodingundefinedconversionerror-xe2-from-as">https://stackoverflow.com/questions/51604866/pact-verifier-is-failing-with-encodingundefinedconversionerror-xe2-from-as</a>  <a href="https://github.com/pact-foundation/pact-python/issues/97">https://github.com/pact-foundation/pact-python/issues/97</a> and <a href="https://github.com/pact-foundation/pact-ruby-standalone/issues/27">https://github.com/pact-foundation/pact-ruby-standalone/issues/27</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:42</div><div class="msg">Might be worth looking at the ruby standalone ruby and giving it a bump</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:44</div><div class="msg">mkay, thanks for your help Randy :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:44</div><div class="msg">hahaha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:44</div><div class="msg">no probs, and sorry. I?ll have a look again tomorrow, but it?s late here and I should get to bed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 11:44</div><div class="msg">good luck!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-07 11:44</div><div class="msg">cya</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-03-07 11:50</div><div class="msg">I didn?t think so, but I am not part of the provider team so will have to dig into this to see. Thanks, I?ll let you know what I find</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3be463d6c490c97530f833142f8ada11.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">phil.a.herbert</div><div class="time">2019-03-07 15:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3be463d6c490c97530f833142f8ada11.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">phil.a.herbert</div><div class="time">2019-03-07 16:06</div><div class="msg">Hello! Does anyone know if there has been any work done towards matching on dynamic object keys? (see <a href="https://github.com/pact-foundation/pact-specification/issues/47">https://github.com/pact-foundation/pact-specification/issues/47</a>, <a href="https://github.com/DiUS/pact-jvm/issues/313">https://github.com/DiUS/pact-jvm/issues/313</a>). It?s seemingly in the v4 spec (<a href="https://github.com/pact-foundation/pact-specification/tree/version-4#ignoring-the-keys-in-a-map">https://github.com/pact-foundation/pact-specification/tree/version-4#ignoring-the-keys-in-a-map</a>), but given that it?s been implemented in pact-jvm, I?m curious to know if anyone has thought about it for pact-js.

I would also be happy to have a go at implementing it if:
a) it?s not too complicated for someone new to the repo
b) people think it?s a good idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 23:22</div><div class="msg">It?s definetely a good idea, but you would need to get it into the Ruby implementation (as that?s used under the hood in all but the JVM based ones)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 23:22</div><div class="msg">You want to raise an issue at <a href="https://github.com/pact-foundation/pact-ruby/">https://github.com/pact-foundation/pact-ruby/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-07 23:22</div><div class="msg">(if there?s not already one)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-08 07:24</div><div class="msg">hey @matt.fellows did you looked into message i sent? is there something wrong with my code or bug in pactjs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-08 07:44</div><div class="msg">Which message, sorry</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-08 08:21</div><div class="msg">in the previous thread :stuck_out_tongue: guess i will add it here agian</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-08 08:22</div><div class="msg"><a href="https://pact-foundation.slack.com/archives/C9VBGLUM9/p1551958295074500">https://pact-foundation.slack.com/archives/C9VBGLUM9/p1551958295074500</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-08 11:04</div><div class="msg">Sorry I must have missed it. But it's not showing up well on my phone (I'm out tonight). I'll try to look tomrrow sorry</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-08 11:50</div><div class="msg">np</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-11 07:23</div><div class="msg">any updates on this @matt.fellows :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-11 07:43</div><div class="msg">Hmm no sorry, could you please raise a ticket on pact-js repo?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-11 07:43</div><div class="msg">You shouldn?t be able to create a problem with the contract file using nothing but our tools</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-11 07:43</div><div class="msg">sorry!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-11 07:48</div><div class="msg">ok i will and np</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-11 07:51</div><div class="msg">thanks mate!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-11 07:59</div><div class="msg">created the issue let me know if you would need more info :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-11 08:54</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-11 23:09</div><div class="msg">@yousafn let me know how the above goes, hopefully has sorted the issue!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-03-11 23:25</div><div class="msg">hey mate will try it now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-03-11 23:45</div><div class="msg">good spot on the v2 in the url. pact-js now passing which means the pact-node job is failing for same reason, click on the pact-node job to see.

<a href="https://circleci.com/workflow-run/28225c87-ffb3-4ad2-bed6-37e627b9a2a2">https://circleci.com/workflow-run/28225c87-ffb3-4ad2-bed6-37e627b9a2a2</a>

I can raise an issue against pact-node if you want?

also got an aside issue, I can?t call a https pact broker that doesn?t have a CA, (default nginx config from the example docs) that job is also shown in that workflow

thanks again dude</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 02:31</div><div class="msg">no probs. I?m having accessing that link (getting a 404) - is it a public build?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 02:32</div><div class="msg">nvm, just needed to login</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 02:33</div><div class="msg">The pact node job i think is failing because it?s hitting the same problem i.e. `/v2/v2/...`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 02:33</div><div class="msg">Note the error is a `404` not an SSL issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 02:33</div><div class="msg">oh, hmmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 02:35</div><div class="msg">Not sure why it?s 404ing, but you might want to bump the log level and see if anything useful turns up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-03-12 10:46</div><div class="msg">Morning chap (probably late night for you) - Will have a look into it today whilst I?m at work. Not entirely clear on how to bump the log level as there doesn?t appear to be a logging param on the verifyPacts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 10:57</div><div class="msg">`logLevel: "DEBUG"` should do it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 10:57</div><div class="msg">oh, right. Pact-node probably doesn?t have that, no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 10:57</div><div class="msg">just pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-03-12 12:15</div><div class="msg">It will only work if `pact.logLevel('DEBUG');` outside of the pact.verifyPacts(opts) block but that only outputs the debug output for the pact-binary.

Not really an issue for me now that we have the ability to switch off sslverification in pact-js.

I will propose a PR in the next couple of days just to add that new option to the readme</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2019-03-12 15:37</div><div class="msg">Hi all, having some trouble getting a pact test to run using the ApolloGraphQLInteraction in Angular using Karma etc.
When I run ng test I get the following error (see thread), any ideas what i'm probably doing wrong? Thanks in advance</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 22:20</div><div class="msg">Hmm `ApolloGraphQLInteraction` is not a type in the `pact-web` package. Could you please raise an issue for this? It probably should be.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-12 22:20</div><div class="msg">You _should_ be able to get it from the `@pact-foundation/pact` package, though in the mean time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2019-03-13 07:55</div><div class="msg">Hi Matt, thanks for getting back to me, i'll raise that right now. I did try taking it from /pact as i'd noticed in the example for graphql, but i get a different error

ERROR in src/app/pact/pact-component.pact.spec.ts(62,33): error TS2345: Argument of type 'ApolloGraphQLInteraction' is not assignable to parameter of type 'InteractionObject | Interaction'.
  Type 'ApolloGraphQLInteraction' is not assignable to type 'Interaction'.
    Property 'state' is protected but type 'Interaction' is not a class derived from 'Interaction'.

Thanks again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-13 08:13</div><div class="msg">Ok cool, looks like we need to port that across. Should be straightforward</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-13 08:21</div><div class="msg">Your could probably do some nasty casting there
 in the meanwhile</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-15 12:33</div><div class="msg">Hi i am trying to run <a href="https://github.com/pact-foundation/pact-js/tree/master/examples/messages">https://github.com/pact-foundation/pact-js/tree/master/examples/messages</a> locally on my system (windows 10) as it is, i pulled repo pact-js moved to example messages did `npm i` after that m trying to run consumer and provider test but both are giving same error ` Error: The system cannot find the path specified.`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-15 12:33</div><div class="msg">provider test output</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-15 20:49</div><div class="msg">Have you run npm I the root folder and project folder?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/569ff5248bc1430a79d38efc1133859e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">sergiy</div><div class="time">2019-03-17 14:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-03-18 06:55</div><div class="msg">yes i run npm I in root folder as-well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 00:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 00:52</div><div class="msg">Hi, based on my understand, there are many libraries could do the contract testing and why pact stands out? I think I can use newman(postman's command line) to automate the requests and verify the response like the pact does.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 00:53</div><div class="msg">sure, but that?s not contract testing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 00:53</div><div class="msg">that?s just API/HTTP testing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 00:53</div><div class="msg">What's the difference between contract testing and API testing. I read this link By read this link <a href="https://docs.pact.io/best_practices/consumer/contract_tests_not_functional_tests">https://docs.pact.io/best_practices/consumer/contract_tests_not_functional_tests</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 00:54</div><div class="msg">I think the contract testing mention in the link just a loose API testing. contract just test fewer cases</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 00:54</div><div class="msg">Contract tests checks both sides of the API contract - the consumer and the provider. It ensures that _both_ sides of the contract are in sync, preventing drift</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 00:55</div><div class="msg">It?s easy to have a swagger defined for a provider API, and even check that the provider is compatible with it (if that?s what yyou do). It?s harder to be sure, that the consumer implements the contract correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 00:56</div><div class="msg">Contract testing let?s you test each side of this _independently_ - meaning you don?t need to have both services running to ensure they are compatible. This enables much simpler continuous delivery</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 00:57</div><div class="msg">Without contract testing, you can?t be sure, and therefore have to start up all the services together and test them at the same time to make sure they?re compatible. This is slow, problematic, fragile and cumbersome</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 00:58</div><div class="msg">Firstly thank you for your kind help and detailed answer!! :slightly_smiling_face: My further question is for the corps that one team owns the consumer and the other team owns the provider.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 00:59</div><div class="msg">The provider team cannot wait the consumer team to provide the pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 00:59</div><div class="msg">you?re welcome</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 01:00</div><div class="msg">because in most of the case, the provider will be developed first. And in the provider developing time, the provider team needs to test their service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 01:00</div><div class="msg">Sure, and they should absolutely test their service through whatever means makes sense. The contract can be generated later by the consumer when they?re ready, at which point the provider can verify it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 01:01</div><div class="msg">All of the functional testing of the provider still needs to be done, it just should be done by the provider team (not the consumer team, via e2e tests).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 01:01</div><div class="msg">for that, whatever tool gets the job done is fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 01:01</div><div class="msg">so newman can definitely be used with Pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 01:01</div><div class="msg">newman = functional test,  pact = contract  test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 01:02</div><div class="msg">functional test = the API does what it says it does
contract test =  the parties that use the API are always in sync with how the API should be used</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 01:03</div><div class="msg">bbl sorry, in meeting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 01:05</div><div class="msg">Please be proud that you can answer questions from new comers like me :slightly_smiling_face:.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 01:07</div><div class="msg">These days I have tried with do a API-test with my new provider with the pact-js. Your answers clear most of the doubts I met during the process. Thank you very much!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 01:13</div><div class="msg">So contract testing is an extra insurance for the software. If the consumer and provider teams develop separately, provider team will still need the verify the provider by API-testing. And the consumer team will provide the contract pact while writing the consumer and later give the pact to the provider to verify the provider. In the future, the provider could use the pact to verify its new change and the consumer could verify itself by the pact. Is my understanding correct? Last but not least, deeply thank you for you answer!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-03-20 01:14</div><div class="msg">Yes, this is correct. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 01:14</div><div class="msg">Thank you, Beth!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-20 03:19</div><div class="msg">@evan_l00 Another thing you can do (from the provider side, while waiting for consumers to exist) is write your own test consumer. It doesn't have the full value of a real consumer, but it can exercise your CI/CD testing infrastructure :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:21</div><div class="msg">Create a thread</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:22</div><div class="msg">@abubics CI/CD testing infrastructure could be also exercise by other test frameworks. I don't any pros here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 23:23</div><div class="msg">I think by ?infrastructure? in this context, Boris means ?your CI/CD scripting process?. Not testing actual server/cloud infrastructure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 23:23</div><div class="msg">i.e. it prepares you for when the ecosystem grows to multiple consumers and providers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:25</div><div class="msg">It seems this a over-thinking idea. Too many purposes on  one framework seems bring too much complexity</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:27</div><div class="msg">and with a fake consumer, you have too pacts to obey. one is the real, one is the one you are  testing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 23:28</div><div class="msg">I?m not sure what you mean? Pact is not a CI/CD tool, but is designed fit _within_ them.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 23:28</div><div class="msg">as for the fake consumer, you would delete it as soon as a real one comes on board</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:29</div><div class="msg">I mean other libraries/framework also designed fit within them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:29</div><div class="msg">Yeah. Deleting the fake would be the solution.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 23:30</div><div class="msg">it just prepares you for when a consumer is ready, rather than you having to setup the process to fetch and verify consumer pacts, integrate the ?can-i-deploy? tool  etc. only after a consumer comes on board.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:32</div><div class="msg">I just struggle with why I need to write unit test, api test and contract test. If the API test cover the change, how can the provider break the contracts set by API test. An example about why the pact/contract test rescue would be very appreciated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:33</div><div class="msg">When we do API test, we actually set up contracts between consumer and provider. If the adding change in the provider pass the API test, how can he breaks the contract set up by the API test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-20 23:40</div><div class="msg">&gt; how can the provider break the contracts set by API test

Because the provider is free to change the contract, and then validate that the (new) contract is satisfied by its own testing

&gt; When we do API test, we actually set up contracts between consumer and provider

How do you do this now?

&gt; If the adding change in the provider pass the API test, how can he breaks the contract set up by the API test?

don?t also forget that the _consumer_ is a key part of this, and they may inadvertently get out of sync also

&gt; I just struggle with why I need to write unit test, api test and contract test

Even if you assumed that you had the right level of coverage, traditional e2e testing that ensures they _do_ work together, is slow, fragile, hard to maintain and hard to debug.

Contract tests let you test each component in isolation, whilst guaranteeing that they are still compatible</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-20 23:42</div><div class="msg">Basically, contract testing like this is further towards the bottom of the testing pyramid, rather than e2e and functional tests that:
- have many moving parts,
- are slower to run, and
- are inherently more flaky</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-20 23:43</div><div class="msg">so you can focus on faster feedback, and smaller tests :ok_hand:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-20 23:44</div><div class="msg">Contract testing like this also decouples the consumer and provider. This helps you debug quicker, because you find out which side broke the contract at the start of the test failure, instead of through your own investigation :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-20 23:44</div><div class="msg">Then you can decide which version of the contract is correct (new or old)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:45</div><div class="msg">@matt.fellows thank you very much!  As for "How do you do this now", when we do API test, we definitely assume that provider gives certain responses. And the consumer will work with these responses. Later when I change provider, if I pass the API-test, it means that the consumer could work as before because the certain responses still exists</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-20 23:45</div><div class="msg">Because of that, you can also ensure that you only deploy backwards-compatible contract changes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-20 23:46</div><div class="msg">So, the contract is the set of matching interfaces, not a specification artifact?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:47</div><div class="msg">Could you give an example that with API-test, there is something will be broke?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:51</div><div class="msg">I have read DIUS/pact-workshop-js 's example. In the step 3 or 4 says that <a href="http://Pact.io">http://Pact.io</a> to rescue. But I see that the consumer will fail because it does not follow the API that the provider gives instead consumer test the API response based on its imagination.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-20 23:55</div><div class="msg">that's the "consumer-driven" part :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-20 23:56</div><div class="msg">@abubics <a href="https://github.com/DiUS/pact-workshop-js/issues/10">https://github.com/DiUS/pact-workshop-js/issues/10</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-21 00:00</div><div class="msg">You need to make a philosophy shift for Pact to give you a benefit. Have you read anything about consumer-driven vs provider-driven APIs?
e.g. <a href="https://docs.pact.io/#consumer-driven-contracts">https://docs.pact.io/#consumer-driven-contracts</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-21 00:01</div><div class="msg">A large part of the value of making the API design consumer-driven is that you usually don't know what your consumers need, or how they want to interact with any API you're building.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-21 00:03</div><div class="msg">Oftentimes, you'll have many different consumers, with slightly different needs and use cases.
e.g. They won't all use all of the API endpoints.
You can write smaller test suites for each consumer, and granularly find out if API changes will break individual consumers.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-21 00:04</div><div class="msg">Then you can talk to those teams and find out why they want to use the API in that way, and either accommodate them, or get them to accommodate your API design.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-21 00:04</div><div class="msg">Pact doesn't replace having conversations between teams, but it can help you have better conversations with the right people :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-21 00:11</div><div class="msg">I get it that it can avoid a lot of communication and negotiation between teams</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-21 00:11</div><div class="msg">nono, it's meant to facilitate communication &amp; shared understanding</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-21 00:12</div><div class="msg">(but higher quality comms)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-21 00:15</div><div class="msg">Thank you @abubics I'll try to figure out left parts with my coding experience grows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-03-21 00:18</div><div class="msg">There are some good talks and blog posts about it, so let us know if you get stuck again :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-21 00:18</div><div class="msg">I?d recommend the Atlassian talk, they have nice animations and talk about how they use it with swagger</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-03-21 00:21</div><div class="msg">^ this. that talk is brilliant.

It definitely a philosophical shift into the world of CDC, it should be called collaboration driven contract testing however.

I see it as a provider now has a view as to how the consumer is using their service, and exactly what they use, rather than just a load of requests.

Provider can put out a new release without breaking all their clients.

Without CDC, providers have no view until they put out a release and get broken consumers on the phone, or you have painful integration testing phases where everyone needs to line up at the same time.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/077de7d14956cf7ce7782c7cdca48c55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">evan_l00</div><div class="time">2019-03-21 00:22</div><div class="msg">Thank you all. I google them and read them. If I still get question, I'll will bother you again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-03-21 00:22</div><div class="msg"><a href="https://www.youtube.com/watch?v=-6x6XBDf9sQ">https://www.youtube.com/watch?v=-6x6XBDf9sQ</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 09:38</div><div class="msg">Hi, guys do you support in stateHandlers async functions?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 09:52</div><div class="msg">Yes, they accept promises. They must be a promise, in fact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:08</div><div class="msg">Ok, I handled it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:11</div><div class="msg">how should I use `providerStatesSetupUrl`. I can?t find any useful information. Where should it point?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 10:22</div><div class="msg">what docs are you looking at?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 10:23</div><div class="msg">that field is deprecated in favour of the field you just mentioned (i.e. `stateHandlers` is the new `providerStatesSetupUrl`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:30</div><div class="msg"><a href="https://github.com/pact-foundation/pact-provider-verifier/">https://github.com/pact-foundation/pact-provider-verifier/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:31</div><div class="msg">also I have warning after executing tests: `WARN: Skipping set up for provider state 'Project in db' for consumer 'spaces-web' as there is no --provider-states-setup-url specified.`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 10:43</div><div class="msg">how are you running the tests? If you?re using  Pact JS, you don?t need to manually  run that verifier</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:47</div><div class="msg">well im using mocha `"provider:pact": "./node_modules/.bin/mocha pact/provider/*.test.js"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:48</div><div class="msg">and yes I am using Pact JS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 10:48</div><div class="msg">can you please share your verification code? You shouldn?t be getting that ?skipping?? message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 10:48</div><div class="msg">also, as importantly, what?s the version of Pact you?re using?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:49</div><div class="msg">?@pact-foundation/pact?: ?^7.3.0",
    ?@pact-foundation/pact-node?: ?^6.21.4",</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:58</div><div class="msg">btw. your HAL browser is dead?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-03-26 10:59</div><div class="msg">Is it? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:59</div><div class="msg">i can?t get in API version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 10:59</div><div class="msg">404 everywhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-03-26 11:02</div><div class="msg">Thank you for letting us know. I will fix this asap.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 11:05</div><div class="msg">`return await new Verifier().verifyProvider(opts);`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 11:05</div><div class="msg">the await is superflous here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 11:06</div><div class="msg">Also not that `customProviderHeaders` is evaluated at compile time, so the value _will not change throughout the tests_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-03-26 11:07</div><div class="msg">Have to wake up all the build nodes :stuck_out_tongue: It's late here so they've all gone to sleep.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 11:09</div><div class="msg">(see <a href="https://github.com/pact-foundation/pact-js#modify-requests-prior-to-verification-request-filters">https://github.com/pact-foundation/pact-js#modify-requests-prior-to-verification-request-filters</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 11:13</div><div class="msg">oh, you need to update to version 8.x.x - stateHandlers is not in v7</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 11:43</div><div class="msg">Ok, I?ll update it. Thanks once again Randy.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 11:51</div><div class="msg">hehe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-03-26 11:56</div><div class="msg">Hal browser is back. Thanks @krzysztof.stepniak</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 11:56</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 13:44</div><div class="msg">I have one more question when you awake.
I have such warn: `WARN: pact@8.0.5/50601 on MacBook-Pro-krzysiek.local: No state handler found for "Project in db", ignorning`
Inspite of spelling bug, I have declared state but it is ignoring it but test works fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-26 13:44</div><div class="msg">\_(?)_/</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-03-26 17:04</div><div class="msg">Hi all,

Do you have any recommendations for dealing with matching arrays, particularly nested arrays? For example, I have a payload object with a property `options` which is an array of objects each of which have a property `data` which is an array, see below.

```const dummyPayload = {
  options: [
    {
      name: 'option name 1',
      data: ['sub option 1', 'sub option 2', 'sub option 3'],
    },
    {name: 'option name 2, data: ['sub option 1', 'sub option 2']},
    ...repeating on and on
  ],
};```

The below works, but is quite hard to read. This is a simplified example, and some of our responses have deeper nesting.
```const dummyResponsePact = Matchers.somethingLike({
  options: Matchers.eachLike({
    ...dummyPayload.options,
    data: Matchers.eachLike(dummyPayload.options[0].data[0]),
  }),
});```

Without the `eachLike` matcher the provider tests fail with a variation of: `Actual array is too long and should not contain a Hash at $.options[1].data[1]` because the provider is doing an exact comparison between the objects (including length).

The number of items the provider responds with in either array is variable because it comes from test db data.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 20:34</div><div class="msg">I'm not sure it's an actual function assignment there, might want to expand it to make sure the value is a function that returns a promise, and not the value that function returns</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 20:35</div><div class="msg">I think the framework might be detecting that it's not a function and bails iut</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-26 20:37</div><div class="msg">`stateHandlers: {'Project in db': await states.projectInDb(token)}` should be something like `stateHandlers: {'Project in db': () =&gt; states.projectInDb(token)}`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-27 07:43</div><div class="msg">ok, stack dissapeared but when promise is resolved? Since `projectInDb(token)` is async function. Is it resolved before proper tests?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-27 07:46</div><div class="msg">the framework will wait for the promise to resolve. It wants a promise, not a value</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-27 07:47</div><div class="msg">ok, now i understand</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-27 07:47</div><div class="msg">Look at the e2e test example in the repository if you need a working example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-27 07:47</div><div class="msg">m?kay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-27 08:23</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-03-27 08:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-27 15:33</div><div class="msg">Ok guys I know I am harrasing you alot lately but I have another problem. This time with jenkins. Long story short on localhost pact tests works fine but on jenkins I have such thing on consumer side:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-03-27 19:37</div><div class="msg">That doesn?t look to relate to Jenkins specifically, what is the runtime environment? If Alpine, do some  searches as their are extra things you?ll need to make it work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-03-28 09:06</div><div class="msg">@krzysztof.stepniak
Here:
```
[90m    [36mPact Binary Error: /var/lib/jenkins/workspace/Contract tests/platform-e2e-test/node_modules/@pact-foundation/pact-node/standalone/linux-x64-1.63.0/lib/ruby/bin/ruby: line 14: tests/platform-e2e-test/node_modules/@pact-foundation/pact-node/standalone/linux-x64-1.63.0/lib/ruby/lib/ruby/gems/2.2.0: No such file or directory
```

I?d avoid having spaces in a path. I belive you should just replace a space in ?/Contract tests/?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-28 09:08</div><div class="msg">I?ll try</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-03-28 09:11</div><div class="msg">Yep, you were right. Thanks @vitaliy.grigoruk.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7ec94765a48976e0219199e88ad76008.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">vtambourine</div><div class="time">2019-03-28 14:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-25/586322246082_7948d8e38cada3f219e2_72.png" /><div class="message"><div class="username">mboudreau</div><div class="time">2019-03-29 01:09</div><div class="msg">good release that one :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a5565506212d6d5908073526d22a15e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">joseph.s.egan</div><div class="time">2019-03-30 18:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:04</div><div class="msg">Hi, guys. Have you ever had problem with provider side on jenkins? I struggling with it for two days and I starting to loose any hope wit resolving this issue.  Test is setting up but after setting up state above Error shows. Certificates are set in provider side and ssl flag is set on false ( i see them in console log). Do you have any idea where should I look ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:07</div><div class="msg">Can you please share your setup and any/all log files. Haven't seen that before</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:08</div><div class="msg">Any reason why you need SSL?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:11</div><div class="msg">do you need provider file ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:11</div><div class="msg">Well, not necessarily. I need to know as much as possible to help diagnose, so the more the merrier</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:12</div><div class="msg">btw. on localhost works fine on two different computers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:13</div><div class="msg">Provider file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:17</div><div class="msg">What's the value of providerBaseUrl?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:19</div><div class="msg">depends of env but in this case
<a href="https://api.platform-dev.silvair.com">https://api.platform-dev.silvair.com</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:23</div><div class="msg">And you say it works locally?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:24</div><div class="msg">Are you running in docker or does that host not have the standard can bundle installed?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:24</div><div class="msg">CA bundle*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:24</div><div class="msg">yes, but on localhost connect with my local service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:24</div><div class="msg">Right. What happens if you point to that host?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:25</div><div class="msg">let me try, wait a sec</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:27</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:27</div><div class="msg">I'm just hoping in a car and will check-in later</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:27</div><div class="msg">We need to know who h specific request at what point is failing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:27</div><div class="msg">well stack like on jenkins -_-?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 07:28</div><div class="msg">I'd look to repro locally and go from there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-01 07:28</div><div class="msg">mkay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-01 19:33</div><div class="msg">Howd you go?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 07:49</div><div class="msg">not good actually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 07:50</div><div class="msg">Bugger</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 07:50</div><div class="msg">Im not sure why pact asks for localhost
`Uncaught Error [ERR_TLS_CERT_ALTNAME_INVALID]: Hostname/IP does not match certificate's altnames: Host: localhost. is not in the cert's altnames: DNS:<a href="http://platform-dev.silvair.com">http://platform-dev.silvair.com</a>, DNS:*.<a href="http://platform-dev.silvair.com">http://platform-dev.silvair.com</a>`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 07:50</div><div class="msg">Any reason why you don't do the provider testing on Jenkins like you do on your workstation - hit localhost?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 07:51</div><div class="msg">it is different server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 07:51</div><div class="msg">Why?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 07:53</div><div class="msg">What's the contract file look like? Is there a host header in there set to localhost? That could explain why it's failing with a certificate mismatch but hitting the correct server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 07:54</div><div class="msg">Do you want  consumer side file or just contract?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 07:54</div><div class="msg">Contract is fine. Specifically the interaction that fails if possible</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 07:55</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 07:56</div><div class="msg">here is interaction:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 07:59</div><div class="msg">what i Can see that states are done, but in the beginning of the interaction brokes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 08:05</div><div class="msg">Nothing in that other interaction that is a cause for concern</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 08:05</div><div class="msg">The fact that it works locally is telling</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 08:05</div><div class="msg">There is something wrong with the Jenkins setup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:05</div><div class="msg">naah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:06</div><div class="msg">when im trying to start script from my pc against dev server the same error comes up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 08:06</div><div class="msg">Why can't you start up the provider on Jenkins like t you would locally?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:06</div><div class="msg">I would need to setup docker with enviroment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 08:07</div><div class="msg">How do you change provide states against a remote API?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:07</div><div class="msg">Is there any problem with https on verify?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:08</div><div class="msg">I didn?t change them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:08</div><div class="msg">what I see in debug is that provider state is creating on localhost</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:09</div><div class="msg">for example `<a href="http://localhost:51950/_pactSetup">http://localhost:51950/_pactSetup</a>'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:11</div><div class="msg">but it use client to make request to dev db and create project</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 08:11</div><div class="msg">Sorry I'm just driving home but I might have an idea as to what it could be</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 08:12</div><div class="msg">ok, drive safely</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 11:52</div><div class="msg">Thanks. So I think we don't fully support proxying remote APIs (it's very much not a standard thing to do). If you don't mind submitting an issue that would be great. I'll take a look tomorrow to see if it's an easy fix</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-02 11:56</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-02 19:35</div><div class="msg">Thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/976d52c9c5cb852b048cede7973889ac.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">laxmi.somni</div><div class="time">2019-04-03 14:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-08-30/425945473828_2ce87f5615fe2b11d4ec_72.jpg" /><div class="message"><div class="username">adamgreen</div><div class="time">2019-04-03 14:27</div><div class="msg">Apologies for the late reply Matt, i've not had much joy in the casting, being a bit new to TS/JS as I am. I'll wait and see how my Issue gets along in the mean time, hopefully it's an easy fix. Thanks again for the help :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-04 12:51</div><div class="msg">Hello, there is a jwt authorization implemented in my project. Can anyone please help with any working code repo to deal with this scenario? Note - the life of the bearer token is only 3 mins.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-04 12:51</div><div class="msg">I have tried the solution <a href="https://github.com/pact-foundation/pact-js#modify-requests-prior-to-verification-request-filters">https://github.com/pact-foundation/pact-js#modify-requests-prior-to-verification-request-filters</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-04 12:52</div><div class="msg">However, I am unable to figure out what would be the value of the `${token}` variable ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-04 20:22</div><div class="msg">as people are normally running provider verification from within production codebase, it shouldn?t be an issue to call some method that generates a valid JWT token.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-04 23:07</div><div class="msg">@paras.vora request filters lets you amend the request to the provider during provider side verification. How are you sending the JWT to the provider now? e.g. is it an authorization header?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-04 23:08</div><div class="msg">whatever mechanism,  request filters allow you to actually modify the entire request object - fields, headers etc.. So your job is to create a valid JWT (whether a ?real? one or a valid but fake one as @vitaliy.grigoruk notes) and then add it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-05 07:03</div><div class="msg">@matt.fellows I have no way to generate a valid token &amp; even I generate it, the token validation service wont be available for authorization at the time provider test is running.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-05 10:06</div><div class="msg">So my suggestion is to stub the auth service during provider verification, so the contents of the JWT can be stored in the pact and there is no need for using those more complicated features</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-05 10:32</div><div class="msg">@matt.fellows the authorization would fail anyways as the life of the token is only 3 mins.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-05 10:35</div><div class="msg">So what can we do?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-05 10:36</div><div class="msg">Why can't you generate a valid token?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-05 10:41</div><div class="msg">If you can't generate a valid token, how could you ever test it? Can't you stub the auth service and send a dummy token?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-05 11:12</div><div class="msg">You mean mocking the authorization service</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-05 11:12</div><div class="msg">?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-05 11:37</div><div class="msg">rather stubbing than mocking</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-05 11:55</div><div class="msg">But yes, whatever is easiest for you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-05 11:57</div><div class="msg">You want to test each component in isolation. If your provider has downstream dependencies, stub them out during testing and then apply the same contract testing process to them. Repeat this process until you get to the end of dependency chain</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-05 11:57</div><div class="msg">Voila, you have contract tests for your whole app and you don't have to setup an e2e environment to test it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/66aea1683e04cf86f0877069abbe9de0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">mo.balghonaim</div><div class="time">2019-04-08 00:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/66aea1683e04cf86f0877069abbe9de0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">mo.balghonaim</div><div class="time">2019-04-08 00:48</div><div class="msg">Hello, I'm trying to debug a failing provider verification. Is there a way to see outgoing request? I'm getting this test failure output:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/66aea1683e04cf86f0877069abbe9de0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">mo.balghonaim</div><div class="time">2019-04-08 02:23</div><div class="msg">I noticed that the `providerBaseUrl` I provided in the options passed to `verifyProvider()` has been overwritten with 'localhost', which is what responds with '503'. Does this proxy server make the actual call to my original `providerBaseUrl`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-04-08 07:45</div><div class="msg">Hi i am getting this `ERROR: The process "12956" not found.` issue on windows , when i run my pact consumer/provider test
```
[2019-04-08T07:33:55.650Z]  INFO: pact-node@6.21.5/20088 on DESKTOP-KOB10PR: Created 'standalone\win32-1.63.0\bin\pact-mock-service.bat service --consumer 'afterfx' --pact_dir 'C:\xampp\htdocs\afterfx-service\tests\pacts' --host '127.0.0.1' --log 'C:\xampp\htdocs\afterfx-service\tests\pact logs\pact-tests.log' --pact-file-write-mode 'update' --port '8991' --provider 'prestac' --pact_specification_version '2'' process with PID: 12956
ERROR: The process "12956" not found.
```

weird thing is its working on other project on same device, it was working for above project too but because of some error jest did't terminated the test process and so i did `ctr+c` to end it and the error showed up afterwards.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-08 08:46</div><div class="msg">I think a process might be hanging around.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-08 08:46</div><div class="msg">Check to see if there are any dangling Ruby or Node processes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-04-08 09:55</div><div class="msg">ok thank will look into it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-08 11:25</div><div class="msg">yes, that is the case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-08 11:26</div><div class="msg">you might get some more data by turning the log level up to ?DEBUG? or better, but we may need more instrumentation to help with it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-08 11:26</div><div class="msg">Is the broker URL  external to the local host / running a cert?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/66aea1683e04cf86f0877069abbe9de0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">mo.balghonaim</div><div class="time">2019-04-08 20:03</div><div class="msg">Hello, it seems like I'm missing a required header or something, because I tried it with a different API and it seems to work.

I'll re-ask the question if it appears to be an issue with the framework. Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2019-04-10 08:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-04-10 10:32</div><div class="msg">Do you have any recommendations for matching arrays, particularly nested arrays? For example, I have a payload object with a property `options` which is an array of objects each of which have an array `data` as a property, see below.

```const dummyPayload = {
  options: [
    {
      name: 'option name 1',
      data: ['sub option 1', 'sub option 2', 'sub option 3'],
    },
    {name: 'option name 2, data: ['sub option 1', 'sub option 2']},
    ...repeating on and on
  ],
};```

The below works, but is quite hard to read. This is a simplified example, and some of our responses have deeper nesting.
```const dummyResponsePact = Matchers.somethingLike({
  options: Matchers.eachLike({
    ...dummyPayload.options,
    data: Matchers.eachLike(dummyPayload.options[0].data[0]),
  }),
});```

Without the `eachLike` matcher the provider tests fail with a variation of: `Actual array is too long and should not contain a Hash at $.options[1].data[1]` because the provider is doing an exact comparison between the objects (including length).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2019-04-10 11:25</div><div class="msg">@simon.nizov has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a1771c1a9f3fab37d6045cfa20786d29.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">andrew.nicholson</div><div class="time">2019-04-11 19:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-04-12 08:27</div><div class="msg">@matt.fellows are you able to answer this? I feel like this isn?t the way I should be doing things, to just provide a ?1 or more of this item in the array? matcher</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-12 08:50</div><div class="msg">Will take a look at bit later. Happy to help (just cooking tea :grinning:)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-04-12 10:30</div><div class="msg">Thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-12 10:59</div><div class="msg">Have you tried simply

```
like({
  options: [
    {
      name: 'option name 1',
      data: ['sub option 1', 'sub option 2', 'sub option 3'],
    }
  ],
})
```

Matchers should propagate down to nested arrays, so you shouldn?t need to repeat yourself</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-04-12 11:00</div><div class="msg">like() is an alias to somethingLike, correct?

I tried this but still need the eachLike to say min 1 from the array/matching an item in the array</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-12 11:02</div><div class="msg">what is it doing instead?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-04-12 11:05</div><div class="msg">It spits out the pact as expected, just without the array matching rules. So our provider has to have the same amount of items in that array in their fixtures for it to validate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-12 11:05</div><div class="msg">hmm I?ll double check this behaviour, it sounds suspicious</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-04-12 11:14</div><div class="msg">I would think this is expected behaviour as per <a href="https://github.com/pact-foundation/pact-js#match-based-on-arrays">https://github.com/pact-foundation/pact-js#match-based-on-arrays</a>

These are the matchers that eachLike produces:
```
"$.body.propertyA[*].something": {
  "min": 1
},
"$.body.propertyA[*].something[*].*": {
  "match": "type"
},
```

Without eachLike we would only have:
```
"$.body": {
  "match": "type"
},
```
which matches everything recursively, but requires the response?s arrays to have the same lengths as those in the pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-12 11:18</div><div class="msg">Yep. It?s the verification side I was hoping that would propagate, but I guess not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-12 11:19</div><div class="msg">I?m checking with maintainers, it would certainly be nice if we could have a matcher that did this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-12 13:33</div><div class="msg">Np</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-15 10:31</div><div class="msg">Hey @matt.fellows. What do you think about ?un-deprecating? `providerStatesSetupUrl` (so either `providerStatesSetupUrl` or `handlers` needs to be passed to pact verifier, but not both)?
I know that a new way to setup provider state is to specify state handlers. This will work for majority of projects I guess. In a project I?m working on right now we need to ensure each pair of `state setup + test request` run within `sequelize` transaction (so, DB is left untouched after test run).
We managed to implement a desired setup using pact v7 (basically, we are running our own proxy server, heavily inspired by your work on `handlers`).
Now, pact v8 is released with its own proxy for state handling and v7 doesn?t get security updates anymore. We would like to run on the latest version, but we can?t as our implementation of state + transaction handling won?t work with pact v8.
The simplest solution I see is to still allow people to use `providerStatesSetupUrl` if `requestFilters` and `stateHandlers` are not enough.

I?ll be happy to make a PR if you?re ok with the proposal</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/46769eae99e05019f35e3cde00a1138b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asite-rshah</div><div class="time">2019-04-15 11:22</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-15 20:52</div><div class="msg">I saw your PR, I?ll answer there. I need to think about it, but  thanks for the feedback. Perhaps others have the need also.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-02-25/561211404726_6601b9bdb0e8f37c23c2_72.jpg" /><div class="message"><div class="username">martin.green</div><div class="time">2019-04-16 15:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a6b419d2863dcfa6779538ea92c9dc3d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">marc</div><div class="time">2019-04-17 13:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6907edcc931e401c368cd2d65b0eb5b5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">nodkane12</div><div class="time">2019-04-17 14:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ca025eda86a1b2a92c67d3e775d08957.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">albertot</div><div class="time">2019-04-18 16:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ca025eda86a1b2a92c67d3e775d08957.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">albertot</div><div class="time">2019-04-18 16:47</div><div class="msg">(Moved to #general)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/36626aa9261bcd8c87b043d245acd697.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">mitchell.davis</div><div class="time">2019-04-23 06:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-25 12:37</div><div class="msg">hey, should I use `pact-js` or `pact-node`? What is the difference?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-25 12:40</div><div class="msg">use pact-js (it uses pact-node as a dependency)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-25 12:40</div><div class="msg">ok, thanks :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-25 12:41</div><div class="msg">is there some purpose of having both of them? :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-25 12:46</div><div class="msg">long term goal AFAIK is to get rid of pact-node</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-25 12:46</div><div class="msg">pact-node is a wrapper for pact-ruby-standalone binaries</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-25 12:47</div><div class="msg">while pact-js is a DSL to use in your JS / TS CDC test suites</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-25 12:47</div><div class="msg">Hey folks, could somebody explain me the difference between `tags` and `consumerVersionTag` here? <a href="https://github.com/pact-foundation/pact-js/blob/master/src/dsl/verifier.ts#L40-L45">https://github.com/pact-foundation/pact-js/blob/master/src/dsl/verifier.ts#L40-L45</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-25 12:54</div><div class="msg">I?m trying to figure out the right setup for triggering provider verification CI job for a recently updated consumer contract. I?m tagging my contracts with branch names and versioning them with ?git commit sha?. My pact broker webhook passes contract tag (e.g. `master`) when it triggers provider contract verification CI job. This works well with 1 consumer, but doesn?t work so well if I have 2+ consumers (as I?ll run contract verification for all consumers). Ideally, I?d like to be able to pass consumer name, but such option doesn?t exist.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-04-26 10:47</div><div class="msg">ok, after some investigation I found out that `tags` are not used at all in `pact-provider-verifier` and `consumerVersionTag` actually can be an array. Here is a PR to fix this in pact-node: <a href="https://github.com/pact-foundation/pact-node/pull/155">https://github.com/pact-foundation/pact-node/pull/155</a>

I?ll appreciate fast feedback on this one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-26 13:21</div><div class="msg">Thanks for all of your digging / support. The changes merged are now released (8.2.2). I?ll wait for review of this change before  sending it out.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-04-29 12:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-04-29 12:07</div><div class="msg">hey all :wave: i am setting up a kafka test and using `messagePact` `.withContent`; so the object from there is passed into the handler specified in `.verify(handlerFunction)`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-04-29 12:09</div><div class="msg">when the object is passed to the handler it is wrapped in `contents` (eg `{ contents: [object] }`) - i don't think it's right to expect the handler to deconstruct the contents, does anyone have a way of managing this more cleanly?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-04-29 12:11</div><div class="msg">```describe('receive record', () =&gt; {
  it('accepts a valid record', async () =&gt; {
    return (
      messagePact
        .expectsToReceive('a valid record')
        .withContent({
          data: {
            feed_date: term({generate: "2019-01-01", matcher: "^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$"}),
            item: {
              record_id: 123,
              record_name: like('someRecord')
            }
          }
        })
        .verify(handlerFunction)
    );
  });
});```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-29 12:50</div><div class="msg">Hello, my Chrome is getting crashed frequently upon running the tests frequently.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-29 12:51</div><div class="msg">Please check the error....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-29 12:53</div><div class="msg">What has this got to do with Pact, exactly?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-29 15:42</div><div class="msg">There are a couple of helpers that wrap this for you e.g. `synchronousBodyHandler`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-29 15:42</div><div class="msg">You wouldn?t want your domain code handling this, no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-29 15:43</div><div class="msg">It?s provided to allow access to the metadata, which we?ll eventually (in JS at least) validate</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/335f91622b5488ee1ae8f95c09d82f8e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">pascal.wilbrink</div><div class="time">2019-04-29 20:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/335f91622b5488ee1ae8f95c09d82f8e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">pascal.wilbrink</div><div class="time">2019-04-29 20:37</div><div class="msg">Hi all, it seems that my karma config is not setup correctly. But i'm using the same setup as all the examples i can find (I think).
The pact-mock-server is starting correctly, but none of my tests are ran.
Did this happen to anyone else?

My setup:
```
const path = require('path')
module.exports = function (config) {
  config.set({
    basePath: '',
    frameworks: ['jasmine', '@angular-devkit/build-angular', 'pact'],
    plugins: [
      require('karma-jasmine'),
      require('karma-chrome-launcher'),
      require('karma-jasmine-html-reporter'),
      require('karma-coverage-istanbul-reporter'),
      require('@angular-devkit/build-angular/plugins/karma'),
      require('@pact-foundation/karma-pact')
    ],
    client: {
      clearContext: false // leave Jasmine Spec Runner output visible in browser
    },
    coverageIstanbulReporter: {
      dir: require('path').join(__dirname, '../../coverage/movies-lib'),
      reports: ['html', 'lcovonly'],
      fixWebpackSourcePaths: true
    },
    files: [
      'node_modules/@pact-foundation/pact-web/pact-web.js',
    ],
    reporters: ['progress', 'kjhtml'],
    port: 9876,
    colors: true,
    logLevel: config.LOG_INFO,
    autoWatch: true,
    browsers: ['Chrome'],
    singleRun: false,
    restartOnFileChange: false,
    pact: [{
      cors: true,
      port: 1234,
      dir: "pacts/",
      spec: 2,
      log: path.resolve(process.cwd(), 'logs', 'pact.log')
    }],
    proxies: {
      '/api/': '<a href="http://localhost:1234/">http://localhost:1234/</a>'
    }
  });
};
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/335f91622b5488ee1ae8f95c09d82f8e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">pascal.wilbrink</div><div class="time">2019-04-29 20:41</div><div class="msg">when i run the test (ng test --project movies-lib)
i see this:
```29 04 2019 22:37:23.668:INFO [pact]: Pact Mock Server running on port: 1234```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/335f91622b5488ee1ae8f95c09d82f8e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">pascal.wilbrink</div><div class="time">2019-04-29 20:50</div><div class="msg">it's working now, i had to delete my node_modules and re-install them again</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-04-30 06:49</div><div class="msg">@matt.fellows Wrong window. Sorry.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-04-30 08:03</div><div class="msg">I see - yes that's worked, thanks @matt.fellows :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 09:54</div><div class="msg">has anyone been able to get `pact-js` working with `jest` ? Jest is always finishing before the `afterAll` part where I call the `finalize()` etc. Something really strange going on. I am about to give up :sweat_smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 09:55</div><div class="msg">I got pact to properly create the contracts but Jest still just prints errors such as `Cannot log after tests are done. Did you forget to wait for something async in your test?`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-04-30 10:03</div><div class="msg">yeah i run all my pact tests with jest</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 10:03</div><div class="msg">and I am also getting this every time `setup` and `finalize` are called:
```
console.warn node_modules/request-promise/node_modules/bluebird/js/release/debuggability.js:873
    Unhandled rejection RequestError: Error: connect ECONNREFUSED 127.0.0.1:6060
        at new RequestError (/Users/user/workspace/project/node_modules/request-promise-core/lib/errors.js:14:15)
        at Request.plumbing.callback (/Users/user/workspace/project/node_modules/request-promise-core/lib/plumbing.js:87:29)
        at Request.RP$callback [as _callback] (/Users/user/workspace/project/node_modules/request-promise-core/lib/plumbing.js:46:31)
        at self.callback (/Users/user/workspace/project/node_modules/request/request.js:185:22)
        at Request.emit (events.js:189:13)
        at Request.Object.&lt;anonymous&gt;.Request.onRequestError (/Users/user/workspace/project/node_modules/request/request.js:877:8)
        at ClientRequest.emit (events.js:189:13)
        at Socket.socketErrorListener (_http_client.js:392:9)
        at Socket.emit (events.js:189:13)
        at emitErrorNT (internal/streams/destroy.js:82:8)
        at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)
        at process._tickCallback (internal/process/next_tick.js:63:19)
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-04-30 10:03</div><div class="msg">an example repo here <a href="https://github.com/YOU54F/pact-consumer-example-typescript/">https://github.com/YOU54F/pact-consumer-example-typescript/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 10:04</div><div class="msg">cool! thanks, I?ll have a look</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-04-30 10:05</div><div class="msg">feel free to share any example code and we can have a look at it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-04-30 10:08</div><div class="msg">also this example in the pact-js docs <a href="https://github.com/pact-foundation/pact-js/tree/master/examples/jest">https://github.com/pact-foundation/pact-js/tree/master/examples/jest</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 10:10</div><div class="msg">I had a look at this but I didn?t get much out of it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 10:11</div><div class="msg">I didn?t really like the idea of setting things to the global scope etc. I tried the approach though and had the same result :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 12:50</div><div class="msg">so I wasn?t able to figure out why the tests were not working properly with Jest. No idea really. I had two of my colleagues also trying to figure it out with no luck</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 12:51</div><div class="msg">I ended up also refactoring the test to a simple node script that runs everything in a promise chain in the correct order. That worked OK</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 12:52</div><div class="msg">after that I tried using nyc and mocha. So I simply changed the `afterAll` to `after` and `beforeAll` to `before`. And surprisingly the test just works :shrug:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-04-30 12:53</div><div class="msg">so `node` and `mocha` are ok but `jest` just fails to those `ECONNREFUSED` and `Cannot log after tests are done` errors</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-30 12:56</div><div class="msg">@yousafn did you just post working example with sending file on github?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-04-30 12:57</div><div class="msg">I did chap</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-04-30 12:57</div><div class="msg">just had to get it working for a client at work, so thought I would pass back my learnings!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-30 12:59</div><div class="msg">Cool, thanks. I?ll try it in node :stuck_out_tongue:.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-04-30 13:05</div><div class="msg">gimme two secs and ill post up an edit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-04-30 13:06</div><div class="msg">Sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-04-30 13:11</div><div class="msg">just tested this now so should be good to go, updated comment on your issue too</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-04-30 14:54</div><div class="msg">aren't beforeAll and afterAll jasmine rather than jest?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-04-30 15:10</div><div class="msg">They?re in both</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-04-30 22:58</div><div class="msg">Last time I tried, Jest didn't properly nest befores and afters (but mocha does)... So I usually fall back to mocha for sanity :sweat_smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-04-30 23:21</div><div class="msg">I had a feeling @tjones had done a pact-jest "plugin", but only in a private project.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-04-30 23:27</div><div class="msg">He just has his way of using (DRYing) it, from memory. It?s probably documented in a GitHub issue/enhancement somewhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:41</div><div class="msg">Yep, I wrote a small wrapper that gives a DRYer and slightly nicer (in my opinion) DSL.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:41</div><div class="msg">I *think* it?s on an issue in pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:41</div><div class="msg">And if not, I can dig it up and post it here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-04-30 23:41</div><div class="msg">Hello Tim! We miss you!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:41</div><div class="msg">I?ve been planning to make it a module</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:41</div><div class="msg">Hello! I miss you all too!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:42</div><div class="msg">I?ll be back next week. I think? How does time work?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:42</div><div class="msg">The 8th</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-04-30 23:42</div><div class="msg">Woot!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:49</div><div class="msg">Scrolling up- I?ve had no issues with running pact through Jest, but it?s worth noting that Jest runs suites in parallel by default. It?s easiest to turn this off, or write a wrapper so you don?t have collisions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:49</div><div class="msg">(If you have multiple pact suites)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:50</div><div class="msg">Also: I find that *not* running Jest tests in parallel results in faster execution time on my machine (recent MacBook Pro). I haven?t looked in to why this is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:52</div><div class="msg">Here?s the wrapper I wrote:

<a href="https://github.com/pact-foundation/pact-js/issues/215#issuecomment-437237669">https://github.com/pact-foundation/pact-js/issues/215#issuecomment-437237669</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:54</div><div class="msg">I think I have a more recent version that is better. This version can result in overwriting log files if you have multiple pact suites</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:55</div><div class="msg">It?s hard to solve that without having opinions on what does and doesn?t go in a test suite (eg, should each provider/consumer combo be only one test suite?).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-04-30 23:59</div><div class="msg">I?d really like to improve the wrapper and release a module that you can import and not have to write so much boilerplate, but I?m not yet sold on where to draw the line on conventions that are generally useful vs what is useful if you are me (which I assume you aren?t)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 08:19</div><div class="msg">i'm now struggling to debug what seems like quite a general message, i've been through and double checked everything and it all seems to be working - in fact it works fine running normally, it's failing when i try to run it in a container (trying to add kafka tests to CI) - the container itself appears to be handling things just fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 08:19</div><div class="msg">```    Timeout - Async callback was not invoked within the 10000ms timeout specified by jest.setTimeout.

      16 | 
      17 | describe('receive item', () =&gt; {
    &gt; 18 |   it('accepts a valid item', async () =&gt; {
         |   ^
      19 |     return (messagePact
      20 |         .expectsToReceive('a valid item record')

      at Spec (node_modules/jest-jasmine2/build/jasmine/Spec.js:92:20)
      at <a href="http://Suite.it">http://Suite.it</a> (__tests__/contract/kafka-client.test.pact.js:18:3)
      at Object.describe (__tests__/contract/kafka-client.test.pact.js:17:1)```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 08:24</div><div class="msg">the verify method in messagePact is returning a Promise</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 08:24</div><div class="msg">```.verify(synchronousBodyHandler(handlerFunction))```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 08:25</div><div class="msg">the handlerFunction itself is returning a raw object</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 08:38</div><div class="msg">Which part is running in the container? (the whole lot?)

I?d check a couple of things:

1. Ports / expose (running on `127.0.0.1` will prevent it from being exposed out of the container)
2. If `./node_modules` is being shared, there might be a binary incompatibility if your host is a different os/arch (e.g. linux docker image with Mac OSX host). Make sure to `npm i` in the container to ensure native deps</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 09:38</div><div class="msg">yeah, the whole thing is running in container, no ports need to be exposed; i'm seeing output straight from stdout from within the container</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 09:40</div><div class="msg">a volume is being shared between host machine and container so i can get to my code from within the container; but i removed node_modules and ran yarn install from inside the container - it's part of the build command: `docker-compose run backend sh -c 'yarn &amp;&amp; yarn db:rebuild &amp;&amp; yarn test:contract'`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 09:41</div><div class="msg">to remove node_modules i ran it as:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 09:41</div><div class="msg">```docker-compose run backend sh -c 'rm -rf node_modules &amp;&amp; yarn &amp;&amp; yarn db:rebuild &amp;&amp; yarn test:contract'
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 10:26</div><div class="msg">i'm looking at this with our devops lead, it seems like there's a difference in the config being called - it's test in local, dev in the container, so perhaps this is the root of the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:12</div><div class="msg">ok interesting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:12</div><div class="msg">If you have an example I can use to repro I?d happily take a look for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:12</div><div class="msg">Unfortunately a bit hard going off the detaili so far</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 11:23</div><div class="msg">have lined up the local vs container and no change, it passes locally but fails in container</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 11:23</div><div class="msg">i'll see what i can do to provide a concrete example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:25</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:25</div><div class="msg">sorry hear - what a pain!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:25</div><div class="msg">oh, what?s the container image?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:25</div><div class="msg">(sorry I?ve been at a conference all week, so my responses are often bursty and from a mobile)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:26</div><div class="msg">s/been/am</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:26</div><div class="msg">See <a href="https://github.com/pact-foundation/pact-js/issues/296">https://github.com/pact-foundation/pact-js/issues/296</a> if you?re using Alpine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 11:33</div><div class="msg">we've switched from alpine previously as it wouldn't run ruby</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 11:33</div><div class="msg">now using node:10-slim</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-01 11:33</div><div class="msg">here's a stripped down version of the test file - this has the same result (passes local, fails container)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:37</div><div class="msg">perfect thanks - I?ll look shortyl</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-01 11:37</div><div class="msg">regarding alpine, see above for how to make it work (tl;dr - needs bash)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d0470e567a033e4e28927fc9c3ffab45.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">andrewspinks</div><div class="time">2019-05-01 23:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-05-02 07:46</div><div class="msg">is it not possible to have a matcher for values which can be either `string` or `null` ? Or `number` or `null` ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-02 07:47</div><div class="msg"><a href="https://docs.pact.io/faq#why-is-there-no-support-for-specifying-optional-attributes">https://docs.pact.io/faq#why-is-there-no-support-for-specifying-optional-attributes</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 07:47</div><div class="msg">It's not, see the FAQ at doc'<a href="http://s.pact.io">http://s.pact.io</a> as to why</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 07:47</div><div class="msg">:point_up::laughing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-05-02 07:55</div><div class="msg">Ok, makes sense. Thanks for the fast response :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 07:55</div><div class="msg">:ok_hand:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ee832e8f2c88ad171e9cafe89810e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">jjlehva</div><div class="time">2019-05-02 07:56</div><div class="msg">I am just about to finish writing my thesis about consumer-driven contract testing and I still managed to miss / forget about that :face_with_rolling_eyes:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 07:57</div><div class="msg">Hehe np</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-05-02 11:12</div><div class="msg">Hey Tim,

I started work on publishing an npm module, based on your initial proposal, as we needed to cut down on the boilerplate stuff we are writing at work as the amount of services we are covering keeps growing

Adapter is here

<a href="https://github.com/YOU54F/jest-pact">https://github.com/YOU54F/jest-pact</a>

A repo using it
<a href="https://github.com/YOU54F/jest-pact-typescript">https://github.com/YOU54F/jest-pact-typescript</a>

I am building up a little toolset that we can use across our work projects, as we have common pact scripts used in all repos and it?s becoming a pain to maintain them all!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 11:49</div><div class="msg">did you have the docker container for that too?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 12:09</div><div class="msg">package.json
```
{
  "name": "ian",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "jest"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@pact-foundation/pact": "^8.2.2",
    "jest": "^24.7.1"
  }
}

```

Dockerfile:
```
FROM node:8-alpine

RUN apk add --no-cache --virtual build-dependencies build-base

RUN  apk --no-cache add ca-certificates wget bash \
  &amp;&amp; wget -q -O /etc/apk/keys/sgerrand.rsa.pub <a href="https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub">https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub</a> \
  &amp;&amp; wget <a href="https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.29-r0/glibc-2.29-r0.apk">https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.29-r0/glibc-2.29-r0.apk</a> \
  &amp;&amp; apk add glibc-2.29-r0.apk

WORKDIR /app

COPY package*.json /app/

RUN npm install

COPY . /app/

RUN npm t
```

Run the following:
`docker build .`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 12:09</div><div class="msg">works ok for me:
```
&gt; jest

[2019-05-02T12:07:03.905Z]  INFO: pact@8.2.2/15 on a08d3744bcf1: Verifying message
[2019-05-02T12:07:03.909Z]  INFO: pact-node@8.2.0/15 on a08d3744bcf1: Creating Message
[2019-05-02T12:07:03.910Z]  INFO: pact-node@8.2.0/15 on a08d3744bcf1: Creating message pact
[2019-05-02T12:07:03.923Z]  INFO: pact-node@8.2.0/15 on a08d3744bcf1: Created './standalone/linux-x64-1.64.1/bin/pact-message 'update' '{"description":"a valid item record","contents":{"data":{"dummy":1}}}' --consumer 'some-consumer' --pact_dir '/app/__tests__/pacts' --provider 'some-provider' --pact_specification_version '3'' process with PID: 45
PASS __tests__/kafka-client.test.pact.js
  receive item
    ? accepts a valid item (632ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        2.803s
Ran all test suites.
[2019-05-02T12:07:04.531Z]  INFO: pact-node@8.2.0/15 on a08d3744bcf1:
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 12:12</div><div class="msg">Working repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-02 12:12</div><div class="msg"><a href="https://github.com/mefellows/repro-pact-js-jest-docker">https://github.com/mefellows/repro-pact-js-jest-docker</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f742478e2c7cb517cfecdd1f0153b613.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">joostvanwollingen</div><div class="time">2019-05-02 13:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-02 15:35</div><div class="msg">Hi , I have generated json using pact test but then request is giving me 404 , can you point me to what am i missing here ?
==&gt; Received request: Request { method: ?OPTIONS?, path: ?/header/api/user/profile?, query: Some({?sort?: [?desc?], ?lastModifiedFrom?: [?24 Apr 2019"], ?criteria?: [?first_load?], ?sortBy?: [?Last_Modified?], ?status?: [?failed?, ?cancelled?]}), headers: Some({?User-Agent?: ?Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36?, ?Access-Control-Request-Headers?: ?content-type?, ?Host?: ?127.0.0.1:18159?, ?Access-Control-Request-Method?: ?GET?, ?Origin?: ?<a href="http://localhost:4200">http://localhost:4200</a>?, ?Connection?: ?keep-alive?, ?Accept-Encoding?: ?gzip, deflate, br?, ?Accept?: ?*/*?, ?Referer?: ?<a href="http://localhost:4200/fmp/index">http://localhost:4200/fmp/index</a>?, ?Accept-Language?: ?en-US,en;q=0.9"}), body: Empty, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }
flex-usersetting-service        | 15:29:19 [INFO]
| 15:29:19 [INFO] comparing to expected request: Request { method: ?OPTIONS?, path: ?/header/api/user/profile?, query: Some({?sortBy?: [?Last_Modified?], ?lastModifiedFrom?: [?24 Apr 2019"], ?criteria?: [?first_load?], ?sort?: [?desc?], ?status?: [?failed?]}), headers: None, body: Missing, matching_rules: MatchingRules { rules: {?query?: Category { name: ?query?, rules: {?status[0]?: RuleList { rules: [Regex(?.*?)], rule_logic: And }, ?criteria[0]?: RuleList { rules: [Regex(?first_load?)], rule_logic: And }, ?sort[0]?: RuleList { rules: [Regex(?desc|asc?)], rule_logic: And }, ?sortBy[0]?: RuleList { rules: [Regex(?.*?)], rule_logic: And }, ?lastModifiedFrom[0]?: RuleList { rules: [Regex(?.*?)], rule_logic: And }} }} }, generators: Generators { categories: {} } }
flex-usersetting-service        | 15:29:19 [WARN] No matching request found, sending 404 Not Found
flex-usersetting-service        | 15:29:19 [INFO]</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-05-02 23:54</div><div class="msg">Nothing obvious to me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-05-02 23:54</div><div class="msg">the matchers look like it should work
```
==&gt; Received request: Request {
  method: ?OPTIONS?,
  path: ?/header/api/user/profile?,
  query: Some({?sort?: [?desc?], ?lastModifiedFrom?: [?24 Apr 2019"], ?criteria?: [?first_load?], ?sortBy?: [?Last_Modified?], ?status?: [?failed?, ?cancelled?]}),
  headers: Some({?User-Agent?: ?Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36?, ?Access-Control-Request-Headers?: ?content-type?, ?Host?: ?127.0.0.1:18159?, ?Access-Control-Request-Method?: ?GET?, ?Origin?: ?<a href="http://localhost:4200">http://localhost:4200</a>?, ?Connection?: ?keep-alive?, ?Accept-Encoding?: ?gzip, deflate, br?, ?Accept?: ?*/*?, ?Referer?: ?<a href="http://localhost:4200/fmp/index">http://localhost:4200/fmp/index</a>?, ?Accept-Language?: ?en-US,en;q=0.9"}),
  body: Empty,
  matching_rules: MatchingRules { rules: {} },
  generators: Generators { categories: {} }
}
flex-usersetting-service        | 15:29:19 [INFO]
| 15:29:19 [INFO] comparing to expected request: Request {
  method: ?OPTIONS?,
  path: ?/header/api/user/profile?,
  query: Some({?sortBy?: [?Last_Modified?], ?lastModifiedFrom?: [?24 Apr 2019"], ?criteria?: [?first_load?], ?sort?: [?desc?], ?status?: [?failed?]}),
  headers: None,
  body: Missing,
  matching_rules: MatchingRules {
    rules: {
      ?query?: Category {
        name: ?query?,
        rules: {
          ?status[0]?: RuleList { rules: [Regex(?.*?)], rule_logic: And },
          ?criteria[0]?: RuleList { rules: [Regex(?first_load?)], rule_logic: And },
          ?sort[0]?: RuleList { rules: [Regex(?desc|asc?)], rule_logic: And },
          ?sortBy[0]?: RuleList { rules: [Regex(?.*?)], rule_logic: And },
          ?lastModifiedFrom[0]?: RuleList { rules: [Regex(?.*?)], rule_logic: And }
        }
      }
    }
  },
  generators: Generators { categories: {} }
}
flex-usersetting-service        | 15:29:19 [WARN] No matching request found, sending 404 Not Found
flex-usersetting-service        | 15:29:19 [INFO]
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-05-02 23:54</div><div class="msg">I'd recommend using the formatting markup to make it easier for people to help you, btw :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 01:32</div><div class="msg">That JSON looks to have AND matchers - did you generate the Pact from a v3 spec (e.g. Java)?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 01:32</div><div class="msg">JS does not support the v3 spec yet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:12</div><div class="msg">I generated it with JS v2 spec</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:12</div><div class="msg">Can this be the reason ?status?: [?failed?, ?cancellled?] ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:19</div><div class="msg">Can you please share the test? Generators and RuleList don't look like things JS can support</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:19</div><div class="msg">Is this a consumer or provider test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:20</div><div class="msg">It looks like a library that can deal with Optional types has made this, which is why I think JVM is involved (e.g. Scala or Kotlin)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:21</div><div class="msg">consumer test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:21</div><div class="msg">describe(?Get the user profile?, () =&gt; {
        before(() =&gt; provider.addInteraction({
            given: ?GET call to get user profile?,
            uponReceiving: ?Get call for user profile?,
            withRequest: {
                method: ?OPTIONS?,
                path: ?/header/api/user/profile?,
                query: {
                    lastModifiedFrom: term({
                        generate: ?24 Apr 2019?,
                        matcher: ?.*?
                    }),
                    sort: term({
                        generate: ?desc?,
                        matcher: ?desc|asc?
                    }),
                    sortBy: term({
                        generate: ?Last_Modified?,
                        matcher: ?.*?
                    }),
                    criteria: term({
                        generate: ?first_load?,
                        matcher: ?first_load?
                    }),
                    status: term({
                        generate: ?failed?,
                        matcher: ?.*?
                    })
                }
            },
            willRespondWith: {
                status: 200,
                headers: {
                    ?Access-Control-Request-Headers?: ?content-type?,
                    ?Referer?: ?<a href="http://localhost:4200/fmp/index">http://localhost:4200/fmp/index</a>',
                    ?Access-Control-Request-Method?: ?GET?
                },
                body: userProfile
            }
        }));
        it(?should generate data for user profile?, () =&gt; request.options(`<a href="http://localhost:${PORT}/header/api/user/profile?lastModifiedFrom=24">http://localhost:${PORT}/header/api/user/profile?lastModifiedFrom=24</a> Apr 2019&amp;sort=desc&amp;sortBy=Last_Modified&amp;criteria=first_load&amp;status=failed`)
        .set({ Accept: ?application/json? })
        .then((response) =&gt; {
            expect(response.statusCode).to.equal(200);
        })
        .catch((err) =&gt; {
            console.log(?Error in generating user profile?, err);
        }));
    });</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:33</div><div class="msg">What does `userProfile` look like?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:34</div><div class="msg">Is this a failure on the consumer or provider test?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:35</div><div class="msg">consumer is generating the json . but when its compared to the provider side ..it fails</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:35</div><div class="msg">as the requests are not matched</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:37</div><div class="msg">is the proovider a JVM one?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:39</div><div class="msg">no its also in js .Plus I am using it through pact stub server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:57</div><div class="msg">Aha! Ok the response we are seeing is coming from rust, that helps</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:58</div><div class="msg">The stub server is rust, just FYI</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 08:58</div><div class="msg">So your provider is not sending a request to the stub server that it recognises</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:58</div><div class="msg">ok i dint know stub server is rust .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 08:58</div><div class="msg">then what i need to change in the request?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 09:01</div><div class="msg">I'm on a mobile so it's hard to see, and about to fly out of Sydney so will be afk soon. Looks like it's expecting order and orderBy query strings (and you're only sending one of them) but not sure. Find out what's the minimum request to the stub server and then work backwards from there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 09:02</div><div class="msg">Your provider API is the problem, not the consumer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 09:03</div><div class="msg">okay  will try and  keep you posted</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 09:04</div><div class="msg">:+1: thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ed1195ddd5dff5ee446f2f1be516864c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">dagarwal</div><div class="time">2019-05-03 09:07</div><div class="msg">thanks to you :slightly_smiling_face: but i will bother you again :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-03 09:07</div><div class="msg">Haha I'm sure :laughing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-05-06 09:05</div><div class="msg">Well I tried your way but it doesn?t work for me. :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 08:55</div><div class="msg">hey anyone have idea about this error
```
FAIL tests/provider.pact.js
  ? Test suite failed to run

    TypeError: Cannot read property 'writePact' of undefined

      2 | beforeAll(done =&gt; provider.setup().then(() =&gt; done()));
      3 |
    &gt; 4 | afterAll(done =&gt; provider.finalize().then(() =&gt; done()));
        |                           ^
      5 |

      at Pact.Object.&lt;anonymous&gt;.Pact.finalize (node_modules/@pact-foundation/src/httpPact.ts:148:8)
      at Object.finalize (tests/config/pactTestWrapper.js:4:27)
```
i have 2 different projects consumer/provider test are working on one but on other one m getting above error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 08:57</div><div class="msg">complete output when i run consumer/provider tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-07 09:07</div><div class="msg">Is provider being shared across the different consumer/providers? (It shouldn't)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-07 09:08</div><div class="msg">I'd you share your code I can take a peek later</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 09:17</div><div class="msg">no its, and it was typical issue, somehow a node event was left kept running and was not detached, so when i tried to run again it gave , got it fixed by removing dangling node events</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 09:17</div><div class="msg">thank for reply though much appreciated :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 09:31</div><div class="msg">or scratch the above comments its still there,
No provider is not being shared</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 09:37</div><div class="msg">a quick question should i make different file for each consumer test of one service?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-07 10:24</div><div class="msg">(Sorry I just got home an hour ago so will be intermittent with my responses)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-07 10:24</div><div class="msg">I would generally have at _least_ one file per consumer/provider pair</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-07 10:25</div><div class="msg">I wouldn?t have multiple consumers of a provider in a single file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-07 10:25</div><div class="msg">But that is just how you organise code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-07 10:28</div><div class="msg">In any case, the only thing I can think of is that you aren?t calling `provider.setup()` somewhere as that?s  where that assignment is made</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 11:01</div><div class="msg">only one service is giving that issue other services are running consumer/provider tests fine.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 11:01</div><div class="msg">i have a file named pactTestWrapper.js with following content
```
/* eslint-disable no-undef */
beforeAll(done =&gt; provider.setup().then(() =&gt; done()));

afterAll(done =&gt; provider.finalize().then(() =&gt; done()));
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-07 11:02</div><div class="msg">and command m using to run provider/consumer tests is as follow
```
"test:provider": "jest --testRegex \"/*(provider.pact.js)\" --runInBand --setupFiles ./tests/config/pactSetup.js --setupTestFrameworkScriptFile=./tests/config/pactTestWrapper.js"
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-08 07:56</div><div class="msg">also when i run the consumer test even if it gives error, it still create the pact file (with changes if any)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-08 09:06</div><div class="msg">also getting this error in that project
`ERROR: The process "2480" not found.`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-08 11:40</div><div class="msg">So if it's working for the other projects you need to find out what's different. Are you using different ports etc?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-08 13:48</div><div class="msg">no configurations are same for all projects, i further debug it and found out if the project path is shorter (`C:\xampp\htdocs\afterfx-service` changed to `C:\afterfx-service`)   than atleast consumer tests are working but provider tests gives an error. (file with output of console attached)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-08 13:48</div><div class="msg">even thought other projects are in same directory level (`C:\xampp\htdocs\{project}`) but still working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d170023eab77c64cf8498b9188bc691f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">noel.yap_slack.pact.i</div><div class="time">2019-05-08 16:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-10 10:28</div><div class="msg">tried solutions mentioned in this <a href="https://github.com/pact-foundation/pact-js/issues/237">https://github.com/pact-foundation/pact-js/issues/237</a> Windows registry hack or moving to shallower path both did't worked :confused:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 10:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 10:41</div><div class="msg">@asad I'm having the exact same error, everything works on my local machine even when  running in a Docker container. Yet CI machine dumps out the same error as yours</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-10 10:42</div><div class="msg">its bit more weird that with same configurations its working in other projects on  local and in same directory level i have 4 different service it works in other 3 but 1 gives that error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-10 10:43</div><div class="msg">tried debuging and when i moved that project with error to less shallow directory consumer tests start working but now provider test giving error &lt; https://github.com/pact-foundation/pact-js/issues/237 &gt; tried both solutions from that issue (window registry and moving to less shallow path still same error)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 10:44</div><div class="msg">Is CI windows too?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 10:44</div><div class="msg">Thanks for the debugging @asad, nicely done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 10:45</div><div class="msg">no, linux. What's really odd is that everything works fine on Windows dev machine and a linux dev machine, also in a Docker container running on the Linux dev machine using the same imge as the CI machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 10:45</div><div class="msg">One possibility is that the test that is failing has something different in the contract (e.g. provider state or something). It looks like Ruby needs another file to service that request which takes the path over the limit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 10:46</div><div class="msg">Interesting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 10:46</div><div class="msg">I also see this ```36mPact Binary Error: /var/lib/jenkins/jobs/FE Fragment Product/branches/pact-testing/workspace@2/node_modules/@pact-foundation/pact-node/standalone/linux-x64-1.64.1/lib/ruby/bin/ruby: line 14: Fragment: command not found```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 10:46</div><div class="msg">on CI</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 10:46</div><div class="msg">Of you can share a repro I'm happy to look. Linux should be very stable, windows is the problematic OS for reasons that should be obvious</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 10:47</div><div class="msg">Looks like a space in the path is causing issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 10:49</div><div class="msg">does this help: <a href="https://gist.github.com/jameshd/6c0cdb00a096996bed1368b4026e98bc">https://gist.github.com/jameshd/6c0cdb00a096996bed1368b4026e98bc</a> ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-10 10:51</div><div class="msg">thought issue is still there :confused: will try it on linux env and see what happens</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 10:51</div><div class="msg">Thanks yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 10:51</div><div class="msg">Can you try removing spaces from the project path?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 10:51</div><div class="msg">I could, but that's a jenkins workspace</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 10:53</div><div class="msg">OK renamed the project... probably gonna get lambasted by the other devs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 11:01</div><div class="msg">that rename got me a bit further</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 11:03</div><div class="msg">wow worked!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 11:03</div><div class="msg">Pact file was corrupted so the next build failed, the one after didn't though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 11:04</div><div class="msg">@asad FWIW I had spaces in the file path to the ruby binary - removing those and doing a couple of rebuilds worked</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-10 11:11</div><div class="msg">hmm contract seems fine to me, only thing i can think is that i dont have state_handler (which is optional) so it could be  cuz of that it needs extra file to handle that situation. i have attached my provider code and contract generated by consumer service.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-10 11:14</div><div class="msg">@james.hattersley-dyke thank for the hint , thought given other services works on same local env i doubt there will be something wrong with anything with global settings</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-10 11:15</div><div class="msg">I'd just check your project paths don't contain any spaces or odd characters</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-10 11:27</div><div class="msg">my project is in `C:/afterfx-service` and this is the error i am getting after moving project to less shallow path
```C:/afterfx-service/node_modules/@pact-foundation/pact/node_modules/@pact-foundation/pact-node/standalone/win32-1.63.0/lib/vendor/ruby/2.2.0/gems/pact-provider-verifier-1.21.0/lib/pact/provider_verifier/app.rb:3:in `require'
    : cannot load such file -- pact/provider_verifier/provider_states/remove_provider_states_header_middleware (LoadError)
``` still digging to solve the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 11:32</div><div class="msg">ok, good to hear that worked (but not so good that spaces cause issues. I?ll raise an issue once I can repro it properly)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 11:37</div><div class="msg">Thanks. Might be worth adding a state handler to see if that helps, but looks like the standard path length issue on Windows</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 11:38</div><div class="msg">There is an e2e example in the pact-js repository. If you can get the appveyor build to fail with the same issue, then raise an issue and we can dig into it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-10 11:38</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/tree/master/examples/e2e">https://github.com/pact-foundation/pact-js/tree/master/examples/e2e</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-10 12:50</div><div class="msg">ok thank i will look into it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-13 08:55</div><div class="msg">tested on linux environment with same configs and its working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-13 08:55</div><div class="msg">can't seems to reproduce this issue other than that service :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-13 08:56</div><div class="msg">will update you if i find any solid point for it to fail only in that service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-13 11:40</div><div class="msg">thanks Asad</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-13 13:45</div><div class="msg">np, thank to you for creating and maintaining suck a great thing :slightly_smiling_face: :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1261b96fd0adbed42bea51fb7a45dc78.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">phall</div><div class="time">2019-05-13 17:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">scott.riley111</div><div class="time">2019-05-13 17:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-13 21:10</div><div class="msg">You?re welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-05-14 06:39</div><div class="msg">Guys, i have question. I have generated contract and after publishing it, tests are in different order than previously were on my machine. Is it intentional?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-14 06:42</div><div class="msg">Yes. If you have tests that depend on the results of previous tests, you're in for a world of pain. It is actively discouraged.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-14 06:43</div><div class="msg">Set up any required data in the provider state.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-05-14 06:43</div><div class="msg">In my case it won?t help me :confused:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-05-14 06:43</div><div class="msg">But thanks for the answer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-14 06:44</div><div class="msg">Then perhaps pact is not the best tool for your scenario.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-14 06:44</div><div class="msg">Gotta use the right tool for the right job :blush:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-14 06:45</div><div class="msg">Would you like to explain what your problem is? Maybe someone can help you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-05-14 06:48</div><div class="msg">Well I think I need to setup new fresh state which include other states and it should help.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-14 06:52</div><div class="msg">I usually delegate the actual set up to a nice builder object.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-14 06:58</div><div class="msg">@krzysztof.stepniak people usually ask this question because the order matters to the provider. e.g. `POST /user`, and then `GET  /user`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-14 06:58</div><div class="msg">This is where the concept of provider states comes in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-14 06:58</div><div class="msg">I say this, although I do recognise your  name/avatar from previous chats - so I think you probably know this :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-05-14 06:59</div><div class="msg">:wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-05-14 07:00</div><div class="msg">Ok guys, I think I?ll handle this one. Thanks once again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-14 07:01</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-14 07:01</div><div class="msg">you?re welcome</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b13491dcfa69dc06b98c447d629868f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">rjmcguinness</div><div class="time">2019-05-14 10:59</div><div class="msg">@krzysztof.stepniak I found this in my case was due to Karma randomising order of running tests (a feature to prevent tests passing that depends on other tests running). Not sure if you?re using karma to run your pact tests, if so this might be useful <a href="https://stackoverflow.com/questions/39693307/how-to-specify-randomtrue-through-karma-jasmine">https://stackoverflow.com/questions/39693307/how-to-specify-randomtrue-through-karma-jasmine</a>

(Set it to false instead of true)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-03-27/581876768177_3783ac1347a7ee26ce13_72.png" /><div class="message"><div class="username">krzysztof.stepniak</div><div class="time">2019-05-14 11:00</div><div class="msg">Thanks, but I already handled it with new state. I am using mocha.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-14 15:48</div><div class="msg">hi @matt.fellows, i've finally gotten some time to look at this with our devops</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-14 15:49</div><div class="msg">the codebase works fine and we can reproduce in our project codebase which is great :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-14 15:49</div><div class="msg">trouble is, as soon as we try to use docker-compose it no longer works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-14 15:50</div><div class="msg">i've submitted a PR to the above project with the compose file and updated the README with the results I'm seeing, could i ask you to have a look and see if anything seems amiss please?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-14 15:50</div><div class="msg">@matt.fellows have sent an update to my earlier query in thread :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ff708575b40f0149de2d8790f74a04d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">konrad.winkler</div><div class="time">2019-05-14 19:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 04:04</div><div class="msg">looking now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 04:17</div><div class="msg">Looks just to be running slow in Docker (for me). Updating the timeout == :thumbsup:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-15 06:44</div><div class="msg">So simple...? :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 06:44</div><div class="msg">:man-shrugging:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-15 06:44</div><div class="msg">Yes, passing for me - I'll update into our project and test there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 06:45</div><div class="msg">did it work for you?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-15 06:45</div><div class="msg">Sure did, will try in our project now and let you know!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-15 06:48</div><div class="msg">well, our devops didn't push his changes so i'll jump on him when he gets in :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-15 06:48</div><div class="msg">will advise - thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 06:48</div><div class="msg">haha no worries :crossed_fingers:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:13</div><div class="msg">Hi, I'm seeing a weird error which is causing my CI to fail - I'm using the `can-i-deploy` tool with pact-node (i think) it doesn't return a success message or often exits with exit code 2....can anyone advise?

<a href="https://gist.github.com/jameshd/5a6176ce02692d7268ca7c9874dcd52f">https://gist.github.com/jameshd/5a6176ce02692d7268ca7c9874dcd52f</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:19</div><div class="msg">can you please share the code you?re using?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:20</div><div class="msg">it's v 8.3.0 of pact-node</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:20</div><div class="msg">James, I'd recommend find the underlying pact-broker can-i-deply executable in the node package, and calling it directly if the node is giving you problems.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:27</div><div class="msg">@bethskurrie thanks, is there a ruby version you'd recommend?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:28</div><div class="msg">it's baked in - you don't need ruby</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:28</div><div class="msg">the node can-i-deploy just wraps an underlying pact CLI (it's implemented in ruby, but the ruby is packaged with it, so you don't need to know or care about that)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:29</div><div class="msg">you'll find it in one of the bin directories of the node package</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:29</div><div class="msg">yeah i did think that, starting to doubt myself though!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:31</div><div class="msg">trying to use `find ./node_modules -name pact-broker | grep -e 'bin/pact-broker$'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:31</div><div class="msg">from CI I get: ```+ ./node_modules/@pact-foundation/pact-node/standalone/linux-x64-1.64.1/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.18.0/bin/pact-broker can-i-deploy --participant fe-fragment-product --participant-version 0.4.3 --pact-broker <a href="https://sdrebuild.pact.dius.com.au">https://sdrebuild.pact.dius.com.au</a> --token iY8yd02Epz6MvGPARFtokA
/usr/bin/env: ruby: No such file or directory```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:32</div><div class="msg">are you using alpine?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:32</div><div class="msg">```agent {
				docker { image 'node:8' }
			}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:33</div><div class="msg">oh, you've gone too deep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:33</div><div class="msg">there should be a binary file up the top of the node package.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:33</div><div class="msg">that will eventually call the line you've got there, but it has to have some things set up first in the top script.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:33</div><div class="msg">`./node_modules/.bin/pact`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:33</div><div class="msg">?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:34</div><div class="msg">that's what I called first</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:34</div><div class="msg">Hm. I'd expect it to be in the standalone folder</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:34</div><div class="msg">It?s an open issue Beth</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:38</div><div class="msg">I'll just tack on a `|| true ` to the can-i-deploy for now...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:38</div><div class="msg">Oh dear!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:39</div><div class="msg">it's only to demo what pact can give us...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:39</div><div class="msg">oh, I have a better solution</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:39</div><div class="msg">I gotta say you've done an awesome job with this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:39</div><div class="msg">thanks James</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:40</div><div class="msg">the docs and support are 1st class.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:40</div><div class="msg">something not right. The check you showed above looked good to me - can you show us the JS code you used to run the can-i-deploy?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:40</div><div class="msg">```
docker run --rm \
 -e PACT_BROKER_BASE_URL \
 -e PACT_BROKER_USERNAME \
 -e PACT_BROKER_PASSWORD \
  pactfoundation/pact-cli:latest \
  broker can-i-deploy \
  --pacticipant Foo \
  --latest
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:41</div><div class="msg">DOCKER ALL THE THINGS!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:41</div><div class="msg">ha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:41</div><div class="msg">@matt.fellows it's coming from a Jenkinsfile using the node:8 image ```sh "./node_modules/.bin/pact can-i-deploy --participant '${serviceName}' --participant-version '${serviceVersion}' --pact-broker <a href="https://sdrebuild.pact.dius.com.au">https://sdrebuild.pact.dius.com.au</a> --token 123456 || true"```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:41</div><div class="msg">@bethskurrie i'll give that a go next :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:42</div><div class="msg">The or true defeats the whole purpose!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:42</div><div class="msg">Please try the docker!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:42</div><div class="msg">i know :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:42</div><div class="msg">ok - i'll have a go!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:42</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:43</div><div class="msg">ahhh . Right. yeah you don?t need Pact Node for that :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:43</div><div class="msg">hat tip for using `--rm` no one here does that!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 09:43</div><div class="msg">do what Beth says</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 09:43</div><div class="msg">Oh, the mess!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 09:47</div><div class="msg">ok!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 10:02</div><div class="msg">does this command use a accept a PACT_BROKER_TOKEN too ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 10:02</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 10:02</div><div class="msg">sweet!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 10:02</div><div class="msg">thanks for all your help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-15 10:03</div><div class="msg">np</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 12:43</div><div class="msg">Hey Beth, I finally got the Docker command to run. I was using a Jenkinsfile and getting an error about entrypoints when running via Jenkins. Using the raw `docker run --rm ` worked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 12:45</div><div class="msg">not sure if that's a jenkins issue or not, colleague seems to think it is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 12:47</div><div class="msg"><a href="https://issues.jenkins-ci.org/browse/JENKINS-39748">https://issues.jenkins-ci.org/browse/JENKINS-39748</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-05-15 12:48</div><div class="msg">yeah deffo jenkins problem :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-05-15 13:38</div><div class="msg">Hey all, I released <a href="https://github.com/YOU54F/jest-pact">https://github.com/YOU54F/jest-pact</a> the other week, based on an initial proposal by @tjones, basically a simple wrapper to cut down on some of the boilerplate required work setting up a jest project with pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-15 20:52</div><div class="msg">Awesome! I'll get this referenced in the pact repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:33</div><div class="msg">I'm excited to see this happen, @yousafn! Would have liked to be involved.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:38</div><div class="msg">but it's cool that you're taking the initiative. You can move the `test()` call inside the wrapper so that the tests read a bit cleaner (I think my current version does this).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:40</div><div class="msg">I don't think I understand the supertest bit - feels like it might be a separate wrapper?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-05-16 00:48</div><div class="msg">Hey up homie :fist: , I?m up late over this side of the pond! Didn?t mean to tread on your toes, and would love for you to be involved, evolve it, do something different. After all, I am already standing on the shoulders of giants with the awesome work you guys have already done. We needed a wrapper for our services at work, as the number that wanted to consume pact was multiplying so I wanted to get something out there that we could start consuming.

The supertest stuff is intertwined with our current setup at work, so it was nice to have that in there, as we won?t have to worry about setting a different port to every new provider we add in to our consuming services writing tests with the wrapper :slightly_smiling_face:

Looking forward to hearing your thoughts!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-05-16 00:50</div><div class="msg">ps, since late last year has been my first real foray into the world of dev / open source software, after being a tester for the past 10 years, so feedback is very much welcome and will be well received</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:52</div><div class="msg">No worries at all! I probably should have released it already - I'm super pleased that someone wanted to do that :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:52</div><div class="msg">This is probably the kick I needed to get my thoughts on the next steps out of my head and into code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:52</div><div class="msg">I love the todo list that's at the head of the readme</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:53</div><div class="msg">Seems like we're largely on the same page there. I might look at some PRs for you, if you'd like? Even if it means I have to use typescript :stuck_out_tongue_winking_eye:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:54</div><div class="msg">I think my initial reaction was a bit "aw" because I was expecting I'd release it soon - but honestly getting it out there is more valuable than my "soon"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-05-16 00:55</div><div class="msg">So, thanks for taking the initiative!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-05-16 04:00</div><div class="msg">Sorry to steal your thunder chap, wasn?t my intention, I am just really enjoying learning about programming at the moment, lots of different languages and stacks, releasing modules, importing them in projects, is all pretty new to me, so I thought I would expand on your idea as it was useful to us, and as you said, it gives you a bit of a kick to start progressing with your thoughts into code, as I imagine there is some top knowledge stowed away in there!

I am relatively new to the world of pact ( 6 months or so, same with typescript), it?s nice for people to use who are consuming your projects as they ship with types, but we can write it in pure javascript if you prefer and we can still create type definitions.

I?ve added you as a contributor now :ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-16 04:09</div><div class="msg">Cross continent collaboration for the win!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-05-17 10:28</div><div class="msg">@matt.fellows just to let you know that we've now been able to integrate the kafka tests to our pipeline - thanks again for your advice!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-17 10:54</div><div class="msg">Awesome! :the_horns:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-17 10:54</div><div class="msg">Glad to hear</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-20 13:06</div><div class="msg">Hi i am bit confused regarding this example
```
  // This is an example of a pact breaking
  // uncomment to see how it works!
  it.skip("Does not accept an invalid dog", () =&gt; {
    return messagePact
      .given("some state")
      .expectsToReceive("a request for a dog")
      .withContent({
        name: "fido",
      })
      .withMetadata({
        "content-type": "application/json",
      })
      .verify(dogApiHandler)
  })
```
given in <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/messages/consumer/message-consumer.spec.ts">https://github.com/pact-foundation/pact-js/blob/master/examples/messages/consumer/message-consumer.spec.ts</a> is it to check what consumer will do when an invalid request is given?
what i am looking for and want to do is create pact/test for case when provider sends an invalid request and consumer returns an error response. Or pacts are only for success case not for failure case ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-20 13:51</div><div class="msg">*when provider sends an valid request and consumer returns an error response (cuz something went wrong on consumer side).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-20 22:23</div><div class="msg">Hi Assad. It doesn?t work that way. You write the tests from the consumer?s point of view, and then the Provider must produce messages that meet those expectations - this is the ?consumer-driven? aspect. We are thinking about how to do provider-driven in this and other contexts, but are not yet ready</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-20 22:24</div><div class="msg">The consumer test here is about asserting that the function under test is able to handle a specific message. It?s a unit test that checks your assumptions about the interface are correct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a50d73621eefee5085022e02565fe2c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">asad</div><div class="time">2019-05-21 06:28</div><div class="msg">hmm ok thank for help, so just to make sure the above example of `it.skip` it wont effect the pact, that is just to make sure consumer ignore/give error messages with invalid input?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-21 07:21</div><div class="msg">correct, it?s just tells mocha to skip the tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-23 13:01</div><div class="msg">Hmm did I add dependabot? I recall a while ago testing some of these tools out but not applying it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-05-23 13:25</div><div class="msg">Pact-js has become self aware</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a64731e1d8e2c05e2a2a2255e7cbdd12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">slack1</div><div class="time">2019-05-23 15:41</div><div class="msg"><a href="https://dependabot.com/blog/hello-github/">https://dependabot.com/blog/hello-github/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-24 06:26</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-24 06:36</div><div class="msg">Hey guys
I am using PactWeb to generate my pact file and push to broker. I have been working on both authenticated and unauthenticated APIs from my provider. The unauthenticated APIs pacts are being verified properly on the provider verification (for which I am using the standalone ruby package). But I can't figure out how to add the Auth Header on my consumer side for the Auth API. I know that I can add it to my pact-provider-verifier by using the ```--custom-provider-header="Authorization: Basic WrWgrIbkH5zHuP8Rr4UZY5ZWK8s0PX5T"``` but this is the pact I am sending from my consumer side:
```beforeAll((done) =&gt; {
      provider.addInteraction({
        state: 'workshop customer with payment option razorpay exists',
        uponReceiving: 'a request to GET a payment option',
        withRequest: {
          method: 'GET',
          path: '/springpay/api/payment-options/1/',
          headers: {
            'Authorization' : 'Basic WrWgrIbkH5zHuP8Rr4UZY5ZWK8s0PX5T',
            'Accept': 'application/json, text/plain, */*',
          },
        },
        willRespondWith: {
          status: 200,
          headers: {
            'Content-Type': 'application/json, text/plain, */*',
          },
          body: EXPECTED_BODY,
        }
      }).then(() =&gt; {
        console.log('Inside 1 then');
        done();
      }, (err) =&gt; {
        console.log('Inside 1 error');
        done.fail(err);
      });
    });```

This is the error that I am getting:
```E, [2019-05-24T12:04:08.152143 #62858] ERROR -- : Diff with interaction: "a request to GET a payment option" given "workshop customer with payment option razorpay exists"
    Diff
    --------------------------------------
    Key: - is expected
         + is actual
    Matching keys and values are not shown

     {
       "headers": {
    -    "Authorization": "Basic WrWgrIbkH5zHuP8Rr4UZY5ZWK8s0PX5T"
       }
     }

    Description of differences
    --------------------------------------
    * Could not find key "Authorization" (keys present are: X-Forwarded-Host, X-Forwarded-Proto, X-Forwarded-Port, X-Forwarded-For, Cookie, Accept-Language, Accept-Encoding, Referer, User-Agent, Accept, Connection, Host, Version) at $.headers```

Can someone please guide me to how I can send my dummy auth token to my pact file to use it to verify with the provider?
I have a feeling I can use Matchers.term too but not really sure how.
Please help.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-05-24 07:17</div><div class="msg">your consumer code should have an ability to set Authorization, so it is then passed in request headers to your provider/mockserver</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-05-24 07:20</div><div class="msg">but it is better to relax this expectation in the contract a bit</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-05-24 07:21</div><div class="msg">so, simply use
```
          headers: {
            'Authorization' : like('Basic WrWgrIbkH5zHuP8Rr4UZY5ZWK8s0PX5T'),
            'Accept': 'application/json, text/plain, */*',
          },
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-05-24 07:21</div><div class="msg">where
```
const { like } = require('@pact-foundation/pact').Matchers;

```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-24 07:22</div><div class="msg">We use 'X-CSRFToken' for authentication and pass a cookie so I am not sure if Basic would work. I will try it once. Thanks Vitalii</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-24 07:24</div><div class="msg">```* Could not find key "Authorization" (keys present are: X-Forwarded-Host, X-Forwarded-Proto, X-Forwarded-Port, X-Forwarded-For, Cookie, Accept-Language, Accept-Encoding, Referer, User-Agent, Accept, Connection, Host, Version) at $.headers```
Still not able to find the Authorization key here. Do I pass it on Accept instead?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-05-24 09:56</div><div class="msg">I think your actual consumer doesn?t send the header?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-24 10:21</div><div class="msg">Yeah that's exactly it. This isn't something pact is doing wrong. Will share my solution here when I find it so that others can reference it if needed. :slightly_smiling_face:
Thanks Vitalii!!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/73bee80a6cba022c2dda8cb0cc232218.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">diandra</div><div class="time">2019-05-28 00:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 09:29</div><div class="msg">So when are you guys gonna provide a teardown feature for provider states? Currently its very hacky to delete the entire database objects every time I run my pact tests. I would be really happy to just leave my provider verifier server up and running between my pact tests.

Another question I have for provider states is:
Lets say I need a state where my customer exists. Now I need the customer's credentials to access an API but since I am using provider states, I am either hardcoding my values on setup (email and password) or I am creating another API to return the customer that was created on setup. Wouldn't it be awesome to have the pact provider return the data that was created so that the tester can catch it and use it inturn?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:30</div><div class="msg">@sankalan13 why do you delete all the database objects each time? Can't you just clear the records?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:30</div><div class="msg">The reason there is no teardown is that any teardown that relies on tearing down only the items that were supposedly created in the set up is that they will inevitably leak.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 09:31</div><div class="msg">What do you mean clear the records? I would need a fresh database every time I test.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:31</div><div class="msg">It is much more reliable to clear the entire databsae before running a test, than to attempt to clear up data created within a test afterwards.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:31</div><div class="msg">What sort of database are you talking about?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 09:31</div><div class="msg">I am using django with mysql so I was thinking of doing a ./manage.py flush</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:32</div><div class="msg">I tend to use relational databases at the moment. I have some code that truncates each table, that I call at the start of the set up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:32</div><div class="msg">I don't drop and recreate the tables each interaction. That would be very slow.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 09:33</div><div class="msg">Ahh so do you use a state mapping to call this truncate or do you do it separately before each test?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 09:33</div><div class="msg">Exactly, it'd be very slow to drop and recreate the database</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:33</div><div class="msg">at the start of each set up call, I clear the previous records, and then insert the new ones for this test.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 09:36</div><div class="msg">Got it. Thanks @bethskurrie :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 09:37</div><div class="msg">What about getting the auth data of my customer from the database once the provider state creates it? Is there an easy way to do that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:38</div><div class="msg">that's trickier. You can use Ruby middleware to intercept the request, or you can manually update the credentials of the customer to a known value during provider state set up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:38</div><div class="msg">I tend to prefer the second one.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 09:39</div><div class="msg">Yeah I think I will also go with the second one. Thank you Beth. You're super helpful :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-05-29 09:40</div><div class="msg">no problem</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b55c97ada70d3e93142a70ef4a4525db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">jinal</div><div class="time">2019-05-29 09:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-29 10:54</div><div class="msg">@sankalan13 how are you managing provider states in the JS code? Are you using these functions (<a href="https://github.com/pact-foundation/pact-js#api-with-provider-states">https://github.com/pact-foundation/pact-js#api-with-provider-states</a>) or the old way with a dynamic endpoint?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-29 10:55</div><div class="msg">state handlers in combination with the `requestFilter` are a good combination for this sort of thing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 11:02</div><div class="msg">@matt.fellows out FE is in angular and our backend is in django. So we have a url: _pact/provider_states/ exposed with a POST method which calls the state mapping with different setup functions.

So we are using python for the setup:
```class PactProviderSpringPayViewSet(APIView, PactMixin):
    permission_classes = (PactPermissions,)

    def post(self, request):
        STATES_DICT[request.data['state']]()
        return Response(status=HTTP_200_OK)```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 11:02</div><div class="msg">And I am using a decorator which maps the state to the specific function for setup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-29 11:10</div><div class="msg">ah fair enough. Then yes, you may not have that sort of luxury yet I?m afraid.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-29 15:52</div><div class="msg">Haha yes. When will I have that luxury though?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/324f9e0619763fba7d1bc7b1beb522a0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">shalygai.a</div><div class="time">2019-05-29 16:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/324f9e0619763fba7d1bc7b1beb522a0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">shalygai.a</div><div class="time">2019-05-29 16:24</div><div class="msg">Hi! I use a <a href="https://www.npmjs.com/package/@mattersight/karma-pact-reporter">https://www.npmjs.com/package/@mattersight/karma-pact-reporter</a> to send pact file to pact broker.
console displays the following error:
Could not publish pact:
 ../node_modules/@mattersight/karma-pact-reporter/node_modules/@pact-foundation/pact-node/standalone/win32-1.63.0/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.17.0/lib/pact_broker/client/cli/broker.rb:4:in `require'
    : cannot load such file -- pact_broker/client/cli/version_selector_options_parser (LoadError)
        from ../node_modules/@mattersight/karma-pact-reporter/node_modules/@pact-foundation/pact-node/standalone/win32-1.63.0/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.17.0/lib/pact_broker/client/cli/broker.rb:4:in `&lt;top (required)&gt;'
        from .../node_modules/@mattersight/karma-pact-reporter/node_modules/@pact-foundation/pact-node/standalone/win32-1.63.0/lib/app/pact-broker.rb:1:in `require'
        from ../node_modules/@mattersight/karma-pact-reporter/node_modules/@pact-foundation/pact-node/standalone/win32-1.63.0/lib/app/pact-broker.rb:1:in `&lt;main&gt;'
What can I do? :no_mouth:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-05-29 18:56</div><div class="msg">Hey up,

`cannot load such file -- `

are you passing a file in? possibly raise an issue on the repository, as it doesn?t look to be owned by the pact team</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-29 22:04</div><div class="msg">Ask / check the question on their GH issues page</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-05-30 09:20</div><div class="msg">:smile:
Will do sir will do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-05-30 10:45</div><div class="msg">Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-05-30 14:49</div><div class="msg">Pretty sure you just need bash installed? There?s been a few of these issues raised if you do a search</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-01/646080654081_dcbc4e959ef8ec65cfa5_72.jpg" /><div class="message"><div class="username">thakkarjinal29</div><div class="time">2019-06-01 11:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:05</div><div class="msg">Morning everyone. I seem to recall from previous conversations (and I found a reference to it in a comment written by @bethskurrie in an issue on github) that if you decorate the whole response body with `like` matcher, that applies to all objects and properties inside the body and that you don?t need any more matchers nested in the response for specific objects.

However, this does not seem to work like this in our case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:07</div><div class="msg">```
{
        "body": {
          "pageData": [
            {
              "type": "account",
              "data": {}
            }
          ],
          "context": {
            "environment": "prod"
          },
          "canonicalUri": {redacted}/",
          "indexingForbidden": true,
          "alternateLocaleUris": [
            {
              "locale": "de-AT",
              "uri": "https://{redacted}/"
            }
          ]
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        }
      }
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:07</div><div class="msg">I would expect `matchingRules` to be more specific when it comes to the description of `alternateLocaleUris`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:08</div><div class="msg">Just realised I should?ve posted in #pact-node instead.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-03 08:09</div><div class="msg">@antonello ita really hard to pinpoint the exact issue on slack. Can you fork the pact js project, and modify the E2E example to demonstrate your issue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:11</div><div class="msg">I can certainly put something together, but I just wanted to make sure first that my expectation is correct.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-03 08:12</div><div class="msg">Yes. If you put a like around a top level object, it carries down to all the children.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:12</div><div class="msg">and that if I do
```
const accountPage: AccountPageOutput = {
  pageData: [
    {
      type: 'account',
      data: {},
    },
  ],
  alternateLocaleUris: [
    {
      locale: 'de-AT',
      uri: '{redacted}',
    },
  ],
};

const accountPageExpectation: InteractionObject = {
  ...
  willRespondWith: {
    status: 200,
    headers: {
      'Content-Type': 'application/json',
      Ruid: 'adedb5d9-7d9f-4110-982c-55043fc18b27',
    },
    body: like(accountPage),
  },
};
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-03 08:13</div><div class="msg">It doesn't apply an each like to the children though.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-03 08:13</div><div class="msg">Sorry, I'm on a phone. I really can't read the json!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:13</div><div class="msg">Sorry, it?s too long. but the eachlike might be the problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:14</div><div class="msg">so if there are arrays of objects, an eachLike is still needed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-03 08:14</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:14</div><div class="msg">:boom:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-03 08:14</div><div class="msg">The like just says match by type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-03 08:14</div><div class="msg">It doesn't say anything about number.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:15</div><div class="msg">but you need an eachLike even if you?re not saying anything specific about the number of objects in the array</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-03 08:16</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:16</div><div class="msg">perfect! that explains it then!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 08:29</div><div class="msg">no no - this is the right place!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:29</div><div class="msg">phew</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 08:29</div><div class="msg">Thanks Beth.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:30</div><div class="msg">by the way, in order to use the matchers in typescript, we?re resorting to doing

```
import { like as pactLike, eachLike as pactEachLike } from '@pact-foundation/pact/dsl/matchers';

export function like&lt;T&gt;(value: T): T {
  return pactLike(value) as unknown as T;
}

export function eachLike&lt;T&gt;(value: T): T[] {
  return pactEachLike(value) as unknown as T[];
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 08:57</div><div class="msg">actually, that doesn?t work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 09:14</div><div class="msg">Is there any documentation or examples on how to use matchers with typescript?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 09:45</div><div class="msg">I'm just finishing up dinner and the bed routine for the little one, will look after</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 09:51</div><div class="msg">I haven?t managed to find any reference to it anywhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-06-03 10:18</div><div class="msg">We use matchers with ts at work without any need for additional defs. We just import like, or eachLike. I?ve never seen anyone define the as keyword in a curly braced import.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-06-03 10:19</div><div class="msg">Pact-is is written in typescript now and has type defs out the box after a rewrite by Matt </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:19</div><div class="msg">@yousafn</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-06-03 10:22</div><div class="msg">That looks like an issue in your type def for alternatelocaluri which looks to be expecting an array but it looks like your trying to pass it an object. I?m a novice dev so that?s just my initial thinking so I might be completely wrong </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:23</div><div class="msg">this is what I?m battling against. If I cast (`as unknown as AlternateLocaleUri[]`), it works. But then, I cannot reuse the same body for the smoke check against the mock server.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:23</div><div class="msg">because obviously the response object is not as expected</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 10:24</div><div class="msg">@antonello does this help? <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/typescript/test/get-dog.spec.ts#L6-L10">https://github.com/pact-foundation/pact-js/blob/master/examples/typescript/test/get-dog.spec.ts#L6-L10</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:25</div><div class="msg">:eyes:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 10:29</div><div class="msg">granted it?s a local reference (rather than a proper global import) because it?s run as part of the CI to ensure the release is good, but i?m fairly confident it works!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:29</div><div class="msg">thanks Matt, what what with there is an eachLike nested in the response?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 10:29</div><div class="msg">feedback certainly welcome on the API</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 10:30</div><div class="msg">Sorry, I did?t understand that question?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:30</div><div class="msg">You can do
`expect(response.data[0]).to.deep.eq(dogExample)`

because the `eachLike` is around the whole response</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:36</div><div class="msg">What we?re trying to do is something like

```
const kennel: Kennel = {
    kennelName: "my kennel",
    dogs: eachLike({dogName = "my dog"})
}

...

body = like(kennel);
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:38</div><div class="msg">and lets say that dogs is of type Dog[]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 10:39</div><div class="msg">Yep...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:52</div><div class="msg">This is what I mean:
<a href="https://github.com/anto-ac/pact-js/commit/7f64f8b1c445b0cb03db18840381aec73672975e">https://github.com/anto-ac/pact-js/commit/7f64f8b1c445b0cb03db18840381aec73672975e</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:54</div><div class="msg">and then you get a type error on applying `eachLike` to `dogs`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 10:57</div><div class="msg">I thought you might say that. I've thought about raising it to a typed interface but haven't yet had the time to think it thru. If you'd be so kind as to raise an enhancement request with your example we could look at it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 10:58</div><div class="msg">sure, will do - but what do you recommend in the meantime?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 11:00</div><div class="msg">doing `as unknown as Dog[]` is sufficient to work around the type issue, but the comparison between the actual and expected response fails.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 22:36</div><div class="msg">@matt.fellows, I have a workaround that I can post tomorrow (on my phone ready for bed now).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 22:37</div><div class="msg">Ah, sorry I missed this (before also heading to bed)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-03 22:37</div><div class="msg">I?d be keen to see what you?ve done, and more keen to see how we can make it better for you going forward</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-03 22:38</div><div class="msg">Perfect, let?s catch up about this tomorrow!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-04 10:51</div><div class="msg">Hey @matt.fellows. This is how I?m thinking we can work around the problem for now.
<a href="https://github.com/anto-ac/pact-js/commit/b09545b8d11c06875de494fca679ee999f767ba8">https://github.com/anto-ac/pact-js/commit/b09545b8d11c06875de494fca679ee999f767ba8</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-04 10:52</div><div class="msg">However, it would be nice we could just use `kennelWithMatchers` both when setting up the interaction and when verifying it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1261b96fd0adbed42bea51fb7a45dc78.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">phall</div><div class="time">2019-06-04 21:17</div><div class="msg">Hi everyone, I?ve been looking into moving from a provider state REST endpoint (`providerStatesSetupUrl`) to using stateHandlers. This looks like a much cleaner way of setting up the state, but I?m having some trouble. The way we currently use states is something like:
```
{
    state: {
        description: 'object exists',
        objectId,
    },
    uponReceiving: `a request to fetch an object with objectId [${objectId}]`,
    withRequest: {
        method: 'GET',
        path: `/v1/objects/${objectId}`,
    },
    willRespondWith: {
        status: 200,
        body: {
            things: eachLike({ connection: { publicIp: like('1.2.3.4') } }, { min: 1 }),
        },
    },
}

```
Note that our state is currently an object, not a string. The provider REST endpoint receives this object and makes sure that the object exists in the database. This has been working fine.
In going back through the documentation, all the examples use strings (not objects). Is our approach not recommended? Is there an alternative approach? Or am I completely missing the point?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-04 21:35</div><div class="msg">And, finally, this is an alternative approach, which is our favourite option at the moment
<a href="https://github.com/anto-ac/pact-js/commit/d32add9a96c2eb935e5f0628312212156a64eb9b">https://github.com/anto-ac/pact-js/commit/d32add9a96c2eb935e5f0628312212156a64eb9b</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a8e465c905f5ad94866395bec5587d9a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">rob.clarken</div><div class="time">2019-06-04 22:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-04 23:37</div><div class="msg">hmm technically the state is supposed to be a string. I recall somebody (it might have been you!) was doing something like this. It?s technically not designed to be used this way, but was probably more of a ?feature? bug.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-04 23:37</div><div class="msg">I?ll review to see if the state handler can do something like this, but it?s certainly not portable across language implementations - so it?s not ideal.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-04 23:38</div><div class="msg">The v3 pact specification has provisions for this sort of thing (see <a href="https://github.com/pact-foundation/pact-specification/tree/version-3#allow-multiple-provider-states-with-parameters">https://github.com/pact-foundation/pact-specification/tree/version-3#allow-multiple-provider-states-with-parameters</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-05 06:14</div><div class="msg">Let me know your thoughts @matt.fellows :blush: </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-05 06:16</div><div class="msg">Thanks Anto. It?s on my TODO for today (it?s a long list, but I?m sure I?ll at least get to read it :smile: )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-05 07:02</div><div class="msg">it was me, @matt.fellows</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-05 07:03</div><div class="msg">it seems there are _lots_ of clever people in this channel :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-05 07:03</div><div class="msg">I?m doing almost the same, passing array of js objects (using the syntax from v3 basically)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-05 07:03</div><div class="msg">however, I?m having my own proxy on provider side to handle states</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-05 07:06</div><div class="msg">there is some demand for v3 in pact-js? I?m wondering if there is a roadmap of what needs to be done in order to be v3 compatible on the ?writing side?? I?ll be happy to contribute</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-05 08:43</div><div class="msg">I?ll put it on the list to get the roadmap published. TL;DR - we need to update the Ruby binary which is the engine under the hood. From there, we need to update any DSL with the new features</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-05 08:44</div><div class="msg">In the meanwhile, i?ll take a quick look at how we might be able to enable the previous naughty behaviour to avoid you needing to run proxies</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1261b96fd0adbed42bea51fb7a45dc78.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">phall</div><div class="time">2019-06-05 13:11</div><div class="msg">Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1261b96fd0adbed42bea51fb7a45dc78.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">phall</div><div class="time">2019-06-05 13:12</div><div class="msg">But this is not a crazy way to be setting up states? Is there an alternative approach making sure specific IDs exist?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-05 14:04</div><div class="msg">well, the only option with spec v2 is to encode it to a string.
I?m specifying state in my tests via array of objects (the value has the same format as spec v3, so it is easier to migrate to v3 in the future
```
    state: [
      {
        name: 'first state',
        params: { param1: 'val1', param2: 'val2' }
      },
      {
        name: 'second state',
        params: { someParam: 'someval' }
      }
    ]
```
Then, I have a wrapper for ?addInteraction?, which does `interaction.state = JSON.stringify(originalInteraction.state)`, so it is a string.
On the provider side I have my custom state handler endpoint where I deserialize `state` from string to JSON array and then I invoke state handlers based on `state.name` (passing `state.params` as args to state handler function). The logic is almost the same as what you can find inside pact-js codebase.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1261b96fd0adbed42bea51fb7a45dc78.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">phall</div><div class="time">2019-06-05 14:35</div><div class="msg">Nice approach! Thanks for sharing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 00:21</div><div class="msg">I certainly think there is room to add a generic typed matching interface</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 00:23</div><div class="msg">Another option, which would probably still require this under the hood anyway, would be to create decorators that could be added to typed objects. Then these objects could just be thrown around the DSL without extra functions (such as `extractPayload`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 00:41</div><div class="msg">e.g. a @Pact annotation that lets you specify how it maps to the contract (<a href="https://www.typescriptlang.org/docs/handbook/decorators.html">https://www.typescriptlang.org/docs/handbook/decorators.html</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 00:41</div><div class="msg">Pact Go let?s you do this now, see: <a href="https://github.com/pact-foundation/pact-go#auto-generate-matchers-from-struct-tags">https://github.com/pact-foundation/pact-go#auto-generate-matchers-from-struct-tags</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 00:41</div><div class="msg">I haven?t put a lot of thought into it in the TS/JS case, but it would seem a natural fit and keep the tests much cleaner and easier to understand</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-06 06:37</div><div class="msg">Thanks a lot, @matt.fellows! I am not by far a typescript expert, hence I may not be the best person to even attempt this, but should I convince someone at my client to look into it before you get a chance, would you anticipate it being relatively straightforward?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 07:16</div><div class="msg">The Decorators or your suggestion?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 07:16</div><div class="msg">It?s a long weekend coming up here so I might get a chance :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 07:17</div><div class="msg">your suggestion is fairly straightforward, so at least as an interim, you could create a package that does it for you and after some experience/time contribute it back in.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-06 07:17</div><div class="msg">As for the decorators, might be a few weeks before it?s rolled into mainstream, but perhaps possible to get an alpha release out fairly quickly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-06 09:38</div><div class="msg">Decorators are still experimental though. We?d have to specifically enable them for the pact tests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-07 03:23</div><div class="msg">Yes, true. It?s pretty common though. A lot of frameworks (e.g. Angular) use them heavily, so I don?t see them not coming in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-07 03:28</div><div class="msg">But i?ll look to create a standard non-decorated interface first, and then use decorators as DSL sugar</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-07 03:28</div><div class="msg">this should mean we?re not tied to a path that will be unsupported later on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-06-08 00:56</div><div class="msg">Hey all, hoping you can help me.

I have a pact that will accept `<a href="http://localhost:8084/request/path/1">http://localhost:8084/request/path/1</a>`

and will return

```
{
    "id": "1",
    "status": "LOOSE_MATCH"
}
```

It is setup with a term matcher on the request path

```
            path: term({
              generate: requestPath,
              matcher: "/request/path/(?![2]$)\\d+"
            })
```

so that it will match anything that isn?t `<a href="http://localhost:8084/request/path/2">http://localhost:8084/request/path/2</a>`

I want to set it up so that when I perform the request `<a href="http://localhost:8084/request/path/123">http://localhost:8084/request/path/123</a>`, the response body will return the ID in the url that was matched

```
{
    "id": "123",
    "status": "LOOSE_MATCH"
}
```

My pact test is here
<a href="https://github.com/YOU54F/jest-pact-typescript/blob/requestPathExample/src/pact/client/requestPathMatching.pacttest.ts">https://github.com/YOU54F/jest-pact-typescript/blob/requestPathExample/src/pact/client/requestPathMatching.pacttest.ts</a>

and my generated pact is here
<a href="https://github.com/YOU54F/jest-pact-typescript/blob/requestPathExample/docker/pact-stub-service/pacts/test-consumer-request-path-provider.json">https://github.com/YOU54F/jest-pact-typescript/blob/requestPathExample/docker/pact-stub-service/pacts/test-consumer-request-path-provider.json</a>

Full example in a PR :- <a href="https://github.com/YOU54F/jest-pact-typescript/pull/101">https://github.com/YOU54F/jest-pact-typescript/pull/101</a>


Instructions to run example

```
1. `git clone git@github.com:YOU54F/jest-pact-typescript.git`
2. `git checkout requestPathExample`
3. `yarn install`
4. `yarn run pact-test`
5. `cd docker/pact-stub-service`
6. `make copy-pacts`
7. `cd ../docker`
8. `docker-compose up`
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 11:55</div><div class="msg">Thanks @yousafn. I?ve taken a look.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 11:55</div><div class="msg">If I understand correctly, it?s not the Pact test that is the issue - it?s using it in the stub service after? If so, this is a known limitation of the stub service at the moment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 11:57</div><div class="msg">The stub server will respond to the matched criteria, but the actual response will be what?s specified in the example for the Pact test (in this case `1` for any request, except for the `2` case)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:03</div><div class="msg">btw love what you?re doing in that repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:13</div><div class="msg">&gt; but should I convince someone at my client to look into it before you get a chance, would you anticipate it being relatively straightforward?

I may have mis read that. If your client is willing to submit a PR that would be great. I don?t imagine it being super difficult</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:14</div><div class="msg">I just don?t see it happening any time soon, especially now that they have a workaround </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:17</div><div class="msg">ah fair enough</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:17</div><div class="msg">Just taking a little squiz now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:17</div><div class="msg">I think you can just call `getValue()` on the matcher, rather than wrap the `extractPayload` around it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:18</div><div class="msg">But it?s annoying if you have many marchers </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:19</div><div class="msg">mm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:19</div><div class="msg">Most of their responses have many arrays </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:19</div><div class="msg">Sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:20</div><div class="msg">Just to check that you?re not _actually_ doing this sort of test assertion: `expect(response.data[0]).to.deep.eq(dogExample)`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:20</div><div class="msg">because that wouldn?t be very useful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:21</div><div class="msg">I might update the TypeScript example with a more realistic scenario (where an intermediate data access layer does the API call and returns a domain model). i.e. you shouldn?t be just firing the HTTP request and asserting you got back what you expected</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:25</div><div class="msg">```
function getData(state: RequestData, ruid: string = generateRuid()): Promise&lt;PageData&gt; {
  const path = '/api/v1/page/account';
  const { requestHeaders } = state;
  const account = await httpGetJson&lt;AccountPageOutput&gt;(path, { ruid, requestHeaders, data: {} });
  return { account };
}

export const accountSpec = () =&gt; {
  describe('Account Page', () =&gt; {
    it('returns the account page data', async () =&gt; {
      await provider.addInteraction(accountPageExpectation);
      const accountPageResponse = await getData({
        requestHeaders: {
          'x-language-code': 'en-GB',
        } }, 'adedb5d9-7d9f-4110-982c-55043fc18b27');

      expect(accountPageResponse).toEqual({ account: extractPayload(accountPage) });
      await provider.verify();
    });
  });
};
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:26</div><div class="msg">where
```
const accountPage: AccountPageOutput = like({
  pageData: eachLike(
    {
      type: 'account',
      data: {},
    }
  ),
  context: {
    environment: 'prod',
  },
  indexingForbidden: true,
  alternateLocaleUris: eachLike(
    {
      locale: 'de-AT',
      uri: '...',
    }
  ),
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:27</div><div class="msg">we?re using an intermediate data access layer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:29</div><div class="msg">to setup the expected response we?re using the same type of that the domain model uses</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:34</div><div class="msg">Or should we be doing something else instead?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:36</div><div class="msg">no that makes sense, was just making sure. It sounds like you know what you?re doing, so that?s good!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:37</div><div class="msg">Your option 2 from above certainly reads a lot better in the tests (i.e. no `extractPayload`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:37</div><div class="msg">It feels clumsy, so I can see why it would be preferable to have this in the DSL itself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:38</div><div class="msg">By the way, the `eachLike` in the snippet above is not the original one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:39</div><div class="msg">this one?

```
export function eachLike&lt;T&gt;(value: T): T[] {
  return pactEachLike(value) as unknown as T[];
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:39</div><div class="msg">as I showed in the forked github example,  it is:

```
import { like as pactLike, eachLike as pactEachLike } from '@pact-foundation/pact/dsl/matchers';

export function like&lt;T&gt;(value: T): T {
  return pactLike(value) as unknown as T;
}

export function eachLike&lt;T&gt;(value: T): T[] {
  return pactEachLike(value) as unknown as T[];
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:39</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:41</div><div class="msg">So basically, you?re having to coerce the matcher into the original type to make the tests readable/fluent, then use `extractPayload` to get the value in the assertion</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-06-08 12:42</div><div class="msg">Exactly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 12:42</div><div class="msg">:ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-06-08 13:07</div><div class="msg">Hey Matt, correct, the functionally I am after is in the stub service, the pact test is working spot on, however in our integration tests at work, the consumer sends an ID and and expects that ID back in the response. As we always get back ID 1, our integration tests fail. I?ve got the query param matching feature request to look at in the stub service, so I will look at both when we get some time.

It?s a feature that?s available in wiremock and is really useful for upstream integration and e2e tests which I think was one of Beth?s wants for the stub service. I?ll see what we can rustle up as this and the query param matchers would really help us utilise pact throughout, and not have to revert to wiremock for some use cases.

Cheers for the appreciation, the repo initially started as a way to demonstrate an issue we were having at work, without having to expose that codebase and is now growing nicely as we delve further into pact.

Thanks for taking the time on a Saturday my friend!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:11</div><div class="msg">&gt; Thanks for taking the time on a Saturday my friend!!!

Sleeping baby = Parenting = best you can get on a Saturday night :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:11</div><div class="msg">Yes, I would love to see us do better in that space.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:12</div><div class="msg">I?ve used Mountebank a lot and love the ability to use predicates. Similarly in Wiremock</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:14</div><div class="msg">I?ve not really had the headspace to think through how this could be done well without making the Pact DSL more complicated or confused.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:17</div><div class="msg">Possibly, generators might be able to be ?upgraded? for this purpose (see <a href="https://github.com/pact-foundation/pact-specification/tree/version-3#introduce-example-generators">https://github.com/pact-foundation/pact-specification/tree/version-3#introduce-example-generators</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:18</div><div class="msg">But I think as soon as people start using it as a general DSL to do stubbing, then the contracts being produced will be overly broad. So it might need to be a separate plugin if we need to go down the multiple predicates for single interaction path.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-06-08 13:29</div><div class="msg">Hahaha, I?ve not got the joy of babies yet, sleeping or otherwise! Just insomnia. 

I?ll have a think too mate, agree that it?s a fine line between providing additional functionality and not allowing the contracts to be too broad. I wonder if, similar to the verifier where you can override the response body, if we do a similar thing within the stub service, without having to mess with the contracts themselves. 

Pact spec v3 sounds like it has lots of juicy features. I might have to take pact-jvm for a spin ( as I believe it supports v3 matchers/generators ) just to have a gander at what v3 can and can?t do.

I?ve also seen some tooling that can generate pacts from wiremock contracts so that?s probably worth a look in too. From memory spring-cloud-contract has some cool pact features that I did come across with some googling 

<a href="https://github.com/spring-cloud/spring-cloud-contract/issues/96">https://github.com/spring-cloud/spring-cloud-contract/issues/96</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:36</div><div class="msg">&gt;  I wonder if, similar to the verifier where you can override the response body, if we do a similar thing within the stub service, without having to mess with the contracts themselves.

That?s probably the approach that would be taken, or at the very least, it would be authored separately to the test itself and appended to the conttract. Could even be a separate file that contained predicates/stub logic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:36</div><div class="msg">Thanks for the link, will have to check out tomorrow, but I know Marcin did some cool stuff in that space in SCC.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:37</div><div class="msg">And yes, the Atlassian team have also done some cool stuff there (although the contract conversion is all Java only :disappointed: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-08 13:37</div><div class="msg">Anywho, my wife has returned from her night out - so I better go. Feel free to keep chatting here and i?ll respond.. when I can :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:20</div><div class="msg">morning guys, i'm trying to set up the api contract tests for our project but the interactions aren't matching. we're using axios and i wonder if some of the generated parts of the request might be an issue? i've copied the headers from the actual request but the other items contains functions so not sure what to do with those, but i thought it would match on the headers alone anyway...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:22</div><div class="msg">and the actual request, logged by adding a request interceptor to axios:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:22</div><div class="msg">``` { adapter: [Function: httpAdapter],
   transformRequest: { '0': [Function: transformRequest] },
   transformResponse: { '0': [Function: transformResponse] },
   timeout: 10000,
   xsrfCookieName: 'XSRF-TOKEN',
   xsrfHeaderName: 'X-XSRF-TOKEN',
   maxContentLength: -1,
   validateStatus: [Function: validateStatus],
   headers:
    { common: { Accept: 'application/json, text/plain, */*' },
      delete: {},
      get: {},
      head: {},
      post: { 'Content-Type': 'application/x-www-form-urlencoded' },
      put: { 'Content-Type': 'application/x-www-form-urlencoded' },
      patch: { 'Content-Type': 'application/x-www-form-urlencoded' },
      Authorization: 'apiKey ' },
   method: 'get',
   baseURL:
    '<a href="https://valid.url.base.co.uk">https://valid.url.base.co.uk</a>',
   proxy: false,
   url: '/api/v2/products/sub-categories/user/abc' }
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:23</div><div class="msg">Those headers are weird</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:23</div><div class="msg">It looks like it's sent through the axios header configuration, not the actual values.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:24</div><div class="msg">Or rather, you've set up an expectation with a configuration object.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:24</div><div class="msg">i see what you mean, it probably uses common and adds whatever is specified for the request type, so nothing for this get</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:25</div><div class="msg">Settting up the expected request is code you control though, not axios.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:26</div><div class="msg">i've changed the specified interaction to:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:26</div><div class="msg">```    "headers": {
      "Accept": "application/json, text/plain, */*",
      "Authorization": "apiKey "
    }```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:26</div><div class="msg">everything else the same - mockserver log still shows no match though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:27</div><div class="msg">What's it not matching on?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:29</div><div class="msg">OK, when you see that pattern of logs, it usually means your tests is executing on the wrong order.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:30</div><div class="msg">From those logs, no actual request came through at all.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:30</div><div class="msg">i've got one test running:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:30</div><div class="msg">```const { targetFunction } = require('../../.....');
const { Matchers } = require('@pact-foundation/pact');
const { term } = Matchers;

const guid = 'abc';

describe('something', () =&gt; {
  it('does something', done =&gt; {
    provider.addInteraction({
      uponReceiving: 'some request',
      withRequest: {
        method:  'GET',
        path: '/api/v2/products/sub-categories/user/abc',
        headers: {
          Accept: 'application/json, text/plain, */*',
          Authorization: 'apiKey '
        }
      },
      willRespondWith: {
        status: 200,
        headers: {
          'Content-Type': 'application/json'
        },
        body: { status: 200 }
      }
    });
    targetFunction(guid)
      .then(response =&gt; {
        console.log(response);
        // expect(response).toEqual({ status: 202 });
      })
      .then(done)
      // .catch(err =&gt; {
      //   console.log('THISERR', err, 'ERREND')
      // });
  });
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:31</div><div class="msg">Now, you'll need an actual JavaScript developer to help you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:32</div><div class="msg">It'll be something to do with the order of execution and the way your callbacks or promises are set up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 09:32</div><div class="msg">I'm no js expert in afraid. Matt or Michel should be able to advise.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 09:34</div><div class="msg">cool - thanks for your help! i'll see if i can play about with a few things with that in mind, in the meantime :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-10 09:52</div><div class="msg">addInteraction is a promise, you'll need to wait for that to complete before calling targetFunction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-10 09:52</div><div class="msg">I'm just finishing tea so on a mobile, but that could be the cause of the interactions coming in out of order.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-10 09:54</div><div class="msg">Ah those logs don't seem to indicate that a verification is happening before the interaction is registered</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 10:29</div><div class="msg">i added an await just to try, no change in outcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 10:33</div><div class="msg">All requests to the mock service are logged.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 10:34</div><div class="msg">So, if you don't see any request logged between registering the interaction, and verifying, it's because there were no actual requests made to the mock service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-10 10:34</div><div class="msg">So either your timing is out, your request is being made to the wrong address, or it just isn't being made at all.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-10 12:46</div><div class="msg">@ian.mcwilliams you mentioned in your actual request that axios logged that the base url was `'<a href="https://valid.url.base.co.uk">https://valid.url.base.co.uk</a>` - is that just a placeholder, or is it actually hitting an external URL? Just confirming that it has actually been configured to point to the mock server provided by Pact?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 14:21</div><div class="msg">it's not hitting localhost:port - and that would appear to be the issue, because although jest runs the test config (and is doing so) by default, at the point that the axios.create call is made the default config for the host value is being used</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-10 14:21</div><div class="msg">i'll sort something out to get the test host value picked up and see if that takes care of it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-10 21:27</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-10 21:28</div><div class="msg">Sounds like that'd be it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f791abc0cda5d63443d1f484376f1537.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">sgleadow</div><div class="time">2019-06-10 23:09</div><div class="msg">@sgleadow has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-13 09:57</div><div class="msg">@matt.fellows @bethskurrie have completed this after being away for a couple of days - yes the issue above was required, it also needed the config to specify the port as part of the url, because axios doesn't allow you to set the port separately and if you don't add it to the baseUrl then it will default to 80 - so config was `{ url: localhost:8989, port: 8989 }`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-13 09:57</div><div class="msg">then i just copied the missing headers from the actual call (still logged with an axios interceptor) into the pact interaction, and we have a passing test :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-13 09:58</div><div class="msg">thanks again for your help!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-13 09:58</div><div class="msg">Glad you worked it out!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-13 11:24</div><div class="msg">you?re welcome, and thanks for circling back!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-14 09:05</div><div class="msg">Hi everybody. I have a question about matchers when doing provider verification.
In mockserver interaction definition I have the following response body (matching by type):
```
"diff": {
 "value": decimal(0)
}
```
However, actual provider may also return `"value": 0.1`, which is also a valid result.
The issue is when I run provider verification, it fails:
```
                      "diff": {
       -                "value": Fixnum
       +                "value": Float
                      }
```
How should I define a matcher to allow both `0` and float numbers?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 09:15</div><div class="msg">Ah, this is tough case. I think there is an outstanding issue somewhere that covers it. At the moment that's not possible across languages in a portable way I'm afraid</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-14 09:58</div><div class="msg">I guess we need a `number` matcher in JS, which matches both integers and floats</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 10:12</div><div class="msg">The example should be an actual decimal (instead of zero, because js will lose that resolution)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 10:12</div><div class="msg">But yes, that would be one way out of it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 10:12</div><div class="msg">I think a decimal matcher should include an integers, but not the other way arouns</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 10:13</div><div class="msg">This would need fixing in the Ruby code. I'll see if I can chase up a bit later when back on PC</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-14 10:53</div><div class="msg">&gt; I think a decimal matcher should include an integers, but not the other way around

That?s what I thought as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 11:56</div><div class="msg">Is your provider also JS?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 11:56</div><div class="msg">(also sorry for poor spelling, was on my mobile before)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 12:04</div><div class="msg">See <a href="https://github.com/pact-foundation/pact-ruby/issues/191">https://github.com/pact-foundation/pact-ruby/issues/191</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-14 12:13</div><div class="msg">yes, both are in JS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 12:46</div><div class="msg">thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-14 12:49</div><div class="msg">I?ve commented on that ticket? not sure what to about it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-14 13:02</div><div class="msg">wow, that was quick @matt.fellows!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-14 23:05</div><div class="msg">No worries. I have an idea as to have I can support it in Pact JS fairly quickly. Need to chat with maintainers on portability</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-17 11:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-17 11:44</div><div class="msg">Hi I like to know how to add pact test to a react-native app project. however this react-active app has it's jest test written inside it's library module. since I am writing pact test, I guess I won't be adding pact to the internal library module but do it outside where index.js resides?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-17 11:44</div><div class="msg">index.js code snippet: ```import { AppRegistry } from 'react-native';

import App from './App/index';
import { name as appName } from './app.json';

AppRegistry.registerComponent(appName, () =&gt; App);```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-17 11:57</div><div class="msg">Your pact tests should focus on the collaborator (sometimes referred to as service delegates) that is responsible for communicating to external systems / APIs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-17 11:59</div><div class="msg">It should be pure JS that you?re testing. I?m not a react expert, but I?d say it?s unlikely that you?be testing the `index.js` file directly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-17 12:00</div><div class="msg">If there is a dependency on react in the bit you?re testing, that would seem to me to be the wrong place</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-18 00:55</div><div class="msg">@mui_ume Ideally, on the consumer side, you'd have an API client as its own js module, with the single responsibility of talking to an API and handling its various responses.

As plain js, it should be framework independent, and relatively platform independent (with possible exceptions for `fetch`/`axios`/whatever).

The Pact tests are then written as unit tests in the context of that API client, and can be run without a browser, or react, or any other heavy dependencies.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 06:05</div><div class="msg">@vitaliy.grigoruk if you haven?t seen already, this should now be fixed in the latest Pact JS (and soon all languages that use Ruby under the hood)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 10:31</div><div class="msg">hi guys - i've got working api tests locally which fail when i run them in a container when the test attempts to call addInteraction on the provider, with the message that it cannot call addInteraction on undefined. i can log the provider (Pact) object in the previous line, i've even logged the properties of the object and they include the addInteraction method. is this something you've experienced before?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 10:33</div><div class="msg">No haven't seen it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 10:34</div><div class="msg">But it works outside of docker? So this probably means the container environment is insufficient somehow or incorrectly configured. Are you using Alpine and have you read up on the related Alpine setup issues?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 10:44</div><div class="msg">we'd previously had some issues with ruby in alpine and we're using the setup you recommended at that time:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 10:44</div><div class="msg">```FROM node:10-alpine

RUN apk add --no-cache --virtual build-dependencies build-base git

RUN  apk --no-cache add ca-certificates wget bash \
  &amp;&amp; wget -q -O /etc/apk/keys/sgerrand.rsa.pub <a href="https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub">https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub</a> \
  &amp;&amp; wget <a href="https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.29-r0/glibc-2.29-r0.apk">https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.29-r0/glibc-2.29-r0.apk</a> \
  &amp;&amp; apk add glibc-2.29-r0.apk```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 10:46</div><div class="msg">yeah works outside the container - i've spent some time with our devops lead this morning and he hasn't been able to identify anything that should cause an issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 10:47</div><div class="msg">cool, thanks Ian.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-18 10:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-18 13:04</div><div class="msg">@abubics, I have been looking at your github repository. I still could not figure out how to add pact test to my react native app which is the frontend and making HTTP requests call to the backend.  my react native has this project structure App-&gt; Screens-&gt; Login which has an index.js, LoginHelper.js, and this LoginHelper.js has this code snippet: const loginEndpoint = settings.getLoginEndpoint();
  try {
    const resp = await <a href="http://api.post">http://api.post</a>(loginEndpoint, reqData);
 where it make a post request to the endpoint and get response.  ..... this is where I want to use pact to do the contract testing..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-18 13:06</div><div class="msg">I create a folder pact and try to add setup.js, jest-wrapper.js, publish.js, in VS, it is show as Red, not sure if I inserted at the right place though?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-18 13:06</div><div class="msg">it seem not so straightforward to setup pact ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-18 13:15</div><div class="msg">Sorry I?m totally new to pact contract testing and need to integrate into the developer source code is a challenge I don?t seem to see how to integrate 
Given the example are not so relevant </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-18 13:17</div><div class="msg">I have been using postman for API testing and I find it more straightforward than pact 
Which is not so clear how to setup for my project </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 13:40</div><div class="msg">@matt.fellows i can add that if any item is missing that is required it gives an error message, eg if i run with:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 13:40</div><div class="msg">```provider.addInteraction({
      uponReceiving: 'some request',
      withRequest: {
        method:  'GET'
      },
      willRespondWith: {
        status: 200
      }
    });
  });```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 13:41</div><div class="msg">i get:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 13:41</div><div class="msg">```    You must provide a path.

      10 | describe('something', () =&gt; {
      11 |   it('does something', async () =&gt; {
    &gt; 12 |     provider.addInteraction({
         |              ^
      13 |       uponReceiving: 'some request',
      14 |       withRequest: {
      15 |         method:  'GET'
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 13:41</div><div class="msg">if i then add a path then it's back to:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-18 13:41</div><div class="msg">```    TypeError: Cannot read property 'addInteraction' of undefined

      10 | describe('something', () =&gt; {
      11 |   it('does something', async () =&gt; {
    &gt; 12 |     provider.addInteraction({
         |              ^
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-18 20:38</div><div class="msg">That?s great! Thank you, @matt.fellows! Will try it tomorrow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 21:10</div><div class="msg">Hi Lay. Forgetting Pact for a moment, it?s not a tool like Postman that can be run from ?the outside? so to speak. You need to be able to write a unit test within the code base.

Might I suggest you start by writing a simple Jest unit test in your code (without Pact). Once you can test your LoginHelper with Jest, you could look to introduce Pact.

There really is nothing React Native specific you need to do to make Pact work for you. It is just a unit testing tool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 21:11</div><div class="msg">Looks like you?re in the right place - we want to be testing the function that does this work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 21:12</div><div class="msg">Can you write a standard Jest (or whatever unit testing framework) test for this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 21:12</div><div class="msg">Once you?ve done that, adding Pact should be trivial.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 21:17</div><div class="msg">That?s strange, I can?t understand how this might happen as `provider` is a variable under your control. Could something else be modifying  it? How is `provider` being configured?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-18 21:17</div><div class="msg">If you could whip up a little code for me to repro, I?d happily take a look</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-18 23:30</div><div class="msg">btw @mui_ume, which github repo were you looking at? I don't remember linking you to any . . .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:49</div><div class="msg">@ian.mcwilliams I don't believe that `port` is a key in axios config - so you should be able to do `{ url: 'localhost:8989'} `</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:51</div><div class="msg">Also, you can get it from pact js, too - for example:

```
  beforeEach(() =&gt; {
    yourConfig.api.baseUrl = provider.mockService.baseUrl;
  });
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:51</div><div class="msg">this is nicer because it means you don't need to know what port it is running on (and you can run multiple mock servers if your tests are running concurrently)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:53</div><div class="msg">If you're using Jest, @yousafn and I have been working on a wrapper to make this whole process a bit nicer:

<a href="https://github.com/YOU54F/jest-pact/#readme">https://github.com/YOU54F/jest-pact/#readme</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:54</div><div class="msg">```
import { pactWith } from 'jest-pact';
import { Matchers } from '@pact-foundation/pact';
import api from 'yourCode';

pactWith({ consumer: 'MyConsumer', provider: 'MyProvider' }, provider =&gt; {
  let client;
  
  beforeEach(() =&gt; {
    client = api(provider.mockService.baseUrl)
  });

  describe('health endpoint', () =&gt; {
    // Here we set up the interaction that the Pact
    // mock provider will expect.
    //
    // jest-pact takes care of validating and tearing 
    // down the provider for you. 
    beforeEach(() =&gt;
      provider.addInteraction({
        state: "Server is healthy",
        uponReceiving: 'A request for API health',
        willRespondWith: {
          status: 200,
          body: {
            status: Matchers.like('up'),
          },
        },
        withRequest: {
          method: 'GET',
          path: '/health',
        },
      })
    );
    
    // You also test that the API returns the correct 
    // response to the data layer. 
    //
    // Although Pact will ensure that the provider
    // returned the expected object, you need to test that
    // your code recieves the right object.
    //
    // This is often the same as the object that was 
    // in the network response, but (as illustrated 
    // here) not always.
    it('returns server health', () =&gt;
      client.health().then(health =&gt; {
        expect(health).toEqual('up');
      }));
  });
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:55</div><div class="msg">We really need a blog post about this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:57</div><div class="msg">@mui_ume Here is a react project with Pact tests in it (it's not react native, but the pattern should be similar): <a href="https://github.com/TimothyJones/PlusOne/blob/master/src/Game/Board/service/api/api.pact.test.js">https://github.com/TimothyJones/PlusOne/blob/master/src/Game/Board/service/api/api.pact.test.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:57</div><div class="msg">In this case, we have a service module that contains the API</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 02:57</div><div class="msg">You can see the module here: <a href="https://github.com/TimothyJones/PlusOne/blob/master/src/Game/Board/service/api/index.js">https://github.com/TimothyJones/PlusOne/blob/master/src/Game/Board/service/api/index.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-19 02:59</div><div class="msg">Awesome - thanks Tim!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-19 02:59</div><div class="msg">Perhaps we should add a link to this project from GitHub for others?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 03:00</div><div class="msg">Note that this is completely separated from React - all the calling code needs to know is the domain model (in this case, that there is a score board that the app can tell that the player reached a particular score).

The caller doesn't know anything about the network requests (post/get etc).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 03:00</div><div class="msg">I think we should just clean up the examples :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 03:00</div><div class="msg">Probably a React example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 03:00</div><div class="msg">could be added</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 03:04</div><div class="msg">Note that the Pact test linked above wraps the whole API module - ie, it tests what your code will call when you want to do actions through the API.

This is important because it means that the pact test doesn't read like this::
```
  // 
  axios.get(`${apiBase}/something`).then( () =&gt; {/* validate response */} )
```
instead, it reads like this:
```
  // This is much more valuable because it's testing the code your app will definitely be calling
  yourApi.getSomething().then( () =&gt; {/* validate response */} )
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-19 09:16</div><div class="msg">@tjones that's correct as per my findings, no port specifically for axios so pass as part of the host string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-19 09:17</div><div class="msg">the other stuff you mention sounds like it could be very good, but at the moment i have to make the test run in a container before i can start to scale, and port conflict potentially become an issue!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-19 11:00</div><div class="msg">Very reasonable</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff2739913e18b6141613297ce1475466.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">ian.mcwilliams</div><div class="time">2019-06-19 12:57</div><div class="msg">@matt.fellows it was the timeout, increased it and the tests passed in the container :joy:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 05:45</div><div class="msg">thanks Tim Jones</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 08:38</div><div class="msg">Hi Tim, do you need to setup the pact mock provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 08:46</div><div class="msg">I am trying to follow this step here <a href="https://reflectoring.io/pact-react-consumer/">https://reflectoring.io/pact-react-consumer/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 08:49</div><div class="msg">the steps here is well explained but I need to fit into my project in my case, it's to call the login endpoint which is in my project structure located at App/Screens/Login/LoginHelper.js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 08:49</div><div class="msg">I put my pact folder at the root directory, same level as App</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 08:50</div><div class="msg">it will be good to have a simpler example to follow. I need to figure and replace the Scoreboard etc with my own project use case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 09:13</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/tree/master/examples/jest">https://github.com/pact-foundation/pact-js/tree/master/examples/jest</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 09:13</div><div class="msg">I clone the above and try to run npm i and npm t</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 09:14</div><div class="msg">got some FAILED message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 09:14</div><div class="msg">```20 06 2019 17:13:06.788:INFO [pact]: Pact Mock Server running on port: 1234
20 06 2019 17:13:06.822:WARN [watcher]: Pattern "/Users/tohlaymui/Desktop/pact-js-master/dist-web/pact-web.js" does not match any file.
20 06 2019 17:13:06.830:INFO [karma-server]: Karma v3.1.4 server started at <a href="http://0.0.0.0:9876/">http://0.0.0.0:9876/</a>
20 06 2019 17:13:06.831:INFO [launcher]: Launching browsers PhantomJS_without_security with concurrency unlimited
20 06 2019 17:13:06.834:INFO [launcher]: Starting browser PhantomJS
20 06 2019 17:13:07.894:INFO [PhantomJS 2.1.1 (Mac OS X 0.0.0)]: Connected on socket t6nvJHPDCQQhpbhrAAAA with id 50322375
PhantomJS 2.1.1 (Mac OS X 0.0.0) Client sayHello says hello FAILED
	ReferenceError: Can't find variable: Pact in client-spec.js (line 8)
	client-spec.js:8:26
	loaded@http://localhost:9876/context.js:168:19
	TypeError: undefined is not an object (evaluating 'provider
	          .addInteraction') in client-spec.js (line 25)
	client-spec.js:25:17
	loaded@http://localhost:9876/context.js:168:19
	ReferenceError: Can't find variable: Promise in client.js (line 18)
	sayHello@client.js:18:19
	client-spec.js:47:24
	loaded@http://localhost:9876/context.js:168:19
PhantomJS 2.1.1 (Mac OS X 0.0.0) Client findFriendsByAgeAndChildren returns some friends FAILED```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 09:16</div><div class="msg">I got a question: where should I place my pact folder? in the root directory or at the place where I want to do the test,in my case App/Screens/Login?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 09:16</div><div class="msg">my Login folder has index.js, LoginHelper.js, styles.js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 09:17</div><div class="msg">loginHelper.js has this code snippet: ```const loginEndpoint = settings.getLoginEndpoint();
  try {
    const resp = await <a href="http://api.post">http://api.post</a>(loginEndpoint, reqData);

    if (resp.ok) {
      const loginRespBody = await resp.json();
      const { authToken, clientInfo } = loginRespBody;

      if (authToken) {
        const sessionResp = await api.startSession({
          clientId: clientInfo.clientId,
          user: {
            authToken,
            userId: data.user.userId,
          },
        });```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 09:17</div><div class="msg">this is where I want to test the endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 10:01</div><div class="msg">let me share my folder....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 10:42</div><div class="msg">You'll probably need to do an npm install in the root directory also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 10:55</div><div class="msg">@mui_ume that example is not a Jest example, it is one of the Karma examples. Did you mean that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 10:56</div><div class="msg">I?m referring to this link <a href="https://github.com/pact-foundation/pact-js/tree/master/examples/jest">https://github.com/pact-foundation/pact-js/tree/master/examples/jest</a>
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 10:56</div><div class="msg">Is it not jest ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 10:57</div><div class="msg">I?m going to continue working on later in an hour time ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 10:57</div><div class="msg">no worries</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 10:58</div><div class="msg">yes that?s definitely a jest example, the output you shared however is not consistent with that test. It looks like one of the Karma examples (`findFriendsByAgeAndChildren` is only something that exists in the karma examples)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 11:04</div><div class="msg">I?ll have a go at making the examples easier to run. I can see why it might be difficult coming to a complex ecosystem like TS/JS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:54</div><div class="msg">I created a pact folder at the root same level as App</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:54</div><div class="msg">in my pact folder, I added pactSetup.js with the content: // ./pact/setup.js
// To configure the Pact mock provider
const path = require('path');
const { Pact } = require('@pact-foundation/pact');


global.port = 8080;
global.provider = new Pact({
  cors: true,
  port: global.port,
  log: path.resolve(process.cwd(), 'logs', 'pact.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'MyConsumer',
  provider: 'MyProvider',
  host: '127.0.0.1',
});</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:55</div><div class="msg">pactTestWrapper.js with the content: global.beforeAll((done) =&gt; {
  global.provider.setup().then(() =&gt; done());
});


global.afterAll((done) =&gt; {
  global.provider.finalize().then(() =&gt; done());
});</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:55</div><div class="msg">publish.js with the content: onst { publisher } = require('@pact-foundation/pact-node');
const { path } = require('path');

const opts = {
  providerBaseUrl: '<a href="http://localhost:8080">http://localhost:8080</a>',
  pactFilesOrDirs: [path.resolve(process.cwd(), 'pacts')],
  pactBroker: '<a href="https://localhost:3000">https://localhost:3000</a>',
  pactBrokerUsername: process.env.PACT_USERNAME,
  pactBrokerPassword: process.env.PACT_PASSWORD,
  consumerVersion: '2.0.0',
};

publisher.publishPacts(opts).then(() =&gt; global.done());</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:55</div><div class="msg">in my package.json, I have these in:  "scripts": {
    "start": "node node_modules/react-native/local-cli/cli.js start",
    "lint": "eslint App/",
    "react-devtools": "react-devtools",
    "test": "jest",
    "test:pact": "cross-env CI=true react-scripts test --runInBand --setupFiles ./pact/pactSetup.js --setupTestFrameworkScriptFile ./pact/pactTestWrapper.js --testMatch \"**/*.test.pact.js\"",
    "publish:pact": "node ./pact/publish.js"
  },</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:56</div><div class="msg">"devDependencies": {
    "@babel/runtime": "^7.1.2",
    "@pact-foundation/pact": "^8.2.6",
    "@pact-foundation/pact-node": "^8.6.0",
    "axios": "^0.19.0",
    "babel-eslint": "^7.1.1",
    "babel-jest": "23.6.0",
    "babel-plugin-transform-remove-console": "^6.9.4",
    "babel-preset-react-native": "^4.0.1",
    "cross-env": "^5.2.0",</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:56</div><div class="msg">"jest": {
    "preset": "react-native",
    "testEnvironment": "node"
  }</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:57</div><div class="msg">from this link <a href="https://reflectoring.io/pact-react-consumer/">https://reflectoring.io/pact-react-consumer/</a>, I run npm run test:pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:57</div><div class="msg">it give me some errors: &gt; cross-env CI=true react-scripts test --runInBand --setupFiles ./pact/pactSetup.js --setupTestFrameworkScriptFile ./pact/pactTestWrapper.js --testMatch "**/*.test.pact.js"

events.js:174
      throw er; // Unhandled 'error' event
      ^

Error: spawn react-scripts ENOENT
    at Process.ChildProcess._handle.onexit (internal/child_process.js:240:19)
    at onErrorNT (internal/child_process.js:415:16)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    at Function.Module.runMain (internal/modules/cjs/loader.js:745:11)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)
Emitted 'error' event at:
    at Process.ChildProcess._handle.onexit (internal/child_process.js:246:12)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:58</div><div class="msg">I am not sure what to do next? did I miss out any step here?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:59</div><div class="msg">I just want to make sure my pact configuration is ok before I continue to Let?s implement a REST client for which we?ll later create a consumer-driven contract.....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 12:59</div><div class="msg">but the step 'npm run test:pact' didn't work for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:02</div><div class="msg">Might I suggest you publish this to Github so that anyone who wants to  help you can run the same code you?re running? This  will make debugging much easier</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 13:02</div><div class="msg">let me try to extract out the key parts...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:02</div><div class="msg">Also, I?ve made a quick start on making the exampples in pact-js standalone (so that you can just run a `npm it` and it should just work). See this branch <a href="https://github.com/pact-foundation/pact-js/tree/feat%2Fexamples-use-exported-packages">https://github.com/pact-foundation/pact-js/tree/feat%2Fexamples-use-exported-packages</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:04</div><div class="msg">no worries</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:04</div><div class="msg">Are you running the tests from this project in that article: <a href="https://github.com/thombergs/code-examples/tree/master/pact/pact-react-consumer">https://github.com/thombergs/code-examples/tree/master/pact/pact-react-consumer</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:04</div><div class="msg">or are you writing your own now?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:05</div><div class="msg">or rather, did you first get the tests all running successfully in that project before trying it for yourself?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 13:06</div><div class="msg">no I didn't know about the above link <a href="https://github.com/thombergs/code-examples/tree/master/pact/pact-react-consumer">https://github.com/thombergs/code-examples/tree/master/pact/pact-react-consumer</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:06</div><div class="msg">And lastly, have you written a basic jest unit test? My worry is that you?re learning too many things at once: Unit testing in React, Jest  and then Pact itself. You need to be comfortable in the first two before trying Pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:06</div><div class="msg">It?s in the article you shared (the one Tom H wrote</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 13:06</div><div class="msg">I was just looking at the blog and try to follow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:06</div><div class="msg">OK, I?d suggest studying and running his code first. But not until you first understand Jest and unit testing in React</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:06</div><div class="msg">I have to run now (it?s late) but good luck!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 13:07</div><div class="msg">sure thanks for the tips.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-20 13:07</div><div class="msg">As mentioned, I fixed the jest tests in this branch  <a href="https://github.com/pact-foundation/pact-js/tree/feat/examples-use-exported-packages/examples/jest">https://github.com/pact-foundation/pact-js/tree/feat/examples-use-exported-packages/examples/jest</a>. You should be able to run this without building pact itself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 13:08</div><div class="msg">I just run your example/jest, it works now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-20 13:08</div><div class="msg">I will look at this example and work from there.... thanks a bunch!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d5abd02314a57c38a7b9ce539a0baa2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">closenet.uk</div><div class="time">2019-06-20 14:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d5abd02314a57c38a7b9ce539a0baa2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">closenet.uk</div><div class="time">2019-06-20 14:55</div><div class="msg">Hi #pact-js, I have a question regarding the term matcher using regex, why it doesn't like the below regex format, although it's a ruby version and tried on the ruby regex tester? it's even mentioned as an example in PACT docs!
"update_date": term({
                    generate: '02/11/2013',
                    matcher: '\d{2}\/\d{2}\/\d{4}'
                  })</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d5abd02314a57c38a7b9ce539a0baa2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">closenet.uk</div><div class="time">2019-06-20 14:56</div><div class="msg">found why it's not liking the above regex format, for the benefit of others, all we need to is to add another backslash in front of the actual \d backslash  *\\d{2}\/\\d{2}\/\\d{4}*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-21 06:33</div><div class="msg">.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-21 08:35</div><div class="msg">.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18276acfaa4c8e741e026fbe7f16a7f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">viktor</div><div class="time">2019-06-21 11:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18276acfaa4c8e741e026fbe7f16a7f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">viktor</div><div class="time">2019-06-21 13:56</div><div class="msg">Hello, so i have an endpoint that i want to match that returns exactly 3 different elements in an array.
how can i test that:
a) they are exactly 3
b) that they are all different,

if i do:
```
eachLike(
  term({
    matcher: 'A|B|C',
    generate: 'C'
  }),
  { min: 3 }
)
```

the elements can be more than 3, and they can also be the same 3 times. I also tried
```
like([
  term({
    matcher: 'A|B|C',
    generate: 'A'
  }),
  term({
    matcher: 'A|B|C',
    generate: 'B'
  }),
  term({
    matcher: 'A|B|C',
    generate: 'C'
  })
])
```
and while that stubs my three different elements, they dont validate that they are different.

Is there a way to achieve this? or im i looking at this wrong?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-22 02:38</div><div class="msg">In pact js you can't specify the specific array length with an eachLike matcher</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-22 02:39</div><div class="msg">Just remove the eachLike wrapper and have an array that contains three elements. If the values must be different and there are only 3 possible vakues, then just specify the exact array you're expecting (i.e. don't use matchers)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:33</div><div class="msg">hi all, i was wondering if somebody could please help. I am new to pact and still a beginner with javascript but i have managed to get a test/interaction working against the mock client. However sometimes the test passes and sometimes it doesnt</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:34</div><div class="msg">see the mock-server integration log here</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:35</div><div class="msg">it looks like there is some time taken to actually get the response back from the server and in that time pact is already checking to see whether there has been a response that has come back</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-23 11:35</div><div class="msg">Looks like you've got timing issues. Sometimes your test is executing before your interactions have been set up, and sometimes it's ok.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-23 11:35</div><div class="msg">Hi @dalsidhu99 it looks like requests are coming in out of order. So I suspect you aren't handling a promise correctly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:36</div><div class="msg">i have added a few asyncs and awaits but this doesnt seem to be resolving the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-23 11:36</div><div class="msg">Show us your code and I can take a quick look</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:36</div><div class="msg">(im a newbie to js)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:36</div><div class="msg">thank you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:36</div><div class="msg">describe('Consumer test example',  () =&gt; {

  beforeEach(async () =&gt; {
    await service.setup()
  })

  it('can return a response', async () =&gt; {
    l('add interaction')
    await service.addInteraction(interactions.getFirstUser);

    await client.getProducts()

    await service.verify()
    await service.finalize()
  })

  })</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:37</div><div class="msg">******</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:37</div><div class="msg">async function getProducts () {

      await request.get({url: USERS_URL},

          function (error, response, body) {
           expect(response.statusCode).to.equal(200);
           expect(response.body).to.contains("Dal");

        })
return getProducts
}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:37</div><div class="msg">(apologies for not using code snippet)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-06-23 11:39</div><div class="msg">And this is the part where I go to bed and leave Matt to help you because I'm so not a javascript person :-P</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-23 11:42</div><div class="msg">Something looks wrong in getproducts. That's not a promise but a callback so by putting async and await on that won't do anything.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-23 11:42</div><div class="msg">I'd look to that method as the source of the issue (or look at a promise lib like axios)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 11:43</div><div class="msg">thanks matt, I have heard about axios so will def give that a look!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 23:13</div><div class="msg">and how would we publish a test to the pact broker? i have just set up the web based view, .. <a href="http://pact.dius.com">http://pact.dius.com</a> ..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-23 23:15</div><div class="msg">i can see some tips from here - <a href="https://github.com/pact-foundation/pact-js/#publishing-pacts-to-a-broker">https://github.com/pact-foundation/pact-js/#publishing-pacts-to-a-broker</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-23 23:20</div><div class="msg">Something like this should work: <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/publish.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/publish.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-23 23:21</div><div class="msg">You probably also want to read how to tag properly at <a href="https://github.com/pact-foundation/pact_broker/wiki/Using-tags">https://github.com/pact-foundation/pact_broker/wiki/Using-tags</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-24 00:13</div><div class="msg">and as for pactbroker username/password, i only have the UI credentials through email and api token</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-24 00:16</div><div class="msg">There is a mode for authenticating with a bearer token</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-24 00:32</div><div class="msg">does/will the UI at some point allow us to view the interactions that have been ran against a service?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-24 00:39</div><div class="msg">What does that mean, sorry?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 03:27</div><div class="msg">Hi, When I add "@pact-foundation/pact": "^8.2.6",
    "@pact-foundation/pact-node": "^8.6.0",
    "axios": "^0.19.0", to the package.json, I will got a error when building the react-native app in xcode. this is the error I got : error: bundling failed: TypeError: Cannot read property 'bindings' of null
    at Scope.moveBindingTo (/Users/tohlaymui/Desktop/tl_stella-client_app/node_modules/@babel/traverse/lib/scope/index.js:864:13)
    at BlockScoping.updateScopeInfo (</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 03:27</div><div class="msg">any one encounter such error?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 03:33</div><div class="msg">suspect babel pact has some problem with transpiling
is it has any specific version that it need for babel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 04:17</div><div class="msg">I got to remove the "react-native" from the preset at babelrc in order to build the app in xcode. now the babelrc looks like this:  "presets": ["module:metro-react-native-babel-preset"],</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 04:22</div><div class="msg">but when I run npm run test:pact, it will give an error ```npm run test:pact

&gt; tlstellaclientapp@0.0.1 test:pact /Users/tohlaymui/Desktop/tl_stella-client_app
&gt; jest __tests__/ --runInBand --setupFiles ./pact/pactSetup.js --setupTestFrameworkScriptFile ./pact/pactTestWrapper.js --testMatch "**/*.test.pact.js"

 FAIL  App/Screens/Login/__tests__/login.service.test.pact.js
  ? Test suite failed to run

    Couldn't find preset "module:metro-react-native-babel-preset" relative to directory "/Users/tohlaymui/Desktop/tl_stella-client_app"

      at node_modules/babel-core/lib/transformation/file/options/option-manager.js:293:19
          at Array.map (&lt;anonymous&gt;)
      at OptionManager.resolvePresets (node_modules/babel-core/lib/transformation/file/options/option-manager.js:275:20)
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 04:28</div><div class="msg">fyi, <a href="https://stackoverflow.com/questions/54107115/couldnt-find-preset-modulemetro-react-native-babel-preset-relative-to-direct">https://stackoverflow.com/questions/54107115/couldnt-find-preset-modulemetro-react-native-babel-preset-relative-to-direct</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 04:28</div><div class="msg">this fixed the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 04:29</div><div class="msg">I added this line to package.json ```"jest": {
    "preset": "react-native",
    "testEnvironment": "node",
    "transform": { 
        "^.+\\.js$": "&lt;rootDir&gt;/node_modules/react-native/jest/preprocessor.js" 
      }
  }```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-24 04:31</div><div class="msg">Thanks @mui_ume. It looks like the issue you're experiencing is unrelated to pact?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-24 04:34</div><div class="msg">yes but if you are using react-native app with babelrc, and then run the pact test, it will have this issue Couldn't find preset 'module: metro-react-native-babel-preset'...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-24 04:47</div><div class="msg">Unless I'm missing something, isn't this a problem with react-native and Jest, rather than react-native and pact?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-24 04:47</div><div class="msg">(yes, you'll hit it if you're using Jest as your test runner for react-native, but that's true for all your Jest tests, not just pact)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-24 04:54</div><div class="msg">Apologies if I missed something</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-24 05:02</div><div class="msg">Yep, I think this is true. Lay has taken on the burden of learning JS, React, React Native, Jest and Pact all in one go - so rather impressive to get a green Pact consumer build in one weekend :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-24 09:30</div><div class="msg">Apologies, i had just got the pact published to the broker, wanted to see if the consumer mock tests against the provider could be seen via the ui (not sure if it would make sense if we did, just thinking out aloud)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:03</div><div class="msg">Hi, when I run npm run publish:pact, I got this error &gt; node ./pact/publish.js

/Users/tohlaymui/Desktop/tl_stella-client_app/pact/publish.js:6
  pactFilesOrDirs: [path.resolve(process.cwd(), 'pacts')],
                         ^

TypeError: Cannot read property 'resolve' of undefined
    at Object.&lt;anonymous&gt; (/Users/tohlaymui/Desktop/tl_stella-client_app/pact/publish.js:6:26)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:03</div><div class="msg">my pact/publisher.js: ```const { publisher } = require('@pact-foundation/pact-node');
const { path } = require('path');

const opts = {
  providerBaseUrl: '<a href="http://localhost:8080">http://localhost:8080</a>',
  pactFilesOrDirs: [path.resolve(process.cwd(), 'pacts')],
  pactBroker: '<a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>',
  pactBrokerUsername: process.env.PACT_USERNAME,
  pactBrokerPassword: process.env.PACT_PASSWORD,
  consumerVersion: '2.0.0',
};

publisher.publishPacts(opts).then(() =&gt; console.log('Pacts successfully published'));
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:03</div><div class="msg">node --version
v10.15.1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-25 03:44</div><div class="msg">this bit:
```
 pactFilesOrDirs: [path.resolve(process.cwd(), 'pacts')],
                        ^

TypeError: Cannot read property 'resolve' of undefined
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-25 03:45</div><div class="msg">means that the local variable `path` is undefined.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-25 03:45</div><div class="msg">you're importing it through a destructure (as `{ path }`)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-25 03:45</div><div class="msg">so that line is probably not doing what you want</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-25 03:46</div><div class="msg">in a project I have lying around (recent-ish), I have it without the destructure:
```
const path = require('path');
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:46</div><div class="msg">got it thanks Boris</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:46</div><div class="msg">it passed, now it is the issue publisher.publishPacts(opts).then(() =&gt; console.log('Pacts successfully published'));
          ^

TypeError: Cannot read property 'publishPacts' of undefined
    at Object.&lt;anonymous&gt; (/Users/tohlaymui/Desktop/tl_stella-client_app/pact/publish.js:13:11)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:47</div><div class="msg">same issue as you mentioned :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-25 03:48</div><div class="msg">yep, looks like exactly the same symptom</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:48</div><div class="msg">now I got this message out ```&gt; node ./pact/publish.js

[2019-06-25T03:47:20.723Z]  INFO: pact-node@8.6.0/7286 on LayMui.local: Publishing Pacts to Broker
[2019-06-25T03:47:20.726Z]  INFO: pact-node@8.6.0/7286 on LayMui.local: Publishing pacts to broker at: <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>
[2019-06-25T03:47:20.732Z]  INFO: pact-node@8.6.0/7286 on LayMui.local: Created './standalone/darwin-1.68.0/bin/pact-broker publish '/Users/tohlaymui/Desktop/tl_stella-client_app/pacts' --broker-base-url '<a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>' --consumer-app-version '2.0.0'' process with PID: 7287
[2019-06-25T03:47:33.513Z]  WARN: pact-node@8.6.0/7286 on LayMui.local: Pact exited with code 1.
[2019-06-25T03:47:33.513Z] ERROR: pact-node@8.6.0/7286 on LayMui.local:
    Could not publish pact:
    Error making request - SocketError getaddrinfo: nodename nor servname provided, or not known /Users/tohlaymui/Desktop/tl_stella-client_app/node_modules/@pact-foundation/pact-node/standalone/darwin-1.68.0/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.18.0/lib/pact_broker/client/pacts.rb:35:in `get', attempt 1 of 3

    Error making request - SocketError getaddrinfo: nodename nor servname provided, or not known /Users/tohlaymui/Desktop/tl_stella-client_app/node_modules/@pact-foundation/pact-node/standalone/darwin-1.68.0/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.18.0/lib/pact_broker/client/pacts.rb:35:in `get', attempt 2 of 3

    Error making request - SocketError getaddrinfo: nodename nor servname provided, or not known /Users/tohlaymui/Desktop/tl_stella-client_app/node_modules/@pact-foundation/pact-node/standalone/darwin-1.68.0/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.18.0/lib/pact_broker/client/pacts.rb:35:in `get', attempt 3 of 3
    Failed to publish MyConsumer/MyProvider pact due to error: SocketError - getaddrinfo: nodename nor servname provided, or not known```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:50</div><div class="msg">I need to source my .env which defined the authentication PACT_USERNAME, PACT_PASSWORD</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-06-25 03:52</div><div class="msg">that's right, if you don't have the vars in your env before running `publish.js`, they'll be undefined :ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:53</div><div class="msg">```[2019-06-25T03:50:04.435Z]  INFO: pact-node@8.6.0/7334 on LayMui.local: Publishing Pacts to Broker
[2019-06-25T03:50:04.437Z]  INFO: pact-node@8.6.0/7334 on LayMui.local: Publishing pacts to broker at: <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>
[2019-06-25T03:50:04.444Z]  INFO: pact-node@8.6.0/7334 on LayMui.local: Created './standalone/darwin-1.68.0/bin/pact-broker publish '/Users/tohlaymui/Desktop/tl_stella-client_app/pacts' --broker-base-url '<a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>' --consumer-app-version '2.0.0'' process with PID: 7335
[2019-06-25T03:50:06.597Z]  WARN: pact-node@8.6.0/7334 on LayMui.local: Pact exited with code 1.
[2019-06-25T03:50:06.597Z] ERROR: pact-node@8.6.0/7334 on LayMui.local: 
    Could not publish pact:
    Failed to publish MyConsumer/MyProvider pact due to error: PactBroker::Client::Error - Authentication failed
    
    One or more pacts failed to be published
    
    
    Publishing MyConsumer/MyProvider pact to pact broker at <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:53</div><div class="msg">I need to login to the pact-broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:56</div><div class="msg">I still not sure how to use the pact broker to see the publish pact file?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 03:57</div><div class="msg">If the publishing succeed, I should see something at the pact broker host? <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 03:58</div><div class="msg">As mentioned, you need to get an API token from the broker settings page, and use the `pactBrokerToken` option (see <a href="https://github.com/pact-foundation/pact-js/#publishing-options">https://github.com/pact-foundation/pact-js/#publishing-options</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 03:59</div><div class="msg">&gt; If the publishing succeed, I should see something at the pact broker host? <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>

Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 04:57</div><div class="msg">I have set the pactBrokerToken ```const publisher = require('@pact-foundation/pact-node');
const path = require('path');

const opts = {
  providerBaseUrl: '<a href="http://localhost:8080">http://localhost:8080</a>',
  pactFilesOrDirs: [path.resolve(process.cwd(), 'pacts')],
  pactBroker: '<a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>',
  pactBrokerUsername: process.env.PACT_USERNAME,
  pactBrokerPassword: process.env.PACT_PASSWORD,
  pactBrokerToken: 'EgtLgimSQeaImlMZ4ToqAQ',
  consumerVersion: '2.0.0',
};

publisher.publishPacts(opts).then(() =&gt; console.log('Pacts successfully published'));
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 04:57</div><div class="msg">but still fail ```[2019-06-25T04:56:08.842Z]  WARN: pact-node@8.6.0/4924 on LayMui.local: Pact exited with code 1.
[2019-06-25T04:56:08.842Z] ERROR: pact-node@8.6.0/4924 on LayMui.local: 
    Could not publish pact:
    Failed to publish MyConsumer/MyProvider pact due to error: PactBroker::Client::Error - Authentication failed
    
    One or more pacts failed to be published
    
    
    Publishing MyConsumer/MyProvider pact to pact broker at <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:04</div><div class="msg">it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:05</div><div class="msg">*it's generally better to use the cli to publish pacts if you can</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:09</div><div class="msg">```
pact-broker publish ./pacts -a 2.0.0 -p "$PACT_PASSWORD" -u "$PACT_USERNAME" -b <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:09</div><div class="msg">^ This line does the same as your example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:12</div><div class="msg">Do we have a way of taking a JS object and seeing if it matches the result from matchers?

For example:

```
const pactResponseBody = {
  filenames: eachLike('foo.jpg'),
};

const mockResponseBody = {
   filenames: [ "a.gif", "bar.jpg" ],
};

const otherResponseBody = {
   some: { other: { structure:[ "a.gif", "bar.jpg" ], }, },
};

if (/* mockResponseBody matches pactResponseBody */) {} // true
if (/* otherResponseBody matches pactResponseBody */) {} // false
```

is there anything I can put in the `if` to achieve this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:13</div><div class="msg">I Need to install pact-broker?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:15</div><div class="msg">no, the cli tools come with `@pact-foundation/pact-node` as binstubs. You can put the command above in a script in `package.json`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:15</div><div class="msg">Note that your script actually publishes the same version every time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:15</div><div class="msg">you need some way to locally determine the version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:18</div><div class="msg">like this :     "publish:pact": "pact-broker publish ./pacts -a 2.0.0 -p "$PACT_PASSWORD" -u "$PACT_USERNAME" -b <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:18</div><div class="msg">And, if we don't have this, should we?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:21</div><div class="msg">didn't work as well, I got this error ```&gt; pact-broker publish ./pacts -a 2.0.0 -p $PACT_PASSWORD -u $PACT_USERNAME -b <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>


Publishing MyConsumer/MyProvider pact to pact broker at <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>
Failed to publish MyConsumer/MyProvider pact due to error: PactBroker::Client::Error - Authentication failed

One or more pacts failed to be published
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! tlstellaclientapp@0.0.1 publish:pact: `pact-broker publish ./pacts -a 2.0.0 -p $PACT_PASSWORD -u $PACT_USERNAME -b <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>`
npm ERR! Exit status 1
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:21</div><div class="msg">maybe I try to use my own local pact broker? without any authentication?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:21</div><div class="msg">The use case is for mocking the response from the API layer outside pact tests (but keeping them in sync with pact tests). to avoid this:

```
const someApiCall() = {/* ....  */}; 

describe("pact test", () =&gt; {
    /* asserts that someApiCall() calls the provider in some way, and returns some object foo to the caller */
})

describe("unit test for caller", ()=&gt; {
   /* mocks someApiCall() as returning some object bar, and asserts that the rest of the code behaves */
})
```

In this situation, all tests could be green, even if there's actually a failure (since the `someApiCall()` actually returns a different object to the one tested in the unit tests for the call site)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:23</div><div class="msg">As above, you probably need an API token. See:

<a href="https://github.com/pact-foundation/pact-js/#publishing-options">https://github.com/pact-foundation/pact-js/#publishing-options</a>

and

<a href="https://github.com/pact-foundation/pact_broker-client#publish">https://github.com/pact-foundation/pact_broker-client#publish</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:24</div><div class="msg">I copy the token at Read only token (developer)?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:24</div><div class="msg">You need the read/write token to publish</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:25</div><div class="msg">Also, in the output that you sent above, you're not using the API token ,you're using the username and password</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:25</div><div class="msg">see the second link above for the options for `pact-broker publish`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:30</div><div class="msg">```&gt; tlstellaclientapp@0.0.1 publish:pact /Users/tohlaymui/Desktop/tl_stella-client_app
&gt; pact-broker publish ./pacts -k 'aF5qJ0rVTGlYQNe280IAAQ' -a 2.0.0 -p $PACT_PASSWORD -u $PACT_USERNAME -b <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>


Publishing MyConsumer/MyProvider pact to pact broker at <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>
Failed to publish MyConsumer/MyProvider pact due to error: PactBroker::Client::Error - Authentication failed

One or more pacts failed to be published```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:30</div><div class="msg">I copied the token from the Read/Write token (CI), still have the Authentication Failed Error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:30</div><div class="msg">you probably need to not specify the username and password</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:30</div><div class="msg">we should make that clear in the documentation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:31</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:31</div><div class="msg">```&gt; tlstellaclientapp@0.0.1 publish:pact /Users/tohlaymui/Desktop/tl_stella-client_app
&gt; pact-broker publish ./pacts -k 'aF5qJ0rVTGlYQNe280IAAQ' -a 2.0.0 -b <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>


Publishing MyConsumer/MyProvider pact to pact broker at <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a>
The latest version of this pact can be accessed at the following URL (use this to configure the provider verification):
<a href="https://tl.pact.dius.com.au/pacts/provider/MyProvider/consumer/MyConsumer/latest">https://tl.pact.dius.com.au/pacts/provider/MyProvider/consumer/MyConsumer/latest</a>

LayMui:tl_stella-client_app tohlaymui$ 
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:46</div><div class="msg">I can't seem to run pact-broker in the command line</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:46</div><div class="msg">pact-broker describe-version -b <a href="https://tl.pact.dius.com.au/">https://tl.pact.dius.com.au/</a> -a MyConsumer,MyProvider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-06-25 05:46</div><div class="msg">trying to use this command line to get the version?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:47</div><div class="msg">That's because it's included as a binary through npm, it's not on the path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:48</div><div class="msg">you can find it in `node_modules/.bin`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:49</div><div class="msg">That command will get the version that the broker knows about</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:49</div><div class="msg">My comment above was that your script would have published the same application version every time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:50</div><div class="msg">I/we can't tell you how to determine what your application version is, because it's up to you and your team</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 05:50</div><div class="msg">see <a href="https://docs.pact.io/getting_started/versioning_in_the_pact_broker">https://docs.pact.io/getting_started/versioning_in_the_pact_broker</a> for some guidelines on how versioning works in Pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 05:58</div><div class="msg">I think you can call `getValue()` on them to get the value _sans_ matcher guff, but from memory that?s not recursive for deeply nested matchers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 05:58</div><div class="msg">`extractPayload(pactResponseBody)` will do the same, but recursive</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 05:59</div><div class="msg">I think what you?re asking is not currently possible (because you won?t be able to do an equality check), but is intriguing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 07:57</div><div class="msg">I think `extractPayload` gives me the raw json (useful to achieve the goal, but not what I'm asking for). Is that right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-25 07:58</div><div class="msg">I'd like to have a few different ways of doing this, so that Pact's opinions don't bleed into the unit test suite</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 10:39</div><div class="msg">Yep, extract payload would turn:

```
eachLike({
  foo: term({generate: "bar", matcher: "[?regex?]"}),
  baz: [
    "bats"
  ]
})
```

into:

```
[{
  foo: "bar",
  baz: [
    "bats"
  ]
}]
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 10:46</div><div class="msg">So basically what you want is the ability to apply a pact matcher in unit test?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-25 12:08</div><div class="msg">hi all, my test is failing add this level - service.addInteraction(interaction);</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-25 12:08</div><div class="msg">could this be something to do with the mock server?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 12:09</div><div class="msg">What's the actual error. Have you enabled debug logs and followed the troubleshooting section of the readme?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-25 12:17</div><div class="msg">this is what i get -  "You must provide a description for the interaction."</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-25 12:36</div><div class="msg">There's your answer. You're missing a required field on the interaction object</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9c1ec3ebc91b30d88da3e1b818e1affb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">alessandrobuggin</div><div class="time">2019-06-25 14:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-06-26 22:00</div><div class="msg">hi there, when we have published tests to the broker, how do we get tests replayed on the provider side? thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-26 22:01</div><div class="msg">What have you tried?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-26 22:01</div><div class="msg">Are the examples in the repo not clear?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e16cb77d30772036be44105b7bb03379.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">whitehorse5353</div><div class="time">2019-06-27 16:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e16cb77d30772036be44105b7bb03379.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">whitehorse5353</div><div class="time">2019-06-27 16:58</div><div class="msg">Hi All, i am having a weird issue
my query param is around 2588 char length of base65 encoded string
some home pact breaks the url query param into two portions
and fails my test
any idea anyone ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e16cb77d30772036be44105b7bb03379.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">whitehorse5353</div><div class="time">2019-06-27 17:00</div><div class="msg">versions of my package

@pact-foundation/pact: 5.9.1
@pact-foundation/pact-node: 6.19.7</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-28 00:06</div><div class="msg">Hi Lokesh. Firstly, have you tried upgrading to a latter version of Pact? (yours is quite old)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-06-28 00:06</div><div class="msg">secondly, please provide a reproducable example so we can help, or at the very least a stack trace / error log</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-28 01:27</div><div class="msg">Yes. Often the response you expect from the API layer is the same as the json on the wire. So, you could write:

```
const pactBody = eachLike({
  foo: term({generate: "bar", matcher: "[?regex?]"}),
  baz: [
    "bats"
  ]
});

/* ... */

expect(someApiCall()).toEqual(extractPayload(pactBody));
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-28 01:28</div><div class="msg">or perhaps even nicer:

```
expect(someApiCall()).toMatchPactResponse(pactBody);
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7a6d209b96ce4fb99585aa456bca8bfb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">doxuantien</div><div class="time">2019-06-28 03:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-06-28 07:14</div><div class="msg">pact plugin for `chai`? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9285344b33be25544c41d77f3f4db015.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rafael.anachoreta</div><div class="time">2019-06-28 09:15</div><div class="msg">Was looking into this just now! I second that there is some demand for v3 in pact-js :slightly_smiling_face:

And thanks for sharing the approach above</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e16cb77d30772036be44105b7bb03379.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">whitehorse5353</div><div class="time">2019-06-28 23:55</div><div class="msg">Hi @matt.fellows, sorry that was my mistake and it's resolved now thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-30 23:20</div><div class="msg">@yousafn and I have been working on a Jest wrapper</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-30 23:20</div><div class="msg">but we haven't done anything for expect yet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-06-30 23:21</div><div class="msg">it would be easy to extend / modify what we currently have for other test frameworks (I think it currently works with anything Jasmine based)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 03:23</div><div class="msg">I like to check if my provider is more than 1, how do I specify in my pactSetup file, current pactSetup.js file ```// ./pact/setup.js
// To configure the Pact mock provider
const path = require('path');
const { Pact } = require('@pact-foundation/pact');


global.port = 8080;
global.provider = new Pact({
  cors: true,
  port: global.port,
  log: path.resolve(process.cwd(), 'logs', 'pact.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'UI Client',
  provider: 'Platform Services',
  host: '127.0.0.1',
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 03:23</div><div class="msg">my consumer is the UI app, it will talk to a few backend services. how do I specify that in the pactsetup file? thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-07-01 03:24</div><div class="msg">you make one configuration for each provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-07-01 03:24</div><div class="msg">global.provider1 = ...
global.provider2 = ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-07-01 03:25</div><div class="msg">But use the real name of your provider instead of `provider1`. eg `global.platformServices`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 03:29</div><div class="msg">let me redo my pact/setup.js ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 03:31</div><div class="msg">```// ./pact/setup.js
// To configure the Pact mock provider
const path = require('path');
const { Pact } = require('@pact-foundation/pact');


global.port = 8080;
global.platformServices = new Pact({
  cors: true,
  port: global.port,
  log: path.resolve(process.cwd(), 'logs', 'pact.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'UI Client',
  PlatformServices: 'Platform Services',
  host: '127.0.0.1',
});


global.LENS = new Pact({
  cors: true,
  port: global.port,
  log: path.resolve(process.cwd(), 'logs', 'pact.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'UI Client',
  LENS: 'LENS',
  host: '127.0.0.1',
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 03:31</div><div class="msg">is it like this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 03:32</div><div class="msg">or it's in the same file or separate setup files?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-07-01 03:33</div><div class="msg">whatever works for you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-07-01 03:33</div><div class="msg">just make sure it's required before you run the test that uses it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-07-01 03:33</div><div class="msg">you'll need to put them on different ports.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 03:34</div><div class="msg">I see what you mean now thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 04:00</div><div class="msg">do I need to specify different global.port for different provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-07-01 04:00</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-07-01 04:00</div><div class="msg">you can't run two processes on the same port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:25</div><div class="msg">can I check? what is the spec:2 means?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-01 05:28</div><div class="msg">It says what specification of the Pact framework to use. The specification is what defines what features are compatible across language implementations. Most support v2, Pact JVM has some advanced features (e.g. mulitple provider states, ability to pass parameters with the states) that are only available in v3+. So if you need a pact file to interop across languages, you need to make sure you only use features the other languages support. It actually defaults to 2 anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:34</div><div class="msg">thanks. my pact framework will need to have mulitple language support. my consumer is in JS, my provider can be in Java, C# or C++, so I need to set to 3?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-01 05:38</div><div class="msg">no, JS and .NET only supports 2. I?d stick with 2</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:39</div><div class="msg">okay, I change my pactSetup.js to configure for multiple provider like this: ```global.portIM = 8080;
global.portSM = 8082;
global.portCM = 8083;
global.hostIM = '127.0.0.1';
global.hostSM = '127.0.0.2';
global.hostCM = '127.0.0.3';

global.IdentityManager = new Pact({
  cors: true,
  port: global.portIM,
  log: path.resolve(process.cwd(), 'logs', 'pact.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'UI Client',
  provider: 'Identity Manager',
  host: global.hostIM,
});


global.SessionManager = new Pact({
  cors: true,
  port: global.portSM,
  log: path.resolve(process.cwd(), 'logs', 'pact.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'UI Client',
  provider: 'Session Manager',
  host: global.hostSM,
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:40</div><div class="msg">in my consumer test, I change this baseURL like this ```// add expectations
    it('returns a successfully body', done =&gt; axios.request({
      method: 'POST',
      baseURL: `${global.portIM} + ':' + ${global.hostIM}`,
      url: '/api/identity-manager/v2/login',
      headers: {
        Accept: '*/*',
        'content-type': 'application/json',
      },
      data: BODY,
    })```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:40</div><div class="msg">when I run npm run test:pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:41</div><div class="msg">I got the error: ```  Setting up Pact with Consumer "UI Client" and Provider "Identity Manager"
        using mock service on Port: "8080"
  console.error node_modules/@pact-foundation/pact/httpPact.js:97
    

  console.error node_modules/@pact-foundation/pact/httpPact.js:98
    Pact verification failed!

  console.error node_modules/@pact-foundation/pact/httpPact.js:99
    Actual interactions do not match expected interactions for mock MockService.
    
    Missing requests:
    	POST /api/identity-manager/v2/login
    
    See /Users/tohlaymui/Desktop/tl_stella-client_app/logs/pact.log for details.
    

 FAIL  App/Screens/Login/__tests__/login.service.test.pact.js (21.948s)
  LoginService API
    login request
      ? returns a successfully body (20073ms)
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-01 05:42</div><div class="msg">what does the log file say</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:44</div><div class="msg">```W, [2019-07-01T13:43:37.282865 #8497]  WARN -- : Verifying - actual interactions do not match expected interactions.
Missing requests:
        POST /api/identity-manager/v2/login


W, [2019-07-01T13:43:37.282959 #8497]  WARN -- : Missing requests:
        POST /api/identity-manager/v2/login


```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:45</div><div class="msg">wait, I miss out the http...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:47</div><div class="msg">baseURL: `'http' + ${global.portIM} + ':' + ${global.hostIM}`,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:47</div><div class="msg">I need to fix this line...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-01 05:49</div><div class="msg">You have also got `port` and `host` the wrong way around - it should be:

```
baseUrl: `http://${global.hostIM}:${global.portIM}`
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-01 05:49</div><div class="msg">host goes before port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-01 05:52</div><div class="msg">thanks, it works now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-03 13:55</div><div class="msg">when I run npm run test to run my jest (react-native), it got into the pact test and fail</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-03 13:55</div><div class="msg">```npm run test

&gt; tlstellaclientapp@0.0.1 test /Users/tohlaymui/Desktop/tl_stella-client_app
&gt; jest

 PASS  App/Utils/DataBindings/__tests__/valueRegexProcessor.test.js
 PASS  App/Utils/DataBindings/__tests__/appVariableRegexProcessor.js
 PASS  App/Utils/DataBindings/__tests__/appendRegexProcessor.test.js
 PASS  App/Utils/DataBindings/__tests__/removeRegexProcessor.test.js
 PASS  App/Utils/DataBindings/__tests__/containsInProcessor.test.js
 PASS  App/Utils/DataBindings/__tests__/formSubmitWithTypeRegexProcessor.test.js
 PASS  App/Utils/DataBindings/__tests__/sourceRegexProcessor.test.js
 FAIL  App/Screens/Login/__tests__/login.service.test.pact.js (7.212s)
  ? LoginService API ? login request ? returns a successfully body

    TypeError: Cannot read property 'addInteraction' of undefined

      42 |         },
      43 |       };
    &gt; 44 |       return global.IdentityManager.addInteraction(interaction);
         |                                     ^
      45 |     });
      46 | 
      47 |     // add expectations

      at Object.&lt;anonymous&gt; (App/Screens/Login/__tests__/login.service.test.pact.js:44:37)

  ? LoginService API ? login request ? returns a successfully body

    Timeout - Async callback was not invoked within the 5000ms timeout specified by jest.setTimeout.

      46 | 
      47 |     // add expectations
    &gt; 48 |     it('returns a successfully body', done =&gt; axios.request({
         |     ^
      49 |       method: 'POST',
      50 |       baseURL: `http://${global.hostIM}:${global.portIM}`,
      51 |       url: '/api/identity-manager/v2/login',

      at Spec (node_modules/jest-jasmine2/build/jasmine/Spec.js:85:20)
      at Suite.&lt;anonymous&gt; (App/Screens/Login/__tests__/login.service.test.pact.js:48:5)
      at Suite.&lt;anonymous&gt; (App/Screens/Login/__tests__/login.service.test.pact.js:23:3)
      at Object.&lt;anonymous&gt; (App/Screens/Login/__tests__/login.service.test.pact.js:7:1)

Test Suites: 1 failed, 7 passed, 8 total
Tests:       1 failed, 10 passed, 11 total
Snapshots:   0 total```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-03 13:55</div><div class="msg">here is my package.json: ``` "scripts": {
    "start": "node node_modules/react-native/local-cli/cli.js start",
    "lint": "eslint App/",
    "react-devtools": "react-devtools",
    "test": "jest",
    "test:pact": "jest cross-env CI=true __tests__/ --runInBand --setupFiles ./pact/pactSetup.js --setupTestFrameworkScriptFile ./pact/pactTestWrapper.js --testMatch \"**/*.test.pact.js\"",
    "publish:pact": "pact-broker publish ./pacts -a 2.0.0 -b <a href="https://pact.shared.frigg.li/">https://pact.shared.frigg.li/</a>"
  },```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-03 13:57</div><div class="msg">but if I do npm run test:pact
it passed: ```
&gt; tlstellaclientapp@0.0.1 test:pact /Users/tohlaymui/Desktop/tl_stella-client_app
&gt; jest cross-env CI=true __tests__/ --runInBand --setupFiles ./pact/pactSetup.js --setupTestFrameworkScriptFile ./pact/pactTestWrapper.js --testMatch "**/*.test.pact.js"

[2019-07-03T13:56:50.701Z]  INFO: pact-node@8.6.0/9754 on LayMui.local: 
    Creating Pact Server with options: 
    consumer = UI Client,
    cors = true,
    dir = /Users/tohlaymui/Desktop/tl_stella-client_app/pacts,
    host = 127.0.0.1,
    log = /Users/tohlaymui/Desktop/tl_stella-client_app/logs/pact.log,
    pactFileWriteMode = update,
    port = 8080,
    provider = Identity Manager,
    spec = 2,
    ssl = false,
    sslcert = ,
    sslkey = 
[2019-07-03T13:56:50.703Z]  INFO: pact-node@8.6.0/9754 on LayMui.local: 
    Creating Pact Server with options: 
    consumer = UI Client,
    cors = true,
    dir = /Users/tohlaymui/Desktop/tl_stella-client_app/pacts,
    host = 127.0.0.2,
    log = /Users/tohlaymui/Desktop/tl_stella-client_app/logs/pact.log,
    pactFileWriteMode = update,
    port = 8082,
    provider = Session Manager,
    spec = 2,
    ssl = false,
    sslcert = ,
    sslkey = 
[2019-07-03T13:56:50.703Z]  INFO: pact-node@8.6.0/9754 on LayMui.local: 
    Creating Pact Server with options: 
    consumer = UI Client,
    cors = true,
    dir = /Users/tohlaymui/Desktop/tl_stella-client_app/pacts,
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-03 22:06</div><div class="msg">Why is IdentityManager undefined?
`    TypeError: Cannot read property 'addInteraction' of undefined`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-03 22:07</div><div class="msg">oh I see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-03 22:07</div><div class="msg">what is your question? Something you?re doing with `npm run test:pact` is setting IdentityManager (presumably a file that does some setup e.g. `pactSetup.js `)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-03 22:08</div><div class="msg">And when you run `npm run test` it?s not configuring it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-04 10:46</div><div class="msg">this is fixed by using a different folder name for pact test. so I used __pact-tests__ instead of __tests__</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/84003b8c6ec2d1df3709e91de1acc1e4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">thamu.gurung</div><div class="time">2019-07-08 20:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0a1c99bfd77e8491b42c8c1ea3872a36.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">fraser.crichton.devel</div><div class="time">2019-07-09 00:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-07-10/690497541408_bcc1014154900e8f744e_72.jpg" /><div class="message"><div class="username">craig.pothier</div><div class="time">2019-07-09 15:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-07-09 16:50</div><div class="msg">Ola all,

When performing pact-verification, if we are using `pactUrls` to read from a local file, how can we publish the verification results to the pact broker?

If I specify a `pactBrokerUrl`, then the local pacts are read, and also the pacts read from the pact-broker.

I only want to read from the local pacts, and publish the verification results up to the broker.

Basically I am

1. Downloading a pact for a given consumer/provider pair by tag, via axios into a local file
2. I then parse the local json file, and pull out the path/request/body and use aws4 to sign the request
3. I then inject the modified headers back into the pact file
4. I run my provider verification, using `pactUrls` to point to my local version of the file
5. to close the loop, I want to publish the verification results back up to the broker.

It follows on my from my issue raised here

<a href="https://github.com/pact-foundation/pact-js/issues/304">https://github.com/pact-foundation/pact-js/issues/304</a>

and my workaround is similar to that proposed by @bernardo.guerreiro  in his medium article here

<a href="https://medium.com/dazn-tech/pact-contract-testing-dealing-with-authentication-on-the-provider-51fd46fdaa78">https://medium.com/dazn-tech/pact-contract-testing-dealing-with-authentication-on-the-provider-51fd46fdaa78</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-07-09 16:53</div><div class="msg">ahhh looking at this <a href="https://github.com/pact-foundation/pact_broker/wiki/Provider-verification-results">https://github.com/pact-foundation/pact_broker/wiki/Provider-verification-results</a>

it seem?s that it is not possible

```
Note that you can only publish verification results for pacts that were retrieved from a pact broker. You cannot publish results for local pact files.
```

:disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-09 21:15</div><div class="msg">If you?re pulling from the broker in the first place, it should have the HAL links in them containing paths to the broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-09 21:16</div><div class="msg">that?s all the verifier needs to be able to publish the results</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-09 21:17</div><div class="msg">i.e. if you run `curl -v <a href="https://test.pact.dius.com.au/pacts/provider/Van-test_bobby/consumer/Van-test_billy/latest">https://test.pact.dius.com.au/pacts/provider/Van-test_bobby/consumer/Van-test_billy/latest</a> --user dXfltyFMgNOFZAxr8io9wJ37iUpY42M:O5AIZWxelWbLvqMd8PkAVycBJh2Psyg1 | jq .` you can see the `pb:publish-verification-results` link. If you retain those you should be golden</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-07-10 07:42</div><div class="msg">Fab!! Cheers homie, I shall give that a go when I am in work shortly! Nice one!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-07-10 09:46</div><div class="msg">That works perfectly matey, nice one for that :ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 10:47</div><div class="msg">SWEET!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 10:47</div><div class="msg">you?re welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-07-10 10:57</div><div class="msg">I?ll get an example up in my public repo at some point, so I can share back my solution with the community!

Holding a pact-party with my client soon, in order to get them fully on board with pact, they can see the value in theory, but just need to show them it working in practise now on their end. Will probably write up some more slides, so will share them out too in another blog post</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 11:20</div><div class="msg">Thanks man</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 11:21</div><div class="msg">We?ve been discussing internally how the removal of the ?completely? free open-source hosted tier of <a href="http://Pactflow.io">http://Pactflow.io</a> (i.e. what was previously the beta)  might effect adoption etc. If in those discussions you run into issues, please let us know. We?re still figuring out what the best approach is from a commercial and community perspective, and real-life feedback is the best!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-07-10 11:24</div><div class="msg">no worries mate, I?ve got an open source version of pactflow but not currently pumping any contracts into it, just haven?t taken the time to do so. If you want me to do so, so I can let you know if it goes up/down, then I can switch over my OS CI jobs to point at the pact-flow version today</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 11:25</div><div class="msg">ha, well hopefully we can do better than have our customers tell us when its down :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 11:26</div><div class="msg">This is more of the adoption question - we work for a consultancy too and often we get asked to, or implement Pact during the course of delivery. It was really nice to just sign up for another free hosted broker for clients and just get cracking, rather than having to run a broker internally, manage it etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 11:27</div><div class="msg">We?ve removed the ?free for all? plan, which changes that conversation a bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 11:27</div><div class="msg">all good, just know we?re here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-07-10 11:44</div><div class="msg">Hmmm, I think in order to drive paid for adoption, providing a 2/4 week trial, similar to most other paid for tools would be preferable, It would allow companies to get time to implement a workflow and see how it pans out, and then as they will have the infra in place, it should be easier to get the beancounters to open their wallets and pay you money!

It?s so trivial to spin up pact broker via docker, and postgres. pretty much all of our clients use AWS so sticking PB on an ecs cluster, and postgres is RDS means it?s pretty self managed anyway, and I imagine most of these teams have devops. A 4 week trial would probably give a team enough time to get the consumers and providers on board for at least a couple of services and start seeing enough of a benefit.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 11:45</div><div class="msg">Thanks, sorry I probably wasn?t clear. I?m _not_ asking for you to help sell Pactflow (but, that would be great if that?s something that naturally comes up because it somehow helps you). I just mean Pact adoption here - the less things that  need to be done to get started playing with Pact == higher chance of adoption</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 11:46</div><div class="msg">but your points taken</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-07-10 15:02</div><div class="msg">`I'm _not_ asking for you to help sell Pactflow` - I didn?t get that from your message, sorry if my reply sounded like I took that from your comment, I have just always been (sometimes wrongly) overly opinionated</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-10 21:42</div><div class="msg">You mean you're a _consultant_ :yum:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-11 03:49</div><div class="msg">I got a question on pact. in my consumer's pact test, I specify my expected body's content example: ``` const EXPECTED_BODY = {
    authToken: 'eyJraWQiOiJVdEI4c0hhYnk0aXBLNlwvQTZnaHBkRFFqRU9tdlptSnZZQTJpNFwvM2w3UmM9IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIyMTVhMGVhZS00ZjkwLTRlODItOWY4Zi1lNzhlOTdkMzcyODAiLCJldmVudF9pZCI6IjQxMjA3MjQwLWI2NGEtNDYxNi1iOGFiLTJkYzNiZjY4YWEwNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE1NjEwOTUwMDYsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC51cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwvdXMtZWFzdC0yX2EzbE5SRU5QMSIsImV4cCI6MTU2MTA5ODYwNiwiaWF0IjoxNTYxMDk1MDA2LCJqdGkiOiJlNGFiNTI0Ny1hZjgwLTQ1MmUtOTcwMS01YjQ4OTY1ZTcwZDgiLCJjbGllbnRfaWQiOiI2Z2xwbmRxb2s2YWhua3M2dGFnNXQ5cGMwZyIsInVzZXJuYW1lIjoicWFAdGVsZXBhdGh5LmFpIn0.icFT50MVM-xhAPIu76H9XwIeNHhbe6_d3LcAv1qDQcRp1xabxpgzntgaEvyUnaTwFFJzkU2flfIrT_Y8TCeeFFqMFrMkpS9GadVtraxpOtNhMwxrwUz6bbz8iMHFxSxcIi0Ar3y06RLoRkp3C4gXf7eL8JXsTI9IB56TK7idvUmUcbN_322UPsAU98l3XFjdQEkMo3Fnqyrr41ftWBH876E2KB4g79Q73AL_s0j7mRmXjGswu8-pFiyPcIrDZKz35RSEpdWYLoRyW8rDnYU6YqWM-ncXEczBKlBKk6ggxMOK_qcTc7HYBty9c16zOn-33hxLCxG6pOtg5vLD3L0Tqw',
    clientInfo: {
      clientId: '0662923d-b187-4879-866a-3f053178426a',
    },
  };```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-11 03:50</div><div class="msg">what happen if this expected body's value is dynamic? the provider may return different value. how do I check this in my code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-11 03:53</div><div class="msg">look into matchers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-11 05:18</div><div class="msg">thanks will ask my developer to check that out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:06</div><div class="msg">Hi, I am adding the pact test at the consumer and talk to a few services -Identity Manager, Session Manager, etc. do I have only 1 pact file for all the tests?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:06</div><div class="msg">no, 1 pact per consumer-provider pair</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:13</div><div class="msg">is my pactTestWrapper.js correctly specified: ```jasmine.DEFAULT_TIMEOUT_INTERVAL = 10000;

beforeAll((done) =&gt; {
  global.IdentityManager.setup().then(() =&gt; done());
  global.SessionManager.setup().then(() =&gt; done());
});

afterEach((done) =&gt; {
  global.IdentityManager.verify().then(() =&gt; done());
  global.SessionManager.setup().then(() =&gt; done());
});

afterAll((done) =&gt; {
  global.IdentityManager.finalize().then(() =&gt; done());
  global.SessionManager.setup().then(() =&gt; done());
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:14</div><div class="msg">oh I just spot my mistakes, :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:14</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:14</div><div class="msg">ha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:14</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:15</div><div class="msg">aside from the `setup` being in the wrong place, the other issue is that you have two promises that call the same `done()`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:16</div><div class="msg">this will potentially lead to issues where one promise finishes earlier than the other and ?cuts off? the other promise from doing it?s job</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:16</div><div class="msg">you need to wait for all promises and _then_ call done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:17</div><div class="msg">```
beforeAll((done) =&gt; {
  Promise.all([
    global.IdentityManager.setup(),
    global.SessionManager.setup()
  ])
  .then(done)
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-12 08:17</div><div class="msg">something like that would be better, because if one of the promises fail you?ll get the error.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:31</div><div class="msg">I got this error ```App/Screens/Login/__pact-tests__/IdentifyManager.login.test.pact.js
  ? Test suite failed to run

    TypeError: Cannot read property 'writePact' of undefined

      22 | afterAll((done) =&gt; {
      23 |   Promise.all([
    &gt; 24 |     global.IdentityManager.finalize(),
         |                          ^
      25 |     global.SessionManager.finalize(),
      26 |     global.ConversationManager.finalize(),
      27 |   ])
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:46</div><div class="msg">```W, [2019-07-12T16:45:15.388695 #29299]  WARN -- : Could not load existing consumer contract from /Users/tohlaymui/Desktop/tl_stella-client_app/pacts/ui_client-identity_manager.json due to 757: unexpected token at 'null'. Creating a new file.
I, [2019-07-12T16:45:15.389986 #29299]  INFO -- : Verifying - interactions matched
E, [2019-07-12T16:45:15.390018 #29299] ERROR -- : 757: unexpected token at 'null' (JSON::ParserError)
/Users/tohlaymui/Desktop/tl_stella-client_app/node_modules/@pact-foundation/pact-node/standalone/darwin-1.69.0/lib/vendor/ruby/2.2.0/gems/json-2.2.0/lib/json/common.rb:156:in `parse'
/Users/tohlaymui/Desktop/tl_stella-client_app/node_modules/@pact-foundation/pact-node/standalone/darwin-1.69.0/lib/vendor/ruby/2.2.0/gems/json-2.2.0/lib/json/common.rb:156:in `parse'
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:48</div><div class="msg">do I need to have different pacts folder for each consumer-provider ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:52</div><div class="msg">I set up my pactSetup.js: ```// ./pact/setup.js
// To configure the Pact mock provider
const path = require('path');
const { Pact } = require('@pact-foundation/pact');


global.portIM = 8080;
global.portSM = 8082;
global.portCM = 8083;
global.hostIM = '127.0.0.1';
global.hostSM = '127.0.0.2';
global.hostCM = '127.0.0.3';

global.IdentityManager = new Pact({
  cors: true,
  port: global.portIM,
  log: path.resolve(process.cwd(), 'logs', 'pact-IM.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts/IM'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'UI Client',
  provider: 'Identity Manager',
  host: global.hostIM,
});


global.SessionManager = new Pact({
  cors: true,
  port: global.portSM,
  log: path.resolve(process.cwd(), 'logs', 'pact-SM.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts/SM'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'UI Client',
  provider: 'Session Manager',
  host: global.hostSM,
});

global.ConversationManager = new Pact({
  cors: true,
  port: global.portCM,
  log: path.resolve(process.cwd(), 'logs', 'pact-CM.log'),
  loglevel: 'debug',
  dir: path.resolve(process.cwd(), 'pacts/CM'),
  spec: 2,
  pactfileWriteMode: 'update',
  consumer: 'UI Client',
  provider: 'Conversation Manager',
  host: global.hostCM,
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:52</div><div class="msg">when I run my pact test, I got this error ```[2019-07-12T08:49:50.295Z]  INFO: pact-node@8.6.2/29634 on LayMui.local: Created './standalone/darwin-1.69.0/bin/pact-mock-service service --consumer 'UI Client' --cors 'true' --pact_dir '/Users/tohlaymui/Desktop/tl_stella-client_app/pacts/IM' --host '127.0.0.1' --log '/Users/tohlaymui/Desktop/tl_stella-client_app/logs/pact-IM.log' --pact-file-write-mode 'update' --port '8080' --provider 'Identity Manager' --pact_specification_version '2'' process with PID: 29640
[2019-07-12T08:49:51.336Z]  INFO: pact@8.2.6/29634 on LayMui.local: 
    Setting up Pact with Consumer "UI Client" and Provider "Identity Manager"
        using mock service on Port: "8080"
 FAIL  App/Utils/Api/__pact-tests__/SessionManager.start.test.pact.js
  ? Test suite failed to run

    TypeError: Cannot read property 'writePact' of undefined

      23 |   Promise.all([
      24 |     global.IdentityManager.finalize(),
    &gt; 25 |     global.SessionManager.finalize(),
         |                         ^
      26 |     global.ConversationManager.finalize(),
      27 |   ])
      28 |     .then(done);

      at Pact.Object.&lt;anonymous&gt;.Pact.finalize (node_modules/@pact-foundation/src/httpPact.ts:148:8)
      at Object.&lt;anonymous&gt; (pact/pactTestWrapper.js:25:25)```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 08:53</div><div class="msg">why is this pointing to  Setting up Pact with Consumer "UI Client" and Provider "Identity Manager" for the provider ConversationManager?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-12 09:50</div><div class="msg">I just realise I need to setup for 1 provider. ignore my questions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-14 17:30</div><div class="msg">hi all, can anyone tell me what I, D and E standfor in the mock server integration log? im guessing I is 'Interaction' and D is 'Differ', no idea about E</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-14 17:31</div><div class="msg">'Error' ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-14 19:53</div><div class="msg">Also, i have an installation of pact -foundation/pact 8.2.6 but Matchers dont appear to exist within the pact.d.ts file within the node modules, I can however see this in the pact-foundation/node 5.2.1 installation</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-14 19:53</div><div class="msg">any reason why we dont see it in the 1st?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-14 21:17</div><div class="msg">Log levels - info, debug, error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-14 21:18</div><div class="msg">Can you please show me what you're doing? The examples in the repo use the matchers from the exported library so they definitely work (typescript included)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-14 21:35</div><div class="msg">all i want to do is add a 'like' Matcher to my interaction</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-14 21:36</div><div class="msg">i thinki have found the solution, 2 min</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-14 21:43</div><div class="msg">thank you, i was having issues earlier being able to require pact matchers in my file, but i have managed to get it working with my interactions :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-16 10:28</div><div class="msg">Hi there, are there any reporting tools that work well with pact js?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-16 10:31</div><div class="msg">it would be nice to get feedback from reports other than looking in the pact broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-16 11:03</div><div class="msg">What sort of reports are you interested in?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-16 12:49</div><div class="msg">Hi Tim, im thinking a report along the lines of how many tests have been executed and how many have passed/failed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-16 12:49</div><div class="msg">so we can alert people as soon as there is a failure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-16 12:50</div><div class="msg">will be useful to display on our monitors</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-16 20:43</div><div class="msg">What unit testing framework are you using?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-16 20:44</div><div class="msg">You can just use the standard unit test output format from them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-07-17 08:36</div><div class="msg">jest, ah good point, i will have look a bit more deeply into that, thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-17 08:36</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/324f9e0619763fba7d1bc7b1beb522a0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">shalygai.a</div><div class="time">2019-07-18 13:12</div><div class="msg">Hi all :slightly_smiling_face:
I have a test, which
Consumer - js
Provider - .Net
I use Regex to test my body

body: Pact.Matchers.term({
                                    matcher: "(?:true)",
                                    generate: "true"
                                })

when starting the test provider I have failures

what could be the problem?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-18 13:14</div><div class="msg">Are you matching a boolean?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-18 13:14</div><div class="msg">or a string?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/324f9e0619763fba7d1bc7b1beb522a0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">shalygai.a</div><div class="time">2019-07-18 13:42</div><div class="msg">string</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-18 14:19</div><div class="msg">What are the valid values?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-18 14:21</div><div class="msg">In any case, check your regexes against <a href="http://Rubular.com">http://Rubular.com</a>. they must be in that format</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2d3eb22a103ea662760be0d0fe2575c3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">kevin.monteiro</div><div class="time">2019-07-18 22:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-22 07:48</div><div class="msg">Hi, is there any example of pact test code on the provider. my provider is in java but I don't quite understand the junit, I like to take a look at provider in JS to understand the concept thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-22 07:49</div><div class="msg">in junit, here is the link given <a href="https://github.com/DiUS/pact-jvm/tree/master/provider/pact-jvm-provider-junit">https://github.com/DiUS/pact-jvm/tree/master/provider/pact-jvm-provider-junit</a> but I do not understand the @Before, @State, @TestTarget concept</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-22 07:50</div><div class="msg">I would ask in #pact-jvm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-22 07:55</div><div class="msg">I am asking but like to check out JS provider to get some idea on concept becos I am not familiar with junit nor spring</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-22 08:05</div><div class="msg">What?s wrong with the examples on the Pact JS repository?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-22 08:21</div><div class="msg">now I need to understand this state concept <a href="https://github.com/pact-foundation/pact-js#api-with-provider-states">https://github.com/pact-foundation/pact-js#api-with-provider-states</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-07-22 08:23</div><div class="msg">@mui_ume You can an introduction here: <a href="https://docs.pact.io/best_practices/provider/using_provider_states_effectively">https://docs.pact.io/best_practices/provider/using_provider_states_effectively</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2019-07-22 08:24</div><div class="msg">Then (if you want to understand conceptually the provider verification side in a language you?re more familiar with, I would refer to the docs here: <a href="https://github.com/pact-foundation/pact-js">https://github.com/pact-foundation/pact-js</a> )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-22 08:27</div><div class="msg">Thanks, can I understand that this state concept, is let's say I login with a valid userID, it will have a response.  the provider will verify that response. then I got another state where I login with an empty userID, it will have a negative response. the provider will verify that negative response (this is another state)?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/946e6fcb41a09e94db898d408800aa11.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">igordezky</div><div class="time">2019-07-22 17:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-23 05:16</div><div class="msg">do I add state in this way or use given?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-23 05:17</div><div class="msg">```beforeEach(() =&gt; {
      const interaction = {
        state: 'Start Chat with valid session',
        uponReceiving: 'id, clientId, session, agentDialog, tenantId, userId, callback, sessionData, conversationId and startTime',
        withRequest: {
          method: 'POST',
          path: urlpath_startChat,
          headers: {
            Accept: '*/*',
            'Content-Type': 'application/json',
          },
          body: like(BODY),
        },
        willRespondWith: {
          status: 200,
          headers: {
            'Content-Type': 'application/json',
          },
          body: like(EXPECTED_BODY),
        },````</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-23 21:21</div><div class="msg">That works fine. There are two interfaces - the builder pattern and this object pattern</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-24 01:27</div><div class="msg">@mui_ume A style comment - the intent of `uponReceiving` is to describe the request. I usually write something like:

```
state: 'The session is valid',
uponReceiving: 'A request to start the chat',
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-24 01:27</div><div class="msg">thanks Tim, I meant to add that but was on mobile and forgot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-24 01:27</div><div class="msg">(I have on a TODO list to write an article that help people think about how to write and structure their BDD-style Pact tests)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-24 01:28</div><div class="msg">That would be awesome!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e1f28a74bb710a343c5d35e0e250bdc5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">getsreerag22</div><div class="time">2019-07-26 02:32</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2019-07-28 07:29</div><div class="msg">@matt.fellows got a POC Javascript test passing with the Rust library: <a href="https://github.com/uglyog/pact-js-v3-poc/blob/master/example/todo-consumer/test/consumer-pact-test.js#L80">https://github.com/uglyog/pact-js-v3-poc/blob/master/example/todo-consumer/test/consumer-pact-test.js#L80</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2019-07-28 07:30</div><div class="msg">When next I have some free time, I'll see about getting some of the V3 matchers and generators working with that test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-28 12:55</div><div class="msg">Awesome! I'll see if I can look this Wednesday when I'm back up to Sydney. That's probably the earliest, otherwise maybe next week</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-28 12:55</div><div class="msg">I'll try and put together a Delta so we know what we're aiming for in terms of migration</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b51468f3b2ea8fc631361e9f2ea47e5d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">elineopsommer</div><div class="time">2019-07-29 13:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b51468f3b2ea8fc631361e9f2ea47e5d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">elineopsommer</div><div class="time">2019-07-29 14:21</div><div class="msg">Hi, I have a pact test like this:
```describe('getRecoloredImage', () =&gt; {
    const imageId = '1';
    const expectedResponseBody = new Blob([''], {type: 'image/jpeg'});

    beforeAll(() =&gt; {
      return provider.addInteraction({
        state: 'provider gets the recolored image',
        uponReceiving: 'a request to get the recolored image for the given image id',
        withRequest: createGetRequestOptions(
          `/drawings/images/${imageId}/recolored/image`
        ),
        willRespondWith: {
          status: 200,
          headers: {
            'Content-Type': 'image/jpeg'
          },
          body: Matchers.like(expectedResponseBody)
        }
      });
    });

    it('should return the recolored version of a given image according to the given parameters', async(() =&gt; {
      service.getRecoloredImage(imageId, machineQualityId, colorSetId, dimensionsInPx).subscribe((blob) =&gt; {
        expect(blob).toEqual(expectedResponseBody);
      });
    }));
  });```

But it gives me ``` HttpErrorResponse{headers: HttpHeaders{normalizedNames: Map{}, lazyUpdate: null, lazyInit: () =&gt; { ... }}, status: 500, statusText: 'Internal Server Error', url: '<a href="http://localhost:9876/drawings/images/1/recolored/image">http://localhost:9876/drawings/images/1/recolored/image</a>', ok: false, name: 'HttpErrorResponse', message: 'Http failure response for <a href="http://localhost:9876/drawings/images/1/recolored/image">http://localhost:9876/drawings/images/1/recolored/image</a>: 500 Internal Server Error', error: Blob{}}```
I just want to test that I get a blob back from the server to display in my page. Does anyone has an idea why it fails?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-30 04:46</div><div class="msg">500 internal server error from the mock probably means that the request didn't match what you said it would</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-30 04:52</div><div class="msg">have a look in the logs to see what the problem was</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 06:43</div><div class="msg">What's the blob? I'm assuming binary, and you definitely can't apply a matcher to a binary object</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b51468f3b2ea8fc631361e9f2ea47e5d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">elineopsommer</div><div class="time">2019-07-30 06:49</div><div class="msg">The content does not matter, I just want to test that I get a blob back. also without the Matchers.like, so only expectedResponseBody as body gives the same error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b51468f3b2ea8fc631361e9f2ea47e5d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">elineopsommer</div><div class="time">2019-07-30 06:49</div><div class="msg">I also get nothing in the pact logs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 07:19</div><div class="msg">If you remove the `body` in the response, does  it start to pass?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 07:22</div><div class="msg">How would/does that blob serialise over the wire?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 07:22</div><div class="msg">Also, are you using a node package or is this in a Jasmine/browser-based environment?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b51468f3b2ea8fc631361e9f2ea47e5d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">elineopsommer</div><div class="time">2019-07-30 07:42</div><div class="msg">if I remove the body, the error keeps the same, I use this in an Angular webapp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b51468f3b2ea8fc631361e9f2ea47e5d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">elineopsommer</div><div class="time">2019-07-30 07:43</div><div class="msg">I can see that the angular http client parses it to a blob, that?s probably the error, but if it is a blob it should not be a problem imo..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 07:44</div><div class="msg">Ok blob aside if you've removed it, the error is somewhere else in your code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 07:44</div><div class="msg">What does the create get request options thing do?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 07:44</div><div class="msg">My suggestion is to strip back your test to something small and working, and then iterate from there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-30 13:25</div><div class="msg">Hi,I got this error   Missing requests:
      	POST /api/identity-manager/v2/invitation/check?method=undefined

      Unexpected requests:
      	POST /api/identity-manager/v2/invitation/check?method=undefined
when my urlpath is '/api/identity-manager/v2/invitation/check?method=undefined'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-07-30 13:25</div><div class="msg">is it need some escape character for ? and =</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 21:13</div><div class="msg">That looks perfectly legal to me  (from a Pact/API standpoint), but also looks to be a mistake. The `undefined` means you?re not correctly referencing a variable and is simply being sent as a string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-07-30 23:10</div><div class="msg">While the `undefined` is concerning, the missing and unexpected URLs look the same, so it might be failing to match on other parameters, such as headers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-30 23:13</div><div class="msg">:point_up: that also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-31 03:58</div><div class="msg">We've got doubled up synk warnings from my account and from @mboudreau. Synk seems useful - I think we should create a pact-foundation synk organisation that all maintainers can access.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-31 03:58</div><div class="msg">Thoughts?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-31 04:01</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-07-31 04:01</div><div class="msg">Do you have access to do that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-07-31 04:02</div><div class="msg">not sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7192e784042c9672c511ffae0a38944d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">pkuang</div><div class="time">2019-08-05 19:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d3659b0e4ffa8e66653f5e8997b35dac.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">christophe.leray</div><div class="time">2019-08-07 15:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-08-08 10:04</div><div class="msg">I get this error ```? Test suite failed to run

    TypeError: Cannot read property 'writePact' of undefined

      10 | 
      11 | afterAll((done) =&gt; {
    &gt; 12 |   global.Platform.finalize().then(() =&gt; done());
         |                   ^
      13 | });
      14 | 

```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-08-08 10:04</div><div class="msg">what is likely the cause?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-08-08 11:01</div><div class="msg">found the cause, it's due the port number 8080 I set, changed to another port solved it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-08-12 15:51</div><div class="msg">Hi All, Looking for some advice. We have been developing a new API within our team, and because its still new and early on we dont yet have any consumers using the API. I have however created a POC and now integrated Pact to prove its benefits within our framework for contract testing. No one has used Pact in the company before, so its a learning curve for everyone. It also means as a Provider i have written tests that test against the mock, creates and Publishes a Pact file and then runs the interactions against the endpoint set up within our test envt</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-08-12 15:51</div><div class="msg">The problem is this is not the e2e lifecycle of the Pact testing, as we have omitted the consumer.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-08-12 15:52</div><div class="msg">Is it the case where we might have to setup an endpoint to consume the API just to get an e2e up and running?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-08-12 15:53</div><div class="msg">I will be grateful of any thoughts/suggestions :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8791a6fb65b8bc8da616c28e13d8acb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">dalsidhu99</div><div class="time">2019-08-12 15:58</div><div class="msg">i have seen the notes on this <a href="https://github.com/pact-foundation/pact_broker">https://github.com/pact-foundation/pact_broker</a> but as mentioned we havent yet any consumers of the api</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-12 22:30</div><div class="msg">No, you don?t _need_ to create an consumer just for the tests, but you might _like_ to. Sometimes it?s helpful to build a client as an example that you can share with teams when they want to integrate.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-12 22:31</div><div class="msg">You can and probably should continue to publish / retrieve from a broker, because when clients do come on board they can start publishing and you can start validating as soon as they come on board. There is definitely some value in doing that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-16 12:17</div><div class="msg">@uglyog This is with regard to <a href="https://github.com/pact-foundation/pact-js/issues/278">https://github.com/pact-foundation/pact-js/issues/278</a>
According to your last comment ` don't call .getBody() on your request and response bodies` what should I expect in request/response otherwise?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-16 12:29</div><div class="msg">I think he meant:

```
.body(this.getRequestBody().asBody())
```

should just be

```
.body(this.getResponseBody()) // &lt;--
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-16 12:29</div><div class="msg">Hence the arrows he provided. I?m just guessing though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-16 12:33</div><div class="msg">@matt.fellows Tried doing it, no luck.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-16 12:34</div><div class="msg">Re-iterating, consumer here is the `java code` &amp; provider is a `js code`.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-16 12:35</div><div class="msg">The same code works fine when both the consumer &amp; provider are `java`.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-16 12:35</div><div class="msg">@matt.fellows Can we please re-open the issue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-17 02:40</div><div class="msg">@paras.vora happy to re-open if you can prove the issue relates to JS. At the moment, you have a Pact file that _doesn?t have any matchers_ in it. So it?s doing a string equality match. The main issue is that something is not correct with your JVM tests, so they aren?t producing a pact file with matchers in it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-17 02:40</div><div class="msg">Until we fix that, the issue is not with the JS library.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-17 02:41</div><div class="msg">after you tried making the above adjustment, did the generated Pact file start to contain matchers? This will help us further diagnose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-17 02:41</div><div class="msg">I understand it?s frustrating, we want to help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2019-08-17 05:07</div><div class="msg">When you use `.body(this.getRequestBody().asBody())` it converts the builder into a plain object for serialization into the body. You loose all the matchers.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-18 10:01</div><div class="msg">@matt.fellows This is the generated pact file. I see the below section in it:
```
"matchingRules": {
                    "body": {
                        "$.header": {
                            "matchers": [
                                {
                                    "match": "type"
                                }
                            ],
                            "combine": "AND"
                        },
                        "$.footer": {
                            "matchers": [
                                {
                                    "match": "type"
                                }
                            ],
                            "combine": "AND"
                        },
                        "$.body": {
                            "matchers": [
                                {
                                    "match": "type"
                                }
                            ],
                            "combine": "AND"
                        },
                        "$.page.format": {
                            "matchers": [
                                {
                                    "match": "type"
                                }
                            ],
                            "combine": "AND"
                        },
                        "$.page.height": {
                            "matchers": [
                                {
                                    "match": "type"
                                }
                            ],
                            "combine": "AND"
                        },
                        "$.page.width": {
                            "matchers": [
                                {
                                    "match": "type"
                                }
                            ],
                            "combine": "AND"
                        }
                    }
                }
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-18 10:53</div><div class="msg">Ah! Ok at least we're getting matchers now. So, The JS library doesn't support v3 matchers. Please try using v2 on Pact JVM and generating a new contract, and see if that works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dd2237233971f2944ff5c1f6c6c80d7b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">chuck</div><div class="time">2019-08-19 01:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-19 04:39</div><div class="msg">@matt.fellows Thanks for the response, below are the too libraries I am using in JVM:
```
testCompile('au.com.dius:pact-jvm-provider-spring_2.12:3.5.14',) {
        exclude group: "org.codehaus.groovy", module: "groovy-all"
}
```
```
compile("au.com.dius:pact-jvm-consumer-junit_2.12:3.5.14",) {
        exclude group: "org.codehaus.groovy", module: "groovy-all"
}
```
Below is what is used in the JS:
```
 "@pact-foundation/pact": "^9.0.1",
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-19 04:40</div><div class="msg">Could you please help with the correct compatible versions?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2019-08-19 04:50</div><div class="msg">@paras.vora in your consumer pact test in Java, you would have created an instance of PactProviderRuleMk2. One of the parameters you can provide to the constructor is PactSpecVersion. Setting it to PactSpecVersion.V2 will make the generated pact file compatible with Pact-JS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-08-19 06:21</div><div class="msg">@matt.fellows / @uglyog thanks for the help, that worked. :+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-19 06:41</div><div class="msg">:ok_hand::the_horns:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da803182369215f71808c05640d40cc5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">philusd</div><div class="time">2019-08-20 11:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da803182369215f71808c05640d40cc5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">philusd</div><div class="time">2019-08-20 11:49</div><div class="msg">I have a question or rather something I have found with: YOU54F/jest-pact. You can setup cors with your pactoptions although it is not defined in the type and gives an error, but it works. Is that intended?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-08-20 14:05</div><div class="msg">Hey,

Wasn?t done by design.

The pactOptions jest-pact exposes are

```
export interface PactOptions {
  provider: string;
  consumer: string;
  port?: number;
  logLevel?: LogLevel;
  pactfileWriteMode?: PactFileWriteMode;
  dir?: string;
}
```

which is a subset of the pactOptions exposed in pact-js

This is why you will probably see a compiler error from TypeScript, but it will be passed through to pact-js and work as intended.

Feel free to open a PR against jest-pact to allow the cors options in the pactoptions object

<a href="https://github.com/YOU54F/jest-pact/blob/f542cfca89e9675dd47bbbc5071ce279a5a0760e/src/index.ts#L4">https://github.com/YOU54F/jest-pact/blob/f542cfca89e9675dd47bbbc5071ce279a5a0760e/src/index.ts#L4</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2019-08-20 17:19</div><div class="msg">Hey guys, I am trying to implement Pact between a consumer and provider that communicate through a WebSocket connection. I have read the examples provided, but still have some questions, and there isn?t a lot of writings on this online (might be something I?ll tackle once I?m done). Maybe these questions come from the fact that they apply more to a messaging queue than my exact case.

Questions:
- The handler function that is given in the example is the already existing handler logic in your consumer? Or is it a handler function that you write that wraps around some logic on the consumer?
- Assuming it?s the existing handler function, does that means it needs to necessarily be doing validation of the incoming message? And that?s the part we care about, and mock everything else, if possible?
- Where exactly do you test the consumer?s business logic on top of that message? Is that something you simply don?t care about?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 09:57</div><div class="msg">Hello, and no, they?re all good questions!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 10:05</div><div class="msg">At the moment (at least) we don?t properly support WebSockets as a first class thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 10:05</div><div class="msg">we support it like other _message like_ interactions as you?ve noted</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 10:06</div><div class="msg">the standard pattern here is  to abstract your  protocol handler (i.e. the thing that can talk websockets) from your code that sends or receives a message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 10:07</div><div class="msg">I like the ports and adapters metaphor (Alastair Cockburn) to describe this. See slide  20  of a talk I did recently that might help  visualise this for you: <a href="https://www.slideshare.net/DiUSComputing/serverless-microservices-test-smarter-not-harder/20?src=clipshare">https://www.slideshare.net/DiUSComputing/serverless-microservices-test-smarter-not-harder/20?src=clipshare</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 10:15</div><div class="msg">In that terminology, I?d be creating a ?port? that knows what to do with the message, but doesn?t  know about the websockets protocol and a separate ?adapter? that performs the conversion. The adapter doesn?t perform business validation, but obviously will need to do basic protocol validation (is it a valid WS interaction / JSON object etc.)

This has multiple benefits, but in our case it makes our code more testable.

You might be able to use this ?port? (function) directly as the handlers to the message testing framework, or you may need  to create a small adapter for the test framework.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 10:15</div><div class="msg">&gt; And that?s the part we care about, and mock everything else, if possible?

I?d mock out any external dependencies, yes. But that?s a general Pact guideline</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 10:18</div><div class="msg">&gt; Where exactly do you test the consumer?s business logic on top of that message? Is that something you simply don?t care about?

It depends on how much you  want the  pact test to cover. I?m assuming you probably have other  tests that do  all of the key business/functional logic. So really  all you  want  to  test here is what  is relevant for the _contract_,  specific to this collaboration.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-21 10:21</div><div class="msg">Generally, for this sort of thing, is that it will take an input (the message), correctly understand it, and perform some action. That might be to write to a DB or to call out to another thing. I?d mock  those other things out, and ensure the key things happened. Because for  every functional test  you do, you need  another  Pact test,  that  is a way to  find a smell. You only want one Pact test for each message shape - so if you?re finding yourself  with multiple  identical messages to test what  you?re doing, step  back</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a5d1aa7d5cd1fe15a7604cee90a28585.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">dglaubman600</div><div class="time">2019-08-22 02:26</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2019-08-22 07:06</div><div class="msg">Hey Matt. Thank you so much for the quick an detailed response (as usual)! I?ll try and see if this can be applied to our current setup, then. I think I was on the right track already, but it sounds like I will indeed need to create my own adapter for the test.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a5d1aa7d5cd1fe15a7604cee90a28585.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">dglaubman600</div><div class="time">2019-08-23 04:55</div><div class="msg">We use PACT in building our microservice-based app (Vue.js front end hitting Kotlin/JVM services)

Was very interested to read: <a href="https://blog.pactflow.io/injecting-values-from-provider-states/">https://blog.pactflow.io/injecting-values-from-provider-states/</a>

Is this feature (generators) supported in current versions of Pact-js and pact-jvm?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2019-08-23 04:57</div><div class="msg">Only in Pact-JVM and in the Rust implementation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-23 04:58</div><div class="msg">The best way for us to know how popular/wanted a feature is for it to appear and be requested on GitHub. So if you'd be so kind as to raise it on GH that would help us prioritise our efforts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-08-23 04:59</div><div class="msg">We already have many issues requesting v3.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-08-24 03:03</div><div class="msg">true, albeit not this specific feature (in fact  looking through the PactJS issues it?s not there at all. I might raise an Epic to start tracking all of the sub features so we can prioritise and commit against it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-29/744659564262_c513a6217a6eea55e161_72.jpg" /><div class="message"><div class="username">joao</div><div class="time">2019-08-29 13:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/704e51ea88d2967a1f561b2d1f90ba4a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">enrique</div><div class="time">2019-08-29 15:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eb7bd3689f6abf363b7719db4efa8215.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jing.song</div><div class="time">2019-08-29 23:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-09 15:05</div><div class="msg">Hello ! I?ve been working on our test suite for a few weeks and discovered recently Pact and decided to implement it on most of our services.

I?ve started by testing our public API which has one provider, our backend. I?ve split the tests among 5 different files, one for each endpoint, and each with their own mock server. The tests are executed sequentially. Following the documentation, I?ve made sure to delete the `pacts` folder before running tests and set the `pactFileWriteMode` to `merge`. However, it appears that only the interactions contained in the last test file are written in the pact file. It seems like it?s overwriting itself.

I?ve also seen on the documentation that each mock server should run on its own port however I?m not sure how to do that since I?m testing different endpoints with or without interactions with the same provider (hence, same port). I could change the environment variables after each mock server setup to match the mock server?s port but that seems ugly.

Is there something I?m missing here? I?ve also started to think about merging all test files together to have a single provider but that?ll be definitely messy (and I?ve got different versions for each endpoints to test?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-10 02:59</div><div class="msg">Does the ava example in the pact js repository work for you?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-10 02:59</div><div class="msg">it sounds like there is a setup issue somewhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-10 02:59</div><div class="msg">&gt; I?ve also seen on the documentation that each mock server should run on its own port

Only if they need to run in parallel (because obviously you can?t have conflicting ports). If run serially as you say, it should be fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-10 03:00</div><div class="msg">Just also make sure that each tests makes the call to `finalize` so that the pact is written</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-10 08:27</div><div class="msg">Hi Matt, thanks for your answers.
I?ve checked all the examples, including the ava example. My setup is very similar to the example with the difference that my tests run sequentially and not parallel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-10 08:32</div><div class="msg">Right now I?ve got 6 files, testing 5 endpoints, all following the same logic.

```
describe('endpoint /xyz tests') {

before =&gt; init server, add any external mocks needed, setup provider

describe('testing v... for specific endpoint') {

before =&gt; 
add needed interactions

Then test endpoints &amp; interactions

after =&gt; verify interactions

}

after =&gt;  finalize
}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-10 08:34</div><div class="msg">I?ve also did several checked, removing one test of the sequence or just testing it indvidually. Pacts are written but when running sequentially, they seem to be overwritten</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-11 05:02</div><div class="msg">```
before =&gt; init server, add any external mocks needed, setup provider
```

Can you share the code that does this, please? Ideally from each test file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-11 05:03</div><div class="msg">Also, which test framework are you using?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-11 08:06</div><div class="msg">Hi Tim, I?m using lab from the Hapi js suite. I?ll create a repo to share on github</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-11 08:34</div><div class="msg">Hey Tim. I?ve created a repo with my tests folder. It contains my entire test setup and some context (package.json, server file, etc.). I cannot add all the context obviously but I hope this helps!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-11 08:35</div><div class="msg"><a href="https://github.com/robinfla/lab-pact-tests">https://github.com/robinfla/lab-pact-tests</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-11 13:04</div><div class="msg">Thanks Robin, this is really great. I'll take a look tomorrow (apologies was running a meetup tonight). I suspect the pact log will be illuminating in further understanding. My suspicion is that write pact might only need to be called once at end end of it all. But I'm looking on a mobile and may have missed something</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-11 13:05</div><div class="msg">Beautiful code, btw</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-11 13:12</div><div class="msg">Thanks Matt and thanks for your help. I?m still testing different options, I?ll keep you posted if I find anything :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-11 13:27</div><div class="msg">I?ve also added the latest pact.log, which is a reflection of the pact json file and only logs the latests interactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-12 00:17</div><div class="msg">Thanks for that Robin. I?ve just pulled it down now, unfortunately a bunch of dependencies don?t seem to be downloadable and I can?t run it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-12 00:18</div><div class="msg">e.g. `npm ERR! 404 Not Found: @citizenplane/pygmalion@^1.0.3`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-12 09:27</div><div class="msg">Ah, indeed, those are our internal modules</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-12 09:27</div><div class="msg">let me see what I can do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-12 09:35</div><div class="msg">Okay I?ve changed the npm settings from private to public you should be able to pull it. However you won?t be able to run the tests without the codebase and I unfortunately can?t really share that with you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-12 09:50</div><div class="msg">All good. I'll try to reproduce another way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-12 14:14</div><div class="msg">Thanks, let me know if I can help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-13 09:49</div><div class="msg">Morning everyone.

I?m working now on my provider verification tests. Our API has a few models with null or typed field and arrays / object that can be either empty or filled with relational data. I?ve understood looking at the documentation that, for good reason, matchers do not allow these specific use cases and that I should rater use different states to specify my interactions. That?s not a problem and it works quite well.

However, when it comes to provider verification, I?m a bit stuck. If I want to make sure that the data saved in the interactions will, in fact, match the data returned by the provider, I have to mock my database queries. If I?m running a seeded database I have no control over the data inside the database as it is randomized and thus I could have failed verification because a field is a string and not null, or an array is not empty, etc.
I already mock database queries for my integration tests but I know exactly which query I need to mock and which data needs to be returned. When I?m running all the verifications, That?s a bit more complicated because I have potentially a lot of queries to mock. I also need to know the order if I want to do it right. And if there?s several consumer depending on my consumer, which interaction will get verified first?
How do you usually make sure your provider database data will match the interactions saved if there are some optional fields and / or fields that can be either null / typed, etc.?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-13 11:15</div><div class="msg">Morning!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-13 11:15</div><div class="msg">(or in our case, evening!)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-13 11:25</div><div class="msg">So basically, because consumers depend on these states, and provider builds can fail because of them, I usually do the following as the initiative progresses (if doing pure consumer-driven, for obvious reasons you won?t be able to do all of this):

? Advertise specific entities / scenarios that exist in advance for anyone to use (e.g. Users, Orders, whatever - useful for the `200` type scenarios)
? Create and agree on a standard convention for describing the ?states?. There is no one way of doing this, and it?s ideal there are fewer of them for the provider to have to worry about.

This can be in a Wiki page, the providers? repository or some place that everyone has shared and immediate access to.

I usually implement this via data fixtures and running a real database (e.g. in Docker), so I can control most things like IDs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-13 12:11</div><div class="msg">Hum okay so, if I understand correctly:
- You?re running a real database with a known set of data that you use during your provider tests
- In order to do that, you share some specific entities with corresponding IDs for everyone to use when testing consumers and writing interactions
- Which means that the data you?re using when writing your interaction has to match an entity in the database which will also match the state described in the interaction

Is that right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-13 12:21</div><div class="msg">Yep. There are many ways to achieve that - the standard is probably that a consumer drafts a contract, with a state that makes sense for their use case, and before it becomes ?real? (e.g. tagged with ?master? or ?prod?) it might get reviewed and updated based on the provider teams? feedback</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-13 12:22</div><div class="msg">@uglyog thoughts / additions? I feel like we could probably publish more about our thinking on this, including how to describe the tests (BDD vs API description vs ..)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-13 12:37</div><div class="msg">I see, thanks for the explanation, that?s an interesting process.

In our current organization, I feel this is actually a bit overkill. We?re only 5 engineers with 10 - 15 microservices. We?ve only recently started thinking about our whole framework and that?s how I started working with Pact. Ideally I wanted to implement something along the line of:

*For the consumer*
- All external services are mocked with different state / scenarios to test API responses
- Database queries are mocked as well
- Internal services are mocked with Pact &amp; interactions are registered using Joi schemas from the consumer to dynamically generate the payload &amp; Joi schemas from the provider to dynamically generate the response (I?ve developed an internal module that generates a random data set based on a joi schema and another module holds all our validation schemas)

*For the provider*
- Same logic for integration tests
- As for the pact verification tests, mocking database queries seem impossible for the reason I?ve written above. Therein lies the rub

The reasoning behind this was to avoid hardcoding data inside the tests. I also didn?t want to have to manually type my payloads or update them every time I made a change to the validation schema. However, randomizing payloads means I?ve got to mock my database queries and that wouldn?t work on the provider side</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-09-15 23:55</div><div class="msg">I use the same approach, in principle, but stub out the API way closer to the HTTP layer . . . usually cutting off around the use-case layer.

It does mean I have to build fixtures up in every language/platform that needs them, though.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-09-15 23:56</div><div class="msg">Which potentially could be solved with a library of JSON fixtures, for example . . .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-16 00:59</div><div class="msg">&gt; However, randomizing payloads means I?ve got to mock my database queries and that wouldn?t work on the provider side

Yes, the randomness is what will make this problematic. Pact JVM actually provides the facility to inject values through states (<a href="https://blog.pactflow.io/injecting-values-from-provider-states/">https://blog.pactflow.io/injecting-values-from-provider-states/</a>: which would / could help with this) but I?d recommend against this for other reasons.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-16 01:00</div><div class="msg">The main reason is that if you go down the manage your contracts and workflow through the Pact Broker path, you won?t be pre-verified (value changes in a contract that is otherwise structurally equivalent will be seen, at least for now, as a contract change, so you won?t get some of the benefits of the can-i-deploy tool <a href="https://docs.pact.io/pact_broker/can_i_deploy)">https://docs.pact.io/pact_broker/can_i_deploy)</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-16 13:12</div><div class="msg">Hum missing pre-verification would indeed be a shame. And I?m not even sure how provider states could work vs a fully randomized interaction.

Well, I?ll reevaluate my current setup, either keep with what I have and remove pact for now or change how I generate test data &amp; mock the db and set up pact now. Thanks for your time and answer :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b6ba7d59c3431dc19f11899077a56525.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">lauri.vaeaenaenen</div><div class="time">2019-09-16 16:09</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-20/769049973511_ff79002fb7788ab2288a_72.jpg" /><div class="message"><div class="username">kiranpatel11</div><div class="time">2019-09-16 21:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-16 21:29</div><div class="msg">You seem to be thinking about it right, so keep going and if you have more questions let us know</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-16 21:29</div><div class="msg">Btw, do you use OAS at all?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-16 21:33</div><div class="msg">Also, we may eventually improve the prr verification checks to be content independent</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-09/753269603664_9934c6ebb2925a301042_72.jpg" /><div class="message"><div class="username">robin</div><div class="time">2019-09-17 08:00</div><div class="msg">No I don?t use OAS, I used to but I migrated to a self-hosted, markdown-based api documentation. It?s purely for documentation purposes though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-10-14/796212567815_8220b02d9e404f745056_72.jpg" /><div class="message"><div class="username">dianaszaharia</div><div class="time">2019-09-19 10:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-09-19 19:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-09-19 19:27</div><div class="msg">Hi @here, I'm new to pact-js and have a general question, let me know if there's a better channel?

Should I be making many assertions in my consumer contract tests?  I've seen this pattern in most of the pact example projects, but I'm not sure why.  I realize setting up the provider mocks and calls are necessary to generate the contract, but AFAIK the real provider responses won't be compared against the consumer assertions.  All that matters is if the data in the consumer contract matches the provider's responses, right?

I could see comparing the provider mocks against my unit test mocks, but copying my unit test assertions into my contract tests seems like it's just adding maintenance overhead.  I'd rather just replace some of my unit test mocks with provider mocks.

Any thoughts or comments are welcome.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-09-19 19:36</div><div class="msg">Maybe I should be adding pact interactions during my unit tests, instead of separating them as so many examples do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-20 02:15</div><div class="msg">&gt;  All that matters is if the data in the consumer contract matches the provider?s responses, right?

Yes, or more specifically in most cases, just the shape of the data.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-20 02:16</div><div class="msg">&gt; Should I be making many assertions in my consumer contract tests?  I?ve seen this pattern in most of the pact example projects

Can you share an example as to what you think is the anti-pattern here? If we have bad examples we ought to fix them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-20 02:17</div><div class="msg"><a href="https://docs.pact.io/best_practices/consumer">https://docs.pact.io/best_practices/consumer</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-20 02:17</div><div class="msg">and <a href="https://docs.pact.io/best_practices/consumer/contract_tests_not_functional_tests">https://docs.pact.io/best_practices/consumer/contract_tests_not_functional_tests</a> might be worth a read</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-20 02:18</div><div class="msg">but the short answer is that you want to be testing your collaborator companent, which may involve multiple assertions. If they overlap with unit tests, reduce the overlap to the smallest amount until you still catch any potential integration issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:49</div><div class="msg">Are you asking why we need to assert on the response in the test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:51</div><div class="msg">Oh, yeah, we have some anti-patterns in the examples</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:51</div><div class="msg">in the jest examples, it says:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:51</div><div class="msg">```
    it("returns a sucessful body", done =&gt; {
      return getMeDogs({
        url,
        port,
      })
        .then(response =&gt; {
          expect(response.headers["content-type"]).toEqual("application/json")
          expect(response.data).toEqual(EXPECTED_BODY)
          expect(response.status).toEqual(200)
          done()
        })
        .then(() =&gt; provider.verify())
    })
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:52</div><div class="msg">So, pact does the assertion of the response codes / headers etc for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:52</div><div class="msg">However, in a clean design you'd expect the response from your API layer to be a domain object, rather than an http response object</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:54</div><div class="msg">Have a look at this example:

<a href="https://github.com/TimothyJones/PlusOne/blob/master/src/Game/Board/service/api/api.pact.test.js">https://github.com/TimothyJones/PlusOne/blob/master/src/Game/Board/service/api/api.pact.test.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:54</div><div class="msg">```
 it('returns the number of times this score has been reached', done =&gt; {
        scoreBoard
          .reachedScore(12)
          .then(({ reachedBy, globalHighScore }) =&gt; {
            expect(reachedBy).toEqual(EXPECTED_BODY.timesReached);
            expect(globalHighScore).toEqual(EXPECTED_BODY.globalHighScore);
          })
          .then(done);
      });
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:55</div><div class="msg">In javascript, it is often the case that your API layer just returns the body, so yes, your test often looks like:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:56</div><div class="msg">```
it('returns the body', () =&gt; 
    callApi(someConfig).then(data =&gt; expect(data).toEqual(EXPECTED_BODY));
)
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:57</div><div class="msg">Pact ensures that the mock provider will return what you asked for (if the request is what you said it would be)

Then your unit test needs to assert that your API call returned the domain object that you are expecting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:58</div><div class="msg">it's an anti-pattern to put the http call, or the http response in the pact test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:58</div><div class="msg">The best practice is to call the api wrapper (which will do the call)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 04:58</div><div class="msg">essentially, you're testing everything that you wouldn't unit test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 05:00</div><div class="msg">&gt;Maybe I should be adding pact interactions during my unit tests, instead of separating them as so many examples do.

This is more a practical point - pact tests take much longer to run than the rest of your unit tests. If you don't mind longer test runs, you can run pact as part of the rest of your test suite. I have done both, it depends on the project</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 05:04</div><div class="msg">In english, a single pact test says:

? If I send this request (`withRequest`)
? I'll get this response from the server (`willRespondWith`)
? This happens when I call this function (whatever your function call is, inside a `test` or `it`, or whatever your test framework has - and `provider.verify()` confirms this)
? The calling code returns this object to the caller (this is the assertion)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 05:04</div><div class="msg">let me know if the explanation isn't clear</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-20 05:06</div><div class="msg">Put simply:

&gt; All that matters is if the data in the consumer contract matches the provider's responses, right?

No. It also matters that the calling code gets the right object returned. Otherwise an implementation like:

```
const apiCall = (someParams) =&gt; {
   axios.get(/* .... */);
   return 'something irrelevant';
}
```

might pass the tests.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-09-20 17:12</div><div class="msg">Thanks for the detailed responses!  I'll read up and continue learning from your links.

I'm too new to Pact and contract testing to have an informed opinion on anti patterns yet.

I see that broker validation may take quite awhile, which is a great argument for separating contract from unit tests.

Thanks again for the responses, and your hard work on this project.  I'm really looking forward to working with Pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-24 00:49</div><div class="msg">On this day one year ago, pact-js had around 6,000 weekly downloads on npm. Today it is 36,000</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-09-24 00:50</div><div class="msg">You're welcome! Please let us know if you have any further questions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-24 01:40</div><div class="msg">According to our analytics, which I trust more than npm,  it?s actually more like 80k</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0407376f1ebe5ae0b99b9fa0870ca25.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">bernardo.guerreiro</div><div class="time">2019-09-24 07:09</div><div class="msg">6 digits incoming !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2019-09-25 23:15</div><div class="msg">@matt.fellows I have some capacity this weekend to work on the V3 beta. You did push up all the changes you did?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-25 23:27</div><div class="msg">shit, no. It?s on the other laptop. Setting reminder in my phone now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a325ab55261e2c974f594d9337b1c0d6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">angela.gloyna</div><div class="time">2019-09-26 06:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/662742667324a8bcea65642a1b3c584d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">vk.regs</div><div class="time">2019-09-26 08:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2019-09-28 07:17</div><div class="msg">@matt.fellows got the example test working node-pre-gyp and neon. <a href="https://github.com/pact-foundation/pact-js/blob/feat%2Fv3.0.0/examples/v3/todo-consumer/README.md">https://github.com/pact-foundation/pact-js/blob/feat%2Fv3.0.0/examples/v3/todo-consumer/README.md</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-09-28 07:59</div><div class="msg">FFS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-09-28 11:19</div><div class="msg">That?s awesome news Ron. I?ll try to take a look tomorrow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8b4edf64bd16129384e720a9e7e91b2e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">catrionamcgarvey</div><div class="time">2019-09-29 00:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/379718c1932f405225c92a2a30f91e78.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">reachbharathan</div><div class="time">2019-10-03 13:09</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-10-08 14:56</div><div class="msg">Hi everybody. We would like to make provider verification job less verbose. Currently, for each request in pact contract (both passed and failed) we get something like this in STDOUT (I guess this is RSpec reporter used in pact-ruby):
```
  Given [{"name":"token does not exist","params":{"token":"invalid"}}]
    invalid response token auth request
      with POST /v1/auth/token
        returns a response which
          has status code 422
          has a matching body
          includes headers
            "Content-Type" which equals "application/json; charset=utf-8"
```
This is too verbose for my team... Developers complain that they?re lost in this huge output and they want to get an output for failed tests only.

Any suggestions where I should look?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:00</div><div class="msg">I think you're correct about the reporter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:01</div><div class="msg">pact-js uses <a href="https://github.com/pact-foundation/pact-provider-verifier">https://github.com/pact-foundation/pact-provider-verifier</a> for the verification, which supports either custom formatting or redirecting the output</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:04</div><div class="msg">However, specifying the format isn't exposed in the js wrapper</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:04</div><div class="msg"><a href="https://github.com/pact-foundation/pact-node/blob/master/src/verifier.ts">https://github.com/pact-foundation/pact-node/blob/master/src/verifier.ts</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:05</div><div class="msg">How are you kicking off the verification?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-08 22:08</div><div class="msg">It'll need to be added to the wrapper then.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:09</div><div class="msg">Oh hi! I just asked about this in #pact-ruby-standalone  - I'm not sure what the option should be set to for this case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-08 22:09</div><div class="msg">I'm not sure if the progress formatter is supported (that's the low noise one) but it easily can be.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:09</div><div class="msg">```
--format=FORMATTER
# RSpec formatter. Defaults to   custom Pact formatter. Other options are json and RspecJunitFormatter (which outputs xml).
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-08 22:10</div><div class="msg">Yeah, looks like the low noise one isn't supported yet. I think it's "progress".</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-08 22:10</div><div class="msg">@vitaliy.grigoruk you can run one interaction at a time, btw.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:10</div><div class="msg">Cool. Want me to open an issue against pact-provider-verifier?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:11</div><div class="msg">I can make a PR to expose the option in the wrapper</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-08 22:13</div><div class="msg">I've just tested it, and you can set --format progress and it will only show failures.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:14</div><div class="msg">sweet, I'll expose this in pact-node sometime today. Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-08 22:15</div><div class="msg">np</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-08 22:17</div><div class="msg">Which test framework do you use, btw? E.g. Mocha, jest ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-08 22:18</div><div class="msg">@vitaliy.grigoruk, I created <a href="https://github.com/pact-foundation/pact-node/issues/188">https://github.com/pact-foundation/pact-node/issues/188</a> to track this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-10-09 07:28</div><div class="msg">we don?t use any frameworks at the moment. We have 1 js file which launches pact-provider-verifier via pact-js and that?s it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-09 07:42</div><div class="msg">If you were to use one, what would you use? The reason being, I'd like to be able to report each verification as a single item so you can get usual test reporter output instead of a single pass or fail for the whole thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-10-09 07:46</div><div class="msg">I personally like jest, but we use mocha already in our provider codebase, so I?d love to have mocha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-10-09 11:47</div><div class="msg">could you please explain how I can do this with pact-js / pact-node?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-10 20:28</div><div class="msg">It should be in the output of the failed test. If it's not then I'll raise an issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-10 20:29</div><div class="msg">Set the env vars PACT_DESCRIPTION and PACT_PROVIDER_STATE to match the one you want</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-10 20:29</div><div class="msg">Though you're running a v3 pact with an array of states, so I'm not sure that the provider state will match.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-10 20:30</div><div class="msg">Try just setting the description</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-10-11 07:03</div><div class="msg">didn?t know about this feature. Thank you for sharing! Yes, we use v3 provider states encoded into a string (so it is v2 compatible).
I?ll check if I see this in the output, if not - I?ll create a ticket</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-16 17:04</div><div class="msg">I see that I can pass the Verifier either filenames via `pactUrls`, or fetch pacts from a broker via `pactBrokerUrl`, but can I pass it JSON instead?

I could write the JSON to disk and pass the verifier temporary filenames, but would rather avoid that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b064213e95e7ed2056501474cd270054.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">joshwakefield45</div><div class="time">2019-10-16 18:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-16 20:34</div><div class="msg">It doesn't accept inline json at the moment. Can you elaborate why you might need it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-16 20:37</div><div class="msg">I'd like to use a custom pact broker to get better control over which pacts should be verified.

That means I need to either fetch the pacts and write them to disk, or figure out a way to replace the default Verifier request with my own.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-16 20:39</div><div class="msg">The simplest workaround seems to be having the provider fetch and write pacts to disk, then passing the filenames to the Verifier via pactUrls.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-17 07:05</div><div class="msg">Yep, writing to disk is by far the easiest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-17 07:05</div><div class="msg">What's missing in the broker that we should add for your use case?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-01/646080654081_dcbc4e959ef8ec65cfa5_72.jpg" /><div class="message"><div class="username">thakkarjinal29</div><div class="time">2019-10-17 11:52</div><div class="msg">Hello, I am writing consumer tests for our angular application, in which for 1 of the API we send the request body as `multipart/form-data`. The mock service is giving this error `Error ocurred in mock service: NoMethodError - undefined method 'encoding' for #&lt;Hash:0x007f898a108d38&gt;`.

I came across a similar issue <a href="https://github.com/pact-foundation/pact-support/issues/68">https://github.com/pact-foundation/pact-support/issues/68</a> which was I think fixed about a month or more ago. I have the latest `pact-node` and `pact-web` packages which use the standalone version `darwin-1.70.2`. But it does not seem to work for me. Could someone help please.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-17 16:24</div><div class="msg">We have some legacy providers that are not versioned, so I'm tapping into our CI/CD pipeline to archive old contracts when those providers update.  (I'm also pushing to add versions, but that's been surprisingly controversial.)

I'm storing the contract objects in the same format, and would use the default Verifier request to fetch them, but my broker is implemented in graphql, so it would mean modifying the request.

I appreciate all of your work on this project, we're pretty excited to add contract testing via Pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-01/646080654081_dcbc4e959ef8ec65cfa5_72.jpg" /><div class="message"><div class="username">thakkarjinal29</div><div class="time">2019-10-18 05:48</div><div class="msg">Hey @bethskurrie @matt.fellows, could you guys take a look please?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-18 06:16</div><div class="msg">@thakkarjinal29 can you see the instructions I gave that user to recreate the issue? Can you please do the same?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-18 06:16</div><div class="msg">Also, check that you're setting your content type and accept headers correctly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-01/646080654081_dcbc4e959ef8ec65cfa5_72.jpg" /><div class="message"><div class="username">thakkarjinal29</div><div class="time">2019-10-18 06:17</div><div class="msg">Yes, will do it thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-10-18/803198007430_891521179dd54d32f262_72.jpg" /><div class="message"><div class="username">travis.anderson</div><div class="time">2019-10-18 18:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/29d254b8132d7a1bc72a0880f39b50cf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">stevi.deter</div><div class="time">2019-10-21 20:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-10-18/803198007430_891521179dd54d32f262_72.jpg" /><div class="message"><div class="username">travis.anderson</div><div class="time">2019-10-21 22:18</div><div class="msg">Screenshot of a discussion I was having on the pactteshelp channel. I didn't realize there was nobody from Pact on the channel. Can anyone provide some insight on this to help me understand how Provider verification actually works?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-21 22:33</div><div class="msg">Sorry, I didn?t know what the channel was or why it existed. We all tend to hang out in the language specific channels</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-21 22:34</div><div class="msg">I?ve answered the first bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-10-18/803198007430_891521179dd54d32f262_72.jpg" /><div class="message"><div class="username">travis.anderson</div><div class="time">2019-10-21 22:46</div><div class="msg">No worries, I have found it. Working on processing all of the answers :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-21 23:16</div><div class="msg">Is anyone here familiar with Pact's `GraphQLInteraction`?

I'm having an issue where my consumer query does not match the expected query, because regex sees unexpected newlines and `__typename`.

I'm using the same gql string for both queries, and I tried formatting it on one line, but apparently `apollo-boost` reformats it onto multiple lines.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-21 23:17</div><div class="msg">hmmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-21 23:17</div><div class="msg">I think there is an open issue at the moment on the repo, maybe double check that you?re not running into that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-21 23:17</div><div class="msg">Here's the diff:
```
Diff
--------------------------------------
Key: - is expected 
     + is actual 
Matching keys and values are not shown

 {
   "body": {
-    "query": /query\s*QueryContractById\(\s*\$provider:\s*String!\s*\$contractId:\s*ID!\s*\)\s*\{\s*contractById\s*\(\s*provider:\s*\$provider\s*contractId:\s*\$contractId\s*\)\s*\{\s*contractId\s*provider\s*consumer\s*\}\}/
+    "query": "query QueryContractById($provider: String!, $contractId: ID!) {\n  contractById(provider: $provider, contractId: $contractId) {\n    contractId\n    provider\n    consumer\n    __typename\n  }\n}\n"
   }
 }
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-21 23:18</div><div class="msg">can you not add `__typename` into the expected query?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-21 23:19</div><div class="msg">I'll do that and try some suggestions from the github issue here:

<a href="https://github.com/pact-foundation/pact-js/issues/292">https://github.com/pact-foundation/pact-js/issues/292</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-21 23:20</div><div class="msg">thx, let us know how you go</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-21 23:20</div><div class="msg">happy to evolve that API as I know it?s not perfect</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-10-21 23:27</div><div class="msg">Whoa, yeah, never heard of that channel :sweat_smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-22 00:00</div><div class="msg">It looks like apollo-boost changes the string by adding commas, which don't match the Pact regex.

I finessed my `withQuery` string to match what Pact expects and got it working for now, but making commas optional would be better.

Thanks for your prompt response earlier, and have a great rest of your day!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-22 00:02</div><div class="msg">The newlines threw me off for a bit because they fail regex testers, but don't seem to fail the actual comparison.  So there may be something fishy there.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-22 17:00</div><div class="msg">Setting up some new interactions with Mocha and ApolloGraphQLInteraction.  Both interactions pass separately, but when run together the second interaction fails:  `No matching interaction found for POST /graphql`

The docs say I should call `provider.verify()` after every test, but this seems to cause a problem.  Calling it once at the end passes, and seems to exercise all of the interactions, because my responses include data from the mocks.

Any thoughts or advice?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-22 20:32</div><div class="msg">Can you share your test, or an outline of it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-22 20:40</div><div class="msg">Here's an example:

<a href="https://gist.github.com/lwillmeth/9fb7163fd729cd22e95985bbad79c6df">https://gist.github.com/lwillmeth/9fb7163fd729cd22e95985bbad79c6df</a>

It passes as written, but using provider.verify after each test INSTEAD of once at the end, causes the second test to fail.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-22 20:42</div><div class="msg">My understanding is that calling provider.verify deletes any outstanding interactions, so it's better to add and verify them one at a time?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-22 20:43</div><div class="msg">So the suggested pattern is addInteraction, call API, verify?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-22 21:02</div><div class="msg">The working pattern is how we do the examples in Pact JS repo, did you see something to the contrary?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-22 21:03</div><div class="msg">But yes, you need to verify per test (`it`) block for the reasons you describe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-22 21:04</div><div class="msg">If a test needs two interactions it it, that's totally fine too, as long as your test cases hits both interactions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6d35f1637fbb9e960bb3f16bb256518.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">lwillmeth</div><div class="time">2019-10-22 21:11</div><div class="msg">ah, I found the problem.  Because I was running the mocha blocks async, the first verify was running after the second addInteraction had been called.

So the first verify was wiping out the second interaction before it was being used.

Thanks for the quick response, have a great rest of your day!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-22 21:17</div><div class="msg">ah cool, no worries</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-22 21:17</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-22 23:28</div><div class="msg">Thanks Levi. What I would have preferred to do with the library, was convert any gql query to an intermediate AST, and then serialise that to JSON which could be matched by the underlying library. There are barriers to doing that in a cross-language way, so a regex comparison was the simplest/crudest way to achieve it. I?ll think about how the above case could be done. Thanks for your feedback though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f99dce3c3e42accf7d73cead59d46b18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yosevuk</div><div class="time">2019-10-24 14:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f99dce3c3e42accf7d73cead59d46b18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yosevuk</div><div class="time">2019-10-24 14:21</div><div class="msg">Hello! Can I use the `pactUrls` verification option to list the pact urls from different brokers?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2019-10-24 14:29</div><div class="msg">why do you have 2 brokers?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f99dce3c3e42accf7d73cead59d46b18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yosevuk</div><div class="time">2019-10-24 14:35</div><div class="msg">Well, we are switching to a new one, but it is gradual and there are active contracts on the old one.

For example, Providers might have consumers that are using either the old or new broker and want to verify contracts from both.

(I think the best answer is to just use one and have teams update, but not always straightforward or timely to coordinate)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f99dce3c3e42accf7d73cead59d46b18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yosevuk</div><div class="time">2019-10-24 15:34</div><div class="msg">I think another option is to use two different publish scripts.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-24 22:31</div><div class="msg">I don't think you can</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-10-24 22:32</div><div class="msg">I would just run the verification process twice with the same options, except with different broker URLs provided. It has the same net effect</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f99dce3c3e42accf7d73cead59d46b18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yosevuk</div><div class="time">2019-10-25 20:21</div><div class="msg">Thanks, that's what I did :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-10-25 22:18</div><div class="msg">@yosevuk you could, except that the auth credentials can only be specified once.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f99dce3c3e42accf7d73cead59d46b18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yosevuk</div><div class="time">2019-10-26 00:57</div><div class="msg">Got it, makes sense Beth!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a1f4b6895f41f559099fd2c6dfc1a50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">brandontylerwilliams</div><div class="time">2019-10-27 20:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a1f4b6895f41f559099fd2c6dfc1a50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">brandontylerwilliams</div><div class="time">2019-10-27 20:34</div><div class="msg">~</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-28 05:51</div><div class="msg">Does anyone @here use pact-node or pact-js on windows, and would be able to help me beta test a change?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2019-10-28 05:52</div><div class="msg">I've changed the way that arguments are passed to the binaries, and want to double confirm that it still works on windows before releasing (tests still pass in appveyor, but I'd like to try a real machine too before committing to a release)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2019-10-28 14:06</div><div class="msg">happy to test out the fix @tjones we have quite a few staff at ours trying to use jest-pact on windows with a combination of either WSL, Vagrant or plain windows and coming across issues</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6da76064b0eb00a925c69824db062954.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">srinivasan.anusha</div><div class="time">2019-10-28 22:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1e013197e4110303bde01e9fd7d2ebe0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">archana.rachuri</div><div class="time">2019-10-31 02:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/23dc92bf8feee114efcf2920cb8c5e41.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">sarajcarbajal</div><div class="time">2019-10-31 16:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-04 10:17</div><div class="msg">Hi, does anyone know of a way around this error using pact-js &amp; jest.

```
$ cross-env &amp;&amp; jest --testRegex "./tests/pact/.*/*(.test.pact.js)" --runInBand --setupFiles ./tests/pact/pactSetup.js --setupTestFrameworkScriptFile=./tests/pact/pactTestWrapper.js
[2019-11-04T10:13:02.319Z]  INFO: pact-node@10.0.1/581 on ip-10-64-52-241.eu-west-1.compute.internal: 
    Creating Pact Server with options: 
    {"consumer":"fe-fragment-user-insight","cors":false,"dir":"/home/jenkins/workspace/0-add-pact-tests-to-user-insight/pacts","host":"127.0.0.1","log":"/home/jenkins/workspace/0-add-pact-tests-to-user-insight/logs/mockserver-integration.log","pactFileWriteMode":"update","port":8080,"provider":"user-insight","spec":2,"ssl":false}
[39mFAIL tests/pact/user-insights/mandatory-fields.test.pact.js
  ? Test suite failed to run

    TypeError: Cannot read property 'writePact' of undefined

       9 | 
      10 | afterAll(done =&gt; {
    &gt; 11 |   return provider.finalize().then(() =&gt; done())
         |                   ^
      12 | })
      13 | 

      at Pact.Object.&lt;anonymous&gt;.Pact.finalize (node_modules/@pact-foundation/src/httpPact.ts:148:8)
      at Object.finalize (tests/pact/pactTestWrapper.js:11:19)
```


it's pretty much copying the jest example verbatim in terms of pactSetup.js and pactTestWrapper.js etc etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-04 10:18</div><div class="msg">works fine on a Windows machine, for development, fails on CI. Was previously working fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-04 10:23</div><div class="msg">I saw the github issue was closed with the solution to update the timeout, I've tried that and it's not been successful. Any other advice would be greatly received.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-04 11:14</div><div class="msg">hmm that?s a worry. I haven?t had the capacity the last week but Tim has been doing a great job of going through these</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-04 11:15</div><div class="msg">Can you check if you can run the underlying mock service directly?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-04 11:15</div><div class="msg">`./node_modules/.bin/pact-mock-service`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-04 11:16</div><div class="msg">`DEBUG` mode doesn?t give you anything more either?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-04 11:18</div><div class="msg">trying to start the mock server manually yields:
```$ cross-env chmod +x ./debug-pact.sh &amp;&amp; ./debug-pact.sh
INFO  WEBrick 1.3.1
INFO  ruby 2.2.2 (2015-04-13) [x86_64-linux]
WARN  TCPServer Error: Cannot assign requested address - bind(2) for "::1" port 33249
INFO  WEBrick::HTTPServer#start: pid=595 port=33249
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-04 11:18</div><div class="msg">just gonna try with debug mode on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-04 12:50</div><div class="msg">Interesting. Looks like IPv6 interface isn't available. I wonder if you're running into that issue (see open issues, we're working thru that now. Seems unlikely tho)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-04 14:24</div><div class="msg">@mr.matt.r.long closest issue is this one, that i can find <a href="https://github.com/pact-foundation/pact-js/issues/383">https://github.com/pact-foundation/pact-js/issues/383</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-04 21:57</div><div class="msg">That's the one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-04 22:00</div><div class="msg">Same symptoms?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-05 09:39</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-05 09:39</div><div class="msg">I'm rolling back to an earlier version that worked on CI to see how I get on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-05 09:39</div><div class="msg">same test code etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-05 09:43</div><div class="msg">I rolled back to ```
pact@9.1.1 
pact-node@9.0.4
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-05 09:58</div><div class="msg">and it worked!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-05 10:02</div><div class="msg">Thanks James. I hope to get to look into this tomorrow, appreciate this feedback</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-05 10:10</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-06-18/657026933443_4bb7abbffd36b72e7796_72.png" /><div class="message"><div class="username">james.hattersley-dyke</div><div class="time">2019-11-05 14:44</div><div class="msg">As an aside, this was the last step into getting a fully fledge pact workflow set up. I've got tagging, webhooks and provider verification builds all set up!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b0e9630ae9bfecf18f7eb4921831b213.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">bernardoguerr</div><div class="time">2019-11-05 20:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-05 22:04</div><div class="msg">WOOT!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:43</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/10b2f4def253570d155950a7ad1d9a434f9a96fe/examples/jest/pactSetup.js#L5">https://github.com/pact-foundation/pact-js/blob/10b2f4def253570d155950a7ad1d9a434f9a96fe/examples/jest/pactSetup.js#L5</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:43</div><div class="msg">Cant the name of variable `provider` be any other name, say as below:
```global.myprovider = new Pact({
  port: global.port,
  log: path.resolve(process.cwd(), "logs", "mockserver-integration.log"),
  dir: path.resolve(process.cwd(), "pacts"),
  spec: 2,
  pactfileWriteMode: "update",
  consumer: "MyConsumer",
  provider: "MyProvider",
})```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 07:45</div><div class="msg">Yes, why couldn't it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 07:45</div><div class="msg">The variable name has nothing to do with Pact</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:45</div><div class="msg">```
 Creating Pact Server with options: 
    consumer = ipa-itg,
    cors = true,
    dir = /Users/parasvora/workspace/ipa-itg/pacts,
    host = 0.0.0.0,
    log = /Users/parasvora/workspace/ipa-itg/logs/mockserver-integration-provider-itg-composition.log,
    pactFileWriteMode = merge,
    port = 8092,
    provider = itg-composition,
    spec = 2,
    ssl = false,
    sslcert = ,
    sslkey = 
 FAIL  tests/__contract_tests__/__tests__/pact-provider-itg-composition.tests.js
  ? Test suite failed to run

    ReferenceError: provider is not defined

      3 | 
      4 | beforeAll(() =&gt; provider.setup());
    &gt; 5 | afterAll(() =&gt; provider.finalize());
        |          ^
      6 | afterEach(() =&gt; provider.verify());
      7 | 

      at Object.&lt;anonymous&gt; (tests/__contract_tests__/pact-test-wrapper.js:5:10)
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:46</div><div class="msg">I am getting this error when I am using this:
```
global.provider_itg_composition = new Pact({
	port: global.port_provider_itg_composition,
	log: path.resolve(process.cwd(), 'logs', 'mockserver-integration-provider-itg-composition.log'),
	dir: path.resolve(process.cwd(), 'pacts'),
	spec: 2,
	cors: true,
	logLevel: 'INFO',
	pactfileWriteMode: 'merge',
	consumer: 'ipa-itg',
	provider: 'itg-composition',
	host: '0.0.0.0'
});
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 07:46</div><div class="msg">If you rename the variable in the wrapper you need to rename it in your test also</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:47</div><div class="msg">```
const axios = require('axios/index');

const port = global.port_provider_itg_composition;

describe('ipa-itg consumer tests', () =&gt; {
	const URL = '<a href="http://127.0.0.1">http://127.0.0.1</a>';
	describe('Preview PDF section', () =&gt; {
		const ENDPOINT = '/api/v1/invoices/templates/APPDIRECT_DEFAULT_TEMPLATE_EN_US/versions/APPDIRECT_DEFAULT_TEMPLATE_VERSION_EN_US/pdf';
		beforeEach(() =&gt; {
			const interaction = {
				state: 'i need to preview PDF in pdf preview section',
				uponReceiving: 'a request to preview pdf',
				withRequest: {
					method: 'GET',
					path: ENDPOINT,
					query: 'dataSource=PLACEHOLDER&amp;clientId=APPDIRECT&amp;scope=PARTNER',
					headers: {
						'Content-Type': 'application/json',
						'AD-Tenant': 'APPDIRECT'
					}
				},
				willRespondWith: {
					status: 200,
					headers: {
						'Content-Type': 'application/pdf'
					}
				}
			};
			return provider_itg_composition.addInteraction(interaction);
		});

		it('Preview PDF section', done =&gt; {
			axios({
				method: 'get',
				url: `${URL}:${port}${ENDPOINT}?dataSource=PLACEHOLDER&amp;clientId=APPDIRECT&amp;scope=PARTNER`,
				headers: {
					'Content-type': 'application/json',
					'AD-Tenant': 'APPDIRECT',
					Accept: 'application/json'
				},
				data: null
			}).then(response =&gt; {
				expect(response.headers['content-type']).toEqual('application/pdf');
				expect(response.status).toEqual(200);
				done();
			});
		});
	});
});
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:48</div><div class="msg">```
Ran all test suites.
  console.error node_modules/jest-cli/node_modules/jsdom/lib/jsdom/virtual-console.js:29
    Error: Error: connect ECONNREFUSED 127.0.0.1:8092
        at Object.dispatchError (/Users/parasvora/workspace/ipa-itg/node_modules/jest-cli/node_modules/jsdom/lib/jsdom/living/xhr-utils.js:65:19)
        at EventEmitter.&lt;anonymous&gt; (/Users/parasvora/workspace/ipa-itg/node_modules/jest-cli/node_modules/jsdom/lib/jsdom/living/xmlhttprequest.js:676:20)
        at EventEmitter.emit (events.js:214:15)
        at Request.&lt;anonymous&gt; (/Users/parasvora/workspace/ipa-itg/node_modules/jest-cli/node_modules/jsdom/lib/jsdom/living/xhr-utils.js:412:47)
        at Request.emit (events.js:209:13)
        at Request.onRequestError (/Users/parasvora/workspace/ipa-itg/node_modules/request/request.js:877:8)
        at ClientRequest.emit (events.js:209:13)
        at Socket.socketErrorListener (_http_client.js:406:9)
        at Socket.emit (events.js:209:13)
        at emitErrorNT (internal/streams/destroy.js:91:8) undefined
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 07:48</div><div class="msg">There must be another reference to it somewhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 07:48</div><div class="msg">If you borrow it from the example code I think there is a helper JavaScript file also</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:48</div><div class="msg">```
const path = require('path')
const Pact = require('@pact-foundation/pact').Pact;

global.port_provider_itg = 8091;
process.env.API_URL = `<a href="http://localhost:${global.port}`;">http://localhost:${global.port}`;</a>

global.provider_itg = new Pact({
	port: global.port_provider_itg,
	log: path.resolve(process.cwd(), 'logs', 'mockserver-integration-provider-itg.log'),
	dir: path.resolve(process.cwd(), 'pacts'),
	spec: 2,
	cors: true,
	logLevel: 'INFO',
	pactfileWriteMode: 'merge',
	consumer: 'ipa-itg',
	provider: 'itg',
	host: '0.0.0.0'
});

global.port_provider_itg_composition = 8092;
global.provider_itg_composition = new Pact({
	port: global.port_provider_itg_composition,
	log: path.resolve(process.cwd(), 'logs', 'mockserver-integration-provider-itg-composition.log'),
	dir: path.resolve(process.cwd(), 'pacts'),
	spec: 2,
	cors: true,
	logLevel: 'INFO',
	pactfileWriteMode: 'merge',
	consumer: 'ipa-itg',
	provider: 'itg-composition',
	host: '0.0.0.0'
});
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:48</div><div class="msg">My pact setup :point_up_2:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 07:50</div><div class="msg">The error you showed is related to the code that is called in the before all and after all blocks. find those</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 07:50</div><div class="msg">There is still a dangling reference to provider somewhere</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:50</div><div class="msg">:thinking_face: let me check</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:55</div><div class="msg">@matt.fellows Got it, thanks.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:55</div><div class="msg">` Pact Binary Error: Could not load existing consumer contract from /Users/parasvora/workspace/ipa-itg/pacts/ipa-itg-itg-composition.json due to 757: unexpected token at 'null'. Creating a new file.`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-08 07:55</div><div class="msg">any idea on this :point_up_2:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 08:54</div><div class="msg">It sounds like the json file is corrupt or invalid?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 08:54</div><div class="msg">Was it manually modified?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f9d17201e4f2c8952898d4be36d4ceda.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">iammrrhodes</div><div class="time">2019-11-08 11:31</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f9d17201e4f2c8952898d4be36d4ceda.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">iammrrhodes</div><div class="time">2019-11-08 19:26</div><div class="msg">Hey everyone, I'm trying to use that `providerVersionTag` property that was just added and i get this error..

```
Error reading file from --provider-version-tag

    No such file or directory @ rb_sysopen - --provider-version-tag /builds/............/node_modules/@pact-foundation/pact-node/standalone/linux-x64-1.70.2/lib/vendor/ruby/2.2.0/gems/pact-support-1.11.0/lib/pact/consumer_contract/pact_file.rb:51:in `read'
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 22:14</div><div class="msg">OK I?m on it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-08 22:19</div><div class="msg">looks like that flag isn?t available in the current pact-node</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 00:14</div><div class="msg"><!channel> we have a new feature available to Pact JS to remove the pain point of consumers breaking a provider build with new / changed contracts. If you?d like to opt-in to a beta of this, please DM me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c905d48fc907f0f311db16de11038324.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">paras.vora</div><div class="time">2019-11-11 04:14</div><div class="msg">No, it wasn't.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 04:16</div><div class="msg">Are you able to share that file? Something must be wrong if it can?t be read</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 04:17</div><div class="msg">OK, googling that error seems that there might be an array matcher with `null` in it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 04:17</div><div class="msg"><a href="https://stackoverflow.com/questions/20016516/rails-4-jsonparsererror-757-unexpected-token-at-null">https://stackoverflow.com/questions/20016516/rails-4-jsonparsererror-757-unexpected-token-at-null</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 04:17</div><div class="msg">Anything you can share will help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 04:18</div><div class="msg">see also <a href="https://github.com/pact-foundation/pact-net/issues/139">https://github.com/pact-foundation/pact-net/issues/139</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 04:18</div><div class="msg"><a href="https://makandracards.com/makandra/15611-how-to-fix-unexpected-token-error-for-json-parse">https://makandracards.com/makandra/15611-how-to-fix-unexpected-token-error-for-json-parse</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 09:50</div><div class="msg">Thanks. Wondering if it?s even an issue? Maybe the file doesn?t exist in the first place so it creates it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 09:50</div><div class="msg">What does the JSON look like before running the tests?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-11 09:50</div><div class="msg">Oh - just double check that you?re not running tests in parallel - that could mean multiple processes writing to the same file at once</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9c134b9e0db83c1ec829d50d1c5778d5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">kv</div><div class="time">2019-11-11 13:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d55e77323953a7721f9b8f93d2acef75.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">roman.g.rodriguez</div><div class="time">2019-11-12 12:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d55e77323953a7721f9b8f93d2acef75.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">roman.g.rodriguez</div><div class="time">2019-11-12 12:48</div><div class="msg">Hello All!
I?d like to know what do you think about two approaches about pact files naming.

Context: React app + graphql. Some components folders could contain more than one gql query file inside

*Approach 1:* To have only one pact test file with the name `test.pact.js`, just one file with all interactions on it

*Approach 2:* To have one pact test file per query file following the name of the query it checks

wich do you think is better and why?

I?d choose the second one because if you need to move the query to another component folder it would be easier by moving files together, but I see some projects using the first one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-19 20:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-19 20:45</div><div class="msg">Trying to use pact with Karma and Mocha but without much success. I have updated my karma conf to match the example shown and the rest of my code is as shown below

```*====client.js====*
const validate = (host) =&gt; {
  const { url, port } = host;
  return axios
    .request({
      method: 'GET',
      baseURL: `${url}:${port}`,
      url: `/test/111`,
      headers: { Accept: 'application/json' },
    });
};
*====test.js====*
describe('Pacting away', () =&gt; {
  let provider;
  const port = 1331;

  before(done =&gt; {
    provider = new PactWeb({
      consumer: 'KarmaMochaConsumer',
      provider: 'KarmaMochaProvider',
      port: port,
      host: '<a href="http://localhost">http://localhost</a>',
    });

    setTimeout(done, 1000);
    provider.removeInteractions();
  });
  after(done =&gt; provider.finalize().then(() =&gt; done()));

  describe('', () =&gt; {
    before(done =&gt; {
      provider
        .addInteraction({
          state: 'provider can validate entries',
          uponReceiving: 'a request to validate 111',
          withRequest: {
            method: 'GET',
            path: '/test/111',
            headers: {
              'Content-Type': 'application/json',
            },
          },
          willRespondWith: {
            status: 200,
            headers: {
              'Content-Type': 'application/json',
            },
            body: {
              message:"Success"
            },
          },
        })
        .then(() =&gt; {
          done();
        });
    });

    it('should return 200 for 111', done =&gt; {
      validate({url: '<a href="http://localhost">http://localhost</a>', port: port}).then(response =&gt; {
        expect(response.status).to.equal(200);
        done();
      }, done);
    });
  });
});```
When I run the tests, it hangs after this log &gt; `INFO [pact]: Pact Mock Server running on port: 1331` and when I manually try to access the endpoint in my terminal using curl, I get `{"message":"No interaction found for GET /test/111","interaction_diffs":[]}`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-19 20:47</div><div class="msg">This is a repost of the earlier message I'd posted in general. Didn't realize we needed to post in the language-specific channels :see_no_evil:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 07:06</div><div class="msg">@ncritah Try removing the host from provider = new PactWeb. Let pact pick up the mock server url on its own.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 07:50</div><div class="msg">Hey @matt.fellows
I am using Pact with Jest and Jasmine. Here is my pact test file:

```const accountService = require('../../repository/services/account-service');
const container = require('../../di');
const Pact = require('@pact-foundation/pact').Pact;

const path = require('path');

jest.mock('../../drivers/spanner', () =&gt; require('../mocks/spanner.mock'));
jest.mock('request');
jest.setTimeout(30000);

// global.port = 1234;

const provider = new Pact({
    consumer: 'UserService',
    provider: 'AccountService',
    port: 1234,
    log: path.resolve(__dirname, '../logs', 'expectation-integration.log'),
    logLevel: 'TRACE',
    dir: path.resolve(__dirname, '../pacts'),
    pactfileWriteMode: "update",
    // host: '127.0.0.1',
    spec: 2,
});

describe('User Service interaction with Account Service', () =&gt; {

    const ONE_ACCOUNT_BODY = {
        "userId": "6796fc82-ebac-4afd-8498-a963e7cf8fdf"
    };

    const ONE_ACCOUNT_DETAILS = {
        "phoneNo": 919455334525,
        "countryAreaCode": 91
    };

    let temp = new accountService(container);
    // let config = container.resolve('config');

    beforeAll((done) =&gt; {
        provider.setup().then(function () {
            console.log('Inside afterall');
            done();
        }, function (err) {
            done.fail(err);
        });
    });

    afterAll((done) =&gt; {
        provider.finalize()
            .then(function () {
                console.log('Inside afterall');
                done();
            }, function (err) {
                done.fail(err);
            });
    });

    afterEach((done) =&gt; {
        provider.verify().then(done, e =&gt; done.fail(e));
        console.log('Inside aftereach');

    });

    describe('GET Interaction for getAccountData', () =&gt; {
        beforeAll((done) =&gt; {
            provider.addInteraction({
                state: 'it has one user',
                uponReceiving: 'a request to retrieve user account data',
                withRequest: {
                    method: 'GET',
                    path: '/v1.0.0/getAccountInfo',
                    headers: {
                        'Content-Type': 'application/json',
                        'cache-control': 'no-cache'
                    },
                    body: ONE_ACCOUNT_BODY
                },
                willRespondWith: {
                    status: 200,
                    body: ONE_ACCOUNT_DETAILS
                }
            }).then(() =&gt; {
                console.log('Inside 1 then');
                done();
            }, (err) =&gt; {
                console.log('Inside 1 error');
                done.fail(err);
            });
        });

        it('should return a successful body.', () =&gt; {
            temp.getAccountData('6796fc82-ebac-4afd-8498-a963e7cf8fdf').then((response) =&gt; {
                expect(response.headers["content-type"]).toEqual("application/json");
                expect(response.status).toEqual(200);
                expect(response.data).toEqual(ONE_ACCOUNT_BODY);
            });
        });
    });
});```
This is the function I am testing:

```getAccountData(userId) {
		return new Promise((resolve, reject) =&gt; {
			if (!userId) {
				return reject(`Invalid param ${userId}`);
			}
			const options = {
				url: `${this.config.services["xxxxxxxx"]}/v1.0.0/getAccountInfo`,
				method: 'GET',
				json: {
					userId: userId
				}
			};
			console.log(options);
			request(options, (err, resp, body) =&gt; {
				if (err) {
					return reject(err);
				}
				if (resp.statusCode !== 200) {
					return reject({ code: resp.statusCode, msg: body });
				}
				console.log(body);
				return resolve(body);
			});
		});
	}```
and here is my config services:
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 07:50</div><div class="msg">```{
	"services": {
		"bharat11-gaming-service": "<a href="http://localhost:3002/gaming-service">http://localhost:3002/gaming-service</a>",
		"bharat11-account-service": "<a href="http://localhost:3000/account-service">http://localhost:3000/account-service</a>",
		"bharat11-payment-service": "<a href="http://localhost:3003/payment-service">http://localhost:3003/payment-service</a>"
	},
	"db": {
		"instance": "bharat11-staging",
		"database": "bharat11-staging"
	},
	"projectId": "bharat11-staging",
	"retailer": {
		"type": "retail"
	}
}```
I am getting the following error:

``` FAIL  test/services/account.service.test.js
  ? Console

    console.log test/services/account.service.test.js:41
      Inside afterall
    console.log test/services/account.service.test.js:83
      Inside 1 then
    console.log repository/services/account-service.js:73
      {
        url: '<a href="http://localhost:3000/account-service/v1.0.0/getAccountInfo">http://localhost:3000/account-service/v1.0.0/getAccountInfo</a>',
        method: 'GET',
        json: { userId: '6796fc82-ebac-4afd-8498-a963e7cf8fdf' }
      }
    console.log test/services/account.service.test.js:60
      Inside aftereach
    console.error node_modules/@pact-foundation/pact/httpPact.js:97

    console.error node_modules/@pact-foundation/pact/httpPact.js:98
      Pact verification failed!
    console.error node_modules/@pact-foundation/pact/httpPact.js:99
      Actual interactions do not match expected interactions for mock MockService.

      Missing requests:
      	GET /v1.0.0/getAccountInfo

      See /Users/SankalanParajuli/repos/bharat11-user-service/test/logs/expectation-integration.log for details.

    console.log test/services/account.service.test.js:51
      Inside afterall

  ? User Service interaction with Account Service ? GET Interaction for getAccountData ? should return a successful body.

    connect ECONNREFUSED 127.0.0.1:3000```
You can see in the console that the url reaching account service is the url defined in my config services. I am changing that url to where my pact mock server is running and still I am getting the same error that says missing requests. I am stuck in this from two days. Please help!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 07:53</div><div class="msg">If I use jest.mock('requests'), the connection refused error goes away.
But I still can't get my getAccountData function to hit the pact mock server.
I had done the same implementation using Karma and there I had used proxies to define where my URLs should be pointing. Can't find anything similar in jest.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 08:25</div><div class="msg">Is there a way I can map proxies in requests which I am mocking?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-20 08:39</div><div class="msg">Still facing the same problem. I don't know whether I'm handling the promises wrong some how</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-11-20 09:25</div><div class="msg">@sankalan13 you'll get better help if you turn this into an executable example in a gut repository to share.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-11-20 09:25</div><div class="msg">Pasting big slabs of code doesn't make it very easy for people to help you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 09:27</div><div class="msg">For starters, the pact mock sever is running on port 1234 but your test seems to hit port 3000.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 09:28</div><div class="msg">Yeah I changed it to hit 1234 in my config but getting the same error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 09:28</div><div class="msg">@bethskurrie thank you, I understand. I will push this to a git repository and share the link.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 09:28</div><div class="msg">Sorry for spamming the channel guys</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-20 09:30</div><div class="msg">@matt.fellows is there a way I can proxy my requests like how we can do it in karma-pact using jest. I am mocking the request package but it still does not hit my mock server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 11:42</div><div class="msg">I think for the `host` property simply `localhost` should suffice (the protocol isn?t needed).

There are also a few minor JS things you could tidy up (e.g. remove the use of `done` in favour of returning Promises, and inlining certain things). This would simplify your test code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 11:46</div><div class="msg">I?m not sure what you?re asking sorry, it sounds very much specific to your application</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 11:47</div><div class="msg">if you mock the requests library, that would make sense why the connection refused goes away - I?m assuming that would prevent it from making an HTTP call in the first place</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 11:47</div><div class="msg">It seems like something in your test setup is not rewiring your config to `<a href="http://ocalhost:1234">http://ocalhost:1234</a>`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-20 20:50</div><div class="msg">Finally got it work :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-20 20:53</div><div class="msg">Hi,
So I am new to pact so pardon my kinda amateur questions. Just seen here that I can add multiple interactions to a provider here. &gt; <a href="https://github.com/pact-foundation/pact-js">https://github.com/pact-foundation/pact-js</a>. How do I do that? Do I have to do `provider.addInteraction` for each?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 21:08</div><div class="msg">Do you need multiple interactions for a given test case (e.g. a scenario), or multiple interactions generally speaking?

In both cases you need to call that method, and then you call the `verify` method after each test case to ensure your code did indeed make the call to the mock provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 21:09</div><div class="msg">What did it in the end?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-20 21:31</div><div class="msg">multiple interactions when a particular endpoint is accessed with a certain id eg a 200 status for valid values, 404 for unknown ones etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-20 21:32</div><div class="msg">And from the documentation, the addInteraction is done in a the before method for the describe and I dont want to have each of these cases in its own describe block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 21:43</div><div class="msg">They don't need to be in their own describe block. You can organise them however you want, so long as you call `verify` after your scenario runs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 21:44</div><div class="msg">As a general rule, each `it` block should be for a single scenario e.g. GET /product/:id 

You can do the `addInteraction` call in the same block if it makes sense and is cleaner, and then call `verify` after that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-20 21:53</div><div class="msg">Looks much cleaner in the it block. Thanks for your help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-20 21:55</div><div class="msg">With async/await I think there's a case for putting it all in the it block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-20 22:19</div><div class="msg">yes, thats exactly what I have done. Works like a charm :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-21 05:55</div><div class="msg">I figured it out. I was mocking npm requests package using jest and Pact was mocking it too using the mock server so the jest mock was being called in place of the pact mock.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-21 07:12</div><div class="msg">Hi guys
Does the npm @pact-foundation/pact have pact-node also in it now? Or do I have to independently install @pact-foundation/pact-node? Asking for using the publishPact functionality.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-21 07:13</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-21 07:13</div><div class="msg">It should be there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-21 07:13</div><div class="msg">It's an explicit dependency</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-21 07:14</div><div class="msg">Thanks Matt!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-21 07:15</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3ace8b90ae537a183592b52c84c8baff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sankalan13</div><div class="time">2019-11-21 10:49</div><div class="msg">I haven't been able to make it work with async await, is there a sample code anywhere with async await implementation?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-21 11:09</div><div class="msg">There's nothing pact specific with async/await. Just replace any use of a promise with the new way instead</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-25 13:57</div><div class="msg">It was timing out. Needed to add the mocha property to my pact.json. Also took into consideration the tips you shared earlier. I will repost a working version here soon.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-25 13:58</div><div class="msg">Used it for a client's project and haven't had a time to rewrite it to a working example</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-25 14:02</div><div class="msg">--</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4a1b49b5feba4eb49e32d4eb6bcdfa74.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">akiro</div><div class="time">2019-11-25 14:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-11-25/849269298261_fe072ae0a3cd23187d77_72.png" /><div class="message"><div class="username">ambergkim</div><div class="time">2019-11-26 05:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a93d6708451f4d691ee861a5954c818.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">ncritah</div><div class="time">2019-11-26 08:30</div><div class="msg">Hey,
Just curious, is there any way to use pact with ES6 modules without using babel?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/34aa161e4abe76b41a19cddcc5a1cc30.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">me1352</div><div class="time">2019-11-26 13:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/64d94b9221a92f0c45f27ea5c2daea76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">ben.quinteros</div><div class="time">2019-11-26 22:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-26 23:18</div><div class="msg">I think the question is really ?can I use ES6 modules without using babel?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-26 23:22</div><div class="msg">Using Pact doesn?t require Babel or any transpiler, but if you want to use modern ES6 syntax you?re going to need something like that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-26 23:25</div><div class="msg">There is experimental support in node v12, though, if that?s all you need</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/34aa161e4abe76b41a19cddcc5a1cc30.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">me1352</div><div class="time">2019-11-27 07:36</div><div class="msg">I am working on the same issue: trying to use PactWeb without Babel in an ES6 only project. The setup is using Karma and at the moment it seems like PactWeb is not declared as a `module` and is not compatible with ES6 modules. At least this is how far I got. I am using `node v12.13.1` and `pact-web v8.2.6`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-27 09:56</div><div class="msg">I see what you mean. Can you please raise an issue and we can ensure the module package flag is added (and anything else it needs)?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/34aa161e4abe76b41a19cddcc5a1cc30.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">me1352</div><div class="time">2019-11-27 11:06</div><div class="msg">Sure Matt, thanks for your reply :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-11-27 11:14</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e1f3b07daf39cbd57b2cd11010bcf903.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">paul.simms</div><div class="time">2019-12-04 16:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-09 01:27</div><div class="msg">@sankalan13 :point_up: want to take a look?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21ffbec3d19b5ef6902872193e5403cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">gordo</div><div class="time">2019-12-09 22:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7d443fe87ab5a3c93519819bb1c2f571.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">theriaultnicolas</div><div class="time">2019-12-12 03:26</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-16 03:35</div><div class="msg">.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-16 03:37</div><div class="msg">.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bb42171e04c0810420506bbd5f68254e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">mmonson</div><div class="time">2019-12-18 23:18</div><div class="msg">Does pact-js have support for react hooks? Has anyone created a contract with react hooks?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-18 23:19</div><div class="msg">I think if hooks are involved you?re probably doing something wrong. What?s the use case?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-18 23:19</div><div class="msg">You took the words out of my mouth Matt!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-18 23:19</div><div class="msg">_we?ve been working together for too long_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-18 23:20</div><div class="msg">It's time we automated our responses :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-18 23:20</div><div class="msg">Sorry Mark!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bb42171e04c0810420506bbd5f68254e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">mmonson</div><div class="time">2019-12-18 23:21</div><div class="msg">we have an axios call that's embedded in the useEffect of a react hook.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2019-12-18 23:26</div><div class="msg">My usual pattern (and recommendation) is to centralise calls like that into an API client :slightly_smiling_face: helpful for separation of concerns, and testability :ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-18 23:27</div><div class="msg">:point_up:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-18 23:27</div><div class="msg">do this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-18 23:27</div><div class="msg"><a href="https://docs.pact.io/best_practices/consumer#avoid-using-pact-for-tests-that-involve-the-ui">https://docs.pact.io/best_practices/consumer#avoid-using-pact-for-tests-that-involve-the-ui</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-18 23:27</div><div class="msg">or something like it. At least, refactor so that you can?t test things independently</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1e4d70400af6dbbbb236022fb338c3ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">zoeabryant</div><div class="time">2019-12-19 10:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1e4d70400af6dbbbb236022fb338c3ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">zoeabryant</div><div class="time">2019-12-19 10:49</div><div class="msg">I'm having a problem where pact is not sending the body for a POST query when verifying the provider. The body is described in the pact contract, so I'm not sure what's going on</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1e4d70400af6dbbbb236022fb338c3ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">zoeabryant</div><div class="time">2019-12-19 10:49</div><div class="msg">does anyone have a working graphql (as a provider) example I can look at? or tips for debugging?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-19 11:36</div><div class="msg">Can you share the contract / test with us?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1e4d70400af6dbbbb236022fb338c3ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">zoeabryant</div><div class="time">2019-12-19 11:41</div><div class="msg">@matt.fellows shared contract ^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1e4d70400af6dbbbb236022fb338c3ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">zoeabryant</div><div class="time">2019-12-19 11:45</div><div class="msg">after some digging, I think my provider has been suppressing error messages :woman-facepalming: Hopefully that's what's causing the problem instead!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1e4d70400af6dbbbb236022fb338c3ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">zoeabryant</div><div class="time">2019-12-19 11:57</div><div class="msg">that's definitely it. Thanks anyway @matt.fellows!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-19 12:40</div><div class="msg">haha :ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-19 12:40</div><div class="msg">no problems</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 01:22</div><div class="msg">I?m looking for the implementation of provider pact test
Is this the example that I should be looking at ?
<a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 02:31</div><div class="msg">Can I have a simple example on how to setup the pact provider ? 
I am confused with the example given </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 02:41</div><div class="msg">This is my publisher.js

let publisher = require("@pact-foundation/pact-node")
let path = require("path")

let opts = {
  providerBaseUrl: "<a href="http://localhost:8082">http://localhost:8082</a>",
  pactFilesOrDirs: [path.resolve(process.cwd(), "pacts")],
  pactBroker: "<a href="https://test.pact.dius.com.au/">https://test.pact.dius.com.au/</a>",
  pactBrokerUsername: process.env.PACT_USERNAME,
  pactBrokerPassword: process.env.PACT_PASSWORD,
  consumerVersion: "2.0.0",
}

publisher.publishPacts(opts)



</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 02:41</div><div class="msg">Can someone explain this line 
providerBaseUrl: "<a href="http://localhost:8082">http://localhost:8082</a>",???</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 02:43</div><div class="msg">Can give a clear explanation of the example for the pact consumer and provider 

Becos I still have to figure out from the example. 

How can I setup the pact provider? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-20 03:05</div><div class="msg">The publisher?s job is to simply push a pact file from a local file system to a broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-20 03:05</div><div class="msg">The `providerBaseUrl` is not a valid property for this command</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-20 03:06</div><div class="msg">Can you explain what?s confusing about it? I?m afraid if I give another example it will be equally confusing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:09</div><div class="msg">Yes 
An explanation will be useful
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:10</div><div class="msg">Do you have a provider for the jest example ? 
This example seem to be for consumer side only ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:13</div><div class="msg">It didn?t work for me 
I put this lines in my package.json 
It works 

"scripts": {
"test:pact": "jest cross-env CI=true __tests__/ --runInBand --setupFiles ./pact/pactSetup.js--setupFilesAfterEnv ./pact/pactTestWrapper.js --testMatch \"**/*.test.pact.js\"",
"publish:pact": "pact-broker publish ./pacts -a 2.0.0 --broker-token ?xxxxxxxx? -b <a href="https://test.pact.dius.com.au/">https://test.pact.dius.com.au/</a>",
"verify:pact": "node ./verifyPacts.js"
},</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:13</div><div class="msg">But the provider is still not working </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:14</div><div class="msg">My verifyPacts.js -
let pact = require("@pact-foundation/pact-node")
let path = require("path")

let opts = {
provider: 'converse provider',
providerBaseUrl: '<a href="http://localhost:8082">http://localhost:8082</a>',
providerStatesUrl: '<a href="http://localhost:8082/states">http://localhost:8082/states</a>',
providerStatesSetupUrl: '<a href="http://localhost:8082/setup">http://localhost:8082/setup</a>',
pactBroker: "<a href="https://test.pact.dius.com.au/">https://test.pact.dius.com.au/</a>",
pactBrokerUrl: '<a href="https://test.pact.dius.com.au/">https://test.pact.dius.com.au/</a>',
pactBrokerUsername: process.env.PACT_USERNAME,
pactBrokerPassword: process.env.PACT_PASSWORD,
publishVerificationResult: true,
providerVersion: '1.1.0'
}

pact.verifyPacts(opts).then(() =&gt; {
console.log('success')
process.exit(0)
}).catch((error) =&gt; {
console.log('failed', error)
process.exit(1)
})</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:15</div><div class="msg">The things is I don?t understand those providerBaseUrL 
What exactly are they for ? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:15</div><div class="msg">The pact broker is at 

<a href="https://test.pact.dius.com.au/">https://test.pact.dius.com.au/</a>


So why still need to specify the 
ProviderBaseURL ?
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:16</div><div class="msg">Is it to mock the consumer ? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 03:16</div><div class="msg">That's for verification.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 03:17</div><div class="msg">It needs to know where to get the pacts from (the Pact Broker), and where to replay the requests against (the real provider).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:19</div><div class="msg">I see thanks for the clear explanation </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:21</div><div class="msg">When I run node ./publisher.js </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:22</div><div class="msg">I got Could not publish pact:
    Failed to publish converse consumer/converse provider pact due to error: PactBroker::Client::Error - Authentication failed

    One or more pacts failed to be published</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 03:23</div><div class="msg">Can you think of some ways to debug this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 03:23</div><div class="msg">How can you test that the credentials you have a right using something other than the code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:36</div><div class="msg">I run this command 
"publish:pactBroker": "pact-broker publish ./pacts -a 2.0.0 --broker-token 'xxxx' -b <a href="https://test.pact.dius.com.au/">https://test.pact.dius.com.au/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:36</div><div class="msg">It works for me </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:37</div><div class="msg">But using the publisher.js 
It has Authentication failed error </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:37</div><div class="msg">Anyway I want to verify the pact 
How can I do it ? 
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 03:57</div><div class="msg">I tried running from this example 


<a href="https://github.com/pact-foundation/pact-js/tree/master/examples/jest">https://github.com/pact-foundation/pact-js/tree/master/examples/jest</a>


I too get pactbroker::Client::error - authentication failed 
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 06:11</div><div class="msg">Hi Matt
This providerBaseUrl is seen in the pact-js/examples/jest/publish.js </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 06:26</div><div class="msg">Can someone point me to how I can setup n config the provider to verify the pact file from the pact broker ? Thanks </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 07:15</div><div class="msg">My verifyPacts.js 

let pact = require("@pact-foundation/pact-node")
let path = require("path")

let opts = {
    provider: 'converse provider',
    providerBaseUrl: '<a href="http://localhost:8082">http://localhost:8082</a>',
    providerStatesUrl: '<a href="http://localhost:8082/states">http://localhost:8082/states</a>',
    providerStatesSetupUrl: '<a href="http://localhost:8082/setup">http://localhost:8082/setup</a>',
    pactBrokerUrl: '<a href="https://test.pact.dius.com.au/">https://test.pact.dius.com.au/</a>',
    pactBrokerUsername: process.env.PACT_USERNAME,
    pactBrokerPassword: process.env.PACT_PASSWORD,
    pactBrokerToken: process.env.PACT_TOKEN,
    publishVerificationResult: true,
    providerVersion: '1.0.0'
  }

pact.verifyPacts(opts).then(() =&gt; {
    console.log('success')
    process.exit(0)
  }).catch((error) =&gt; {
    console.log('failed', error)
    process.exit(1)
  })</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 07:15</div><div class="msg">When I run it with 
Node ./verifyPact.js 

I get this error 

2019-12-20T07:02:22.232Z]  WARN: pact-node@10.2.4/11352 on Lays-MacBook-Pro.local: Pact exited with code 1.
failed Error: /Users/laymui/Desktop/converse-api/node_modules/@pact-foundation/pact-node/standalone/darwin-1.73.0/lib/ruby/lib/ruby/2.2.0/uri/generic.rb:400:in `check_user': bad component(expected userinfo component or user component): <mailto:laymui.toh@xxx.com|laymui.toh@xxx.com> (URI::InvalidComponentError)
        from /Users/laymui/Desktop/converse-api/node_modules/@pact-foundation/pact-node/standalone/darwin-1.73.0/lib/ruby/lib/ruby/2.2.0/uri/generic.rb:377:in `check_userinfo'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 07:16</div><div class="msg">Could appreciate if anyone can give me some pointer 
As I?m really stuck and my colleague is waiting for me to setup this framework to test the api endpoint ? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:26</div><div class="msg">So, for the test account, there is no broker token.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:27</div><div class="msg">The credentials are 
username: dXfltyFMgNOFZAxr8io9wJ37iUpY42M
password: O5AIZWxelWbLvqMd8PkAVycBJh2Psyg1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:27</div><div class="msg">Why are you using the test one and not your own one?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 10:29</div><div class="msg">Matt has replied me not to use the email extension for the username 
This is the one that cause the error earlier 
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 10:31</div><div class="msg">So my username is LayMui.toh 
Not <mailto:LayMui.toh@taiger.com|LayMui.toh@taiger.com> 
This is the one that cause the error 
I won?t know this in the error throw out 
Can you add this in the doc for the benefit of future new user ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:46</div><div class="msg">Your email is only used for logging in to the UI.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:47</div><div class="msg">That can't be your username for the API, because there are no usernames for the API for the broker you just signed up for.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:48</div><div class="msg">That only has a token.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:51</div><div class="msg">You can sign in to the UI for <a href="http://taiger.pact.dius.com.au">http://taiger.pact.dius.com.au</a> using the username and password that were sent to you in the email when you signed up. You can authenticate to the API for <a href="http://taiger.pact.dius.com.au">http://taiger.pact.dius.com.au</a> using the token that you will find in the settings page of your broker. You can authenticate to both the UI and API of <a href="http://test.pact.dius.com.au">http://test.pact.dius.com.au</a> using the basic auth credentials that I posted above.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:52</div><div class="msg">I do not know what the username LayMui.Toh could be used for.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 10:53</div><div class="msg">There is no account with that username.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 10:54</div><div class="msg">Thanks my issue is resolved by removing the @taiger.com 
From the username </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 11:02</div><div class="msg">It's not throwing an error any more, but that's not a valid username.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 11:02</div><div class="msg">It's just not raising an error because there's no @ symbol in it when it tries to create the URL with a username/password. That's what was causing the problem. You could put "abc" in there and it would do the same thing as the username you're using.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 11:03</div><div class="msg">BTW, you don't need a username/password AND token.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-20 11:03</div><div class="msg">You only ever need one or the other.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 12:19</div><div class="msg">Got it thanks Beth </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-20 13:14</div><div class="msg">If my api is Put with a parameter 
Example : /api/external/bots/{bot-id}


How should I specify in the path in the following code snippet?


beforeEach(() =&gt; {
      const interaction = {
        state: 'Update bot',
        uponReceiving: 'id and BotName',
        withRequest: {
          method: 'PUT',
          path: urlpath, &lt;??-


</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-21 02:22</div><div class="msg">I try the following using query -

      uponReceiving: 'botName and id detail',
      withRequest: {
        method: 'GET',
        path: urlpath,
        query:  "bot_id=12334444" ,
        headers: {
          Accept: '*/*',
          'Content-Type': 'application/json',</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-21 02:23</div><div class="msg">It didn?t work 
I get the error saying 

 Pact verification failed!

  console.error node_modules/@pact-foundation/pact/httpPact.js:99
    Actual interactions do not match expected interactions for mock MockService.

    Incorrect requests:
        GET /api/external/bots (request query did not match)

    See /Users/laymui/Desktop/iconverse-api-pact-js/logs/pact.log for details.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-21 02:28</div><div class="msg">I have to use regular expression in the path 

url: urlpath + '/bot-id=/\w+/',</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-21 02:29</div><div class="msg">I saw the example given in 
<a href="https://docs.pact.io/getting_started/matching#query-params">https://docs.pact.io/getting_started/matching#query-params</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-21 02:30</div><div class="msg">Following the example given 
It didn?t work for me 
Or did I miss anything here ? 
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/04a17d949221cb89cd1d9e293ccb9ca1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">taisedias</div><div class="time">2019-12-22 21:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-23 06:39</div><div class="msg">My publish.js file contains the token only 
But I still can?t publish to the pact broker </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-23 22:04</div><div class="msg">No I don?t have a jest provider I don?t think</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-23 22:05</div><div class="msg">It?s a lot of work maintaining examples for every framework, so we just accept donations from the community</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-23 22:05</div><div class="msg">It shouldn?t matter what framework you use, as Pact doesn?t have any framework specific things in it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2019-12-24 19:33</div><div class="msg">Make sure you're using the latest version of pact-js as token support has only been added recently.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fc9605fe3c702481cc6fff7a8d87a07d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">agarwalatrisha1212</div><div class="time">2019-12-26 22:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 08:52</div><div class="msg">Hi, I like to check this providerBaseUrl: "<a href="http://localhost:8080">http://localhost:8080</a>", at <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/jest/publish.js">https://github.com/pact-foundation/pact-js/blob/master/examples/jest/publish.js</a> is referring to the port that the provider is running on?  while the global.port = 8991 at <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/jest/pactSetup.js">https://github.com/pact-foundation/pact-js/blob/master/examples/jest/pactSetup.js</a> is referring the mock provider service?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 08:53</div><div class="msg">I like to clarify the above as I was trying to setup the provider in the same project folder as the consumer, making it as end to end and I got some error when I run the provider to verify.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 09:02</div><div class="msg">Looking at this <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/providerService.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/providerService.js</a>, server.listen(8081, () =&gt; {
  console.log("Animal Profile Service listening on <a href="http://localhost:8081">http://localhost:8081</a>")
}),</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 09:03</div><div class="msg">what is this server running at port 8081? is it the actual provider? or the mocking the consumer service?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 09:08</div><div class="msg">looking at this <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/consumerService.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/consumerService.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 09:08</div><div class="msg">server.listen(8080, () =&gt; {
  console.log("Animal Matching Service listening on <a href="http://localhots:8080">http://localhots:8080</a>")
})</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 09:08</div><div class="msg">what is this server running at 8080? is it the mock provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 09:12</div><div class="msg">in my consumer pact test:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-28 10:14</div><div class="msg">The provider base URL needs to point at your actual running provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-28 10:15</div><div class="msg">The examples you pointed out above are express JS servers. They are real servers, not the Pact mock provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-28 10:16</div><div class="msg">(this is all assuming you're doing provider side testing here)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-28 10:16</div><div class="msg">No, it's a real provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-28 10:16</div><div class="msg">It's the real provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 10:17</div><div class="msg">Okay thanks I got it </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-28 10:17</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 10:17</div><div class="msg">Yes I?m working on provider side now </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 10:18</div><div class="msg">I like to understand what is this /setup ? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 10:18</div><div class="msg">And why do we need that ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 10:19</div><div class="msg">Also What should I do with the state ?
For my authentication api request 
I don?t have any database or repository like in the e2e example 
How should I handle that ? Is it to do assertion check on the response ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-28 10:28</div><div class="msg">Setup is an old (deprecated) way for setting up provider states. You now use the provider states property</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2019-12-28 10:28</div><div class="msg">There's a whole article on this in the docs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 10:47</div><div class="msg">Oh ok will check out thanks </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 22:42</div><div class="msg">When I put 2 diff states in my consumer test I got 

Pact verification failed - expected interactions did not match actual.


I was just looking at this jest example 

<a href="https://github.com/pact-foundation/pact-js/blob/master/examples/jest/__tests__/index.spec.js">https://github.com/pact-foundation/pact-js/blob/master/examples/jest/__tests__/index.spec.js</a>

If I could modify the example, my format will be something similar like this </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-28 22:46</div><div class="msg">```describe("works", () =&gt; {
    describe("state 1", () =&gt; {
        beforeEach(() =&gt; {
        const interaction = {
            state: "i have a list of projects",
            uponReceiving: "a request for projects",
            withRequest: {
            method: "GET",
            path: "/dogs",
            headers: {
                Accept: "application/json",
            },
            },
            willRespondWith: {
            status: 200,
            headers: {
                "Content-Type": "application/json",
            },
            body: EXPECTED_BODY,
            },
        }
        return provider.addInteraction(interaction)
        })
        // add expectations
        it("returns a sucessful body", () =&gt; {
        return getMeDogs({
            url,
            port,
        })
            .then(response =&gt; {
            expect(response.headers["content-type"]).toEqual("application/json")
            expect(response.data).toEqual(EXPECTED_BODY)
            expect(response.status).toEqual(200)
            })
            .then(() =&gt; provider.verify())
        })
    })
     describe("state 2", () =&gt; {
        beforeEach(() =&gt; {
        const interaction = {
            state: "i have a list of another projects ",
            uponReceiving: "a request for another projects",
            withRequest: {
            method: "GET",
            path: "/dogs",
            headers: {
                Accept: "application/json",
            },
            },
            willRespondWith: {
            status: 200,
            headers: {
                "Content-Type": "application/json",
            },
            body: EXPECTED_BODY,
            },
        }
        return provider.addInteraction(interaction)
        })
        // add expectations
        it("returns a sucessful body", () =&gt; {
        return getMeDogs({
            url,
            port,
        })
            .then(response =&gt; {
            expect(response.headers["content-type"]).toEqual("application/json")
            expect(response.data).toEqual(EXPECTED_BODY)
            expect(response.status).toEqual(200)
            })
            .then(() =&gt; provider.verify())
        })
    })
})```
``````</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-29 02:40</div><div class="msg">ignore the above, I got it resolved by putting the afterEach(() =&gt; provider.verify()) above and removec the .then(() =&gt; provider.verify())</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-29 03:19</div><div class="msg">I have read this <a href="https://docs.pact.io/best_practices/provider/using_provider_states_effectively">https://docs.pact.io/best_practices/provider/using_provider_states_effectively</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2019-12-29 03:25</div><div class="msg">But I am still not very clear what should I do ? 

It mentioned The provider team sets up the relevant provider state by creating one alligator with the name Mary AND one alligator named John.

Do I need to Setup a database ? Or Repository to store the expected response 


Maybe I used my own scenarios 

Let say I?m doing a authentication api 
I want to test 2 different state or case - valid credentials and invalid credentials? 


my payload is clientID, clientSecret 
Curl command -

curl -X POST "<a href="https://iconverse-xxx.io/i-admin/api/external/authenticate">https://iconverse-xxx.io/i-admin/api/external/authenticate</a>" -H "accept: */*" -H "Content-Type: application/json" -d "{ \"clientId\": \"user1\", \"clientSecret\": \"password1\"}"


In my consumer test 
I put a state ?authentication with valid client?

Another state with 
Authentication with invalid client 


So in my provider side 
What should be the code for the state when authentication with valid client and code for the state with invalid client  

Becos in my case it?s a post command not a get 
Do I need to create a repository with user account ?

What does pact actually do when running the provider to verify the pact file ?
Checking the response based on the state?
So how should I describe the state to pact? 


</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f584aa2ddcf2906fe830c0b11ddc467d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">franklin.huynh</div><div class="time">2019-12-30 00:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c368f0c6ed578fca99e9be1fc7159abd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">marcelo.emmerich</div><div class="time">2020-01-06 20:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2dddee3bea9226a3d79fc6a56e84e493.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simone.cusimano92</div><div class="time">2020-01-15 08:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2ae76a55492e67b38b2e2540191914de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">davchung5</div><div class="time">2020-01-15 22:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0a55ba19fc409ff46e9c55682f8014cd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">sam774</div><div class="time">2020-01-16 14:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0a55ba19fc409ff46e9c55682f8014cd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">sam774</div><div class="time">2020-01-17 10:21</div><div class="msg">Dumb question, but does pact-js support pactfile spec version 3? I can see that all the docs are using the (default) v2, so naturally our pacts are written that way too.
We perform provider verification using pact-jvm (we also have some pact-jvm pacts which are v3). When I set 'spec: 3', the output doesn't look like spec v3 and the provider verification then fails.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-01-17 10:22</div><div class="msg">It doesn?t sorry: <a href="https://docs.pact.io/feature_support">https://docs.pact.io/feature_support</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-01-17 10:22</div><div class="msg">the caveat is that it _does_ support messages, which is a v3 feature. But not the matchers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0a55ba19fc409ff46e9c55682f8014cd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">sam774</div><div class="time">2020-01-17 10:27</div><div class="msg">that's fair enough - not a blocker for us being on v2 of the spec :slightly_smiling_face: thanks for the quick reply</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-01-17 10:29</div><div class="msg">Hopefully we?ll be there in the next few months, but v2 gets you pretty far</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0a55ba19fc409ff46e9c55682f8014cd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">sam774</div><div class="time">2020-01-17 10:29</div><div class="msg">aye. it was more out of curiosity than an explicit need</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fc81d965a9c4cc4c8d4506ae2357bb2a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">josue.guerrero</div><div class="time">2020-01-17 14:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1e4d70400af6dbbbb236022fb338c3ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">zoeabryant</div><div class="time">2020-01-22 11:32</div><div class="msg">I've run into a weird error setting up a provider side verification:
`Error: Cannot find module 'bunyan-prettystream'`
my package.json literally has one dependecy: `"@pact-foundation/pact": "^9.6.0"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-01-22 21:26</div><div class="msg">Hmm. Is that during install or run?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-01-23 03:58</div><div class="msg">`bunyan-prettystream`  is a dev dependency, when it should be a dependency</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-01-23 03:58</div><div class="msg">I?ll fix this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-01-23 03:59</div><div class="msg">in the meantime, `npm install bunyan-prettystream`  should workaround this issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-01-23 04:06</div><div class="msg">Releasing v9.6.1 with corrected dependencies</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-01-23 04:06</div><div class="msg">Thanks for the report!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-01-25/924146319975_704e2f29761658845903_72.jpg" /><div class="message"><div class="username">hidalgofdz</div><div class="time">2020-01-27 20:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2020-01-28 10:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0ee553f1c561a884a7d919b1296997b6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">louiseavelar</div><div class="time">2020-01-28 18:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-01-28/925843524181_80df5aab44b9a810b78c_72.png" /><div class="message"><div class="username">g.j.crossfield</div><div class="time">2020-01-28 18:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-01-28/925402702516_61f17d6844f33f487736_72.jpg" /><div class="message"><div class="username">jana.pacheco</div><div class="time">2020-01-29 12:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2020-02-04 12:23</div><div class="msg">Hi Team,
I am going through the PACT JS workshop , and I have a doubt at Step 2.
<a href="https://github.com/DiUS/pact-workshop-js-v1/tree/step2">https://github.com/DiUS/pact-workshop-js-v1/tree/step2</a>
```    it('can process the JSON payload from the provider', done =&gt; {
      const {fetchProviderData} = require('../consumer')
      const response = fetchProviderData()

      expect(response).to.eventually.have.property('count', 1000)```
I think this test will not pass, because fetchProviderData function returns an object which is like {value: ??, date: ??} and this doesnt have any property ?count? and this test checks for the value of count property in the response.
Can someone clarify please?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-02-04 12:24</div><div class="msg">Perhaps I can help. what?s up?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2020-02-04 12:30</div><div class="msg">ok i checked in the github in the file pact-workshop-js-v1/consumer/client.js , ffetchProviderData function returns {count: ??, date: ??} which is  indeed TRUE but the example in the Readme file has different object returned so this needs to be corrected for all branches..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-12-02/848324409169_847a20b3e00110412bd8_72.jpg" /><div class="message"><div class="username">shero86</div><div class="time">2020-02-07 10:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2020-02-12 14:19</div><div class="msg">Hello , is there a way to add matching to the request path .
I have a request path like this /companies/:companyId/users/:usersId
For now , I have setup the interaction with the actual values of the request . However I would like to setup for all requests which can have different companyId and userId</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-12 19:49</div><div class="msg">Yes, there are examples in the repo for that I believe. It's the same as any other matcher but only applies on the consumer side</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2020-02-13 05:55</div><div class="msg">I have checked the repo and could only find examples for headers, query Params and body but not Path .Can you provide reference ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-15 11:56</div><div class="msg">Have you tried using the `term` matcher? That should work just fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-15 11:56</div><div class="msg">I thought there was an example but perhaps there isn?t</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d0395cc3287d831dd42cb6c29c6fc71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">parveenbanu</div><div class="time">2020-02-17 11:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d0395cc3287d831dd42cb6c29c6fc71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">parveenbanu</div><div class="time">2020-02-17 12:42</div><div class="msg">Hi</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d0395cc3287d831dd42cb6c29c6fc71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">parveenbanu</div><div class="time">2020-02-17 12:42</div><div class="msg">i am new joiner here. currently in API Testing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d0395cc3287d831dd42cb6c29c6fc71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">parveenbanu</div><div class="time">2020-02-17 12:43</div><div class="msg">my management asked me to start with Contract Testing for API</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d0395cc3287d831dd42cb6c29c6fc71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">parveenbanu</div><div class="time">2020-02-17 12:43</div><div class="msg">so i choose PACT for it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d0395cc3287d831dd42cb6c29c6fc71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">parveenbanu</div><div class="time">2020-02-17 12:43</div><div class="msg">can anyone please help to setup this testing prototype</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d0395cc3287d831dd42cb6c29c6fc71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">parveenbanu</div><div class="time">2020-02-17 12:44</div><div class="msg">i have Json messages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-17 19:52</div><div class="msg">I'd start with copying one of the examples from <a href="https://github.com/pact-foundation/pact-js/blob/master/README.md#tutorial-60-minutes">https://github.com/pact-foundation/pact-js/blob/master/README.md#tutorial-60-minutes</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-17 19:52</div><div class="msg">And completing the workshop to understand the concepts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d1f7ad393f66aa2ad6b9acc05257fbcd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dominik</div><div class="time">2020-02-19 07:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6d2ee7e6b4a5a0c70da0e348dc5d1117.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">robin.vanwijngaarden_</div><div class="time">2020-02-19 12:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-21 11:37</div><div class="msg">I have this url path
```const urlpath = '/uaa/oauth/token?grant_type=password&amp;password={password}&amp;username={username}';  
 how can I pass in the variable username and password ```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5d00e660e7dddbce6da5e4532626911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">paolaagudelo10</div><div class="time">2020-02-21 19:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-22 05:21</div><div class="msg">I got   Actual interactions do not match expected interactions for mock MockService.

    Incorrect requests:
        POST /api/uaa/oauth/token (request query did not match) my curl command look like this:
```curl --location --request POST '<a href="https://xxxx/api/uaa/oauth/token?grant_type=password&amp;username=kcp-admin-taiger&amp;password=pass">https://xxxx/api/uaa/oauth/token?grant_type=password&amp;username=kcp-admin-taiger&amp;password=pass</a>' \
--header 'X-Active-Organization:1234' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--header 'Authorization: Basic abc' \
--data-raw ''```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-22 05:21</div><div class="msg">I put the project at <a href="https://github.com/LayMui/pact-js">https://github.com/LayMui/pact-js</a> to reproduce. thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-22 10:12</div><div class="msg">ignore, I have resolved it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 01:22</div><div class="msg">I am trying to look up the matchers API documentation...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 01:22</div><div class="msg">need to check the difference between matcher.like, eachlike, etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-24 01:24</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/#matching">https://github.com/pact-foundation/pact-js/#matching</a> ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 04:55</div><div class="msg">I am trying to add the provider verification state, here is my code snippets:
```describe("Pact Verification", () =&gt; {
    it("validates the expectations of Authentication Service", () =&gt; {
        let opts = {
            logLevel: "INFO",
            providerBaseUrl: "<a href="http://localhost:8082">http://localhost:8082</a>",
            provider: "iProvider",
            providerVersion: "2.0.0",
            pactBrokerUrl: process.env.PACT_BROKER_URL || "<a href="http://localhost:9292">http://localhost:9292</a>",
     
        
           stateHandlers: {
            "Authenticate with valid access token": () =&gt; {
              
            },
          }```
`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 04:56</div><div class="msg">right now I need to know how to add the code for the stateHandlers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 04:57</div><div class="msg">my consumer side test look like this:
```beforeEach(() =&gt; {
      const interaction = {
        state: 'Authenticate with valid access token',
        uponReceiving: 'access_token, token_type and refresh_token',
        withRequest: {
          method: 'POST',
          path: urlpath,
          param: {
            "grant-type": Matchers.like("password"),
            "password": Matchers.like("pass"),
            "username": Matchers.like("admin"),
          },
          headers: {
            'Content-Type': 'application/json',
            'X-Active-Organization': Matchers.like('123'),
            'Authorization': Matchers.like('Basic abc'),
          },
        },
        willRespondWith: {
          status: 200,
          headers: {
            'Content-Type': 'application/json',
            'X-Active-Organization': Matchers.like('123'),
            'Authorization': Matchers.like('Basic abc'),
          },
          body: Matchers.like(EXPECTED_BODY)
        },
      };
      return provider.addInteraction(interaction);
    });```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 04:57</div><div class="msg">it's an authentication login, how should I set the state on the provider side?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 04:57</div><div class="msg">thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 09:53</div><div class="msg">I got verifyPacts.js:33
describe("Pact Verification", () =&gt; {
^

ReferenceError: describe is not defined</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-24 10:55</div><div class="msg">Lay, that indicates you are not running your provider verification within the contexnt of a test framework (such as mocha/Jest/?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-24 10:56</div><div class="msg">```"grant-type": Matchers.like("password"),```
I don?t think you want a string matcher here, I?m guessing it should be exactly ?password? (or whatever the valid values for grant type are)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2020-02-24 12:42</div><div class="msg">@matt.fellows I am trying this for the matching in the request path .
To allow different ids in this path /companies/&lt;companyId&gt;/roles
withRequest: {
            method: ?GET?,
path: `/companies/${Pact.term(generate: ?7aeeef69-ca14-5b3c-9022-565ea1b16d60?, matcher: /d{36})}/roles</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2020-02-24 12:42</div><div class="msg">doesnt work for me i am getting syntax error in the path property</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-24 12:47</div><div class="msg">The value of `path` should be a matcher, you can?t embed a matcher in the string value</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-24 12:47</div><div class="msg">`path: Pact.term(?)`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5d00e660e7dddbce6da5e4532626911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">paolaagudelo10</div><div class="time">2020-02-24 13:12</div><div class="msg">hi, i am getting warning messages after execute my tests, all of the test suite looks green, however i want to make  the test fails when this kind of warns appears to force a correct test implementation i was looking for information and with jest it is possible doing something like this:

```let warn = jest.spyOn(global.console, 'warn');
///  do some test 
expect(warn).not.toBeCalled();```
however when i tried this does not work because the pact console is not the same that the jest console and i can access that global.console value.
so i can ask if there is a way to do something like this or any other idea about how to make this test fail?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 13:45</div><div class="msg">this is not an issue however I got this error
```AIL  __provider-pacts__/authentication_api.verify.pact.js
  Pact Verification
    ? validates the expectations of Authentication Service (1534ms)

  ? Pact Verification ? validates the expectations of Authentication Service

    TypeError: server.close is not a function

      33 | 
      34 |         return new Verifier(opts).verifyProvider().finally(() =&gt; {
    &gt; 35 |             server.close();
         |                    ^```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 13:45</div><div class="msg">my github repo is at <a href="https://github.com/LayMui/pact-js/blob/master/kcp-pact-consumer-test-js/__provider-pacts__/authentication_api.verify.pact.js">https://github.com/LayMui/pact-js/blob/master/kcp-pact-consumer-test-js/__provider-pacts__/authentication_api.verify.pact.js</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2020-02-24 14:12</div><div class="msg">ok so i tried the below in a short version of path and i get this error.
 Example ?/companies/7aeeef69-ca14-5b3c-9022-565ea1b16d60/? does not match provided regular expression ?/companies/w{8}-w{4}-w{4}-w{4}-w{12}/?

path: term({
            generate : ?/companies/7aeeef69-ca14-5b3c-9022-565ea1b16d60/?,
            matcher : ?/companies\/\w{8}\-\w{4}\-\w{4}\-\w{4}\-\w{12}\/?
        })</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 14:42</div><div class="msg">I replaced line 34-35 with
``` return new Verifier(opts).verifyProvider().then(output =&gt; {
          console.log("Pact Verification Complete!")
          console.log(output)
        })```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-02-24 14:43</div><div class="msg">I got this error:
```Verifying a pact between iConsumer and iProvider

      Given Authenticate with valid access token
        access_token, token_type and refresh_token
          with POST /api/uaa/oauth/token

            returns a response which

              has status code 200 (FAILED - 1)
              has a matching body (FAILED - 2)
              includes headers
                "Content-Type" which equals "application/json" (FAILED - 3)
                "X-Active-Organization" which is an instance of String
                "Authorization" which is an instance of String


    Failures:

      1) Verifying a pact between iConsumer and iProvider Given Authenticate with valid access token access_token, token_type and refresh_token with POST /api/uaa/oauth/token returns a response which has status code 200
         Failure/Error: expect(response_status).to eql expected_response_status

           expected: 200
                got: 500

           (compared using eql?)```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9eeb419d5b6758626562188d958afd13.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">dan.garland</div><div class="time">2020-02-25 10:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/688fcb3b136d9559ab46934eff5e8641.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">ihor.dobrovolskyi</div><div class="time">2020-02-25 12:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/688fcb3b136d9559ab46934eff5e8641.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">ihor.dobrovolskyi</div><div class="time">2020-02-25 12:34</div><div class="msg">Hello! Please explane me how can I change path for quest in `stateHandlers` section?
For exampe: I need to change the UUID in request path

Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1393529c4e061c3a3859513fcdc9e67f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">bheemreddy181</div><div class="time">2020-02-25 14:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-25 21:58</div><div class="msg">can you please elaborate?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-25 21:59</div><div class="msg">What kind of warning are you getting? Failing a Pact test based on a console log seems very strange to me. Can you please elaborate on your scenario?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aaf6005aba42dbbbbedbf9881aa2c626.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">aaronmckaynz</div><div class="time">2020-02-26 05:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-02-26/971517683511_19e59c74ffb1eb9e9bc0_72.jpg" /><div class="message"><div class="username">ckkinay</div><div class="time">2020-02-26 09:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5d00e660e7dddbce6da5e4532626911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">paolaagudelo10</div><div class="time">2020-02-26 13:04</div><div class="msg">@matt.fellows sure, i am having the "Ignoring unsupported matching rules on arrays" warning, according to pactSupport this issue it's has been solved for body parameters <a href="https://github.com/pact-foundation/pact-js/issues/205">https://github.com/pact-foundation/pact-js/issues/205</a> however the error is still appearing in matching rules for query parameters. So i want to control this and make the test fails when this warning appears.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-26 21:25</div><div class="msg">Is it causing actual issues though? The ?warn? for the matchers are only there to say that it may not use a matcher (and instead use an exact value). But if the tests don?t fail on either side, why would you want to still fail it on the warning? If it?s a bug in the warning code (as it may be) then failing your test would seem silly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-26 21:26</div><div class="msg">Personally I would just ignore it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-26 21:26</div><div class="msg">Perhaps I?m missing something though.

@bethskurrie any thoughts?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-26 21:27</div><div class="msg">This query string parameters thing is a pain.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-26 21:27</div><div class="msg">It's too hard to explain why it's showing that warning, but it can be safely ignored.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-26 21:27</div><div class="msg">I'm sorry about it - I've tried to fix it a few times, but it's a tricky one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-26 21:28</div><div class="msg">It's to do with the way the parameters are serialised in a v2 pact. The query is a string, but the matchers say it's a hash.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-26 21:28</div><div class="msg">So the library goes "you can't apply these hash matchers to a string"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-02-26 21:37</div><div class="msg">Thanks Beth, so yes, don?t try to spy on the pact framework and use string output to fail a test.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-26 21:37</div><div class="msg">Def don't fail the test.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-26 21:38</div><div class="msg">The query matchers aren't even used in the provider tests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-26 21:38</div><div class="msg">It's just a deserialization warning</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5d00e660e7dddbce6da5e4532626911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">paolaagudelo10</div><div class="time">2020-02-26 22:24</div><div class="msg">Hello, @matt.fellows and @bethskurrie i solved the error by sending an exact value as you suggested, however i want to forced a right implementation in test that are going to be add  into my suit, from other developers that could see a warning and just ignore.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-27 05:12</div><div class="msg">@paolaagudelo10 would you be able to send me a redacted copy of the pact that is causing the issue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-02-27 05:13</div><div class="msg">Now I think about it, I was sure I'd actually fixed this warning.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d5abd02314a57c38a7b9ce539a0baa2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">closenet.uk</div><div class="time">2020-02-27 16:20</div><div class="msg">hey @matt.fellows we've just been getting issue with yarn audit report an issue with PACT version due to this dependency <a href="https://github.com/kevva/decompress/issues/71">https://github.com/kevva/decompress/issues/71</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-05-15/635960252949_821e5514e9866653c8ce_72.jpg" /><div class="message"><div class="username">davidmolinero.com</div><div class="time">2020-03-01 19:41</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2020-03-02 17:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 17:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 17:24</div><div class="msg">Hi!
I?m trying to debug why my provider publishes verification results for only 1 of its 2 consumers but all I can see is this:
```[2020-03-03T17:15:11.505Z]  INFO: pact@9.6.0/42271 on SNizov-mbk13.local: Verifying provider
[2020-03-03T17:15:11.515Z]  INFO: pact-node@10.2.4/42271 on SNizov-mbk13.local: Verifying Pacts.
[2020-03-03T17:15:11.516Z]  INFO: pact-node@10.2.4/42271 on SNizov-mbk13.local: Verifying Pact Files
[2020-03-03T17:15:19.013Z]  INFO: pact-node@10.2.4/42271 on SNizov-mbk13.local: Pact Verification succeeded.```
Is there a way to configure `Verifier`  to print the more verbose ruby-style output when executing? Or some other way to check out the verification logs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 20:55</div><div class="msg">I'm assuming you've set the publishing flag to true? It should print out that it's doing it so I'm wondering if it's publishing at all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 20:56</div><div class="msg">I don't think there is a verbose flag but will need to check</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 21:20</div><div class="msg">@matt.fellows  I did, yes.
It's publishing the results of one consumer but not the other.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:31</div><div class="msg">mmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:31</div><div class="msg">Is there a longer log file than that you can share (privately/redacted if necessary?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:32</div><div class="msg">(there is a `--verbose` flag on the verifier actually, so you could try to invoke the verifier locally - it will probably fail, but should publish 2 sets of verification results)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:32</div><div class="msg">are the pacts it?s fetching from the Pact Broker? (assuming yes but have to ask)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 21:43</div><div class="msg">I would if I could.. that?s really all of it :man-shrugging:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 21:44</div><div class="msg">You mean to use the standalone executable?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 21:44</div><div class="msg">Yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 21:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 21:54</div><div class="msg">Ok figured it out.
I?m using `consumerVersionTag: ['dev']`  but one of the consumers isn?t tagged at all. Thanks @matt.fellows!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:55</div><div class="msg">ahhh!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:55</div><div class="msg">so that means it?s only pulling down one contract. Got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:55</div><div class="msg">hmm, how can we make that clearer?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 21:56</div><div class="msg">Hi everyone! I'm new to this group. First of all, I love pact. I've been using it for more than a month and I'm really enjoying it. However these is one error I've frequently faced. I'm facing the "Missing request" issue when using multiple tests with the same consumer provider pair in multiple files. The weird thing about this error is that I don't get it in every run of the test suite. Also, I don't get an error when the tests are in the same file. I've tried to follow the advice in <a href="https://github.com/pact-foundation/pact-js#splitting-tests-across-multiple-files">https://github.com/pact-foundation/pact-js#splitting-tests-across-multiple-files</a>. In particular, I'm using the `merge` as the `pactFileWriteMode`. Also, I 'm running the tests using `jest --runInBand` . I've tried other modes like `update` but have not been able to solve problem. Please advice!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:57</div><div class="msg">BTW what testing framework do you use @simon.nizov? I?d like to create a few wrappers for provider verification. This way, I could provide granular test feedback on a per contract, per assertion basis. So you?ll get an individual failure on ?Contract between Consumer A and Provider B &gt; some scenario &gt; status should be 200? type thing. I think this would make it clearer if another consumer wasn?t showing up, and also of course which exact thing wasn?t working</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:57</div><div class="msg">(I?m just on the train and about to swap stations, so will follow this all up when I land in the office)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 21:57</div><div class="msg">So, the ruby verifier prints this:
```INFO: Fetching pacts for X from https://....
INFO: Reading pact at https://***:*****@mybroker/pacts/provider/X/consumer/Y/version/1.0.15074.dev```
And then this for the second consumer
```INFO: Reading pact at https://***:*****@mybroker/pacts/provider/X/consumer/Z/version/1.0.3574.dev```
Which is helpful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 21:58</div><div class="msg">Can you please share your code? Redacted if necessary. This smells of a promise not being correctly handled</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 21:58</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 21:59</div><div class="msg">Also each of those has a line like this at the end:
```INFO: Verification results published to https://...```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 22:00</div><div class="msg">I?m using Jest.
But the verification step is just a .js file that I added as a script to `package.json` and I run during our CI build.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:02</div><div class="msg">Got it. I'll try and spike what I mean in the next week or so and ping this channel when I have it. I think it will help this situation</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d83d71ca86ae184b35fc74e2069fc9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">simon.nizov</div><div class="time">2020-03-03 22:02</div><div class="msg">Cool, thanks for the help!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:03</div><div class="msg">One thing to note is that I'm using pact-jest library which makes it easy to setup provider. See pactWith test block in both files.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:06</div><div class="msg">Is addUser a promise? Can you also share the log file that talks about mismatches? That will help see the sequence of events from the perspective of Pact</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:07</div><div class="msg">No addUser is a sync function:
```export const addUser = (client: ApolloClient&lt;any&gt;, userId: string) =&gt; {
  // const graphqlClient = createClient({ graphqlURL: url || '' });
  client.writeQuery({
    query: CURRENT_USER,
    data: {
      authStatus: {
        userId: userId || null,
        signinError: null,
        signupError: null,
        signupSuccess: null,
        __typename: 'authStatus',
      },
    },
  });
};```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:10</div><div class="msg">Error jest log
``` FAIL  src/components/auth/initial-profile-setup.spec.tsx (5.054s)  ? Console

    console.error node_modules/@pact-foundation/pact/httpPact.js:97
      
    console.error node_modules/@pact-foundation/pact/httpPact.js:98
      Pact verification failed!
    console.error node_modules/@pact-foundation/pact/httpPact.js:99
      Actual interactions do not match expected interactions for mock MockService.
      
      Missing requests:
        POST /graphql
      
      See /Users/surajkeshri/Documents/Developer/crewhood/frontend/pact/logs/Frontend-GroupService-mockserver-integration.log for details.```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:10</div><div class="msg">Note that the log file is overwritten everytime a different test file runs with the same consumer provider pair so in thisw case it didn't show any missing request in log file.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:12</div><div class="msg">Here's the pact file which has all the interactions:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:13</div><div class="msg">so none of thee interactions are missing in the pact file but I think when the test is run maybe the files are not written before that and there is delay so the test ends up not finding the interaction?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:14</div><div class="msg">Yeah that log file looks ok. If you only run one of the tests can you ever get it to fail? Or is it only when you combine them?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:15</div><div class="msg">Are you running them on a different mock server port? That matters too (sorry on mobile)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:16</div><div class="msg">No one test always passes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:16</div><div class="msg">yes a new port is created every time Ithink</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:17</div><div class="msg">I can force the same port though if you'd suggest me trying that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:22</div><div class="msg">so it tried same port for the Frontend-GroupService pair and I got the same error. (One out of 7 times I think)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:33</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:33</div><div class="msg">I?m confused about how
```addUser(apolloClient, userId);```
is not a promise - it?s making a network call right? If so, I don?t know how it can?t be one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:35</div><div class="msg">this function is just adding some data to the cache. Here's the signature of the function:
```writeQuery&lt;TData = any, TVariables = OperationVariables&gt;(options: DataProxy.WriteQueryOptions&lt;TData, TVariables&gt;): void;```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:35</div><div class="msg">ah ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:37</div><div class="msg">so what line is responsible for the http request that makes the graphql post?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:38</div><div class="msg">That is done when I render the component using the render function. For instance, for landing.tsx here's the react component (the apollo client query makes the graphql call):
```import React from 'react';
import gql from 'graphql-tag';
import styled from 'styled-components';
import { useQuery } from '@apollo/react-hooks';
import tw from 'tailwind.macro';
import { user } from '../../generated/user';
import { Nav } from './nav';
import { useAuth } from '../../auth-api';

const Wrapper = styled.div``;

export const GET_USER_PROFILE = gql`
  query user($id: String!) {
    user(id: $id) {
      id
      email
      name
      avatarUrl
      __typename
    }
  }
`;

export const Landing: React.FC&lt;{}&gt; = () =&gt; {
  const [{ userId }] = useAuth();
  const result = useQuery&lt;user&gt;(GET_USER_PROFILE, {
    variables: { id: userId },
    skip: !userId,
  });
  return (
    &lt;Wrapper&gt;
      {result?.data?.user &amp;&amp; (
        &lt;span className="text-bold text-black font-lg"&gt;{`Welcome ${result.data?.user.name}`}&lt;/span&gt;
      )}
      &lt;Nav /&gt;
    &lt;/Wrapper&gt;
  );
};```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:41</div><div class="msg">Ah, I see. I?m not a React expert but I follow. Ideally, I would separate the tests from the UI layer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:42</div><div class="msg">see <a href="https://docs.pact.io/faq#can-i-use-pact-for-ui-tests">https://docs.pact.io/faq#can-i-use-pact-for-ui-tests</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:42</div><div class="msg">Yeah I'd too but this has become the standard with this library. They want the data fetching to live inside the component and it's hard to separate them.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:42</div><div class="msg">I see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:42</div><div class="msg">I can understand why, it just makes your tests a little messy. But let?s work through it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:43</div><div class="msg">ApolloClient has their own data fetching mocking thing but I think Pact works much better because it actaully captures the interaction which can be verified by the provider.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:43</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:44</div><div class="msg">```const result = useQuery&lt;user&gt;(GET_USER_PROFILE, {
    variables: { id: userId },
    skip: !userId,
  });```
So, presumably _that_ is the thing that makes the call and is a Promise?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:44</div><div class="msg">yeah so this call
```const result = useQuery&lt;user&gt;(GET_USER_PROFILE, {
    variables: { id: userId },
    skip: !userId,
  });```
makes the request</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:45</div><div class="msg">and that's the graphql request that I'm mocking by adding this interaction:
```const getUserProfileInteraction = createGraphqlInteraction({
  query: GET_USER_PROFILE,
  variables: { id: userId },
  responseBody: {
    data: {
      user: {
        name: pact.Matchers.like('Some name'),
        avatarUrl: pact.Matchers.like(avatarUrl),
        id: userId,
        email: pact.Matchers.like(email),
        __typename: 'User',
      },
    },
  },
  uponReceiving: 'getUserProfile',
  state: `user with id ${userId} exists`,
  requestHeaders: { 'x-auth': JSON.stringify({ userId }) },
});```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:46</div><div class="msg">Is there any log file that has the failure logged in it? Unfortunately, everything so far looks like it?s working!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:47</div><div class="msg">I think you can specify the log file for each `pactWith` - so perhaps set them to different files so we can see what?s happening?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 22:47</div><div class="msg">okay let me try that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-03 22:48</div><div class="msg">ta</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 23:06</div><div class="msg">okay so I separated out the log and pact file folder for both the tests. Here's the log and the interaction file for the error:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-03 23:36</div><div class="msg">so as I see it in the logs: the two interactions are being registered with OperationName `InitialProfile` and `EditInitialProfile`. When a request is received for the first interaction it is matched (line 152). For the second request, it says (line 192-199)
```WARN -- : Verifying - actual interactions do not match expected interactions. 
Missing requests:
	POST /graphql


W, [2020-03-03T18:03:52.508802 #67660]  WARN -- : Missing requests:
	POST /graphql```
In the DEBUG part though, it is calling the request with the same operation name EditInitialProfile and it does match the regex of that registered interaction.  But somehow it didn't detect that. But later on on line 229 it says that it found the matching response for that request. I think the bug is that it is not finding the interaction the first time as shown above but it does find it later? How can it say that the interaction is missing the first time and then find it later for the same request?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/559421a42ef03dc88f423c8a8b5dabea.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">osirisnos4a2</div><div class="time">2020-03-03 23:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-04 22:18</div><div class="msg">Hi Matt, does this error make sense? I have not been able to debug this yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-05 06:51</div><div class="msg">OK, so reading that log things are clearer. This is the events as far as the Pact system is concerned:

1. You register an expectation for InitialProfile
2. You register an expectation for EditInitialProfile
3. You then make a request for InitialProfile and it finds a response
4. Something is then calling the ?verify? method because it starts to check if requests (1) and (2) have happened - but only InitialProfile has happened - so it errors saying it?s missing EditInitialProfile
5. at about the same moment, a request comes in for EditInitialProfile and the server responds to that (hence why it found it)
Missing requests are not that Pact couldn?t find it, but that your code didn?t make the request before you called verify.

This smells of a) promises not resolving correctly or b) two sets of tests talking to the same mock service. The mock service is stateful, you can?t have parallel tests communicating to it. I?m not sure if that?s an issue with the jest-pact library your using or in your setup.

But you need to find out why those things are happening concurrently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-05 06:55</div><div class="msg">I?m wondering if the wait 0 is not long enough?

```        const button = await findByText(/looks good/i);
        userEvent.click(button);
        await wait(0);```
In any case, there is an asnchronous event there (the click) and I?m pretty sure that?s why the request is coming in too late - the test will complete, and the `afterAll` hook that runs verify will kick in creating a race condition between the call editInitialProfile and the verification process. I think this is the source of your flakiness</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-05 10:35</div><div class="msg">(Sorry for the delay)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f6d1dd8131dd1828f5f9364511d1057e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">tyler.rasor</div><div class="time">2020-03-05 12:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-05 19:22</div><div class="msg">This is helpful, thanks. I've delve deeper today.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/99c7deb86bf2a375d91a90606e2ea770.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">surajkeshri</div><div class="time">2020-03-08 01:55</div><div class="msg">Hi Matt, I think you debugged it perfectly!!! Thank you so much. I just increased the wait to 10ms and ran the test for 15 times without any error. :clap:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-09 12:28</div><div class="msg">Late to the party here - glad you got the issue fixed, but I have a question - I?ve heard about this graphql library where data fetching is part of the component rendering. I?m not a graphql user myself, but this sounds like a very unhelpful pattern (among other reasons, it couples UI testing to API testing, which causes issues like the one you?ve discovered).

Is this the standard for graphql? Or just this particular pattern/library for graphql? Could you tell us a bit more about it? None of the core pact js people are heavy graphql users, so I?m interested to know how we could better support it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-09 12:29</div><div class="msg">If this is a common pattern, do you think there?s a way we could provide wrappers that make it easier to write pact tests for fetches during renders?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-09 12:39</div><div class="msg">See <a href="https://www.apollographql.com/docs/react/data/queries/">https://www.apollographql.com/docs/react/data/queries/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-09 12:39</div><div class="msg">If I understand correctly, the `useQuery` bit can be tested separately  from the component itself - most documentation just shows it all together</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-09 12:40</div><div class="msg">I would probably want a layer between `useQuery` and my component, but then you might just be re-inventing the GraphQL library. It has the ?only doing it for testability? smell</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e13774644c0b891fc6dda35a534cb525.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">aaron</div><div class="time">2020-03-09 21:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9d745e20e3345ee0ea9d1b88c0bc4fce.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">bsigney</div><div class="time">2020-03-13 05:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-16 06:07</div><div class="msg">Thanks Tim for your PR/Issues rampage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-16 06:07</div><div class="msg">Raargh!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-16 06:07</div><div class="msg">(TODO item removed from tomorrow :stuck_out_tongue: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-16 06:07</div><div class="msg">I mean, um, you?re welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-16 06:08</div><div class="msg">releasing a new pact-js now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-16 06:10</div><div class="msg">v9.8.1 - security fixes, and CORS headers improved.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-16 06:10</div><div class="msg">ah yes - I actually think there is a failing Pact test for Pactflow that needs that. I?ll confirm tomorrow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-16 06:10</div><div class="msg">party on!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-17 06:59</div><div class="msg">:point_up: we have an initial version of Pact-JS with V3 and XML support</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-17 06:59</div><div class="msg">But only for linux and OSX and node 10 and 13</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-17 07:27</div><div class="msg">Amazing work @uglyog and @matt.fellows!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-17 07:28</div><div class="msg">I'll take whatever credit Ron is willing to concede</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-17 07:28</div><div class="msg">haha!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-17 07:28</div><div class="msg">awesome!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-17 07:29</div><div class="msg">I just want to know how he did this:

&gt; uglyog
&gt; Release - v10.0.0-beta.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-17 07:32</div><div class="msg">hmm, no, you probably don't want to know how I did that :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-17 07:33</div><div class="msg">hahaha!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ac1efebe85267733d0d024413b7672.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">bradyzp</div><div class="time">2020-03-17 17:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3633c99419b0cb38d603634d79705fbe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">arho.huttunen</div><div class="time">2020-03-18 19:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-20 02:30</div><div class="msg">@matt.fellows @tjones I've added some initial docs on the V3 version :point_right: <a href="https://github.com/pact-foundation/pact-js#pact-js-v3">https://github.com/pact-foundation/pact-js#pact-js-v3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-20 02:38</div><div class="msg">This is exciting! Nice work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-22 09:48</div><div class="msg">Pact node doesn't shorten the git sha when it publishes a pact or verification does it peeps?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-22 09:48</div><div class="msg">Nope. Pass thru</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-22 09:50</div><div class="msg">Ta</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-22 09:51</div><div class="msg">And can verbose mode be switched on?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-22 09:52</div><div class="msg">So it logs the requests and responses?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-22 09:53</div><div class="msg">Off the top of my head I can't recall. But it literally just maps to the args for the Ruby CLI. I think debug mode should show the args sent to the CLI exec'd process</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 01:05</div><div class="msg">If verbose mode is an option for the standalone verifier, pact-node doesn?t know about it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 01:05</div><div class="msg">this is an easy change, and I could get it out today if you need it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-23 01:05</div><div class="msg">the related issue was fixed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-23 01:05</div><div class="msg">user error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-23 01:05</div><div class="msg">but yes, please do expose --verbose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-23 01:05</div><div class="msg">it helps debug issues communicating with the broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 01:05</div><div class="msg">cool - if you have a moment, could you open a ticket?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-23 01:05</div><div class="msg">pact node or js?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 01:06</div><div class="msg">node</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 01:06</div><div class="msg">Thank you!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-23 02:55</div><div class="msg">@tjones thanks for doing <a href="https://github.com/pact-foundation/pact-node/commit/2c681ef4d7b517229cbd5e96fc8db74d6a77713b">https://github.com/pact-foundation/pact-node/commit/2c681ef4d7b517229cbd5e96fc8db74d6a77713b</a>. It?s been on my mind. FWIW I think we should do <a href="https://docs.travis-ci.com/user/build-stages">https://docs.travis-ci.com/user/build-stages</a>. Because for e.g. if linux passes but OSX fails, or another Node Version fails, it will still release</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-23 02:55</div><div class="msg">using build stages would prevent that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 02:56</div><div class="msg">Ah yes, good point. My ?pact lunch? is almost up, so I?ll make an issue for that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-23 02:58</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-23 02:58</div><div class="msg">?Pact lunch?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 03:01</div><div class="msg">Created <a href="https://github.com/pact-foundation/pact-node/issues/216">https://github.com/pact-foundation/pact-node/issues/216</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-23 03:04</div><div class="msg">thx</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 03:04</div><div class="msg">don?t thank me yet - looks like I broke pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 03:04</div><div class="msg">but not too seriously</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-23 03:07</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 03:09</div><div class="msg">Also: The tests seem to pass on travis, but fail locally for me:


```  1) Net
       #isPortAvailable
         when the no local hosts are available
           returns a rejected promise:
     AssertionError: expected promise to be rejected but it was fulfilled with undefined```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 03:09</div><div class="msg">have you seen this before?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-23 03:14</div><div class="msg">mmmm no, let me try now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-23 03:19</div><div class="msg">I found that fails on OSX</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-23 03:19</div><div class="msg">In Travis it has: sudo sysctl -w net.ipv6.conf.all.disable_ipv6=0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 03:21</div><div class="msg">Yep. I?ve removed the test. The comment about node having a particular behaviour is incorrect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 03:21</div><div class="msg">&gt; In most operating systems, listening to the unspecified IPv6 address (::) may cause the net.Server to also listen on the unspecified IPv4 address (0.0.0.0).
<a href="https://nodejs.org/api/net.html#net_server_listen_options_callback">https://nodejs.org/api/net.html#net_server_listen_options_callback</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-23 03:22</div><div class="msg">^ this is what the documentation says</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/96a8123f1856bae8b6fa6a69290033ff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">grzegorzkrol90</div><div class="time">2020-03-23 08:31</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 08:44</div><div class="msg">Hi everybody. Is there a way to tell `Verifier` to run verification with all versions of a contract tagged with a specific tag (not only `latest` versions)? Our `consumer` is an iOS app and we would like to make sure that all versions that were released to AppStore (all of them are tagged with `release`) are verified every time there is a change on provider side.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:02</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:03</div><div class="msg">But it's in a feature that's in beta.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-24 09:03</div><div class="msg">Ah, we haven't added that to pact js yet have we? Just pending pacts?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:04</div><div class="msg">It's just making use of the new api</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-24 09:04</div><div class="msg">I should be able to get a start on that later tonight. It's not a lot of work but the type system doesn't yet support it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-24 09:04</div><div class="msg">BBL I'll follow up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:04</div><div class="msg">Are you using Pactflow or OSS broker @vitaliy.grigoruk?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:05</div><div class="msg">Sorry, I can't remember!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 09:05</div><div class="msg">I?m using pactflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:06</div><div class="msg">So, if you want it asap, I can tell you how to hack it. If you're OK to wait, Matt might be able to get the official support out reasonably quickly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:06</div><div class="msg">Matt, it's just passing in the consumer version selectors.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 09:07</div><div class="msg">I?d appreciate if you can share some info how this could be done now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:07</div><div class="msg">The underlying code is already using the new api</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 09:08</div><div class="msg">so it is just about passing the right command line args to `pact-provider-verifier`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:09</div><div class="msg">Yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:09</div><div class="msg">There's a new --consumer-version-selector parameter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:09</div><div class="msg"><a href="https://github.com/pact-foundation/pact_broker/issues/307">https://github.com/pact-foundation/pact_broker/issues/307</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:10</div><div class="msg">There's the master issue ^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:10</div><div class="msg">It describes how to use the new API.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:10</div><div class="msg">What you could do is call the API directly, to get the list of pacts to verify.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:11</div><div class="msg">And then feed that into your pact js configuration.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:12</div><div class="msg">Do a POST to`pacts/provider/{provider}/for-verification` with the body

```{
  "consumerVersionSelectors": [
    {
      "tag": "prod"
    }
  ]
}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:13</div><div class="msg">That will return a list of pact verification objects (deduped so that if multiple pacts have the same content, it only gets verified once). You can pull the pact URLs out, and then manually configure pact-js to verify those URLs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:13</div><div class="msg">Does that make sense?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:15</div><div class="msg">If you're using can-i-deploy, then you can already specify "all versions of this particular consumer". Docs are here: <a href="https://github.com/pact-foundation/pact_broker-client#alternate-usage---specifying-dependencies-explicitly">https://github.com/pact-foundation/pact_broker-client#alternate-usage---specifying-dependencies-explicitly</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:16</div><div class="msg">See the "Mobile provider use case".</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 09:17</div><div class="msg">Thank you @bethskurrie, I?ll try this!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:17</div><div class="msg">We'll make an announcement when it's out in the js code.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 09:23</div><div class="msg">It looks like there is no way to specify `consumer` name filter for `pacts/provider/{provider}/for-verification` .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 09:24</div><div class="msg">we have only 1 mobile consumer (where we need to verify all `release` contract versions) and all other consumers are web apps (where we need to verify only `latest` version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:25</div><div class="msg">Fair point.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:25</div><div class="msg">Easily added</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:26</div><div class="msg">I was expecting to do it, but nobody had asked yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:26</div><div class="msg">I've got an OSS day tomorrow. I'll see if I can add it then.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:29</div><div class="msg">If you were in a super hurry, you could do a nasty match on the urls!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 09:30</div><div class="msg">yeah, that?s what I was also thinking about :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-24 09:33</div><div class="msg">Do one query to get the latest prod pacts (you'll need to put latest:true in the selector) and one to get all the prod pacts, and just keep the ones for the consumer you care about.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-24 12:44</div><div class="msg">I'll look at this tomorrow @vitaliy.grigoruk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-24 12:58</div><div class="msg">great. Looking forward to that. Ping me if I can help somehow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0686954ff2007ca15398f6e8f93f9abd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">aliihlail</div><div class="time">2020-03-24 18:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 21:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 21:40</div><div class="msg">Hi, I?m trying `10.0.0-beta.2` with typescript, There?s a problem importing the module. In my `node_modules/@pact-foundation/pact/package.json` it says `{ ... "types": "./dist/pact.d.ts", ... }`, but the source files themselves are not in `./dist/` but at the same level as the `package.json`. I?m no JS expert, but this is how far I?ve come debugging the problem..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 22:05</div><div class="msg">:point_up: @matt.fellows is that just the package file that needs to be corrected?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-24 22:06</div><div class="msg">Let me take a quick look</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-24 22:07</div><div class="msg">yes I think so. In the `v3.0.0.` branch they point at `dist` but in master they are relative</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-24 22:08</div><div class="msg">Long term, I think I need to change the way the release works. There were reasons for having it in `dist` separate to compiling alongside the project (I think it was much harder to exclude certain things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 22:31</div><div class="msg">I hacked the problem locally, and now I think I?m a bit closer:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 22:31</div><div class="msg">```    dlopen(/Volumes/uf4/pact-typescript-lib/node_modules/@pact-foundation/pact/native/index.node, 1): no suitable image found.  Did find:
        /Volumes/uf4/pact-typescript-lib/node_modules/@pact-foundation/pact/native/index.node: unknown file type, first eight bytes: 0x7F 0x45 0x4C 0x46 0x02 0x01 0x01 0x00
        /Volumes/uf4/pact-typescript-lib/node_modules/@pact-foundation/pact/native/index.node: unknown file type, first eight bytes: 0x7F 0x45 0x4C 0x46 0x02 0x01 0x01 0x00```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 22:31</div><div class="msg">@uglyog</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 22:34</div><div class="msg">This is on a mac using `yarn` (not npm) to install the package</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 22:36</div><div class="msg">`file` info on this file is `ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=e0643a965bfb7ae3a0896a88b96e042af4e2833e, with debug_info, not stripped`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 22:38</div><div class="msg">The NPM package has an linux image in (it should not have any)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 22:39</div><div class="msg">The npm install command has a ` --update-binary` argument to get it to replace that binary with the correct one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 22:40</div><div class="msg">Yes, but I?m not using npm :stuck_out_tongue: Need to find another way then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 22:41</div><div class="msg">Yeah, I'm just looking for a yarn alternative</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 22:42</div><div class="msg">I searched it but cannot find anything</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 22:42</div><div class="msg">But you can download the binary from the releases and unpack it into the node modules</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 22:42</div><div class="msg">yes, I?ll try that, thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 22:42</div><div class="msg">That is what node-gyp does on install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 22:43</div><div class="msg">The next release will not have the linux binary in the NPM package</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 22:52</div><div class="msg">That's going to be a problem for a lot of people!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 23:00</div><div class="msg">`sudo xattr -d com.apple.quarantine node_modules/@pact-foundation/pact/native/index.node` solved it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 23:02</div><div class="msg">`Error: Pact verification failed - expected interactions did not match actual.` :tada:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 23:04</div><div class="msg">Yay!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-24 23:05</div><div class="msg">I'll update the readme with those instructions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 23:59</div><div class="msg">Hm, I actually need to use `new PactV3(..)` to use this right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-24 23:59</div><div class="msg">`new Pact(..., spec: 3)` won?t work?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 00:21</div><div class="msg">Ok, given this is true, I have question about the new PactV3 API. It looks like it?s designed to have all tests against the mock server executed in a callback. The old API uses lifecycle control functions. That means upgrading won?t be painless..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 00:36</div><div class="msg">Also I have a scenario where a single test is calling several endpoints in different providers. Think GraphQL-servers fetching data from many endpoints. The _test abstraction_ is executing a graphql query, and I?ll verify that the set of correct REST endpoints are called in the other end.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 00:40</div><div class="msg">It?d been nice to still have a way to control the mock servers via lifecycle calls. Either way it?s better than spawning ruby processes, because these Rust mock servers will die along with the node process anyway.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-25 00:51</div><div class="msg">Hi @audun.halland! Thanks for the feedback, this is very useful.

I haven?t had time to look at the V3 branch yet (although I?m excited about it) - I?m hoping to be able to have the upgrade as painless as possible.

Your test scenario is interesting. If it were me, I?d probably want to split the test boundaries so that Pact covers each individual request/ response, and unit tests cover joining the data returned together (since the join would be done after the request was serialised into a data object). Is that possible in your case?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-25 00:52</div><div class="msg">What are lifecycle control functions?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-25 00:54</div><div class="msg">We decided to keep the new API separate so it won't impact existing V2 tests, but it can be merged in the future</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 01:02</div><div class="msg">I mean like `async Pact.verify()`, `async Pact.finalize()`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 01:05</div><div class="msg">@tjones this is what I would normally do in a language that has proper typed deserialization of JSON responses. In a dynamic language like JavaScript there?s no ?deserialization? so I normally prefer to have fatter tests. If not, there?s almost no code changes that will be able to fail the tests. Something like ?test entropy??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-25 01:16</div><div class="msg">Those lifecycle functions are a limitation of using the ruby mock server. We are no longer constrained by those. We could use the same format, but I don't see the benefit apart from ease of switching from V2 to V3. I would prefer to create a better DSL and than one constrained by previous implementation.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 01:24</div><div class="msg">But that also happens to fit quite nicely into several JS test frameworks. E.g. A function runs before all the tests in the suite: The mock server is started. Another function runs after the group of tests: The mock server is killed. In e.g. Jest this is `beforeAll`/`afterAll` that are both asynchronous.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-25 01:26</div><div class="msg">We can definitely support that flow, if that is what makes sense</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 01:29</div><div class="msg">There are of course other ways to do things, but I personally don?t like to use _two_ test frameworks at the same time. (test must be executed from a pact callback and that runs inside jest)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-25 01:57</div><div class="msg">I don?t think Jest constrains us to a particular way of thinking about the DSL.

I do agree that there are challenges with typesafety in Pact testing with javascript, but I think those exist wherever you cut the Pact boundary (and they also exist in general unit tests too). I usually mitigate that with fixtures - I?ve been meaning to write that up in a blog post.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-25 01:58</div><div class="msg">Or do you mean you want to run pact tests without a test runner framework?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-25 02:00</div><div class="msg">Making a separate thread for discussing test frameworks / test design so as not to clutter the V3 conversation above. @audun.halland, are you aware of: <a href="https://github.com/pact-foundation/jest-pact">https://github.com/pact-foundation/jest-pact</a> ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 02:09</div><div class="msg">I understand the desire to automatically shut down the mock server after the test is done. Which this type of structure _will_ solve:
```it('tests stuff', async () =&gt; {
   const pact = new PactV3(...);
   pact.executeTest(async () =&gt; {
       // actual test
   });
};```
Still I don?t think it?s flexible enough to serve all users? needs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 02:19</div><div class="msg">I wasn?t aware of it. It looks nice for simple usage, but I?m still fond of the flexibility in being able to execute against several providers in the same test. We _do_ sometimes use pact as part of integration test, even though I?m aware it?s not considered best practice. In some cases I think it?s the lesser evil..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-03-25 02:20</div><div class="msg">We can support both forms</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 02:31</div><div class="msg">I think apollo server is a good example. In a consumer test I want to verify that what the REST returns actually works mapping to into a GraphQL node tree. There?s usually a very thin layer between the ?back? REST client and the ?front? graphql server. Just writing a full end2end integration test saves time and many code lines :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2020-03-25 02:34</div><div class="msg">(and sometimes that kind of test will involve calling into more than one provider)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c845528bde4083fb69e0de49eac4bed6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">jwortmann719</div><div class="time">2020-03-25 10:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c845528bde4083fb69e0de49eac4bed6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">jwortmann719</div><div class="time">2020-03-25 10:53</div><div class="msg">Hi, does anyone knows if there is already an `ng add`  library to add a pact configuration to an angular app? Would love to work on something like this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 10:55</div><div class="msg">Oh, no I?m not aware - but please do!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-03-25 11:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 12:08</div><div class="msg">@audun.halland thanks for the feedback. I actually would like to schedule a bit of a round table before the V3 interface is fully published. Right now, it?s in a very functional but also somewhat experimental state</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 12:08</div><div class="msg">The broader ecosystem, developer ergonomics and extensibility need to be considered</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 12:09</div><div class="msg">For example, we need to be able to support code debugging, developers should be able to wrap interfaces over the system - e.g. GraphQL - and it should be extensible and publish hooks so that Pact Jest and similar wrappers can modify the ergonomics/experience as desired</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 12:10</div><div class="msg">Ultimately, we won?t be able to satisfy all of the things, and the limitations of the underlying engine (Rust) will result in tradeoffs against flexibility.

But it?s an exiting development!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 12:35</div><div class="msg">See <a href="https://github.com/pact-foundation/pact-node/pull/217">https://github.com/pact-foundation/pact-node/pull/217</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-25 21:09</div><div class="msg">~Maybe I?m doing something wrong, but for some reason pactflow returns me contracts with tags that do not match `consumerVersionSelectors`

Here is the request I send:~

```
curl --silent -XPOST -H "Content-Type: application/json" \
  -H "Authorization: Bearer $PACT_BROKER_TOKEN" \
  -d '{"consumerVersionSelectors":[{"tag": "release"}]}' \
  https://$<a href="http://COMPANY.pact.dius.com.au/pacts/provider/api/for-verification">http://COMPANY.pact.dius.com.au/pacts/provider/api/for-verification</a>```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-25 21:10</div><div class="msg">Maybe I?m doing something wrong, but for some reason pactflow returns me contracts with tags that do not match `consumerVersionSelectors`

Here is the request I send:
```curl --silent -XPOST -H "Content-Type: application/json" \
  -H "Authorization: Bearer $PACT_BROKER_TOKEN" \
  -d '{"consumerVersionSelectors":[{"tag": "release"}]}' \
  https://$<a href="http://COMPANY.pact.dius.com.au/pacts/provider/api/for-verification">http://COMPANY.pact.dius.com.au/pacts/provider/api/for-verification</a>```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-25 21:11</div><div class="msg">I?m fetching contract URLs using jq:
```jq -r '._embedded.pacts | .[] | ._links.self.href | select(. | contains("consumer/ios-app"))'```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-25 21:13</div><div class="msg">I?ve noticed that some contract URLs refer a consumer version that doesn?t have `release` tag.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7a145962753f8933891caf408c6eb3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ravi.dasari</div><div class="time">2020-03-25 21:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7a145962753f8933891caf408c6eb3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ravi.dasari</div><div class="time">2020-03-25 21:33</div><div class="msg">@here how do I use pending pacts beta feature ? is there any documentation for this? I simply cannot find anything related to this except for the blog - <a href="http://blog.pact.io/2020/02/24/how-we-have-fixed-the-biggest-problem-with-the-pact-workflow/">http://blog.pact.io/2020/02/24/how-we-have-fixed-the-biggest-problem-with-the-pact-workflow/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 21:47</div><div class="msg">How did you hear about it (apart from that blog)?

It's not yet in JS yet (I submitted a OR to Pact Node last night that would be the key thing in doing so, however)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 21:48</div><div class="msg">There is an environment variables you can use in the meanwhile, I'll share when back at a desk</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:16</div><div class="msg">You won't be seeing consumer versions in the URLs, you'll be seeing pact versions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:21</div><div class="msg">It's the "permalink" to the underlying content, not the URL that has the consumer version in it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 22:25</div><div class="msg">you need to a) be using <a href="http://pactflow.io">http://pactflow.io</a> and b) have exported `export PACT_BROKER_PACTS_FOR_VERIFICATION_ENABLED=true`

@bethskurrie is (a) still a prerequisite?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:25</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 22:25</div><div class="msg">:ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:25</div><div class="msg">You need to have the Pact Broker running with PACT_BROKER_FEATURES=pacts_for_verification</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:26</div><div class="msg">Also, you need to have an implementation that supports it, of which only the Ruby impl and standalone/dockerized pact-provider-verifier does.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:28</div><div class="msg">I believe pact-js and pact-go are not far off @matt.fellows</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:29</div><div class="msg">pact-js just needs the `--enable-pending` flag exposed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:30</div><div class="msg">If it's using the ruby stdout rather than doing any fancing parsing, it'll all just work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:34</div><div class="msg">Actually, I think pact-python does too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 22:34</div><div class="msg">Pact Go supports it - I should add some docs actually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 22:34</div><div class="msg">Pact JS - sent a PR for that last night, in review</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-25 22:34</div><div class="msg">@ravi.dasari which language are you verifying in?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 22:49</div><div class="msg">I?m assuming JS given we?re in this chanel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-25 22:49</div><div class="msg">@bethskurrie JS is just waiting on this PR: <a href="https://github.com/pact-foundation/pact-node/pull/217">https://github.com/pact-foundation/pact-node/pull/217</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-26 00:50</div><div class="msg">Publishing that now :+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 01:54</div><div class="msg">You should be able to check this by opening the matrix page and selecting "all versions with tag release" for that application.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 01:55</div><div class="msg">The pact version sha isn't shown in the text columns unfortunately, but it is shown in the hover over text for the Pact Published column.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 01:56</div><div class="msg">You should be able to find a row with a matching pact version sha. If you can't, then I can investigate it further for you.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7a145962753f8933891caf408c6eb3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ravi.dasari</div><div class="time">2020-03-26 02:33</div><div class="msg">@bethskurrie thanks for the reply. I am using consumer with pact-js and provider for both node-js and java platforms. So I think I need this feature for both pact-js and pact-jvm.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 03:15</div><div class="msg">It'll be a little while before pact JVM gets it, but Ron is working on it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-26 08:28</div><div class="msg">I?m opening a first URL from the list that is returned by `curl`  And it renders a page which shows pact contract for a specific version of consumer. And this versions has no tags at all?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:29</div><div class="msg">That'll be the latest consumer version that has that pact content.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:30</div><div class="msg">Technically, when you access a pact-version, it should show a list of all the consumer versions that have that content.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:30</div><div class="msg">For better or worse, when I designed this resource, I made it select the most recent consumer version to display.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:34</div><div class="msg">This API returns a list of Pact Versions, not a list of Pact Publications. I wanted to make the resources pretty much interchangeable though, so when you view a Pact Version resource, it picks the most recent Pact Publication that it belongs to.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-26 08:34</div><div class="msg">thanks for clarifications. Now it is more clear why I get these results.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:36</div><div class="msg">With the benefit of hindsight, I should not have specified the consumer version resource at all, or made it a list, or made it a pb:latest-consumer-version relation.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-26 08:38</div><div class="msg">Is there any way to query API for all ?pact publications? that belong to the same ?pact-version??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:39</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:39</div><div class="msg">it wouldn't be hard, but nobody has ever asked for it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:39</div><div class="msg">what would you use it for?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:40</div><div class="msg">btw, I'll have your "all prod pacts for this consumer" api out tomorrow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:40</div><div class="msg">and the get/post thing fixed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-26 08:40</div><div class="msg">was just curious if this is possible now to see how many pact publications belong to a particular version of the contract</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-26 08:41</div><div class="msg">great, thank you very much!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:41</div><div class="msg">You may be able to reverse engineer it from the matrix query.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:44</div><div class="msg">ah, no. it uses the link with the consumer version.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-03-26 08:44</div><div class="msg">If you go to the matrix page though, and hover over the pact publication cell, it will highlight all the pact publications that have the same pact version.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-03-26 09:00</div><div class="msg">&gt;  If you go to the matrix page though, and hover over the pact publication cell, it will highlight all the pact publications that have the same pact version.
This actually works, thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-03-26 21:31</div><div class="msg">Hey there, I?m trying to run a graphQL pact, how should I format the query:
```Matching keys and values are not shown    
                                          
 {                                        
   "body": {                              
-    "query": /\s*query\s*storeById\(\$id:
+    "query": "query storeById($id: String
   }                                      
 }                                        
                                          ```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe86794da0516edfcd23a2f0baf71820.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">deepakverma</div><div class="time">2020-03-26 21:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-26 22:12</div><div class="msg">Double check the issues online on Pact JS, I believe this may have come up before</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-03-26 22:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-03-27 08:43</div><div class="msg">you?re right, <a href="https://github.com/pact-foundation/pact-js/issues/292">https://github.com/pact-foundation/pact-js/issues/292</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-03-27 09:13</div><div class="msg">any workaround for this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-03-27 10:36</div><div class="msg">had to copy request body from apollo client and added __typename to the response, it works :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-27 12:16</div><div class="msg">Thanks. If you?re able to help work out how we can fix this in the GraphQL interaction types, I?d very much appreciate it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c845528bde4083fb69e0de49eac4bed6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">jwortmann719</div><div class="time">2020-03-27 12:21</div><div class="msg">I started to work on a pact schematic. One can find the repo here <a href="https://github.com/JWO719/ngx-pact">https://github.com/JWO719/ngx-pact</a> in case anyone wants to support or give feedback. I plan to release a first version just with scaffolding basic initialization beginning of next week</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-03-29 21:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e228b291ec153e9acac0070539faba8b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">kaz.udesh</div><div class="time">2020-03-30 03:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/895ee3bbaa84bf08303f6351192715b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">davidpihlaja</div><div class="time">2020-03-30 19:09</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 01:16</div><div class="msg">@tjones FYI I made some changes to the travis release processes last night, in order to get around the release problems. I tested a publish on a branch and it worked, but just a heads up in case there is an issue next time we release.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 01:17</div><div class="msg">It now uses the multi-stage build to do the release step - so will _only_ release if the initial builds are all successful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-31 01:49</div><div class="msg">Nice work! Thanks for doing the legwork!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 01:56</div><div class="msg">np</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 01:56</div><div class="msg">just had to be done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 01:56</div><div class="msg">and it annoyed me so much that I passed the critical threshold</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-03-31 02:00</div><div class="msg">DDD, or Derailment Driven Development</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:00</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:40</div><div class="msg">Hi There  - I was wondering does anyone encounter below issue:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:40</div><div class="msg">?matchingRules?: {
          ?$.body.id?: {
            ?match?: ?regex?,
            ?regex?: ?^[0-9a-fA-F]+$?
          }</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:40</div><div class="msg">I am using above matching rules but pact provider couldn?t match hexadecimal string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:41</div><div class="msg">* Expected ?5e82a81d8ffec3918330b305? but got ?5e82acc17d545aaf740e5591" at $.id</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:42</div><div class="msg">(FYI please format your code blocks using backticks  to aid in readability)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:42</div><div class="msg">Can you please share the full pact file and any logs?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:42</div><div class="msg">Ok sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:42</div><div class="msg">are both the consumers and providers using JS?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:42</div><div class="msg">`?matchingRules?: {
          ?$.body.id?: {
            ?match?: ?regex?,
            ?regex?: ?^[0-9a-fA-F]+$?
          }`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:43</div><div class="msg">(triple backticks either side, or use the code block formatting option)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:44</div><div class="msg">```"matchingRules": {
          "$.body.id": {
            "match": "regex",
            "regex": "^[0-9a-fA-F]+$"
          }```
Yes both provider and consumer using JS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:50</div><div class="msg">```{
  "consumer": {
    "name": "Client"
  },
  "provider": {
    "name": "someservie"
  },
  "interactions": [{
      "description": "a request to retrieve engineers list",
      "providerState": "engineers list",
      "request": {
        "method": "GET",
        "path": "/engineers/getengineer",
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": [{
          "name": "Ram",
          "practice": "Test",
          "id": "5e8280694c55aa3b3263fe9a"
        }],
        "matchingRules": {
          "$.body[0].id": {
            "match": "regex",
            "regex": "^[0-9a-fA-F]+$"
          }
        }
      }
    },
    {
      "description": "a request to post a engineer",
      "providerState": "add a engineer",
      "request": {
        "method": "POST",
        "path": "/engineers/addengineer",
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": {
          "name": "New Engineer",
          "practice": "Dev"
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": {
          "name": "New Engineer",
          "practice": "Dev",
          "id": "5e82a81d8ffec3918330b305"
        },
        "matchingRules": {
          "$.body.id": {
            "match": "regex",
            "regex": "^[0-9a-fA-F]+$"
          }
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "4.0.0"
    }
  }
}```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:51</div><div class="msg">When running against provider I am seeing ?* Expected ?5e82a81d8ffec3918330b305? but got ?5e82af6fbc760fb6f185128d? at $.id?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:52</div><div class="msg">@prabhuramchennai just as an aside, your resource model looks very non-RESTful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:52</div><div class="msg">e.g. /engineers/addengineer should simply be a `POST` to `/engineers/`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:53</div><div class="msg">e.g. /engineers/getengineer should simply be a `GET` to `/engineers/`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:53</div><div class="msg">the resource is `engineer` and you?ve pluralised it :white_check_mark:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:53</div><div class="msg">but the suffixes make it look like an RPC</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:53</div><div class="msg">How have you gotten pact specification `4.0.0`? That is not a valid specification for JS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:54</div><div class="msg">Yeah Matt . Just trying out tool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:54</div><div class="msg">did you make the pact by hand?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:54</div><div class="msg">bbl</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:55</div><div class="msg">I was using pact:3.0.0 . Just changed to 4.0.0 see whether I am getting same issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:55</div><div class="msg">Even with 3.0.0 I am seeing 3.0.o</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:56</div><div class="msg">How did you generate the pact? Is it JS on the consumer and provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:56</div><div class="msg">Or did you write the pact by hand?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 02:56</div><div class="msg">I think you want 2.0.0 anyway</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 02:57</div><div class="msg">Tool successfully generated pact file.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 03:03</div><div class="msg">```I, [2020-03-31T14:01:36.146943 #49127]  INFO -- : Registered expected interaction GET /engineers/getengineer
D, [2020-03-31T14:01:36.147192 #49127] DEBUG -- : {
  "description": "a request to retrieve engineers list",
  "providerState": "engineers list",
  "request": {
    "method": "GET",
    "path": "/engineers/getengineer",
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": [
      {
        "name": "Ram",
        "practice": "Test",
        "id": {
          "json_class": "Pact::Term",
          "data": {
            "generate": "5e8280694c55aa3b3263fe9a",
            "matcher": {
              "json_class": "Regexp",
              "o": 0,
              "s": "^[0-9a-fA-F]+$"
            }
          }
        }
      }
    ]
  },
  "metadata": null
}
I, [2020-03-31T14:01:36.153500 #49127]  INFO -- : Received request GET /engineers/getengineer
D, [2020-03-31T14:01:36.153615 #49127] DEBUG -- : {
  "path": "/engineers/getengineer",
  "query": "",
  "method": "get",
  "headers": {
    "Content-Type": "application/json; charset=utf-8",
    "Host": "localhost:5001",
    "Accept-Encoding": "gzip, deflate",
    "User-Agent": "node-superagent/3.8.3",
    "Connection": "close",
    "Version": "HTTP/1.1"
  }
}
I, [2020-03-31T14:01:36.153848 #49127]  INFO -- : Found matching response for GET /engineers/getengineer
D, [2020-03-31T14:01:36.153949 #49127] DEBUG -- : {
  "status": 200,
  "headers": {
    "Content-Type": "application/json; charset=utf-8"
  },
  "body": [
    {
      "name": "Ram",
      "practice": "Test",
      "id": {
        "json_class": "Pact::Term",
        "data": {
          "generate": "5e8280694c55aa3b3263fe9a",
          "matcher": {
            "json_class": "Regexp",
            "o": 0,
            "s": "^[0-9a-fA-F]+$"
          }
        }
      }
    }
  ]
}
I, [2020-03-31T14:01:36.160484 #49127]  INFO -- : Verifying - interactions matched
I, [2020-03-31T14:01:36.163947 #49127]  INFO -- : Cleared interactions
I, [2020-03-31T14:01:36.168877 #49127]  INFO -- : Registered expected interaction POST /engineers/addengineer
D, [2020-03-31T14:01:36.169028 #49127] DEBUG -- : {
  "description": "a request to post a engineer",
  "providerState": "add a engineer",
  "request": {
    "method": "POST",
    "path": "/engineers/addengineer",
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
      "name": "New Engineer",
      "practice": "Dev"
    }
  },
  "response": {
    "status": 201,
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
      "name": "New Engineer",
      "practice": "Dev",
      "id": {
        "json_class": "Pact::Term",
        "data": {
          "generate": "5e82a81d8ffec3918330b305",
          "matcher": {
            "json_class": "Regexp",
            "o": 0,
            "s": "^[0-9a-fA-F]+$"
          }
        }
      }
    }
  },
  "metadata": null
}
I, [2020-03-31T14:01:36.173080 #49127]  INFO -- : Received request POST /engineers/addengineer
D, [2020-03-31T14:01:36.173206 #49127] DEBUG -- : {
  "path": "/engineers/addengineer",
  "query": "",
  "method": "post",
  "body": {
    "name": "New Engineer",
    "practice": "Dev"
  },
  "headers": {
    "Content-Length": "40",
    "Content-Type": "application/json; charset=utf-8",
    "Host": "localhost:5001",
    "Accept-Encoding": "gzip, deflate",
    "User-Agent": "node-superagent/3.8.3",
    "Connection": "close",
    "Version": "HTTP/1.1"
  }
}
I, [2020-03-31T14:01:36.173392 #49127]  INFO -- : Found matching response for POST /engineers/addengineer
D, [2020-03-31T14:01:36.173498 #49127] DEBUG -- : {
  "status": 201,
  "headers": {
    "Content-Type": "application/json; charset=utf-8"
  },
  "body": {
    "name": "New Engineer",
    "practice": "Dev",
    "id": {
      "json_class": "Pact::Term",
      "data": {
        "generate": "5e82a81d8ffec3918330b305",
        "matcher": {
          "json_class": "Regexp",
          "o": 0,
          "s": "^[0-9a-fA-F]+$"
        }
      }
    }
  }
}
I, [2020-03-31T14:01:36.177172 #49127]  INFO -- : Verifying - interactions matched
I, [2020-03-31T14:01:36.180264 #49127]  INFO -- : Cleared interactions
I, [2020-03-31T14:01:36.183980 #49127]  INFO -- : Writing pact for EngineerService to /Users/ram/practice/pact-example/consumer-driven/consumer/pacts/client-engineerservice.json```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 03:04</div><div class="msg">```{
  "consumer": {
    "name": "Client"
  },
  "provider": {
    "name": "EngineerService"
  },
  "interactions": [
    {
      "description": "a request to retrieve engineers list",
      "providerState": "engineers list",
      "request": {
        "method": "GET",
        "path": "/engineers/getengineer",
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": [
          {
            "name": "Ram",
            "practice": "Test",
            "id": "5e8280694c55aa3b3263fe9a"
          }
        ],
        "matchingRules": {
          "$.body[0].id": {
            "match": "regex",
            "regex": "^[0-9a-fA-F]+$"
          }
        }
      }
    },
    {
      "description": "a request to post a engineer",
      "providerState": "add a engineer",
      "request": {
        "method": "POST",
        "path": "/engineers/addengineer",
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": {
          "name": "New Engineer",
          "practice": "Dev"
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": {
          "name": "New Engineer",
          "practice": "Dev",
          "id": "5e82a81d8ffec3918330b305"
        },
        "matchingRules": {
          "$.body.id": {
            "match": "regex",
            "regex": "^[0-9a-fA-F]+$"
          }
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 03:05</div><div class="msg">as you can see pact file generated successfully by pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 03:12</div><div class="msg">Thanks  Can you please share the actual response from the provider and also the verifier output</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 03:16</div><div class="msg">After you pointed out I changed the version from spec 4.0.0 to 2.0.0.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 03:17</div><div class="msg">It worked .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 03:17</div><div class="msg">So what does that mean Matt?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-03-31 03:18</div><div class="msg">Can I find somewhere which version and which matchers should I use for JS?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 03:56</div><div class="msg">How did you set it in the first place?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 03:57</div><div class="msg">Just leave it as the default</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 03:59</div><div class="msg">Also, what made you think to change it? perhaps we have some misleading documentation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-03-31 03:59</div><div class="msg">Also see feature support <a href="https://docs.pact.io/feature_support">https://docs.pact.io/feature_support</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-01 04:14</div><div class="msg">Hi @ramspotla, you can find the matcher documentation here: <a href="https://github.com/pact-foundation/pact-js#match-common-formats">https://github.com/pact-foundation/pact-js#match-common-formats</a>, with an example test below it.

In your case, it looks like you?d want:

```provider.addInteraction({
  state: "add a engineer",
  uponReceiving: "a request to post a engineer",
  withRequest: {
    method: "POST",
    path: "/engineers/addengineer",
    headers: {
          "Content-Type": "application/json; charset=utf-8"
    },
  },
  willRespondWith: {
    status: 201,
    headers: {
      "Content-Type": "application/json; charset=utf-8",
    },
    body: {
          name: "New Engineer",
          practice: "Dev",
          id: Matchers.term({matcher: "^[0-9a-fA-F]+$",  generate: "5e82a81d8ffec3918330b305"}),
        },
  },
})```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-01 04:17</div><div class="msg">I agree with matt?s comments about the API design, btw. Also, it looks like you might not be using `state` correctly - have a read of <a href="https://docs.pact.io/getting_started/provider_states">https://docs.pact.io/getting_started/provider_states</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:17</div><div class="msg">Hi Tim - thank you . Initially I used term function . It pact was not able to match the hexa string.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:17</div><div class="msg">so now I am using hexadecimal function from Matchers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:17</div><div class="msg">it worked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:18</div><div class="msg">The reason why I wanted to see your code and what the API actually was Ram, is that I see a potential issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:19</div><div class="msg">Yes I am not using state. But I am using Jest hooks to get the data state</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:19</div><div class="msg">I am directly connecting to db and getting the state what I wanted.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:19</div><div class="msg">In the `a request to retrieve engineers list`interaction, your matcher is _only_ matching on the `id` of the _first_ item in the list that comes back.

So this indicates you?re not using a `eachLike` matcher, and are instead will be matching on an array with exactly 1 item, where the `id` must be a hexadecimal string.

Almost certainly, this is not what you want</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:19</div><div class="msg">It?s all good now. Working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:20</div><div class="msg">I was trying all other matchers see how they work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:20</div><div class="msg">I tried term, like</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:21</div><div class="msg">@tjones what you do think about Pact JS warning in the situation where there is a matcher applied to an attribute that is within an object list (it would have to support nesting). Because 9 times out of 10, this is probably not what you want</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:21</div><div class="msg">But term not working though pact created match regex properly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:21</div><div class="msg">can you please share your code? That  will help</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:22</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:22</div><div class="msg">when I used term : term({matcher: ?^[0-9a-fA-F]+$?,  generate: ?5e82a81d8ffec3918330b305?}</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-01 04:23</div><div class="msg">Can you share the whole test, please?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:23</div><div class="msg">but pact not able to match hexa string.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:23</div><div class="msg">after that I tried to use hexadecimal then it?s ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:23</div><div class="msg">I will Tim</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:24</div><div class="msg">give me couple of minutes pls</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:27</div><div class="msg">Other small issue I am encountering is</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:27</div><div class="msg">my api sends status code 201 and also pact files also has the same status code</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:29</div><div class="msg">But when I am trying with provider pact it?s complaining status code 200. I was wondering what could be that causing that issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:30</div><div class="msg">can you please share your code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:31</div><div class="msg">If the pact has `201` in it, and the provider does not return a `201` it will fail. So either a) your provider is not returning a `201` or there is a configuration issue somewhere</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:32</div><div class="msg">what exactly you wann see. log file or pact file or both consumer test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:32</div><div class="msg">as much as you have will help us help you!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:32</div><div class="msg">```{
  "consumer": {
    "name": "Client"
  },
  "provider": {
    "name": "EngineerService"
  },
  "interactions": [{
      "description": "a request to retrieve engineers list",
      "providerState": "engineers list",
      "request": {
        "method": "GET",
        "path": "/engineers",
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": [{
          "name": "Ram",
          "practice": "Test",
          "id": "5e8280694c55aa3b3263fe9a"
        }],
        "matchingRules": {
          "$.body[0].name": {
            "match": "type"
          },
          "$.body[0].practice": {
            "match": "type"
          },
          "$.body[0].id": {
            "match": "regex",
            "regex": "^[0-9a-fA-F]+$"
          }
        }
      }
    },
    {
      "description": "a request to post a engineer",
      "providerState": "add a engineer",
      "request": {
        "method": "POST",
        "path": "/engineers",
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": {
          "name": "New Engineer",
          "practice": "Dev"
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": {
          "name": "New Engineer",
          "practice": "Dev",
          "id": "5e82a81d8ffec3918330b305"
        },
        "matchingRules": {
          "$.body.name": {
            "match": "type"
          },
          "$.body.practice": {
            "match": "type"
          },
          "$.body.id": {
            "match": "regex",
            "regex": "^[0-9a-fA-F]+$"
          }
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-01 04:32</div><div class="msg">Can you send the consumer test please?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:32</div><div class="msg">Yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:33</div><div class="msg">```require('dotenv').config()
const request = require('supertest')
const provider = require('../expectation/provider')
const interactions = require('../expectation/interactions')

const serverAddress = `<a href="http://localhost">http://localhost</a>:${process.env.CLIENT_PORT}`
const baseUrl = '/engineers'
const consumerClient = request(`${serverAddress}`)

describe('api testing', () =&gt; {
  jest.setTimeout(60000)
  beforeAll(async () =&gt; {
    await provider.setup()
  })

  afterAll(async () =&gt; {
    await provider.finalize()
  })

  afterEach(async () =&gt; {
    await provider.verify()
  })

  test('get all engineers', async () =&gt; {
    await provider.addInteraction(interactions.getEngineersList)
    const res = await consumerClient
      .get(`${baseUrl}`)
      .set('Content-Type', 'application/json; charset=utf-8')
    expect(JSON.parse(res.text)).toEqual([
      {
        name: 'Ram',
        practice: 'Test',
        id: '5e8280694c55aa3b3263fe9a'
      }
    ])
  })
  test('post a engineer', async () =&gt; {
    await provider.addInteraction(interactions.createEngineer)
    const payload = {
      name: 'New Engineer',
      practice: 'Dev'
    }
    const res = await consumerClient
      .post(`${baseUrl}`)
      .set('Content-Type', 'application/json; charset=utf-8')
      .send(payload)
      .expect(201)
    expect(JSON.parse(res.text)).toEqual({
      name: 'New Engineer',
      practice: 'Dev',
      id: '5e82a81d8ffec3918330b305'
    })
  })
})```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:35</div><div class="msg">is `process.env.CLIENT_PORT`pointing at the pact mock server port?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:38</div><div class="msg">Yes Matt</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:38</div><div class="msg">```const opts = {
  consumer: 'Client',
  provider: 'EngineerService',
  port: parseInt(process.env.CLIENT_PORT),
  log: path.resolve(__dirname, '../../logs'),
  loglevel: 'ERROR',
  dir: path.resolve(__dirname, '../pacts'),
  spec: 2.0
}```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:41</div><div class="msg">can you please also share the expectations file and the logs?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:43</div><div class="msg">I be back in 10 minutes . I got to go. Thank you Matt and Tim</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 04:44</div><div class="msg">np</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 04:58</div><div class="msg">Hi</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 05:00</div><div class="msg">```I, [2020-04-01T15:26:28.556393 #47039]  INFO -- : Registered expected interaction GET /engineers
D, [2020-04-01T15:26:28.556706 #47039] DEBUG -- : {
  "description": "a request to retrieve engineers list",
  "providerState": "engineers list",
  "request": {
    "method": "GET",
    "path": "/engineers",
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": [
      {
        "name": {
          "json_class": "Pact::SomethingLike",
          "contents": "Ram"
        },
        "practice": {
          "json_class": "Pact::SomethingLike",
          "contents": "Test"
        },
        "id": {
          "json_class": "Pact::Term",
          "data": {
            "generate": "5e8280694c55aa3b3263fe9a",
            "matcher": {
              "json_class": "Regexp",
              "o": 0,
              "s": "^[0-9a-fA-F]+$"
            }
          }
        }
      }
    ]
  },
  "metadata": null
}
I, [2020-04-01T15:26:28.563401 #47039]  INFO -- : Received request GET /engineers
D, [2020-04-01T15:26:28.563511 #47039] DEBUG -- : {
  "path": "/engineers",
  "query": "",
  "method": "get",
  "headers": {
    "Content-Type": "application/json; charset=utf-8",
    "Host": "localhost:5001",
    "Accept-Encoding": "gzip, deflate",
    "User-Agent": "node-superagent/3.8.3",
    "Connection": "close",
    "Version": "HTTP/1.1"
  }
}
I, [2020-04-01T15:26:28.563752 #47039]  INFO -- : Found matching response for GET /engineers
D, [2020-04-01T15:26:28.563872 #47039] DEBUG -- : {
  "status": 200,
  "headers": {
    "Content-Type": "application/json; charset=utf-8"
  },
  "body": [
    {
      "name": {
        "json_class": "Pact::SomethingLike",
        "contents": "Ram"
      },
      "practice": {
        "json_class": "Pact::SomethingLike",
        "contents": "Test"
      },
      "id": {
        "json_class": "Pact::Term",
        "data": {
          "generate": "5e8280694c55aa3b3263fe9a",
          "matcher": {
            "json_class": "Regexp",
            "o": 0,
            "s": "^[0-9a-fA-F]+$"
          }
        }
      }
    }
  ]
}
I, [2020-04-01T15:26:28.570494 #47039]  INFO -- : Verifying - interactions matched
I, [2020-04-01T15:26:28.573592 #47039]  INFO -- : Cleared interactions
I, [2020-04-01T15:26:28.577693 #47039]  INFO -- : Registered expected interaction POST /engineers
D, [2020-04-01T15:26:28.577852 #47039] DEBUG -- : {
  "description": "a request to post a engineer",
  "providerState": "add a engineer",
  "request": {
    "method": "POST",
    "path": "/engineers",
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
      "name": "New Engineer",
      "practice": "Dev"
    }
  },
  "response": {
    "status": 201,
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
      "name": {
        "json_class": "Pact::SomethingLike",
        "contents": "New Engineer"
      },
      "practice": {
        "json_class": "Pact::SomethingLike",
        "contents": "Dev"
      },
      "id": {
        "json_class": "Pact::Term",
        "data": {
          "generate": "5e82a81d8ffec3918330b305",
          "matcher": {
            "json_class": "Regexp",
            "o": 0,
            "s": "^[0-9a-fA-F]+$"
          }
        }
      }
    }
  },
  "metadata": null
}
I, [2020-04-01T15:26:28.581590 #47039]  INFO -- : Received request POST /engineers
D, [2020-04-01T15:26:28.581708 #47039] DEBUG -- : {
  "path": "/engineers",
  "query": "",
  "method": "post",
  "body": {
    "name": "New Engineer",
    "practice": "Dev"
  },
  "headers": {
    "Content-Length": "40",
    "Content-Type": "application/json; charset=utf-8",
    "Host": "localhost:5001",
    "Accept-Encoding": "gzip, deflate",
    "User-Agent": "node-superagent/3.8.3",
    "Connection": "close",
    "Version": "HTTP/1.1"
  }
}
I, [2020-04-01T15:26:28.581855 #47039]  INFO -- : Found matching response for POST /engineers
D, [2020-04-01T15:26:28.581967 #47039] DEBUG -- : {
  "status": 201,
  "headers": {
    "Content-Type": "application/json; charset=utf-8"
  },
  "body": {
    "name": {
      "json_class": "Pact::SomethingLike",
      "contents": "New Engineer"
    },
    "practice": {
      "json_class": "Pact::SomethingLike",
      "contents": "Dev"
    },
    "id": {
      "json_class": "Pact::Term",
      "data": {
        "generate": "5e82a81d8ffec3918330b305",
        "matcher": {
          "json_class": "Regexp",
          "o": 0,
          "s": "^[0-9a-fA-F]+$"
        }
      }
    }
  }
}
I, [2020-04-01T15:26:28.585538 #47039]  INFO -- : Verifying - interactions matched
I, [2020-04-01T15:26:28.588517 #47039]  INFO -- : Cleared interactions
I, [2020-04-01T15:26:28.591790 #47039]  INFO -- : Writing pact for EngineerService to /Users/ram/practice/pact-example/consumer-driven/consumer/pacts/client-engineerservice.json```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 05:00</div><div class="msg">see the proivder logs: sending 201</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 05:00</div><div class="msg">POST /engineers 201 16.618 ms - 64</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-01 05:03</div><div class="msg">```'use strict'
const { Matchers } = require('@pact-foundation/pact')
const { eachLike, like, term, hexadecimal } = Matchers
const baseUrl = '/engineers'
const ENGINEERS_GET_BODY = [
  {
    name: like('Ram'),
    practice: like('Test'),
    id: hexadecimal('5e8280694c55aa3b3263fe9a')
  }
]

const ENGINEER_POST_PAYLOAD = {
  name: 'New Engineer',
  practice: 'Dev'
}
const ENGINEER_RES_PAYLOAD = {
  name: like('New Engineer'),
  practice: like('Dev'),
  id: hexadecimal('5e82a81d8ffec3918330b305')
}

module.exports = {
  getEngineersList: {
    state: 'engineers list',
    uponReceiving: 'a request to retrieve engineers list',
    withRequest: {
      method: 'GET',
      path: `${baseUrl}`,
      headers: {
        'Content-Type': 'application/json; charset=utf-8'
      }
    },
    willRespondWith: {
      status: 200,
      body: ENGINEERS_GET_BODY,
      headers: {
        'Content-Type': 'application/json; charset=utf-8'
      }
    }
  },
  createEngineer: {
    state: 'add a engineer',
    uponReceiving: 'a request to post a engineer',
    withRequest: {
      method: 'POST',
      path: `${baseUrl}`,
      headers: {
        'Content-Type': 'application/json; charset=utf-8'
      },
      body: ENGINEER_POST_PAYLOAD
    },
    willRespondWith: {
      status: 201,
      body: ENGINEER_RES_PAYLOAD,
      headers: {
        'Content-Type': 'application/json; charset=utf-8'
      }
    }
  }
}```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 07:21</div><div class="msg">I don't see any provider logs. Is the problem with the consumer test or the provider test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-01 07:22</div><div class="msg">Can you show what the actual problem is?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-01 13:58</div><div class="msg">Hi, any way I can log the verifier requests? I?m trying to validate a POST method, but the body is not being passed on the request: the contract:
```{
  "consumer": {
    "name": "EatFruits"
  },
  "provider": {
    "name": "Fruits"
  },
  "interactions": [
    {
      "description": "a fruit",
      "providerState": "when I add a fruit",
      "request": {
        "method": "POST",
        "path": "/api/fruits",
        "headers": {
          "Accept": "application/json"
        },
        "body": {
          "name": "Fruit_1",
          "price": 1.2,
          "calories": 120
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8"
        },
        "body": {
          "message": "New fruit created!",
          "data": {
            "_id": {
              "generate": "5e847e5c5ba97d17dcdb7a51",
              "matcher": "([0-9a-f]+)"
            },
            "create_date": {
              "generate": "2020-04-01T11:43:24.950Z",
              "matcher": "(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2})\\:(\\d{2})\\:(\\d{2}).(\\d{3})Z"
            },
            "name": "Fruit_1",
            "price": 1.2,
            "calories": 120,
            "__v": 0
          }
        },
        "matchingRules": {
          "$.body.data._id": {
            "match": "type"
          },
          "$.body.data.create_date": {
            "match": "type"
          }
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-01 14:10</div><div class="msg">wrong request header :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-01 14:10</div><div class="msg">```headers: {
          'Content-Type': 'application/json;charset=utf-8',
        },```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/766ebe205b397f46d77fdd3e706c3fd5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">sacharya_pact</div><div class="time">2020-04-02 05:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-02/1030768238386_da816aa57d68423ac779_72.jpg" /><div class="message"><div class="username">lbraymusso</div><div class="time">2020-04-02 05:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-03 02:44</div><div class="msg">problem is : pact provider fails due to status code not matching</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-03 08:10</div><div class="msg">yes @ramspotla, because I define wrong Content-type for  request headers, and the request body was not passed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/35a85e8f1a1a2032129d5415bb51c6eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">safiyya</div><div class="time">2020-04-03 14:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-05 00:10</div><div class="msg">Thank you I try that. Sorry my bad copy and paste</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ef045e1954edbb6a2fda2e289b2d5d64.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ramspotla</div><div class="time">2020-04-05 00:11</div><div class="msg">error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-05 00:12</div><div class="msg">?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-28/1280070976913_45c7e256ad0827759f50_72.jpg" /><div class="message"><div class="username">mcruzdrake</div><div class="time">2020-04-05 16:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c2d9d46c808c37aafa7339932a041072.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">christopher.richard</div><div class="time">2020-04-06 18:22</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c2d9d46c808c37aafa7339932a041072.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">christopher.richard</div><div class="time">2020-04-06 18:38</div><div class="msg">Seeing something weird with an interaction I'm adding.
In my logs I can see I've added the interaction:
```[2020-04-06T14:02:02.378142 #7624]  INFO -- : Registered expected interaction GET /v1/users/402/memberships?cancelled=false```
But then it seems to fail when the request is made:
```[2020-04-06T14:02:02.384429 #7624] ERROR -- : No matching interaction found for GET /v1/users/402/memberships?cancelled=false```
It seems to not like the QS, but I've used the same structure for other requests:
```[2020-04-06T14:02:02.359280 #7624]  INFO -- : Registered expected interaction GET /v1/users/401/memberships?expired=false

[2020-04-06T14:02:02.364947 #7624]  INFO -- : Found matching response for GET /v1/users/401/memberships?expired=false```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c2d9d46c808c37aafa7339932a041072.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">christopher.richard</div><div class="time">2020-04-06 18:39</div><div class="msg">Can anyone see something I'm not seeing?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c2d9d46c808c37aafa7339932a041072.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">christopher.richard</div><div class="time">2020-04-06 19:13</div><div class="msg">Found it.  turns out `false != 'false'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-06 22:12</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-06 22:12</div><div class="msg">Query strings are all _strings_ but it?s easy to forget</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-04-06 23:27</div><div class="msg">sounds like something to add a warning for? If there are any non-strings in query defs :thinking_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-06 23:36</div><div class="msg">Yep good idea. I'll raise an issue for it shortly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-07 00:58</div><div class="msg">We could also get the broker to provide hints when the log prints the same string twice (usually this is headers)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-07 00:59</div><div class="msg">it?s annoying to have situations that result in `you didn't request "GET /foo/bar"`, and `I expected "GET /foo/bar"`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-04-07 01:05</div><div class="msg">ah, very similar symptoms for other attributes . . .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c2d9d46c808c37aafa7339932a041072.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">christopher.richard</div><div class="time">2020-04-07 13:02</div><div class="msg">Seems to me the `query` attr in a new interaction's `withRequest` object should validate against non-strings?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-07 13:12</div><div class="msg">Yep, that?s the idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-07 13:12</div><div class="msg">It?s currently enforced by typescript, but that?s not sufficient. I?ll add</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-07 14:04</div><div class="msg">hello, any way I can use a pact interaction and don?t create a contract for it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-07 21:35</div><div class="msg">Can you please elaborate on what you need Cesar?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-08 08:28</div><div class="msg">Hello Matt, I?m trying to replace all jest.mock from units tests in a project with PACT :heart_eyes_cat:
We have some mock unit tests that are not applicable on provider, Ex: I get a wrong body response and a 200 status code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-08 08:29</div><div class="msg">I cannot test that against the provider, for now I just adding those contracts to a dummy file called tobe-discarded.json</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-08 08:29</div><div class="msg">And I neve user that contracts for validations on provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-04-08 08:30</div><div class="msg">my question is, Is any way I can use pact for mock, but dont generate those contracts?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2c2cc62529101f664647e68cdd0651b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">anguyen0815</div><div class="time">2020-04-08 22:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-04-09 17:48</div><div class="msg">Hey everyone, I?m new to the pact-js side of things and trying to set up a simple login test that returns a jwt token. I?m trying to wrap the expected response matcher with term, but I?m getting a strange mismatch between Expected and Received. Here?s the test results and I?ll include my code:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-04-09 17:49</div><div class="msg">I don?t know why it posted the code snippet three times ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-04-09 21:06</div><div class="msg">I?ve got it pinned down to the regex matcher. I know it?s not in the right place. Just can?t seem to figure out how it should look.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-04-09 23:27</div><div class="msg">Well, I?ve made some progress, I think. I updated the matcher and regex, which I realized was wrong. I changed it to:
```body: {
            data: term({
              matcher: /^[A-Za-z0-9_=-]+\.[A-Za-z0-9_=-]+\.?[A-Za-z0-9_.+\/=-]*$/,
              generate: "eyJhbGciOiJSUzI1NiIsImtpZCI6ImQtMyIsInR5cCI6IkpXVCJ9.eyJBQ0xTIjp7IjY3MDNkZjcxLWJmODMtNDU1ZC05ZTg4LTVlNDI2ODE4M2Q5ZCI6WzIwLDIxLDMwLDQwMCw0MDEsNDAyLDQwMyw0MDQsNDA3LDQwOF19LCJleHAiOjE1ODY0NzkyMDQsImV4cEJ1ZmZlciI6MTU4NjUwODAwNCwiaWF0IjoxNTg2NDY0ODA0LCJqdGkiOiJhODE1NDY3Ni00Njk5LTRhMTgtOWUyOS1lZjI0YzUxY2QxZjMiLCJ0eXBlIjoicHJhY3RpY2UiLCJ1c2VyX2lkIjoiM2Y3OGJhNGQtZDg3Yy00MmJjLTkzMDItMTRkMzY2Mjc1MzQyIiwidXNlcm5hbWUiOiJkZXYtYXV0aC1tb25pdG9yLTU2MjI2ODQ1NTJAYXNkZi5jb20ifQ.6QjJAmmHv2vCP0mo7JjhAz1iwhMC-Xjdu9Ag0nxxx9-DBMCns-jK1cybRR0_2M5zwGTJkASU_a13-aRS3COiM4NLZcuphMWSBAARHpEBJFacgrGHOFnFFnJzZybERwaW1ftqft6gaITS6tQO_mP4I7oVRgyvIpdU-qgMmNICfixWjRD4LkHY2E4B4WZazbw77SQHrrnToE3p6D6WrSeFY3SmP3uJRGe1muMSJc4sioSdkUHXMeZjEU8wdvjznErQD1uxZoAB5FOnth20CvhgrNSWpb4KpX1KZEtNJeavQGEFVuvktBSdx5yDcbrEsbMFeK22f1RglfoVvIkdTz_yVg"
            })
          }```
But, now I?m getting an error on `term` that says, `TypeError: matcher.replace is not a function`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 05:26</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 06:19</div><div class="msg">Hi</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 06:20</div><div class="msg">I am seeing popsicle error (unable to connect) and pact server is not running up, can any one of you please help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 06:20</div><div class="msg">below is the detailed log :
I am getting PopsicleError: Unable to connect to "<a href="http://127.0.0.1:9008/interactions">http://127.0.0.1:9008/interactions</a>"
    at Request.error (<a href="http://localhost:9886/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:18853:1">http://localhost:9886/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:18853:1</a>)
    at XMLHttpRequest.xhr.onerror [as __zone_symbol__ON_PROPERTYerror] (<a href="http://localhost:9886/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22426:1">http://localhost:9886/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22426:1</a>)
    at XMLHttpRequest.wrapFn (<a href="http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1">http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1</a>)
    at ZoneDelegate.invokeTask (<a href="http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:391:1">http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:391:1</a>)
    at Zone.runTask (<a href="http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1">http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1</a>)
    at ZoneTask.invokeTask [as invoke] (<a href="http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:465:1">http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:465:1</a>)
    at invokeTask (<a href="http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1">http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1</a>)
    at XMLHttpRequest.globalZoneAwareCallback (<a href="http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1629:1">http://localhost:9886/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1629:1</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-10 06:21</div><div class="msg">There?s a subtlety here, for which we should probably improve the error message - the `matcher` needs to be a string that contains a Ruby regular expression, not a Javascript regex object</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-10 06:28</div><div class="msg">In your other snippet, the problem (which you probably found) was that  `expect(response.data).toEqual(loginResponse)` is passed the pact expectation, including the matchers - it needs to be passed the object that you expect to be returned from the API</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-10 06:30</div><div class="msg">It?s hard to help with just the error - could you tell us more about the test setup. What happens when you try to start the server?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 08:38</div><div class="msg">I was trying to run a basic test with angular 7 application. Below are my
```"@pact-foundation/karma-pact": "^2.2.0",
"@pact-foundation/pact-node": "^10.2.1",
"@pact-foundation/pact-web": "^9.5.0",```
 Node version -12.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-10 09:44</div><div class="msg">Could you post the test, please?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 10:46</div><div class="msg">My test --
```import { TestBed } from '@angular/core/testing';
import { HttpClientModule } from '@angular/common/http';
import { Matchers, PactWeb } from '@pact-foundation/pact-web';
import { UserService } from '@app/main/forecast-runs/components/estimate-creation/user.service';
import { User } from '@app/main/forecast-runs/components/estimate-creation/user';
import { Pact } from '@pact-foundation/pact-web/httpPact';

describe('UserServicePact', () =&gt; {

  let provider;

  // Setup Pact mock server for this service
  beforeAll(async () =&gt; {

    provider = await new PactWeb({
      consumer: 'ui-karma',
      provider: 'userservice',
      host: '127.0.0.1',
      port: 9008
    });

    // required for slower CI environments
    await new Promise(resolve =&gt; setTimeout(resolve, 1000));

    // Required if run with `singleRun: false`
    await provider.removeInteractions();
  });

  // Configure Angular Testbed for this service
  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      imports: [
        HttpClientModule
      ],
      providers: [
        UserService
      ]
    });
  });

  // Verify mock service
  afterEach(async () =&gt; {
    await provider.verify();
  });

  // Create contract
  afterAll(async () =&gt; {
    await provider.finalize();
  });

  describe('get()', () =&gt; {

    const userId = 1;

    let expectedUser: User = {
      firstName: 'Zaphod',
      lastName: 'Beeblebrox'
    };

    beforeAll(async () =&gt; {
      await provider.addInteraction({
        state: `user 1 exists`,
        uponReceiving: 'a request to GET a user',
        withRequest: {
          method: 'GET',
          path: `/api/users/${userId}`
        },
        willRespondWith: {
          status: 200,
          body: Matchers.somethingLike(expectedUser)
        }
      });
    });

    it('should get a user', async () =&gt; {
      const userService: UserService = TestBed.get(UserService);

      await userService.get(userId).toPromise().then(response =&gt; {
        expect(response).toEqual(expectedUser);
      });
    });
  });

  describe('create()', () =&gt; {

    const expectedUser: User = {
      firstName: 'Arthur',
      lastName: 'Dent'
    };

    const createdUserId = 42;

    beforeAll(async () =&gt; {
      await provider.addInteraction({
        state: `provider accepts a new user`,
        uponReceiving: 'a request to POST a user',
        withRequest: {
          method: 'POST',
          path: '/api/users',
          body: expectedUser,
          headers: {
            'Content-Type': 'application/json'
          }
        },
        willRespondWith: {
          status: 201,
          body: Matchers.somethingLike({
            id: createdUserId
          }),
          headers: {
            'Content-Type': 'application/json'
          }
        }
      });
    });

    it('should create a user', async () =&gt; {
      const userService: UserService = TestBed.get(UserService);
      await userService.create(expectedUser).toPromise().then(response =&gt; {
        expect(response).toEqual(createdUserId);
      });
    });

  });

  describe('update()', () =&gt; {

    let expectedUser: User = {
      firstName: 'Zaphod',
      lastName: 'Beeblebrox'
    };

    beforeAll(async () =&gt; {
      await provider.addInteraction({
        state: `user 42 exists`,
        uponReceiving: 'a request to PUT a user',
        withRequest: {
          method: 'PUT',
          path: '/api/users/42',
          headers: {'Content-Type': 'application/json'},
          body: Matchers.somethingLike(expectedUser)
        },
        willRespondWith: {
          status: 200,
          body: Matchers.somethingLike(expectedUser)
        }
      });
    });

    it('should update a user', async () =&gt; {
      const userService: UserService = TestBed.get(UserService);

      await userService.update(expectedUser, 42).toPromise().then(response =&gt; {
        expect(response).toEqual(expectedUser);
      });
    });
  });
});```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 10:51</div><div class="msg">// Karma configuration file, see link for more information
// <a href="https://karma-runner.github.io/1.0/config/configuration-file.html">https://karma-runner.github.io/1.0/config/configuration-file.html</a>

path = require('path');
module.exports = function(config) {
  config.set({
    basePath: '',
    frameworks: ['jasmine', '@angular-devkit/build-angular'],
    plugins: [
      require('karma-jasmine'),
      require('@pact-foundation/karma-pact'),
      require('karma-chrome-launcher'),
      require('karma-firefox-launcher'),
      require('karma-jasmine-html-reporter'),
      require('karma-coverage-istanbul-reporter'),
      require('@angular-devkit/build-angular/plugins/karma'),
    ],
    client: {
      clearContext: false,
      // leave Jasmine Spec Runner output visible in browser
      jasmine: {
        timeoutInterval: 40000
      }
    },
    coverageIstanbulReporter: {
      // dir: require('path').join(__dirname, '../coverage'),
      reports: ['html', 'lcovonly', 'text-summary'],
      fixWebpackSourcePaths: true,
    },
    reporters: ['progress', 'kjhtml'],
    port: 9886,
    colors: true,
    logLevel: config.LOG_INFO,
    autoWatch: true,
    browsers: ['Chrome'],
    singleRun: false,
    pact: [
      {
        cors: true,
        spec: 3,
        port: 9008,
        log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
        dir: path.resolve(process.cwd(), '../../pacts')
      }
    ],
    proxies: {
      '/api': '<a href="http://localhost:9008/api">http://localhost:9008/api</a>'
    }

});

};</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-10 11:42</div><div class="msg">Thanks for that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-10 11:42</div><div class="msg">Where did you get `spec: 3` from? Not that I think it will break anything, but it?s not a valid spec version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-10 11:43</div><div class="msg">Does the mock server startup?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-10 11:43</div><div class="msg">can you confirm there is nothing already running on port `9008`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 13:40</div><div class="msg">regarding spec 3: I just pasted from the internet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 13:40</div><div class="msg">and karma is being started but pact did not  started up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-10 13:41</div><div class="msg">no port 9008 is free</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-04-10 14:47</div><div class="msg">Yes, I realized I had the matchers malformed and removed them from the response as well as in the mock request. However, I?ve had a hard time getting the regex correct. I wonder if there couldn?t be a better example in the <a href="https://github.com/pact-foundation/pact-js#match-by-regular-expression">https://github.com/pact-foundation/pact-js#match-by-regular-expression</a> of what this should look like? It does say, `The underlying mock service is written in Ruby, so the regular expression must be in a Ruby format, not a Javascript format.` But the example shown is simply this:
```gender: term({
        matcher: "F|M",
        generate: "F",
      }),```
For the expression I?m trying to match - `/^[A-Za-z0-9_=-]+\.[A-Za-z0-9_=-]+\.?[A-Za-z0-9_.+\/=-]*$/` , which works on <a href="https://rubular.com/">https://rubular.com/</a>, even putting this in quotes still throws an error. Should I provide the leading and trailing `/` as I would in ruby or is that replaced by the quotes? From the error messages, it seems they are required, though they are missing from the README example.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-04-10 16:43</div><div class="msg">With quotes around it, it seems I need to also provide the escape `\`. After doing that, I?m still getting this error: `Example 'eyJhbGciOiJSUzI1NiIsImtpZ ...' does not match provided regular expression '/^[A-Za-z0-9_=-]+\.[A-Za-z0-9_=-]+\.?[A-Za-z0-9_.+\/=-]*$/'`. I?ve double-checked the regex with that string on <a href="http://rubular.com">http://rubular.com</a> as well as in ruby code locally. Both say it?s a match. I?m really at a loss here as to why this would be failing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-10 21:40</div><div class="msg">Any logs suggesting why?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-10 21:41</div><div class="msg">&gt;  regarding spec 3: I just pasted from the internet
where? It is incorrect and must be fixed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-12 07:55</div><div class="msg"><a href="https://github.com/richardhendricksen/pact-example-angular-spring-boot/blob/master/consumers/angular8-karma/karma.conf.js">https://github.com/richardhendricksen/pact-example-angular-spring-boot/blob/master/consumers/angular8-karma/karma.conf.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-12 07:55</div><div class="msg">I have found this repo via an article in medium <a href="https://medium.com/@richard.hendricksen/consumer-driven-contract-testing-with-pact-for-angular-and-spring-boot-9c84caac4040">https://medium.com/@richard.hendricksen/consumer-driven-contract-testing-with-pact-for-angular-and-spring-boot-9c84caac4040</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-12 08:03</div><div class="msg">However even If i comment out that spec line the result is the same</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-12 10:13</div><div class="msg">What does the log file say? Can you please post the terminal output? The pact plugin must not be starting correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-12 11:45</div><div class="msg">Hi Matt</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-12 11:45</div><div class="msg">I have attached the log file in the above snippet , can you please revie</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-12 11:45</div><div class="msg">w</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 13:48</div><div class="msg">Can you please set the log level to DEBUG in karma</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 13:48</div><div class="msg">```    // Pact Providers
    pact: [
      {
        port: 1234,
        consumer: "KarmaJasmineConsumer",
        provider: "KarmaJasmineProvider",
        logLevel: "DEBUG",
        log: path.resolve(process.cwd(), "logs", "pact.log"),
        dir: path.resolve(process.cwd(), "pacts"),
      },
    ],```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 13:48</div><div class="msg">e.g. as per above</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 13:48</div><div class="msg">and then provide the logs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 13:49</div><div class="msg">you should be seeing something like this in the logs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 13:52</div><div class="msg">Does anybody here use Nock to test their HTTP clients? If so, do you still use that with Pact or did you replace them?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 13:52</div><div class="msg">Would it be useful at all to have a Pact integration with nock?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1067905177349_fb3b0f164053b5a96ed4_72.jpg" /><div class="message"><div class="username">komeershettyvinod</div><div class="time">2020-04-13 14:30</div><div class="msg">console log</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-04-13 14:45</div><div class="msg">@tjones @matt.fellows Any ideas here?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-13 15:32</div><div class="msg">I think the problem is possibly the slashes at either end of the string- try just providing the regex, from `^` to `@`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-13 15:32</div><div class="msg">(Sorry I missed this before)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /><div class="message"><div class="username">rbenbolton</div><div class="time">2020-04-13 15:38</div><div class="msg">Ok, so I removed the slashes, and it works if the token provided in the `willRespondWith` is exactly the same as the token returned by the mock provider. However, if I set those to two different tokens, but they both match the regular expression, the test fails. I would expect to be able to provide two different values here and have the test pass as long as they both match the regular expression. Is that not the case? If not, how do I know then that the regex is working?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 20:55</div><div class="msg">Might need some help from @bethskurrie on this one. I recall there being a few peculiarities with the regexing on Ruby.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-13 20:55</div><div class="msg">Ideally, if you could repro it at <a href="https://github.com/pact-foundation/pact-ruby-standalone-e2e-example/">https://github.com/pact-foundation/pact-ruby-standalone-e2e-example/</a>, that would be really helpful</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c9ffaadd26d7658c7422d2aa916bde38.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">aaron590</div><div class="time">2020-04-14 05:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c9ffaadd26d7658c7422d2aa916bde38.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">aaron590</div><div class="time">2020-04-14 06:01</div><div class="msg">Hello, I'm working on setting up pact-js in my CI Pipeline.  I'm getting an error that rake cannot be found and cat Gemfile.lock is not present when I run `jest --testPathPattern .*\.pact\.spec\.js --runInBand --setupFiles ./pact/pactSetup.js --setupTestFrameworkScriptFile=./pact/pactTestWrapper.js`

Everything works locally.  Any help would be appreciated.  It's in CircleCI.

It appears that pact-js depends on pact-node, which relies on some ruby gems.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:11</div><div class="msg">Hi</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:11</div><div class="msg">So basically, we bundle a traveling Ruby installation in Pact Node with a Ruby app that does a lot of the hard work under the hood</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:12</div><div class="msg">It should be all but hidden from you, however it?s revealing itself to you now - sorry!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:12</div><div class="msg">I have seen this before, I think</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:12</div><div class="msg">It?s when it?s running in an environment where there are Ruby environment variables already present</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:12</div><div class="msg">e.g. `BUNDLE_APP_CONFIG` . I think if you unset them, it may help, but let me find any related issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:33</div><div class="msg">OK was just able to repro the issue locally when that env var is set</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:35</div><div class="msg">found this old issue too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 07:43</div><div class="msg">Have just raised a PR to fix this in the standalone library, which would fix it for you. In the meantime, explicitly _unset_ that environment variable in your build, and you should be golden. Apologies. <a href="https://github.com/pact-foundation/pact-ruby-standalone/pull/50">https://github.com/pact-foundation/pact-ruby-standalone/pull/50</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c9ffaadd26d7658c7422d2aa916bde38.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">aaron590</div><div class="time">2020-04-14 14:17</div><div class="msg">Thanks for the quick reply.  `unset BUNDLE_APP_CONFIG &amp;&amp; yarn pact:test` solved it.  Thank you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 21:22</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 21:22</div><div class="msg">It will be fixed in the library in the next day or so. Thanks for bringing it to my attention. To be honest, I'm surprised it hasn't shown up before given the popularity of circle!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c9ffaadd26d7658c7422d2aa916bde38.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">aaron590</div><div class="time">2020-04-14 21:26</div><div class="msg">I?m assuming most people would choose a node environment for their ui container. Currently my project is small enough that i have my rails back end and react front end in the same repo. That means I?m using a ruby &amp; node container. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-14 21:34</div><div class="msg">ahh, yes, makes sense then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-28/1280070976913_45c7e256ad0827759f50_72.jpg" /><div class="message"><div class="username">mcruzdrake</div><div class="time">2020-04-15 16:12</div><div class="msg">Hi all, we are using Pact-js and the pact-broker for one of our projects and I am trying to visualize what our CI pipeline would be. Can someone point me to the right direction on how I can use the Pact webhooks to trigger the provider tests when a contract has been published from the consumer? We are using CircleCI. Thanks in advance!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ac412069fd3cc440084a389ee22eeee3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">david.tran</div><div class="time">2020-04-15 16:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c2d9d46c808c37aafa7339932a041072.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">christopher.richard</div><div class="time">2020-04-15 17:25</div><div class="msg">Hi Marie! not sure if this helps but I found this example useful:
<a href="https://github.com/pact-foundation/pact_broker/wiki/Webhooks#example-cicd-and-webhook-configuration">https://github.com/pact-foundation/pact_broker/wiki/Webhooks#example-cicd-and-webhook-configuration</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-15 23:22</div><div class="msg">That?s the doc Chris, albeit they?ve now moved to <a href="https://docs.pact.io/pact_broker/advanced_topics/webhooks">https://docs.pact.io/pact_broker/advanced_topics/webhooks</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-15 23:22</div><div class="msg">I?ll follow up that, because the old wiki should have been deprecated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/489e637df8eb00212f7a2122ce94f234.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">akkoubak</div><div class="time">2020-04-16 00:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/489e637df8eb00212f7a2122ce94f234.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">akkoubak</div><div class="time">2020-04-16 00:38</div><div class="msg">Hello, I am attempting to validate a contract that contains 22 interactions. The provider is run with JEST using the standalone provider. The issue is that the provider times out during execution returning a     `Timeout waiting for verification process to complete (PID: 6428)`

      `at Timeout._onTimeout (node_modules/q/q.js:1846:21).`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 00:40</div><div class="msg">Have you tried increasing the test timeout in Jest?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/489e637df8eb00212f7a2122ce94f234.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">akkoubak</div><div class="time">2020-04-16 00:45</div><div class="msg">Hi Matt, yes I did. I increased by modifying the jest setup file (jest.setTimeout(300000)). I also verified that that JEST is respecting the timeout defined by changing the timeout. Here is my provider test                            `/*eslint-envjest*/`
`const{Verifier}=require('@pact-foundation/pact')`

`constclient=require('../token/getToken')`

`require('../../src/index.js')`



`describe('PactVerification',()=&gt;{`
`it('validatestheexpectationsofMatchingService',()=&gt;{`
`afterEach(()=&gt;{`
`process.exit()`
`})`


`constopts={`
`provider:'ApolloGateway',`
`logLevel:'DEBUG',`
`providerBaseUrl:'<a href="http://localhost:4000">http://localhost:4000</a>',`

`requestFilter:async(req,res,next)=&gt;{`
`console.log(`
`'MiddlewareinvokedbeforeproviderAPI-injectingAuthorizationtoken'`
`)`
`//req.headers["MY_SPECIAL_HEADER"]="myspecialvalue"`

`//e.g.ADDBearertoken`
`constgeneratedJWT=awaitclient.getJWT()`
`req.headers.authorization=`Bearer${generatedJWT}``
`next()`
`},`




`//Enables"pendingpacts"feature`
`enablePending:true,`

`//SpecificRemotepacts(doesn'tneedtobeabroker)`
`pactUrls:['<a href="https://mybroker">https://mybroker</a>'],`


`//Ifyou'reNOTusingPactflow,usetheusername/passwordoptionasperbelow`
`//pactBrokerUsername:"",`
`//pactBrokerPassword:"",`

`pactBrokerToken:'',`
`publishVerificationResult:true,`
`providerVersion:'1.0.0'`
`}`

`returnnewVerifier(opts).verifyProvider().then(output=&gt;{`
`console.log('PactVerificationComplete!')`
`console.log(output)`
`process.exit()`
`})`
`})`
`})`                                                                                                                                                                                           and here is my failure on the provider side</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/489e637df8eb00212f7a2122ce94f234.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">akkoubak</div><div class="time">2020-04-16 00:49</div><div class="msg">BTW, the provider seems to timeout at 30 seconds</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 00:59</div><div class="msg">Add a timeout to the verifier itself: <a href="https://github.com/pact-foundation/pact-js/#verification-options">https://github.com/pact-foundation/pact-js/#verification-options</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 00:59</div><div class="msg">It defaults to `30000` (30s)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/489e637df8eb00212f7a2122ce94f234.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">akkoubak</div><div class="time">2020-04-16 01:02</div><div class="msg">Worked like magic. Thanks Matt!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 01:02</div><div class="msg">:thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 01:02</div><div class="msg">awesome</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 07:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 07:07</div><div class="msg">Hi,

Is there anyone who can assist finalising PactJS implementation on Angular? I got multiple micro-service instances to write pacts for and I can't work out how to do this without passing consumer to PactWeb rather than just defining multiple pacts in my karma config.

So far the way I have done this is by having multiple pact declarations in karma conf to start the mock servers each having different ports of course, then I defined proxies for my endpoints to point to the corresponding pact port, and finally declaring an empty PactWeb provider in my pact test.  This worked fine for one microservice, however, when I implemented the next microservice I cannot do an empty PactWeb provider declaration in pact test.

Have I gone off track of how it should be implemented?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:09</div><div class="msg">:wave:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:09</div><div class="msg">so my first question - can you do this without Karma/Jasmine? Because that?s the source of much pain (e.g. can you use a Node JS framework)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:10</div><div class="msg">my next question - can you just specify the `port` in the different `PactWeb` instances? That should pass through to the correct back end mock</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 07:14</div><div class="msg">Offf, just be aware that I am just switching from Java so my knowledge is bit iffy...
To answer your question - we probably can(?), this is a greenfield project at an early stage so got lots of flexibility - would you say ditching this karma setup would be best then?
Type safety doesn't allow not defining PactOptions without consumer and provider. My concern really comes from the planned deprecation of this. It is 3 extra lines of code so not too much skin off our backs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:14</div><div class="msg">ah, fair enough</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:15</div><div class="msg">Look, personally, I prefer to avoid Karma because it runs in the browser - you shouldn?t be testing anything that has a dependency on a browser (except at a low level, the XMLHttpRequest that makes the actual http calls - but Ng abstracts that anyway, I think [confirm with an ng expert])</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:16</div><div class="msg">All you should be testing in your Pact tests, is the client/collaborators that make the HTTP calls - this is a different concern to the UI components, which probably need a browser</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:17</div><div class="msg">But, I understand the TS options. We?ll remove the fields in the next major release. Perhaps I should just make that change now, and avoid your pain?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 07:21</div><div class="msg">Thanks Matt, that does clear things up. I just started looking into testing yesterday so all new to me on that front. Are you aware of any testing frameworks that I should go for - just a name drop will do to start me off on my search :)

If it is not too much trouble adding those two question marks then that would be very helpful :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:34</div><div class="msg">Common test fameworks in JS land: Jest, Mocha, Ava. I?d stick with Jest/mocha, because they are the most common. But I?ll caveat that with Angular may have different preferences, and you may want to align where possible to reduce friction for developers on the team</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:36</div><div class="msg">Looking at the docs (<a href="https://angular.io/guide/testing">https://angular.io/guide/testing</a>) probably sticking within Jasmine/Karma is the way to go. See PR above, i?ll get that in tomorrow (ideally) and a new release out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 07:37</div><div class="msg">Thank you Matt, you've been most helpful and not even mentioning how quick!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:40</div><div class="msg">You?re welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:51</div><div class="msg">@tjones FYI context for #432</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-16 07:57</div><div class="msg">Awesome, thanks! I used the merge button to indicate my positive review</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:57</div><div class="msg">this works!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 07:58</div><div class="msg">`v9.9.4` is on the way?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-16 07:58</div><div class="msg">@yka I?ve been thinking about writing a blog post or documentation article to illustrate how pact works best with UI frameworks in JS - would this be something you would have found useful?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-16 07:58</div><div class="msg">#teamwork!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 08:22</div><div class="msg">Hi @tjones,

Yeah I think that would've been helpful. It did take me some time to wrap my head around things and collate the information I needed. Also many resources I came across were old so it obviously made me question their integrity.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-28/1280070976913_45c7e256ad0827759f50_72.jpg" /><div class="message"><div class="username">mcruzdrake</div><div class="time">2020-04-16 08:37</div><div class="msg">Thanks both. Will use this as reference</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-04-16 08:54</div><div class="msg">Thanks, this is very helpful! If you have the time, would you mind linking me to the old docs you found questionable? Maybe we can update or move them to increase confidence</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 09:02</div><div class="msg">Hi Matt,

I've started looking into this and I am being a bit dim here. I am looking at the diff now and getting a bit confused as to how to implement this. :grimacing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 09:05</div><div class="msg">Previously i used the constructor and that uses a PactOptions interface.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-16 09:25</div><div class="msg">The net result should be the exact same interface, but those two options are now gone completely (I couldn't use the same type because it shares the types with the main pact interface)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-16 13:10</div><div class="msg">I wish that would be possible, I went through various resources yesterday spent a whole day through trial and error so it is very hard to think or find in my history anything in particular. Also some of the material I was referring to were outside of the foundation's resources.

Sorry I could not give you an exact answer :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3960bb95f3931928b83620905658b558.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">joao.salles</div><div class="time">2020-04-17 09:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/35a85e8f1a1a2032129d5415bb51c6eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">safiyya</div><div class="time">2020-04-17 13:31</div><div class="msg">I?m trying to verify a async contract published on Pactflow and following the instructions here <a href="https://github.com/pact-foundation/pact-js#provider-producer">https://github.com/pact-foundation/pact-js#provider-producer</a>.
I dont seem to be able to add a `pactBrokerToken` prop to the `MessageProviderPact`
 and my calls to our pactflow address all come back as 401. Is there another way to use Pactflow in async testing? I couldnt find anything online related to my use case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-17 13:47</div><div class="msg">Would you mind filing a bug please? May be a typing issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/35a85e8f1a1a2032129d5415bb51c6eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">safiyya</div><div class="time">2020-04-17 14:56</div><div class="msg">Sure, will do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-17/1069959505586_5d689bd4c85edbc61d4e_72.jpg" /><div class="message"><div class="username">darshan</div><div class="time">2020-04-20 16:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-22 13:30</div><div class="msg">Hi,
Got an angular project here using karma as test framework.
Is there any way around proxying each request? If I remove proxy and use the service call to full url (+correct port for pact) my pact json generates but my test fails.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0b32510acda4bd54197d365da3b336f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">james.salamon</div><div class="time">2020-04-22 13:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88f03796494dea828c196d84acd58f73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">yka</div><div class="time">2020-04-22 15:26</div><div class="msg">Nevermind, I was being a bit dim in how I set up my proxies :grimacing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3d0aff217103fca223e1e3dedf58e245.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">corey</div><div class="time">2020-04-23 15:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f99dce3c3e42accf7d73cead59d46b18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yosevuk</div><div class="time">2020-04-23 19:55</div><div class="msg">Hello, I'm having trouble trying to address this error in a consumer contract test and I think I have a knowledge gap. How come the second query param isn't recognized? Can anyone help?

Error:

`Actual interactions do not match expected interactions for mock MockService.`

Interaction:

```const page = { 
  withRequest: {
    method: 'GET',
    path: '/path/page/xx',
    query: 'param1=param1_Value&amp;requestType=page',
    headers: {
      apiKey: '123',
    },
  },
  willRespondWith: {
    status: 200,
    headers: headerExpectations,
    body: pageExpectations,
  },
};```
Log:

```No matching interaction found for GET /path/page/xx?param1=param1_Value

Diff
--------------------------------------
Key: - is expected
     + is actual
Matching keys and values are not shown

 {
   "query": {
-    "requestType": [
-      "page",
-    ]
   }
 }

Description of differences
--------------------------------------
* Could not find key "requestType" (keys present are: param1) at $.query ```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f99dce3c3e42accf7d73cead59d46b18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yosevuk</div><div class="time">2020-04-23 20:01</div><div class="msg">Please disregard, it was just an error due to a local environment variable when I ran the tests :blush:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d2893d4ce64ea0331ab555a6fa397097.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">shurik</div><div class="time">2020-04-24 14:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d2893d4ce64ea0331ab555a6fa397097.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">shurik</div><div class="time">2020-04-24 14:42</div><div class="msg">Do you guys know any good example of open-source React or Angular projects which are using all power of pacts to enforce API provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-25 01:13</div><div class="msg">Are you just looking for examples or case studies? There are lots of articles out there on both topics</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d2893d4ce64ea0331ab555a6fa397097.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">shurik</div><div class="time">2020-04-27 17:15</div><div class="msg">I was looking for some examples in real life projects. Want to know who is using it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-27 21:26</div><div class="msg">I'll try to update our media links. There's so many we kind of stopped.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d2893d4ce64ea0331ab555a6fa397097.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">shurik</div><div class="time">2020-04-28 16:42</div><div class="msg">ok I'll be waiting, thanks in advance</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-04-29/1118229559456_826dae4b6017dd63953c_72.jpg" /><div class="message"><div class="username">stephen.rhodes</div><div class="time">2020-04-29 18:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/25bb624497fd064e9fa0216071247828.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">leonardo.k.magalhaes</div><div class="time">2020-04-29 21:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-04-29 21:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/388ebf0839b004684b529cae3b9a9d09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">baquinteros</div><div class="time">2020-04-30 01:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/388ebf0839b004684b529cae3b9a9d09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">baquinteros</div><div class="time">2020-04-30 01:13</div><div class="msg">Hi guys,

I'd like to add the cors flag in PactOptions for the jest-pact project.

I've raised an issue.

<a href="https://github.com/pact-foundation/jest-pact/issues/187">https://github.com/pact-foundation/jest-pact/issues/187</a>

I've added it locally and it works.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-04-30 01:25</div><div class="msg">Thanks for raising, Ben. I?ve just responded with my thoughts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-27/1173032627520_dd00fa9053ed0b4d9a6d_72.png" /><div class="message"><div class="username">dan.h.lee329</div><div class="time">2020-05-02 01:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/23fe9741103d8261aecd6946045b4229.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">sen.rudrappa</div><div class="time">2020-05-02 06:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:42</div><div class="msg">I see below warning when the default tests are run in fresh clone version for _jest_ tests

WARN: Ignoring unsupported matching rules {"min"=&gt;1} for path $['query']['catId'][]
[2020-05-04T07:36:54.060Z] ERROR: pact-node@9.0.7/22480 on LTIN114925:
Pact Binary Error:
WARN: Ignoring unsupported matching rules {"match"=&gt;"type"} for path $['query']['catId'][][*]*

[2020-05-04T07:36:54.063Z] INFO: pact@9.2.1/22480 on LTIN114925: Pact File Written
[2020-05-04T07:36:54.064Z] INFO: pact-node@9.0.7/22480 on LTIN114925: Removing Pact with PID: 7004
PASS __tests__/index.spec.js (5.023s)

Test Suites: 3 passed, 3 total
Tests: 4 passed, 4 total
Snapshots: 0 total</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:43</div><div class="msg">I noticed this yesterday when updating the tests - I think the warning is indicating a bug (without any negative impact) in using matchers in query strings</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:43</div><div class="msg">Okay, thanks for the update</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:44</div><div class="msg">You might be interested in this:

<a href="https://github.com/pact-foundation/pact-js/pull/449">https://github.com/pact-foundation/pact-js/pull/449</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:44</div><div class="msg">ERROR: The process "23412" not found.
[2020-05-04T04:55:16.578Z] ERROR: pact-node@9.0.7/12924 on LTIN114925:
Pact Binary Error: C:/ComCast/TestCafe/ContractTesting/pact-js-master/pact-js-master/examples/jest/node_modules/@pact-foundation/pact-node/standalone/win32-1.70.2/lib/vendor/ruby/2.2.0/gems/pact-mock_service-3.1.1/lib/pact/mock_service/request_handlers/interaction_post.rb:1:in `require': cannot load such file -- pact/mock_service/request_handlers/base_administration_request_handler (LoadError)

This occurs when the end user is running his tests from a workspace that has lengthy breadcrumb</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:45</div><div class="msg">When I was asked to move to shorter folder name, it works. We may also need to fix this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:45</div><div class="msg">This is a limitation of the windows operating system.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:47</div><div class="msg">Alright. Does it call for some documentation somewhere so people know why this occurs and is not a defect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:48</div><div class="msg"><a href="https://github.com/pact-foundation/pact-node#windows-issues">https://github.com/pact-foundation/pact-node#windows-issues</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-05-04 07:48</div><div class="msg">We might be able to give a nicer error . . . like, if the file open fails, and we know we're in Windows, and the path is long . . .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:48</div><div class="msg">You?re right, though - it should be clearer in the pact-js docs, since those are the ones we?re hoping people read</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:48</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:49</div><div class="msg">I just started with pact an hour ago and I already feel that this is one of the most active and helpful forums in the recent times</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:49</div><div class="msg">It?s actually an interaction between Ruby and Windows, which we hit because Javascript Pact uses the Ruby implementation under the covers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:49</div><div class="msg">the other one was Concourse CI</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:50</div><div class="msg"><a href="https://bugs.ruby-lang.org/issues/12551">https://bugs.ruby-lang.org/issues/12551</a>

^ I think this is the bug, but it?s low priority for them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-05-04 07:50</div><div class="msg">Ah right, so maybe hard for us to catch properly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:50</div><div class="msg">We?re planning to move to a Rust implementation, which should avoid this class of problems</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:51</div><div class="msg">try pact-js at version `10.0.0-beta.3` if you?re interested to try it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:52</div><div class="msg">Sure, thanks for the info. For now, I am evaluating pact and I shall migrate once we finalize</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:52</div><div class="msg">Thank you! That?s really good to hear. It?s really useful hearing feedback too - I?d really like to improve the onboarding for new users. Windows feedback is especially helpful, since none of the core devs even own windows machines</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:52</div><div class="msg">Cool. If you?re evaluating pact for Jest, definitely check out the branch I listed above</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:53</div><div class="msg">actually, I?ll just merge it in.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:53</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/master/examples/jest/">https://github.com/pact-foundation/pact-js/blob/master/examples/jest/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:53</div><div class="msg">I am on this right now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:54</div><div class="msg">Sorry, Did I miss out a detail?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:55</div><div class="msg">I linked you to a pull request that cleans up the Jest example a bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:55</div><div class="msg">but, I figured it was more helpful to merge it. If you do a pull you?ll get a much more streamlined example.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:56</div><div class="msg">I?m going to spend some time this week updating the examples so they have a common and more realistic client to test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 07:57</div><div class="msg">That was quick :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 07:59</div><div class="msg">I was updating it yesterday :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 08:00</div><div class="msg">I?m probably going to update the `jest-pact` DSL too, to add helpers that make it harder to use wrong. Any feedback would be welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 08:01</div><div class="msg">Specifically, at the moment, you have to do:

```beforeEach(() =&gt;
   provider.addInteraction({ /* your test setup */})
);```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 08:01</div><div class="msg">but it is easy to write that as:
```beforeEach(() =&gt; {
   provider.addInteraction({ /* your test setup */})
});```
(subtle - this version doesn?t return the result of `addInteraction`, which is a promise that you need to wait for)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 08:02</div><div class="msg">I?m thinking about adding something like:

```pactInteraction(provider, {/* your test setup */})```
which does the `beforeEach` for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-04 08:03</div><div class="msg">Anyway, let us know how you go. Even if you end up not going with Pact, hearing about why, and what pain points you had is useful to us.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-04 08:29</div><div class="msg">We have code that detects and warns about it in Pact node, but it can get missed/ignored/squashed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-04 08:30</div><div class="msg">Were not far away from removing Ruby too, which will kill this bug once and for all</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-04 11:51</div><div class="msg">Can someone help me with steps to debug a pact? I must admit that am a newbie here today</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-05 00:02</div><div class="msg">What?s the issue you?re having @krishnam.misc? Perhaps start with your problem / needs and we can help. There are some troubleshooting tips in the guide, the rest is standard JS debugging</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:24</div><div class="msg">We get a lot of issues opened where people have forgotten to return the promises to their test framwork.

For jest-pact, I?m considering adding a couple of helpers that enforce / assert that promises are returned correctly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:25</div><div class="msg">At the moment, a test looks like this:

```beforeEach(() =&gt; {
  return provider.addInteraction({
    ...etc,
  })
})

it("returns a sucessful body", () =&gt; {
  return getMeCats({
    url: provider.mockService.baseUrl,
  }).then(cats =&gt; {
    expect(cats).toEqual(CATS_DATA)
  })
})```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:27</div><div class="msg">what do people think of:

```pactInteraction(provider, {
  ...etc,
})

triggerInteraction(() =&gt; {
  return getMeCats({
    url: provider.mockService.baseUrl,
  }).then(cats =&gt; {
    expect(cats).toEqual(CATS_DATA)
  })
})```
?

(possibly interested: @yousafn, @matt.fellows, @abubics and others)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:28</div><div class="msg">maybe `testInteraction` rather than `trigger`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-05 05:30</div><div class="msg">I say this running into a meeting, but _what if_ you overrode the `it` itself, such that the it block had to accept a promise. Then you could just call it `testInteraction` or something and the rest of the code coueld say the same? Or is that what `triggerInteraction` is doing?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-05-05 05:37</div><div class="msg">I like the concept, but I'm in a very different context atm, so it's hard to switch and say if I'd like to use it :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:37</div><div class="msg">Yep, that?s essentially it :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:39</div><div class="msg">Or should I say, essentially `it`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:41</div><div class="msg">```export const pactInteraction = (
  provider: pact.Pact,
  interaction: pact.Interaction | pact.InteractionObject,
) =&gt; {
  beforeEach(() =&gt; provider.addInteraction(interaction));
};```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:41</div><div class="msg">I wish jest had context</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:41</div><div class="msg">then we wouldn?t have to pass in interaction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-05 05:42</div><div class="msg">I also considered having jest-pact override `provider.addInteraction`, but I think that would add confusion for other test frameworks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9931555608cd61d8c9c4135531ab0263.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">gunjan.arora</div><div class="time">2020-05-05 22:31</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-06 12:08</div><div class="msg">@tjones Could you please help me with below error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-06 12:08</div><div class="msg">console.error node_modules/@pact-foundation/pact/httpPact.js:98
Pact verification failed!
console.error node_modules/@pact-foundation/pact/httpPact.js:99
Actual interactions do not match expected interactions for mock MockService.
Missing requests:
GET /identity/invite?inviteId=e1e06f41-0d48-4a50-899d-e9c5cef56bea</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-06 12:15</div><div class="msg">My test code is as simple as this:
"usestrict"

constgetMeEmail=require("../index").getMeEmail

describe("VerifyGETEmailContract",()=&gt;{
leturl="<a href="http://localhost">http://localhost</a>"

constEXPECTED_BODY=
{
"firstName":"Krisham",
"lastName":"Raju",
"email":"<mailto:emailinvitetest@yopmail.com|emailinvitetest@yopmail.com>",
"lastSent":"2020-05-06T09:43:13.097695",
"inviteId":"e1e06f41-0d48-4a50-899d-e9c5cef56bea",
"status":"EXPIRED",
"roles":[
"UNRESTRICTED_SECONDARY"
],
"accountNumber":"8069100010141843"
}


afterEach(()=&gt;{
returnprovider.verify()
})

describe("works",()=&gt;{
beforeEach(()=&gt;{
constinteraction={
state:"Ihavealistofinviteemails",
uponReceiving:"arequestforaprimaryuseremaildetails",
withRequest:{
method:"GET",
path:"/identity/invite?inviteId=e1e06f41-0d48-4a50-899d-e9c5cef56bea",
headers:{
Accept:"application/json",
},
},
willRespondWith:{
status:200,
headers:{
"Content-Type":"application/json",
},
body:EXPECTED_BODY,
},
}
returnprovider.addInteraction(interaction)
})

//addexpectations
it("returnsasucessfulbody",()=&gt;{
returngetMeEmail({
url,
port,
}).then(response=&gt;{
expect(response.headers["content-type"]).toEqual("application/json")
expect(response.data).toEqual(EXPECTED_BODY)
expect(response.status).toEqual(200)
})
})
})

})</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-06 12:18</div><div class="msg">The error message is a little ambiguous and I am confused as to what went wrong here. I verified that mockResponse == index.getMeEmail() response</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-06 12:19</div><div class="msg">++ @abubics, @matt.fellows</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-05-06 14:49</div><div class="msg">Hey, just a friendly note, could you wrap your code in a code block?

You can press backtick (`) three times and the code block will appear. You can paste your code in there. It will make it far easier for those reading your code, and make it much easier to help :thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-05-06 15:23</div><div class="msg">have you got the code for `require("../index").getMeEmail`

When you call, you are only passing in a url and port.
```      return getMeEmail({
        url,
        port,```
You?ve setup an interaction, but what is calling `/identity/invite?inviteId=e1e06f41-0d48-4a50-899d-e9c5cef56bea` is that in your getMeEmail function?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-06 17:55</div><div class="msg">@krishnam.misc Have a look in the log files generated by the test. It usually has more about what didn?t match in there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-06 18:00</div><div class="msg">The error message is telling you that Pact didn?t receive the interaction it expected.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-06 23:23</div><div class="msg">I think Yousaf is right. Your code is not hitting the correct endpoint.

Also, and I can?t recall off the top of my head, but you should use the `query` property for the `invite` parameter, it is not technically part of the path (albeit it may still work).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-06 23:24</div><div class="msg">As Tim points out, the log file will probably tell you it got a request that it wasn?t expecting (so that will tell you what your code is actually doing)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 04:10</div><div class="msg">1.  Yes, I have the implementation for `require("../index").getMeEmail`
`exports.getMeEmail=endpoint=&gt;{`
consturl='<a href="https://myapp.url.com">https://myapp.url.com</a>'
lettoken='bearer token"
returnaxios.request({
method:"GET",
baseURL:`${url}`,
url:"/identity/invite?inviteId=e1e06f41-0d48-4a50-899d-e9c5cef56bea",
headers:{Accept:"application/json",'Authorization':'Bearer'+token},
})
2. The service we are triggering does not need a port.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 04:11</div><div class="msg">@yousafn and @matt.fellows</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:11</div><div class="msg">what do the logs say?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:12</div><div class="msg">Also, use the `query` property for the query strings, rather than in the path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:12</div><div class="msg">see <a href="https://github.com/pact-foundation/pact-js/blob/058ab6f63e4273b545761e82cd3d9a1ae4f72bb6/examples/karma/jasmine/client-spec.js#L64">https://github.com/pact-foundation/pact-js/blob/058ab6f63e4273b545761e82cd3d9a1ae4f72bb6/examples/karma/jasmine/client-spec.js#L64</a> for an example of howto do it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 04:16</div><div class="msg">getMeEmail response looks like below - which is same as that I put in EXPECTED BODY:
{
"firstName":"Krisham",
"lastName":"Raju",
"email":"<mailto:emailinvitetest@yopmail.com|emailinvitetest@yopmail.com>",
"lastSent":"2020-05-07T04:12:31.531225",
"inviteId":"82cd6f49-b680-4e53-a5ba-4b41890cc531",
"status":"EXPIRED",
"roles":[
"UNRESTRICTED_SECONDARY"
],
"accountNumber":"8069100010141843"
}

Here is the detailed log:
C:\ContractTesting\pact-js-master\pact-js-master\examples\jest\__tests__&gt; npm run test

&gt; pact-example-jest@1.0.0 test C:\ContractTesting\pact-js-master\pact-js-master\examples\jest
&gt; jest __tests__/ --runInBand --setupFiles ./pactSetup.js --setupTestFrameworkScriptFile=./pactTestWrapper.js

[2020-05-07T04:14:27.812Z]  INFO: pact-node@9.0.7/20364 on LTIN114925:
    Creating Pact Server with options:
    {"consumer":"MyConsumer-EmailInvite","cors":false,"dir":"C:\\ContractTesting\\pact-js-master\\pact-js-master\\examples\\jest\\pacts","host":"127.0.0.1","log":"C:\\ContractTesting\\pact-js-master\\pact-js-master\\examples\\jest\\logs\\mockserver-integration.log","pactFileWriteMode":"update","port":8991,"provider":"MyProvider-EmailInvite","spec":2,"ssl":false}
[2020-05-07T04:14:29.518Z]  INFO: pact-node@9.0.7/20364 on LTIN114925: Created 'standalone\win32-1.70.2\bin\pact-mock-service.bat service --consumer 'MyConsumer-EmailInvite' --pact_dir 'C:\ContractTesting\pact-js-master\pact-js-master\examples\jest\pacts' --host '127.0.0.1' --log 'C:\ContractTesting\pact-js-master\pact-js-master\examples\jest\logs\mockserver-integration.log' --pact-file-write-mode 'update' --port '8991' --provider 'MyProvider-EmailInvite' --pact_specification_version '2'' process with PID: 13872
[2020-05-07T04:14:34.059Z]  INFO: pact@9.2.1/20364 on LTIN114925:
    Setting up Pact with Consumer "MyConsumer-EmailInvite" and Provider "MyProvider-EmailInvite"
        using mock service on Port: "8991"
  console.error node_modules/@pact-foundation/pact/httpPact.js:97


  console.error node_modules/@pact-foundation/pact/httpPact.js:98
    Pact verification failed!

  console.error node_modules/@pact-foundation/pact/httpPact.js:99
    Actual interactions do not match expected interactions for mock MockService.

    Missing requests:
        GET /identity/invite?inviteId=e1e06f41-0d48-4a50-899d-e9c5cef56bea

    See C:/ContractTesting/pact-js-master/pact-js-master/examples/jest/logs/mockserver-integration.log for details.


[2020-05-07T04:14:36.259Z] ERROR: pact-node@9.0.7/20364 on LTIN114925: Pact Binary Error: Could not load existing consumer contract from C:/ContractTesting/pact-js-master/pact-js-master/examples/jest/pacts/myconsumer-emailinvite-myprovider-emailinvite.json due to 757: unexpected token at 'null'. Creating a new file.
[2020-05-07T04:14:36.259Z] ERROR: pact-node@9.0.7/20364 on LTIN114925:
    Pact Binary Error:

[2020-05-07T04:14:36.261Z]  INFO: pact@9.2.1/20364 on LTIN114925: Pact File Written
[2020-05-07T04:14:36.261Z]  INFO: pact-node@9.0.7/20364 on LTIN114925: Removing Pact with PID: 13872
 FAIL  __tests__/inviteEmaiContractTest.js (9.915s)
  Verify GET Email Contract
    works
       returns a sucessful body (2182ms)

  ? Verify GET Email Contract ? works ? returns a sucessful body

    Request failed with status code 404

      at createError (node_modules/axios/lib/core/createError.js:16:15)

  ? Verify GET Email Contract ? works ? returns a sucessful body

    Pact verification failed - expected interactions did not match actual.

      at new VerificationError (node_modules/@pact-foundation/pact/errors/verificationError.js:19:42)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 1 total</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 04:26</div><div class="msg">mock server response looks like below:

`I,[2020-05-07T09:51:17.374485#19584]INFO--:RegisteredexpectedinteractionGET/identity/invite?inviteId=e1e06f41-0d48-4a50-899d-e9c5cef56bea`
`D,[2020-05-07T09:51:17.374485#19584]DEBUG--:{`
`"description":"arequestforaprimaryuseremaildetails",`
`"providerState":"Ihavealistofinviteemails",`
`"request":{`
`"method":"GET",`
`"path":"/identity/invite",`
`"query":{`
`"inviteId":[`
`"e1e06f41-0d48-4a50-899d-e9c5cef56bea"`
`]`
`},`
`"headers":{`
`"Accept":"application/json"`
`}`
`},`
`"response":{`
`"status":200,`
`"headers":{`
`"Content-Type":"application/json"`
`},`
`"body":{`
`"firstName":"Krisham",`
`"lastName":"Raju",`
`"email":"<mailto:emailinvitetest@yopmail.com|emailinvitetest@yopmail.com>",`
`"lastSent":"2020-05-06T09:43:13.097695",`
`"inviteId":"e1e06f41-0d48-4a50-899d-e9c5cef56bea",`
`"status":"EXPIRED",`
`"roles":[`
`"UNRESTRICTED_SECONDARY"`
`],`
`"accountNumber":"8069100010141843"`
`}`
`}`
`}`
`W,[2020-05-07T09:51:19.780783#19584]WARN--:Verifying-actualinteractionsdonotmatchexpectedinteractions.`
`Missingrequests:`
`GET/identity/invite?inviteId=e1e06f41-0d48-4a50-899d-e9c5cef56bea`


`W,[2020-05-07T09:51:19.780783#19584]WARN--:Missingrequests:`
`GET/identity/invite?inviteId=e1e06f41-0d48-4a50-899d-e9c5cef56bea`


I,[2020-05-07T09:51:19.802723#19584]INFO--:Clearedinteractions
W,[2020-05-07T09:51:19.832643#19584]WARN--:CouldnotloadexistingconsumercontractfromC:/ContractTesting/pact-js-master/pact-js-master/examples/jest/pacts/myconsumer-emailinvite-myprovider-emailinvite.jsondueto757:unexpectedtokenat'null'.Creatinganewfile.
E,[2020-05-07T09:51:19.832643#19584]*ERROR*--:757:unexpectedtokenat'null'(JSON::ParserError)
C:/ContractTesting/pact-js-master/pact-js-master/examples/jest/node_modules/@pact-foundation/pact-node/standalone/win32-</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 04:27</div><div class="msg">While the sample looks simple and easy, not sure why the basic example does not get through</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:29</div><div class="msg">Just a reminder - please format your code with the triple backticks. Or use this feature</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:31</div><div class="msg">It looks like there is an existing pact contract file that has invalid json - care to share it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:32</div><div class="msg">also, I suspect your query param is still wrong. is `inviteId` expected to be an array i.e. `inviteId[]=1234` or singular `inviteId=1234` type thing? I suspect the latter</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 04:32</div><div class="msg">you are right, its singular</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:32</div><div class="msg">can you please upload the full contents of the log file as an attachment?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 04:34</div><div class="msg">Log</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:37</div><div class="msg">So that log file is conclusive - you?re not sending a request to the mock service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:37</div><div class="msg">you can see it registered an expectation, and when the test completed, it never received a request and so failed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:38</div><div class="msg">The request needs to be configured to point at the pact mock service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:38</div><div class="msg">so the `url` that is given to `getMeEmail` must be the url of the pact mock service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:40</div><div class="msg">You can either a) specify the exact port pact should be running on when you create a new `Pact(?)` or b) let it dynamically choose a port and grab the values from the pact object e.g. <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/consumer.spec.js#L87-L92">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/consumer.spec.js#L87-L92</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:41</div><div class="msg">@tjones :point_up: this problem happens a lot. I?m wondering if in JS land we should do something like what nock does, and hijack the HTTP runtime and automatically route the request to the mock service?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 04:41</div><div class="msg">just a thought</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 05:14</div><div class="msg">Could be good! If we can find a nice way to do this cross platform, then yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 05:15</div><div class="msg">That was also part of the motivation for `jest-pact` - I wanted to get the url + port directly from the provider, without needing to ensure it was different in each test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 05:16</div><div class="msg">I think if we wrote wrappers along those lines for all the other popular test frameworks, it would be clear what parts should be directly written into the pact-js DSL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 05:17</div><div class="msg">For example, jest-pact has this (but I can?t remember why): <a href="https://github.com/pact-foundation/jest-pact/blob/master/src/index.ts#L33">https://github.com/pact-foundation/jest-pact/blob/master/src/index.ts#L33</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 07:46</div><div class="msg">&gt;  I think if we wrote wrappers along those lines for all the other popular test frameworks, it would be clear what parts should be directly written into the pact-js DSL
I agree, that would be really instructive for the next generation of API design</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-05-07 08:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 10:49</div><div class="msg">@matt.fellows so the`url`that is given to`getMeEmail`must be the url of the pact mock service

I am confused. If we are just hitting the mock server, then, where exactly would the validation happen between the actual endpoint call and mock response before a pact/contract is generated under Pacts dir</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 10:59</div><div class="msg">The pact contract is generated from the consumer side without ever talking to the real provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 11:00</div><div class="msg">the contract generated is then shared to a provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 11:00</div><div class="msg">the provider build runs separately</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 11:00</div><div class="msg">This is my overall understanding of how pact works in steps below:
1. We will define what is the expected response from a real service call in `constEXPECTED_BODY`
2.   We will build the actual interaction in `describe("works",()=&gt;`
3. `it("returnsasucessfulbody",()` - Here we are validating that the actual service endpoint response is same as what we mocked. This is how we are adding expectations.
4. All expectations/contracts created are shared with Provider who will validate against his own endpoint changes to confirm contract is not broken</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 11:00</div><div class="msg">Think of Pact on the consumer side, as a unit test of your client code.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 11:01</div><div class="msg">&gt;  3. it(?returns a sucessful body?, () - Here we are validating that the actual service endpoint response is same as what we mocked. This is how we are adding expectations.
No, you don?t hit the _actual_ endpoint, you only talk to Pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 11:02</div><div class="msg">The verification against the actual real endpoint is done later</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 11:03</div><div class="msg">this is one of the value props of Pact: you don?t need to spin up the client and the server at the same time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 11:04</div><div class="msg"><a href="https://docs.pact.io/getting_started/how_pact_works">https://docs.pact.io/getting_started/how_pact_works</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 11:04</div><div class="msg">see here for some diagrams</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 11:12</div><div class="msg">[2020-05-07T11:11:36.245Z]  INFO: pact@9.2.1/27860 on LTIN114925:
    Setting up Pact with Consumer "MyConsumer-EmailInvite" and Provider "MyProvider-EmailInvite"
        using mock service on Port: "8991"
[2020-05-07T11:11:36.589Z]  INFO: pact@9.2.1/27860 on LTIN114925: Pact File Written
[2020-05-07T11:11:36.591Z]  INFO: pact-node@9.0.7/27860 on LTIN114925: Removing Pact with PID: 28708
 PASS  __tests__/inviteEmaiContractTest.js (18.671s)
  Verify GET Email Contract
    works
      ? returns a sucessful body (249ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        22.954s
Ran all test suites matching /__tests__\\/i.
[2020-05-07T11:11:38.754Z]  INFO: pact-node@9.0.7/27860 on LTIN114925:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 11:12</div><div class="msg">Please format your code with three backticks ```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 11:12</div><div class="msg">```[2020-05-07T11:11:36.245Z]  INFO: pact@9.2.1/27860 on LTIN114925:
    Setting up Pact with Consumer "MyConsumer-EmailInvite" and Provider "MyProvider-EmailInvite"
        using mock service on Port: "8991"
[2020-05-07T11:11:36.589Z]  INFO: pact@9.2.1/27860 on LTIN114925: Pact File Written
[2020-05-07T11:11:36.591Z]  INFO: pact-node@9.0.7/27860 on LTIN114925: Removing Pact with PID: 28708
 PASS  __tests__/inviteEmaiContractTest.js (18.671s)
  Verify GET Email Contract
    works
      ? returns a sucessful body (249ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        22.954s
Ran all test suites matching /__tests__\\/i.
[2020-05-07T11:11:38.754Z]  INFO: pact-node@9.0.7/27860 on LTIN114925:```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 11:13</div><div class="msg">Apologies for lengthy comments - @tjones</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-05-07 11:13</div><div class="msg">Took me a little while to get my head round it, but then I was like ta-daaaaaa!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 11:16</div><div class="msg">I might need some time to get this concept into my lazy head :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 11:17</div><div class="msg">it does take some time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-07 11:17</div><div class="msg">We?re in the process of creating an explainer video, that hopefully can do that job in &lt; 3 minutes. Wish us luck</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 11:17</div><div class="msg">Is there a sample provider code that I can refer and see how this contract I generated is validted?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 11:19</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/tree/master/examples/e2e">https://github.com/pact-foundation/pact-js/tree/master/examples/e2e</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-07 11:19</div><div class="msg">there?s a provider test in here</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-07 11:20</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/provider.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/provider.js</a> ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-08 02:06</div><div class="msg">No, that?s an example provider</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-11 11:46</div><div class="msg">So,do we need to publish the pact we generated even before it can be accessed by Provider? I suppose, this would happen when we are hosting our pacts on some server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-11 11:47</div><div class="msg">It?s best to use a broker, yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-11 11:47</div><div class="msg">but you don?t have to - any way you can share pacts is fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-11 11:47</div><div class="msg">and can you give me a direct link to a sample provider test. I could not find any.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-11 11:48</div><div class="msg">sharing pacts is fine in general context, but in a CI mode, its good that they are available online?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-11 11:48</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-11 11:48</div><div class="msg">Yes, your life is definitely easier with the pact broker</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-11 11:50</div><div class="msg">unfortunately, this example relies on a broker to be running</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-11 11:51</div><div class="msg">If I need to get this working in static mode?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-11 11:51</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js#L75">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/provider.spec.js#L75</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:43</div><div class="msg">@krishnam.misc did you get it working?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 04:43</div><div class="msg">nope :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 04:44</div><div class="msg">This seems to be a little tricky</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:47</div><div class="msg">What was your problem? Maybe I can help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:49</div><div class="msg">If you modify the example to use

`pactUrls: [ './path-to-your-pact.json']`, and remove the broker specific variables (pactBrokerUsername,  pactBrokerPassword, pactBrokerUrl, publishVerificationResult, etc), it should work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 04:50</div><div class="msg">pact-js-master\examples\e2e\test\provider.spec.js
I was looking into this example and try to write a Provider test but that gives me errors while publishing the provider.

Implement Provider
Implement Consumer
Install pact package from npm
Install test runner like Jest
Write Consumer test to generate pact json file
Execute Consumer test which will generate pact json
publish pact file to pact broker
Write provider test with pact broker
Execute provider test

We are done from steps 1 to 6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:51</div><div class="msg">What error do you get?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:52</div><div class="msg">Above, you said you were looking for an example that didn?t use the pact broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:52</div><div class="msg">so if your pact is not in the broker, you won?t be able to publish the verification result</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:52</div><div class="msg">note that the flow goes:

Consumer test -&gt; writes pact
publish pact -&gt; broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:52</div><div class="msg">then,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:53</div><div class="msg">broker -&gt; gives pact to provider test
provider test -&gt; publishes verification success (or failure) to broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:53</div><div class="msg">if you are manually providing the pact to the provider test, you won?t be able to publish a verification status</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 04:56</div><div class="msg">.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:56</div><div class="msg">can you edit that to be in ``` please?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 04:56</div><div class="msg">```PS C:\ContractTesting\pact-js-master\pact-js-master\examples\jest\__tests__&gt; curl -v -XPUT -H "Content-Type: application/json" -d ..\pacts\myconsumer-emailinvite-myprovider-emailinvite.json <a href="http://localhost/pacts/provider/MyProvider-EmailInvite/consumer/MyConsumer-EmailInvite/version/1.0">http://localhost/pacts/provider/MyProvider-EmailInvite/consumer/MyConsumer-EmailInvite/version/1.0</a>
Invoke-WebRequest : Cannot bind parameter 'Headers'. Cannot convert the "Content-Type: application/json" value of type "System.String" to type 
"System.Collections.IDictionary".
At line:1 char:18
+ curl -v -XPUT -H "Content-Type: application/json" -d ..\pacts\myconsu ...
+                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidArgument: (:) [Invoke-WebRequest], ParameterBindingException
    + FullyQualifiedErrorId : CannotConvertArgumentNoMessage,Microsoft.PowerShell.Commands.InvokeWebRequestCommand```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 04:57</div><div class="msg"><a href="https://chuanchuanlaw.com/how-to-setup-pact-broker/">https://chuanchuanlaw.com/how-to-setup-pact-broker/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:59</div><div class="msg">So, that?s a curl command that doesn?t work in powershell - see here:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:59</div><div class="msg"><a href="https://stackoverflow.com/questions/45183355/invoke-webrequest-cannot-bind-parameter-headers">https://stackoverflow.com/questions/45183355/invoke-webrequest-cannot-bind-parameter-headers</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:59</div><div class="msg">anyway, publishing the pact manually with curl isn?t necessary</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 04:59</div><div class="msg">you can use pact-js to do it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 05:00</div><div class="msg">see the `test:publish` command in:

<a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/package.json">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/package.json</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 05:01</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/publish.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/publish.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 05:01</div><div class="msg">Alternatively, you can use the binstub that `pact-node` provides</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 05:02</div><div class="msg">```...in your package json:


  "pactPublish": "pact publish --pact-files-or-dirs pacts --consumer-version \"$(git describe)\" --pact-broker \"$PACT_BROKER_HOST\" --pact-broker-username \"$PACT_BROKER_USERNAME\" --pact-broker-password \"$PACT_BROKER_PASSWORD\"",```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 05:18</div><div class="msg">ok, let me take a look</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:00</div><div class="msg">C:\ContractTesting\pact-js-master\pact-js-master\examples\jest\publish.js:8
    .trim()
     ^

ReferenceError: childProcess is not defined
    at exec (C:\ContractTesting\pact-js-master\pact-js-master\examples\jest\publish.js:8:6)
    at Object.&lt;anonymous&gt; (C:\ContractTesting\pact-js-master\pact-js-master\examples\jest\publish.js:12:45)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:01</div><div class="msg">publish.js seems to have muliple conditions to meet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:01</div><div class="msg">if(<a href="http://process.env.CI">http://process.env.CI</a>!=="true"){
console.log("skippingPactpublishasnotonCI...")
process.exit(0)
}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:02</div><div class="msg">I removed this part, as I am running this in local. But we also have other conditions around TRAVIS, etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 07:02</div><div class="msg">how are you invoking it? `childProcess` is part of node</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:03</div><div class="msg">Not to rant, the sample example is usually simple to adapt and generate more interest to embrace the product. However, i have a diff feeling here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 07:03</div><div class="msg">I agree. I?m working on improving the examples at the moment.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:03</div><div class="msg">may be I am alone finding it diff to get this working, not sure.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:05</div><div class="msg">I am just running "test" from package.json file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 07:05</div><div class="msg">Some of the issues you have run in to have been unrelated to pact (eg running the curl command in powershell). But, it does illustrate that our documentation could be improved - the curl command you had came from someone?s blog, rather than the pact documentation.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:05</div><div class="msg">Agree. But I am just trying to find diff ways to get past this simple PoC</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 07:05</div><div class="msg">By the way, I think the best way is to call the pact-publish command from the package json, as in the second snippet I sent you above</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-12 07:06</div><div class="msg">The ability to do this is in the documentation, but I?d like to surface it more</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:13</div><div class="msg">``` "pactPublish": "pact publish --pact-files-or-dirs pacts --consumer-version concumser-1.0 --pact-broker localhost:9009"```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d7e0f9dae9fd6968e46f88dbae21b69.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">krishnam.misc</div><div class="time">2020-05-12 07:17</div><div class="msg">``` Executing task: npm run pactPublish &lt;


pact-example-jest@1.0.0 pactPublish C:\ContractTesting\pact-js-master\pact-js-master\examples\jest
pact publish --pact-files-or-dirs pacts --consumer-version concumser-1.0 --pact-broker localhost:9009

Could not find command "publish".```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-14 02:12</div><div class="msg">Ah yes, sorry. I gave you completely the wrong example.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-14 02:13</div><div class="msg">Try:
``` pact-broker publish pacts --consumer-app-version=concumser-1.0  --broker-base-url=<a href="http://localhost:9009">http://localhost:9009</a>```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-14 02:14</div><div class="msg">by the way, I would recommend not hardcoding your version</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7fba4e537cda7d7a773a5b63acbdc894.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">hans.brouwer</div><div class="time">2020-05-14 07:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-05-15 12:31</div><div class="msg">```"overview": "All versions of `http-proxy` are vulnerable to Denial of Service. An HTTP request with a long body triggers an `ERR_HTTP_HEADERS_SENT` unhandled exception that crashes the proxy server. This is only possible when the proxy server sets headers in the proxy request using the `proxyReq.setHeader` function.   \n\nFor a proxy server running on `<a href="http://localhost:3000">http://localhost:3000</a>`, the following curl request triggers the unhandled exception:  \n```curl -XPOST <a href="http://localhost:3000">http://localhost:3000</a> -d \"$(python -c 'print(\"x\"*1025)')\"```",
    "recommendation": "No fix is currently available. Consider using an alternative package until a fix is made available.",```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-05-15 12:32</div><div class="msg">do we have any ticket to replace http-proxy?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-15 12:33</div><div class="msg">We don?t, and could accept a fix if someone wanted to make one. However, I don?t think this is a practical problem. The proxy is only spun up locally during tests, and the worst that could happen is someone could interrupt your CI process if they had access to your CI environment (and if that has happened, you have bigger problems than someone interrupting your pact tests).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-05-15 12:37</div><div class="msg">Ok, my pipeline is currently broken because it fail on npx audit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-15 13:29</div><div class="msg">With respect Cesar, that's not our problem. If the package can be upgraded then great. We'll accept a PR or if you'd like to raise an issue please do. I suspect if it's a new vulnerability, snyk will notify us.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-15 13:30</div><div class="msg">A blanket security rule is useless if you don't know what the problems are. That vulnerability simply is not an issue for the use case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-15 13:34</div><div class="msg">You could ignore dev dependencies or find other ways to manage vulnerabilities.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d5abd02314a57c38a7b9ce539a0baa2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">closenet.uk</div><div class="time">2020-05-15 13:40</div><div class="msg">same here, 4 vulnerabilities @pact-foundation/pact package</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d5abd02314a57c38a7b9ce539a0baa2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">closenet.uk</div><div class="time">2020-05-15 13:40</div><div class="msg">@matt.fellows can you help with that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-05-15 13:45</div><div class="msg">I understand @matt.fellows ty for the answers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-05-15 13:45</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-15 14:10</div><div class="msg">I'm trying to say we don't care, obviously we do!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-05-15 14:38</div><div class="msg">you can either use audit-ci to skip particular vulns,

<a href="https://github.com/IBM/audit-ci">https://github.com/IBM/audit-ci</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-05-15 14:38</div><div class="msg">@closenet.uk Hey Mo!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-27/1032703601542_aa9c3a3df15eca9846bc_72.png" /><div class="message"><div class="username">cesar.lopes</div><div class="time">2020-05-15 14:38</div><div class="msg">that?s what I did, ty @yousafn</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d5abd02314a57c38a7b9ce539a0baa2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">closenet.uk</div><div class="time">2020-05-15 14:57</div><div class="msg">hey @yousafn :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1d5abd02314a57c38a7b9ce539a0baa2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">closenet.uk</div><div class="time">2020-05-15 14:58</div><div class="msg">disabled devDependecies in audit, cheers guys</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dd2e78fb0515b913b64d9aa5ec1bcd3e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">raghu.alapati1</div><div class="time">2020-05-16 00:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-05-18 06:33</div><div class="msg">Morning! The eachLike matcher expects a minimum array length of 1. How to match an array that can be empty? The java dsl has, for example, minArrayLike.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-18 06:33</div><div class="msg">Use an empty array</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-18 06:34</div><div class="msg">An empty array is a separate test case (otherwise you could have passing tests that never test the contents of the array)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-05-18 06:35</div><div class="msg">That?s fair! Thank you! I should?ve thought of that :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-18 06:36</div><div class="msg">No worries :slightly_smiling_face: It?s a common question, we should add it to the docs for `eachLike`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-18 08:00</div><div class="msg">Anto - see <a href="https://github.com/pact-foundation/pact-support/pull/11">https://github.com/pact-foundation/pact-support/pull/11</a> :laughing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-18 08:00</div><div class="msg">My first PR to the Ruby part of the code base, or at least an early one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-05-18 08:12</div><div class="msg">awesome, I think it?s the right thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-05-18 08:15</div><div class="msg">An approach that one of the teams has gone for (at least on a specific instance that I?m aware of) is to define an interaction with a minimal response, where minimal means with only the properties and values that are not optional and empty arrays for properties where that?s allowed.
This can be sensible in the case of relatively big responses where having a state or interaction for, for example, each array that can be empty would lead to quite a large number of interactions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-18 08:16</div><div class="msg">I think ideally, you would create interactions with the minimal response that you need, and all the properties that you understand / use</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-18 08:16</div><div class="msg">kind of like a min and max set?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-05-18 08:21</div><div class="msg">Yep, I think that?s what I mean. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-18 08:21</div><div class="msg">That seems a reasonable starting point for most I think</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-18 08:22</div><div class="msg">And then if strange/weird edge cases start to emerge, you can get more specific</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-05-18 08:22</div><div class="msg">There are some (old) endpoints that rightly or wrongly would require a huge amount of interactions to cover all possible and meaningful examples.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-05-18 08:30</div><div class="msg">So yes, min set and max set are good starting points. Probably max set is not enough in the majority of cases, even as a starting point.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-18 08:49</div><div class="msg">Yeah- testing all permutations of possible responses is hard to cover even in traditional unit tests. I think it?s good to make a reasonable choice about what to cover, and it sounds like you?re making good choices in your situation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-05-18 14:49</div><div class="msg">how did you guys managed to disable devDependecies in audit-ci? I?d like that option but couldn?t find it in the docs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-18 22:28</div><div class="msg">```npm audit --only=prod```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-17/1176055562151_46dac295bee37c7eed53_72.jpg" /><div class="message"><div class="username">robert.strauch_slack</div><div class="time">2020-05-18 23:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-17/1176055562151_46dac295bee37c7eed53_72.jpg" /><div class="message"><div class="username">robert.strauch_slack</div><div class="time">2020-05-18 23:57</div><div class="msg">Good evening,

We're having a web application based on VueJS. In order to isolate its testing I'd like to introduce pact-js for the communication to the provider. As written in the <a href="https://github.com/pact-foundation/pact-js#example">https://github.com/pact-foundation/pact-js#example</a>

&gt; Write your tests - the important thing here is that you test the outbound _collaborating_ function which calls the Provider, and not just issue raw http requests to the Provider.
In a Vue application there's a Vue component which has a method, e.g. `submit()`. This method issues an HTTP request. Would the above mean that the consumer test should preferrably invoke the `submit()` method instead of something like `axios.get()`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 00:10</div><div class="msg">Almost. Usually, the pattern would be the other way around</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 00:11</div><div class="msg">So, your vue component and your consumer test both call an API layer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 00:11</div><div class="msg">separating the API concern from the component</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 00:12</div><div class="msg"><a href="https://github.com/TimothyJones/react-api-layer-example/blob/master/src/MyComponent/index.js">https://github.com/TimothyJones/react-api-layer-example/blob/master/src/MyComponent/index.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 00:12</div><div class="msg">here?s a React example, but the principle is the same</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 00:14</div><div class="msg">For vue:

```new Vue({
  el: '#app',
  data () {
    return {
      info: null
    }
  },
  mounted () {
    axios
      .get('<a href="https://api.coindesk.com/v1/bpi/currentprice.json">https://api.coindesk.com/v1/bpi/currentprice.json</a>')
      .then(response =&gt; (<a href="http://this.info">http://this.info</a> = response))
  }
})```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 00:14</div><div class="msg">This is the example in the docs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 00:26</div><div class="msg">For Pact, you?d want to do something like:

```  mounted () {
     api.getPrices()
      .then(response =&gt; (<a href="http://this.info">http://this.info</a> = response))
  }```
Irrespective of pact, I like this better, because it separates how to get the data from what to do with it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-19 02:12</div><div class="msg">yep. Separate out front end / display logic from integration logic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-19 02:13</div><div class="msg">makes things much more testable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-17/1176055562151_46dac295bee37c7eed53_72.jpg" /><div class="message"><div class="username">robert.strauch_slack</div><div class="time">2020-05-19 07:03</div><div class="msg">Yeah, that's what I was thinking of. The problem is that our current codebase is somewhat messy and that API calls are made sirectly with axios from within the component. Maybe we need some refactoring first :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-19 07:04</div><div class="msg">I think that is likely to be true whatever test framework you choose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-17/1176055562151_46dac295bee37c7eed53_72.jpg" /><div class="message"><div class="username">robert.strauch_slack</div><div class="time">2020-05-19 07:07</div><div class="msg">Thanks for your help, guys... this clears some things for me :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0c503843f674b458d31fdfd10fdc1cc2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jarmy</div><div class="time">2020-05-22 16:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-17/1176055562151_46dac295bee37c7eed53_72.jpg" /><div class="message"><div class="username">robert.strauch_slack</div><div class="time">2020-05-24 20:37</div><div class="msg">Dear pact-js members,

I'm still taking my first steps with Pact and there's one thing I couldn't get running. There is a REST resource on the provider side for registering new users. On a successful registration, this resource responds with HTTP 200 and a Bearer token in the response header like `Authorization: Bearer someToken`.

This is the interaction on the consumer side but the mock response does not contain `Authorization: Bearer someToken`

```await provider.addInteraction({
  state: "default",
  uponReceiving: "register new user",
  withRequest: {
    method: "POST",
    path: "/register"
  },
  willRespondWith: {
    status: 200,
    headers: {
      "Authorization": "Bearer TOKEN"
    }
  }
});```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-24 23:20</div><div class="msg">It definitely should return that header, can you show some logs or something proving otherwise?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-24 23:20</div><div class="msg">The mock server will show what it thinks it needs to return</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-05-24 23:20</div><div class="msg">If you could share the test code, the logs or both that would be helpful. Most helpful would be to fork an example in the JS repository and show the bug in action</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7614d3ac5cf84da89675f3307e0126c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">paul.davies</div><div class="time">2020-05-27 04:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-05-28 01:27</div><div class="msg">In addition to Matt?s comment, this code returns `Bearer TOKEN`, but your question is about `Bearer someToken`.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/db6e8e527cec8f919a4eb92d32289a09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">sairsule</div><div class="time">2020-05-30 10:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-07/1250976938080_728af7b9e8dbdc3d3f22_72.jpg" /><div class="message"><div class="username">danhitchcock</div><div class="time">2020-06-01 15:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9ff33e3c69423bf178e71acea52a8abf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">weyert.deboer</div><div class="time">2020-06-01 21:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:33</div><div class="msg">I am getting this error.     ERROR in node_modules/@pact-foundation/pact-node/src/message.d.ts(6,32): error TS2304: Cannot find name 'unknown'.
node_modules/@pact-foundation/pact-node/src/pact.d.ts(23,55): error TS2304: Cannot find name 'unknown'.
node_modules/@pact-foundation/pact-node/src/service.d.ts(24,47): error TS2304: Cannot find name 'unknown'.
node_modules/@pact-foundation/pact-node/src/service.d.ts(25,49): error TS2304: Cannot find name 'unknown'.
node_modules/@pact-foundation/pact-web/dsl/options.d.ts(35,45): error TS2304: Cannot find name 'Exclude'.
src/api/services/auth.service.pact.spec.ts(16,7): error TS2345: Argument of type '{ consumer: string; provider: string; port: number; }' is not assignable to parameter of type 'PactWebOptions'.
  Object literal may only specify known properties, and 'consumer' does not exist in type 'PactWebOptions'.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:37</div><div class="msg">I am following this article.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:37</div><div class="msg"><a href="https://medium.com/@richard.hendricksen/consumer-driven-contract-testing-with-pact-for-angular-and-spring-boot-9c84caac4040">https://medium.com/@richard.hendricksen/consumer-driven-contract-testing-with-pact-for-angular-and-spring-boot-9c84caac4040</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:38</div><div class="msg"><a href="https://github.com/richardhendricksen/pact-example-angular-spring-boot/tree/master/consumers">https://github.com/richardhendricksen/pact-example-angular-spring-boot/tree/master/consumers</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:40</div><div class="msg">I am setting up pact karma using npm install --save-dev @pact-foundation/karma-pact @pact-foundation/pact-node @pact-foundation/pact-web</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:41</div><div class="msg">can somebody please help me what should i do to fix this issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 03:46</div><div class="msg">It looks like you?re not passing the right options to PactWeb - can you provide your code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 03:51</div><div class="msg">The example code you linked to works for me. How are you configuring your Pact settings?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:54</div><div class="msg">import { HttpClientModule } from '@angular/common/http';
import { service } from './abc.service';
import { User } from './../models/user';
import {TestBed} from '@angular/core/testing';
import { Matchers, PactWeb } from '@pact-foundation/pact-web'

describe('UserServicePact', () =&gt; {

  let provider;

  // Setup Pact mock server for this service
  beforeAll(async () =&gt; {

    /*provider = await new Pact({*/
      provider = await new PactWeb({
      consumer: 'webclient',
      provider: 'service',
      port: 1234
    });

    // required for slower CI environments
    await new Promise(resolve =&gt; setTimeout(resolve, 1000));

    // Required if run with `singleRun: false`
    await provider.removeInteractions();
  });

  // Configure Angular Testbed for this service
  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      imports: [
        HttpClientModule
      ],
      providers: [
        service
      ]
    });
  });

  // Verify mock service
  afterEach(async () =&gt; {
    await provider.verify();
  });

  // Create contract
  afterAll(async () =&gt; {
    await provider.finalize();
  });

  describe('get()', () =&gt; {

    const userId = 1;

    const expectedMeDetails: User = {
      id: '123',
      username: 'xyz',
      enabled: true,
      accountNonExpired: true,
      accountNonLocked: true,
    };

    beforeAll(async () =&gt; {
      await provider.addInteraction({
        state: `get me details`,
        uponReceiving: 'a request to GET me details',
        withRequest: {
          method: 'GET',
          path: `/me`
        },
        willRespondWith: {
          status: 200,
          body: Matchers.somethingLike(expectedMeDetails)
        }
      });
    });

    it('should get a user', async () =&gt; {
      const service: service = TestBed.get(service);

      await <a href="http://service.me">http://service.me</a>().toPromise().then(response =&gt; {
        expect(response).toEqual(expectedMeDetails);
      });
    });
  });</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-06-05 03:57</div><div class="msg">(as a little aside, using the "code block" formatting in Slack will make your code samples much easier to read &amp; distinguish against conversation messages)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 03:57</div><div class="msg">What version of typescript are you using?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:58</div><div class="msg">```2.4.2```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 03:59</div><div class="msg">Could you try again with typescript 3? It looks like the definitions we are exporting aren?t compatible with typescript 2. Apologies for not having this documented</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 03:59</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 04:03</div><div class="msg">Looks like this was introduced in pact-node 9.01 - I didn?t expect it would be a breaking change.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 04:04</div><div class="msg">ERROR in node_modules/@pact-foundation/pact-node/src/message.d.ts(6,32): error TS2304: Cannot find name 'unknown'.
node_modules/@pact-foundation/pact-node/src/pact.d.ts(23,55): error TS2304: Cannot find name 'unknown'.
node_modules/@pact-foundation/pact-node/src/service.d.ts(24,47): error TS2304: Cannot find name 'unknown'.
node_modules/@pact-foundation/pact-node/src/service.d.ts(25,49): error TS2304: Cannot find name 'unknown'.
node_modules/@pact-foundation/pact-web/dsl/options.d.ts(35,45): error TS2304: Cannot find name 'Exclude'.
src/api/services/auth.service.pact.spec.ts(16,7): error TS2345: Argument of type '{ consumer: string; provider: string; port: number; }' is not assignable to parameter of type 'PactWebOptions'.
  Object literal may only specify known properties, and 'consumer' does not exist in type 'PactWebOptions'.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 04:04</div><div class="msg">same errors</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 04:05</div><div class="msg">I believe `Cannot find name 'unknown'` is caused by using TS 3 types with TS 2</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 04:06</div><div class="msg">Can you tell us which versions you are using of pact-web / pact-node, and typescript please?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 04:06</div><div class="msg">Also, does the example code you linked work for you?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 04:06</div><div class="msg">```"@pact-foundation/karma-pact": "^2.3.1",
"@pact-foundation/pact-node": "^10.9.5",
"@pact-foundation/pact-web": "^9.11.0",```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 04:07</div><div class="msg">would you be able to share an example repository that I can use to reproduce the problem?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 04:09</div><div class="msg">yes. I am working on it i will provide.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 04:09</div><div class="msg">Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 04:21</div><div class="msg">05 06 2020 00:12:26.007:INFO [Chrome 83.0.4103 (Windows 10.0.0)]: Connected on socket E1XhRprV1Vk04NpdAAAA with id 24754627
WARN: 'Passing in consumer/provider to PactWeb is deprecated,
        and will be removed in the next major version'
Chrome 83.0.4103 (Windows 10.0.0): Executed 0 of 7 SUCCESS (0 secs / 0 secs)
WARN: 'Passing in consumer/provider to PactWeb is deprecated,
INFO: 'Setting up Pact using mock service on port: "1234"'
Chrome 83.0.4103 (Windows 10.0.0): Executed 0 of 7 SUCCESS (0 secs / 0 secs)
INFO: 'Setting up Pact using mock service on port: "1234"'
05 06 2020 00:12:33.461:WARN [proxy]: failed to proxy /api/users/42 (connect ECONNREFUSED 127.0.0.1:1234)
05 06 2020 00:12:35.464:WARN [proxy]: failed to proxy /api/users/42 (connect ECONNREFUSED 127.0.0.1:1234)
05 06 2020 00:12:37.469:WARN [proxy]: failed to proxy /api/users/42 (connect ECONNREFUSED 127.0.0.1:1234)
Chrome 83.0.4103 (Windows 10.0.0) UserServicePact update() should update a user FAILED
        HttpErrorResponse: Http failure response for /api/users/42: 0 Unknown Error
        Error: PopsicleError: Unable to connect to "<a href="http://127.0.0.1:1234/interactions/verification">http://127.0.0.1:1234/interactions/verification</a>"
            at new VerificationError (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22530:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22530:1</a>)
            at <a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:20163:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:20163:1</a>
            at tryCatch (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:488:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:488:1</a>)
            at invokeCallback (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:503:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:503:1</a>)
            at publish (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:477:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:477:1</a>)
            at publishRejection (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:418:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:418:1</a>)
            at MutationObserver.flush (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:207:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:207:1</a>)
            at ZoneDelegate.invoke (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:359:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:359:1</a>)
            at Zone.runGuarded (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:134:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:134:1</a>)
            at MutationObserver.&lt;anonymous&gt; (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:118:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:118:1</a>)
Chrome 83.0.4103 (Windows 10.0.0): Executed 1 of 7 (1 FAILED) (0 secs / 10.422 secs)
Chrome 83.0.4103 (Windows 10.0.0) UserServicePact update() should update a user FAILED
        HttpErrorResponse: Http failure response for /api/users/42: 0 Unknown Error
        Error: PopsicleError: Unable to connect to "<a href="http://127.0.0.1:1234/interactions/verification">http://127.0.0.1:1234/interactions/verification</a>"
            at new VerificationError (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22530:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22530:1</a>)
            at <a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:20163:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:20163:1</a>
            at tryCatch (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:488:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:488:1</a>)
            at invokeCallback (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:503:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:503:1</a>)
            at publish (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:477:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:477:1</a>)
            at publishRejection (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:418:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:418:1</a>)
            at MutationObserver.flush (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:207:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:207:1</a>)
            at ZoneDelegate.invoke (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:359:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:359:1</a>)
            at Zone.runGuarded (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:134:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:134:1</a>)
Chrome 83.0.4103 (Windows 10.0.0) ERROR
  {
    "message": "An error was thrown in afterAll\nPopsicleError: Unable to connect to \"<a href="http://127.0.0.1:1234/interactions">http://127.0.0.1:1234/interactions</a>\"\nerror properties: Error\n    at &lt;Jasmine&gt;\n    at Request.error (<a href="http://localhost:9876/_karma_webpack_/node">http://localhost:9876/_karma_webpack_/node</a>
_modules/@pact-foundation/pact-web/pact-web.js:18862:1)\n    at XMLHttpRequest.xhr.onerror [as __zone_symbol__ON_PROPERTYerror] (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22417:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22417:1</a>)\n
at XMLHttpRequest.wrapFn (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1</a>)\n    at ZoneDelegate.invokeTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:3">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:3</a>
91:1)\n    at Zone.runTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1</a>)\n    at ZoneTask.invokeTask [as invoke] (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-everg">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-everg</a>
reen.js:465:1)\n    at invokeTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1</a>)\n    at XMLHttpRequest.globalZoneAwareCallback (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/">http://localhost:9876/_karma_webpack_/node_modules/zone.js/</a>
dist/zone-evergreen.js:1629:1)",
    "str": "An error was thrown in afterAll\nPopsicleError: Unable to connect to \"<a href="http://127.0.0.1:1234/interactions">http://127.0.0.1:1234/interactions</a>\"\nerror properties: Error\n    at &lt;Jasmine&gt;\n    at Request.error (<a href="http://localhost:9876/_karma_webpack_/node_mod">http://localhost:9876/_karma_webpack_/node_mod</a>
ules/@pact-foundation/pact-web/pact-web.js:18862:1)\n    at XMLHttpRequest.xhr.onerror [as __zone_symbol__ON_PROPERTYerror] (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22417:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22417:1</a>)\n    at X
MLHttpRequest.wrapFn (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1</a>)\n    at ZoneDelegate.invokeTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:391:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:391:1</a>
)\n    at Zone.runTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1</a>)\n    at ZoneTask.invokeTask [as invoke] (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen</a>
.js:465:1)\n    at invokeTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1</a>)\n    at XMLHttpRequest.globalZoneAwareCallback (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist</a>
/zone-evergreen.js:1629:1)"
  }
Chrome 83.0.4103 (Windows 10.0.0): Executed 1 of 7 (1 FAILED) ERROR (0 secs / 10.422 secs)
Chrome 83.0.4103 (Windows 10.0.0) ERROR
  {
    "message": "An error was thrown in afterAll\nPopsicleError: Unable to connect to \"<a href="http://127.0.0.1:1234/interactions">http://127.0.0.1:1234/interactions</a>\"\nerror properties: Error\n    at &lt;Jasmine&gt;\n    at Request.error (<a href="http://localhost:9876/_karma_webpack_/node">http://localhost:9876/_karma_webpack_/node</a>
_modules/@pact-foundation/pact-web/pact-web.js:18862:1)\n    at XMLHttpRequest.xhr.onerror [as __zone_symbol__ON_PROPERTYerror] (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22417:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22417:1</a>)\n
at XMLHttpRequest.wrapFn (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1</a>)\n    at ZoneDelegate.invokeTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:3">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:3</a>
91:1)\n    at Zone.runTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1</a>)\n    at ZoneTask.invokeTask [as invoke] (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-everg">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-everg</a>
reen.js:465:1)\n    at invokeTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1</a>)\n    at XMLHttpRequest.globalZoneAwareCallback (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/">http://localhost:9876/_karma_webpack_/node_modules/zone.js/</a>
dist/zone-evergreen.js:1629:1)",
    "str": "An error was thrown in afterAll\nPopsicleError: Unable to connect to \"<a href="http://127.0.0.1:1234/interactions">http://127.0.0.1:1234/interactions</a>\"\nerror properties: Error\n    at &lt;Jasmine&gt;\n    at Request.error (<a href="http://localhost:9876/_karma_webpack_/node_mod">http://localhost:9876/_karma_webpack_/node_mod</a>
ules/@pact-foundation/pact-web/pact-web.js:18862:1)\n    at XMLHttpRequest.xhr.onerror [as __zone_symbol__ON_PROPERTYerror] (<a href="http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22417:1">http://localhost:9876/_karma_webpack_/node_modules/@pact-foundation/pact-web/pact-web.js:22417:1</a>)\n    at X
MLHttpRequest.wrapFn (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1191:1</a>)\n    at ZoneDelegate.invokeTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:391:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:391:1</a>
)\n    at Zone.runTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:168:1</a>)\n    at ZoneTask.invokeTask [as invoke] (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen</a>
.js:465:1)\n    at invokeTask (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist/zone-evergreen.js:1603:1</a>)\n    at XMLHttpRequest.globalZoneAwareCallback (<a href="http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist">http://localhost:9876/_karma_webpack_/node_modules/zone.js/dist</a>
/zone-evergreen.js:1629:1)"
Chrome 83.0.4103 (Windows 10.0.0): Executed 1 of 7 (1 FAILED) ERROR (13.691 secs / 10.422 secs)
[2020-06-05T04:12:41.975Z]  INFO: pact-node@10.2.2/24448 on lan: Removing all Pact servers.
[2020-06-05T04:12:41.976Z]  INFO: pact-node@10.2.2/24448 on lan: Removing Pact with PID: 10236
ERROR: The process "10236" not found.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 04:21</div><div class="msg">example files also throwing errors</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 04:31</div><div class="msg">There should be lines like this in the log above the quote you sent:

```10% building 1/1 modules 0 active[2020-06-05T04:29:51.809Z]  INFO: pact-node@10.2.2/7337 on Timothys-MBP.fritz.box:
    Creating Pact Server with options:
    {"cors":true,"spec":3,"port":1234,"log":"/Users/tim/office/pact/pact-example-angular-spring-boot/consumers/angular8-karma/logs/mockserver-integration.log","dir":"/Users/tim/office/pact/pact-example-angular-spring-boot/pacts","pactFileWriteMode":"overwrite","ssl":false,"host":"localhost"}
05 06 2020 14:29:53.499:INFO [pact]: Pact Mock Server running on port: 1234
05 06 2020 14:29:53.543:INFO [karma-server]: Karma v3.1.4 server started at <a href="http://0.0.0.0:9876/">http://0.0.0.0:9876/</a>```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 04:38</div><div class="msg">yes i have those lines</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 04:40</div><div class="msg">10% building 1/1 modules 0 active[2020-06-05T04:11:55.168Z]  INFO: pact-node@10.2.2/24448 on :
    Creating Pact Server with options:
    {"cors":true,"spec":3,"port":1234,"log":"C:\\Users\\IdeaProjects\\pact-example-angular-spring-boot\\consumers\\angular8-karma\\logs\\mocks
erver-integration.log","dir":"C:\\Users\\IdeaProjects\\pact-example-angular-spring-boot\\pacts","pactFileWriteMode":"overwrite","ssl":false,"h
ost":"localhost"}
[2020-06-05T04:11:57.035Z] ERROR: pact-node@10.2.2/24448 on Ulankala:
    Pact Binary Error: C:/Users/IdeaProjects/pact-example-angular-spring-boot/consumers/angular8-karma/node_modules/@pact-foundation/pact-node/
standalone/win32-1.72.2/lib/vendor/ruby/2.2.0/gems/pact-mock_service-3.2.0/lib/pact/mock_service/app.rb:5:in `require': cannot load such file -- pact/co
nsumer/mock_service/cors_origin_header_middleware (LoadError)
        from C:/Users/IdeaProjects/pact-example-angular-spring-boot/consumers/angular8-karma/node_modules/@pact-foundation/pact-node/standalone
/win32-1.72.2/lib/vendor/ruby/2.2.0/gems/pact-mock_service-3.2.0/lib/pact/mock_service/app.rb:5:in `&lt;top (required)&gt;'
        from C:/Users/IdeaProjects/pact-example-angular-spring-boot/consumers/angular8-karma/node_modules/@pact-foundation/pact-node/standalone
/win32-1.72.2/lib/vendor/ruby/2.2.0/gems/pact-mock_service-3.2.0/lib/pact/mock_service/run.rb:2:in `require'
        from C:/Users/IdeaProjects/pact-example-angular-spring-boot/consumers/angular8-karma/node_modules/@pact-foundation/pact-node/standalone
/win32-1.72.2/lib/vendor/ruby/2.2.0/gems/pact-mock_service-3.2.0/lib/pact/mock_service/run.rb:2:in `&lt;top (required)&gt;'
        from C:/Users/IdeaProjects/pact-example-angular-spring-boot/consumers/angular8-karma/node_modules/@pact-foundation/pact-node/standalone
/win32-1.72.2/lib/vendor/ruby/2.2.0/gems/pact-mock_service-3.2.0/lib/pact/mock_service/cli.rb:33:in `require'
        from C:/Users/IdeaProjects/pact-example-angular-spring-boot/consumers/angular8-karma/node_modules/@pact-foundation/pact-node/standalone
05 06 2020 00:12:25.179:ERROR [pact]: Error while trying to run karma-pact: Error: Couldn't start Pact with PID: 10236</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-05 04:53</div><div class="msg">That looks like the windows 10 pathing issues, see:

<a href="https://github.com/pact-foundation/pact-node/issues/100">https://github.com/pact-foundation/pact-node/issues/100</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-06-05 14:14</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-05 17:41</div><div class="msg">example file is working for me. That was windows path issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:06</div><div class="msg">Hi team, actual interactions do not match expected interactions for mock mock service. I am getting this error pacts files not getting generated.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:07</div><div class="msg">Can anybody know how to overcome these </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:07</div><div class="msg">it means what your test code is doing does not match what you said it would do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:07</div><div class="msg">please share your consumer test and any log files</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:14</div><div class="msg">describe('UserServicePact', () =&gt; {

  let provider;

  // Setup Pact mock server for this service
  beforeAll(async () =&gt; {

    provider = await new PactWeb({
    });

    // required for slower CI environments
    await new Promise(resolve =&gt; setTimeout(resolve, 1000));

    // Required if run with `singleRun: false`
    await provider.removeInteractions();
  });

  // Configure Angular Testbed for this service
  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      imports: [
        HttpClientModule
      ],
      providers: [
        Service
      ]
    });
  });

  // Verify mock service
  afterEach(async () =&gt; {
    await provider.verify();
  });

  // Create contract
  afterAll(async () =&gt; {
    await provider.finalize();
  });




  describe('get()', () =&gt; {
    const expected: User = {
      id: '123',
      username: 'test',
      firstName: 'xyz',
      lastName: 'abc',
    };

    beforeAll(async () =&gt; {
      await provider.addInteraction({
        state: `Get User`,
        uponReceiving: 'a request to Get User Details',
        withRequest: {
          method: 'GET',
          path: `<a href="http://localhost:1234/User">http://localhost:1234/User</a>`,
          headers: {'Content-Type': 'application/json'},
          query: ""
        },
        willRespondWith: {
          status: 200,
          body: Matchers.somethingLike(expectedDetails)
        }
      });
    });

    it('should get a user', async () =&gt; {
      const service: UserService = TestBed.get(UserService);

      await service.getUser().toPromise().then(response =&gt; {

        expect(response).toEqual(expected);
      });
    });
  });</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:20</div><div class="msg">Log file:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:20</div><div class="msg">I, [2020-06-06T22:06:01.771382 #4336]  INFO -- : Registered expected interaction GET /User
D, [2020-06-06T22:06:01.771382 #4336] DEBUG -- : {
  "description": "a request to Get User Details",
  "providerState": "Get User",
  "request": {
    "method": "GET",
    "path": "/User",
    "headers": {
      "Content-Type": "application/json"
    }
  },
  "response": {
    "status": 200,
    "headers": {
    },
    "body": {
      "json_class": "Pact::SomethingLike",
      "contents": {
        "id": "123",
        "username": "test",
        "firstName": "xyz",
        "lastName": "abc",
      }
    }
  },
  "metadata": null
}
W, [2020-06-06T22:06:01.780417 #4336]  WARN -- : Verifying - actual interactions do not match expected interactions.
Missing requests:
	GET /User



I, [2020-06-06T22:06:03.151564 #4336]  INFO -- : Cleared interactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:21</div><div class="msg">path should just be `/User`. Is `UserService` configured to hit the pact mock service instead of the real thing?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:28</div><div class="msg">I tried /User also it was not working i am getting same errors. So I used localhost beforeAll(async () =&gt; {
      await provider.addInteraction({
        state: `Get User`,
        uponReceiving: 'a request to Get User Details',
        withRequest: {
          method: 'GET',
          path: `/User`,
          headers: {'Content-Type': 'application/json'},
          query: ""
        },
        willRespondWith: {
          status: 200,
          body: Matchers.somethingLike(expectedDetails)
        }
      });</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:28</div><div class="msg">The log file above is very clear - it did not see a request to `/User`. Please ensure your UserService is configured to point to the Pact Mock service on whatever port you?ve configured Pact to run on</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:39</div><div class="msg">My userservice class is like this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:39</div><div class="msg">@Injectable()
export class UserService {

 baseUrl = environment.userServiceBaseUrl;</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:40</div><div class="msg">what changes should i make here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:40</div><div class="msg">what port are you starting pact on</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:40</div><div class="msg">userServiceBaseUrl is pointing to the actual url</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:40</div><div class="msg">1234</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:40</div><div class="msg">it should point to `<a href="http://localhost:1234">http://localhost:1234</a>`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:41</div><div class="msg">pact: [
      {
        cors: true,
        spec: 3,
        port: 1234,
        consumer: 'ui',
        provider: 'userservice',
        log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
        dir: path.resolve(process.cwd(), 'pact')
      }
    ],
    proxies: {
      '/api': '<a href="http://localhost:1234">http://localhost:1234</a>'
    }</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:41</div><div class="msg">this is my my karma.conf</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:42</div><div class="msg">thx, sorry I don?t know karma very well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:42</div><div class="msg">I think any api calls that go to `/api/*` will be proxied, but you?re not using that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 03:42</div><div class="msg">I could be wrong, you?ll need to read the docs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:55</div><div class="msg">thank you. I tried even this one <a href="http://localhost:1234">http://localhost:1234</a> not working.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 03:56</div><div class="msg">Do you have any refernces for github working codes for angular.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 04:04</div><div class="msg">what does the log file say after you updated the endpoint?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 04:05</div><div class="msg"><a href="https://reflectoring.io/consumer-driven-contracts-with-angular-and-pact/">https://reflectoring.io/consumer-driven-contracts-with-angular-and-pact/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 04:05</div><div class="msg"><a href="https://medium.com/@richard.hendricksen/consumer-driven-contract-testing-with-pact-for-angular-and-spring-boot-9c84caac4040">https://medium.com/@richard.hendricksen/consumer-driven-contract-testing-with-pact-for-angular-and-spring-boot-9c84caac4040</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 04:17</div><div class="msg">It is giving same error even after updating.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 04:17</div><div class="msg">what do the logs say</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 04:18</div><div class="msg">the logs will tell you how you?re interacting with Pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 04:18</div><div class="msg">if no request is coming in, that?s all todo with your angular/karma setup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 04:18</div><div class="msg">I?m afraid I can?t tell you how to configure your own setup</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 04:30</div><div class="msg">I, [2020-06-07T00:28:54.008388 #18500]  INFO -- : Cleared interactions
I, [2020-06-07T00:28:55.351390 #18500]  INFO -- : Cleared interactions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 04:30</div><div class="msg">I am just getting this now and pact is not generating</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 05:57</div><div class="msg">that can?t be the whole log file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 05:57</div><div class="msg">It should first ?register an interaction? (as per above)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-07 05:58</div><div class="msg">If you can provide a reproducable example we could help troublesheet (e.g. a working git repository)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-07 10:34</div><div class="msg">@lankala321 I think you?ve got the `proxies` setting from the example repository you linked, but it?s not appropriate for your API. Try `proxies: { '/User': '<a href="http://localhost:1234">http://localhost:1234</a>' }`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-07 21:23</div><div class="msg">@tjones, Thank you. I fixed the proxy issues. It is working fine now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75be124147d6d30d8796ec3862a21911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">lankala321</div><div class="time">2020-06-08 07:48</div><div class="msg">How to publish pacts to pact broker from angular project?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-08 12:30</div><div class="msg">It has nothing to do with Angular</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-08 12:31</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/#publishing-pacts-to-a-broker">https://github.com/pact-foundation/pact-js/#publishing-pacts-to-a-broker</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/62a5ec1d43a8a2cb9fda15f26e0eb10d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">cristian.schez</div><div class="time">2020-06-09 11:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3fade73c89ccf9bdea6b6432f7a661fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">godfrey</div><div class="time">2020-06-10 07:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c147cfc77d7bf5231ba3c1fca46afc1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">pact.io971</div><div class="time">2020-06-11 01:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-11 02:23</div><div class="msg"><!here> we are looking for more JS core maintainers. As now the _second most_ popular Pact library (in terms of stars) we have a lot we?d like to do. Our top priority is building a healthy community and sustainable contributor base.

<a href="https://github.com/pact-foundation/pact-js/issues/451">https://github.com/pact-foundation/pact-js/issues/451</a>ssues tagged `good first issue` or `help wanted` could be a great place to start <a href="https://github.com/pact-foundation/pact-js/labels/help%20wanted">https://github.com/pact-foundation/pact-js/labels/help%20wanted</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c6f3e128988771985afc5ca44036c573.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">bradley.smith</div><div class="time">2020-06-11 23:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a09073f6dcca0f34eca96f9e4fc9c2d9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">michaelphi</div><div class="time">2020-06-16 22:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:00</div><div class="msg">has anyone come across this before, looks pretty cool?

<a href="https://github.com/ASaiAnudeep/pactum">https://github.com/ASaiAnudeep/pactum</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:03</div><div class="msg">@tjones check this out, jest-pact++

<a href="https://www.npmjs.com/package/@amidostacks/pact-config">https://www.npmjs.com/package/@amidostacks/pact-config</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-17 23:10</div><div class="msg">Oh, that?s cool! I?ve been wanting to add better configuration to pact-js for a while</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-17 23:11</div><div class="msg">Unless I?m missing something, in terms of features, this only adds some new environment variables?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-17 23:12</div><div class="msg">&gt; Publish Pacts to broker
&gt; Check if if?s safe to deploy
&gt; Start stub loclly using the Pact contract
^ This is part of pact-node already. It highlights that we should improve the documentation substantially</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:13</div><div class="msg">I started looking into it and yes it looks like just some additional scripts which point to the cli executables, and the env vars which are set, are automatically picked up by the cli tool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:14</div><div class="msg">I use those features out of the box with pact-js, but I suppose it worked for their use case (minimal effort, same lines in a package.json can be replicated easily across of their projectts) I just have a shared verifier and publishing script that is used by any of our microservices which use pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-17 23:14</div><div class="msg">I might reach out to them - better lifecycle and configuration a the direction I?d like to take pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:15</div><div class="msg">Aye, always nice to get real world feedback, especially for the future roadmap of jest-pact, pact-js and the like. You never really know what people really care about, and what they want, without chatting to them :slightly_smiling_face: You are deffo more of a people person than me :right-facing_fist:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:16</div><div class="msg">I?ve been off work for 2 weeks, looking forward to getting back in and showing the guys all the stuff I?ve been doing with serverless and pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-17 23:17</div><div class="msg">Wow, that?s interesting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-17 23:18</div><div class="msg">So, it looks like Pact?but I can?t see any dependency on it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-17 23:19</div><div class="msg">But the DSL does have some niceities about it - similar to the nock discussion I was having with Tim recently</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-17 23:20</div><div class="msg">They?ve done a very decent job of documenting and there seems to be a lot of care/thinking involved - we should def chat</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-17 23:21</div><div class="msg">Might just be me, but I genuinely feel like the last few weeks the community members here have lifted their game - it?s so awesome to see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:30</div><div class="msg">There also looked to be the beginning of a pact js native implementation using request interceptors

<a href="https://github.com/seek-oss/nodejs-consumer-pact-interceptor">https://github.com/seek-oss/nodejs-consumer-pact-interceptor</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:31</div><div class="msg">Sounds exactly like the nock discussion. i used it to build a slack mock web server for my integration tests in a slack package I?ve published and it?s been fantastic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-17 23:37</div><div class="msg">So, I worked with the team who wrote that :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-17 23:37</div><div class="msg">(it was actually my first client at DiUS, and my first exposure to Pact)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:41</div><div class="msg">Right, so pactum basically uses polka which is an express style alternative to spin up a mock server, and you are correct, no pact deps, looks like it will create a pact file at the end, which on very cursory glance looks like it meets pact v2</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-06-17 23:44</div><div class="msg">the docs are brilliant. Hat deffo tipped. I like the split readme?s for diff things rather than shoehorning into one big readme as it cana be. terribly daunting or people will ctrl + f and that is it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-17 23:52</div><div class="msg">Yeah! It?s so inspiring</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-18 16:25</div><div class="msg">Is anyone using jest-pact on Windows? My tests appear to be failing intermittently, and I can't quite see why. This is logged to the console:
```[2020-06-18T16:13:22.004Z] ERROR: pact-node@10.9.5/43640 on IESO-LAP155:
    Pact Binary Error: Could not load existing consumer contract from C:/path/to/pacts/pact/consumer-provider.json due to 757: unexpected token at 'null'. Creating a new file.```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-18 16:30</div><div class="msg">I've a Ruby stack trace I can share privately. Might be a pact-standalone problem rather than jest-pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-18 17:05</div><div class="msg">(PS: I found the bug reports about file locking, etc. on Windows. I don't know if this is the same issue.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-18 23:25</div><div class="msg">Are you running your tests with `--runInBand` ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-18 23:26</div><div class="msg">I?ve hit this on a mac, but I can?t remember the solution. I think it was a configuration issue, but if it?s happening regularly I?d love to improve the error message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-19 08:43</div><div class="msg">@tjones thanks for the reply :slightly_smiling_face: We don't think we are using `--runInBand`, but I'm just going to check the create-react-app docs to make sure...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-19 08:49</div><div class="msg">So, when we created jest-pact, I thought it would mean tests could be run in parallel. However, I think sometimes it means that the pact writing collides (which might be what you?re experiencing)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-19 08:51</div><div class="msg">If you?re using CRA, you can use:

```"test": "react-scripts test --runInBand"```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-19 08:51</div><div class="msg">I will add this to the docs tomorrow, apologies for missing it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-19 08:51</div><div class="msg">(and, please let me know if this doesn?t fix your problem)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-19 09:23</div><div class="msg">No worries! ~This doesn't seem to have fixed the issue though, sadly~ :disappointed: It has fixed the issue, thank you :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-19 09:54</div><div class="msg">I think I've also found that the log file for earlier tests in a run is overwritten by later tests in the same run.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-19 14:31</div><div class="msg">I haven't been able to find any resources yet about using Pact with batched/paged result sets. Let's say I want to retrieve all the orders a particular customer has placed. That might be 0, 1, many, or "lots". 0 and 1 results obviously fit on one page; let's assume "many" is also sufficiently small to fit on a single page, but "lots" is more than that: e.g. 104 orders placed by that customer with 25 orders per page. How would you go about writing interactions for that kind of API?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-06-20 03:01</div><div class="msg">I would test first page, last page and middle page with unit tests, and then have Pact tests to test a page which has a next page, and one that does not.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-21 09:33</div><div class="msg">@a.smith Good pickup! Would you be able to open an issue against jest-pact so it doesn?t get forgotten?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-22 07:36</div><div class="msg">Nice one, thanks @uglyog</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-07/1133042719088_cd9dd98bf6934b34c586_72.jpg" /><div class="message"><div class="username">a.smith</div><div class="time">2020-06-25 09:09</div><div class="msg">@tjones Now done :+1: Sorry it's a bit sketchy.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-25 09:46</div><div class="msg">Thanks - it?s clear and has repro instructions, which is all we need. I?ll try to get a fix out in the next couple days.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a8301f050c0746ab6d7379e1b3efe788.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">ayyamuthutechnical</div><div class="time">2020-06-25 17:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1a15ed0ecae4dfa56497f9a45f2b22ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ag.robinson</div><div class="time">2020-06-27 15:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-29 11:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-29 11:36</div><div class="msg">The code sample you have above looks right to me. What problems are you having?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-29 11:39</div><div class="msg">Oh, I see what you mean.

You could do:

```before("setup provider general hook", done =&gt; {
  Promise.all([provider.setup(), provider_savedames.setup()]).then(() =&gt; {
    done()
  })
})```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-29 12:04</div><div class="msg">You?re already using async/await elsewhere, I?d just go for this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-29 12:04</div><div class="msg">```before(async () =&gt; {
   await provider1.setup()
   await provider2.setup()
})```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-29 12:20</div><div class="msg">It didnt help either, same logs again</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-29 12:21</div><div class="msg">Thanks @tjones and @matt.fellows for your suggestions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-29 12:58</div><div class="msg">You need to configure your code - the one making the http calls - to point at the different providers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-29 12:58</div><div class="msg">from the outside, it looks like you?re testing at too high a level (i.e. multiple interactions in a single test)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-29 12:58</div><div class="msg">If you can split it into separate tests, things will be much better - easier to maintain, easier to understand, less configuration like this, and it will have more of the good properties of a unit test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-29 14:18</div><div class="msg">yeah i tried to do that as well, but my consumer code base is too complex to split that specific function getsavedgames. so decided to have it like this. and am sure that its just not more than two contracts.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-29 14:21</div><div class="msg">@matt.fellows Can you please provide me some example link for the same, like how to configure my code in such a way that it talks to two different providers.
I remember that it is possible in pact jvm by mentioning two provider names inside @pactverification annotation
@pactverification(?provider1?,?provider2")</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-29 14:21</div><div class="msg">but couldnt find any example for the same in javascript</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-29 22:06</div><div class="msg">Presumably your code has a way of configuring where it sends it's http requests. You need to set one to localhost:10000 and the other to localhost:10001 (or whatever you set the ports to)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-29 22:07</div><div class="msg">Make your http client code configurable (maybe thru the use of an env var) and the sent them to the correct URL before you run the pact test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-29 22:08</div><div class="msg">All JS example have this for one provider, it's the same process for more than 1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-30 00:03</div><div class="msg">If you don?t specify the port in the Pact configuration, it will just assign a random available port - you can get the port and configure your http client after calling `setup()` e.g. <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/consumer.spec.js#L87-L92">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/consumer.spec.js#L87-L92</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-06-30 02:01</div><div class="msg">Maybe a helpful note here is: this isn't fundamentally a Pact concept. This is a "how you architect your code" concept, and you need to provide interfaces in your own code that allow this kind of configuration.

For example, you might have an API client that takes a `baseUrl` constructor parameter. Or `host` and `port` params. This is all up to you as a dev, whether you use Pact or not.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2020-06-30 08:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:53</div><div class="msg">Hi , is this possible in pact js as well?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:53</div><div class="msg"><a href="https://github.com/DiUS/pact-jvm/tree/master/consumer#having-values-injected-from-provider-state-callbacks">https://github.com/DiUS/pact-jvm/tree/master/consumer#having-values-injected-from-provider-state-callbacks</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:53</div><div class="msg">If so , can someone please provide the example link ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-06-30 10:54</div><div class="msg">No sorry it's not. You could possibly use request filters/state handlers to attempt the same</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:54</div><div class="msg">Thank you Matt :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:55</div><div class="msg">Is it good practice to use requestfilters to change the request body itself?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:56</div><div class="msg">Anyways thank you for your prompt response :blush:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:57</div><div class="msg">FYI, my consumer is javascript based one and provider is java based service here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-30 10:58</div><div class="msg">Usually no. Why do you need to do this?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:58</div><div class="msg">Now, how can i use the pact jvm framework request filters to replace something in the request without using this feature of `"valuefrom providerstate"`  ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:58</div><div class="msg">very confused now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 10:59</div><div class="msg">As i mentioned in the channel, consumer is javascript service where i used pact js framework to write consumer tests and published the contract. Now while running the provider tests i want to replace the request body value with which i get from provider states</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 11:00</div><div class="msg">and my provider here is java based service wher aam using pact jvm framework to have provider junit tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-30 11:04</div><div class="msg">Ah, sorry- I didn?t realise this was a follow-on question. My bad.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 11:05</div><div class="msg">No prob at all, can you please help me on this , like how can i proceed in this sceanrio as above</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-30 11:05</div><div class="msg">I?m not across the state parameters from v3, but the request filters would be done on the provider tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-30 11:05</div><div class="msg">Usually I implement this with a state handler on the server, setting up the state that is expected</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-30 11:06</div><div class="msg">in v2 pacts, there?s conceptually a mapping from the state string to the state you setup, so my state would be something like `"A user exists with user ID 10"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-30 11:07</div><div class="msg">then you can use a provider state handler to set up the provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-30 11:07</div><div class="msg">it?s not as elegant as the provider state callback feature</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 11:08</div><div class="msg">Just to be clear for you, my req in the contract is to `authentication/session/get` which has body like {?sessionuid? : ?7eyudow223"}
so before runnning the provider(java service) tests, using `statechange` method, i planned to create a session and i will get `sessionuid` as a response when i create a session in statechange method</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 11:09</div><div class="msg">And I want to use the `sessiouid` i have in contract with the one which i get form `statechange method` before running provider tests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 11:10</div><div class="msg">This is my exact problem right now, as `consumer` and `provider` are using two diff languages `(JS and Java)`, it looks complicated to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-06-30 11:13</div><div class="msg">I think it may be straightfoward, but you might not be able to use the provider state value injection feature (so you will just have to use regular provider state strings).

I?m in the middle of something at the moment, but I?ll drop back in an hour or so and outline a solution (if someone else hasn?t already)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 11:14</div><div class="msg">sure thank you :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-06-30 13:49</div><div class="msg">@phil.endsley yeah, but not exaclty what i want yet.,can you please help me on this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-06-30 14:17</div><div class="msg">I would think it depends on what you're doing. For your case above, setting a sessionUid in the request body, I think it's fine. I would also defer to the docs and core maintainers for best practices.

In our case, we modify the request by adding auth headers. We don't include the auth headers as part of our pacts, though.
<a href="https://docs.pact.io/implementation_guides/jvm/provider/junit/#modifying-the-requests-before-they-are-sent">https://docs.pact.io/implementation_guides/jvm/provider/junit/#modifying-the-requests-before-they-are-sent</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/950d971c6bf9213b69251182f75b5325.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">greg.tyler</div><div class="time">2020-07-02 09:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-24/1208495817188_bcda84a1dbee2ab0cbb0_72.png" /><div class="message"><div class="username">ravi.mijar</div><div class="time">2020-07-03 06:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/76ba89b884de9912d83fc059e8f02a44.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">sarathojha</div><div class="time">2020-07-03 12:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-24/1208495817188_bcda84a1dbee2ab0cbb0_72.png" /><div class="message"><div class="username">ravi.mijar</div><div class="time">2020-07-07 05:52</div><div class="msg">Hello..
I'm writing some provider verification tests for a node-express API.
I've followed the pact workshop and some other blogs to get to a point where I can run the `npm run test:pact` using jest. It reads the local contract from a directory and tries to run the interactions with the API running in the other terminal. I'm running this on a Windows laptop. However, I constantly see this -
```Unsupported Media Type: unsupported media type application/x-www-form-urlencoded
    at BodySchemaParser.toSchema```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-07 06:07</div><div class="msg">Hi Ravi!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-07 06:07</div><div class="msg">Glad to see you giving it a go</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-07 06:07</div><div class="msg">we may need more information to find out where things are going wrong here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-07 06:08</div><div class="msg">Did you mean to be sending using `application/json` or is it indeed a form post?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-24/1208495817188_bcda84a1dbee2ab0cbb0_72.png" /><div class="message"><div class="username">ravi.mijar</div><div class="time">2020-07-07 06:21</div><div class="msg">it isn't a form post.. I fiddled around with some of the values in the contract file, but I get the same error..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-07-07 06:41</div><div class="msg">It might be a better/easier idea to change the test that outputs the pact file, rather than manually editing the contract :thinking_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-07 07:15</div><div class="msg">Can you please share the code or something? As it stands, it?s too hard to understand. It doesn?t look like a Pact specific code, so it could be in your library or something upstream</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-07 07:15</div><div class="msg">My guess is that you have body parser that is expected another media type, but is getting `application/x-www-form-urlencoded`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-07 07:16</div><div class="msg">If you?re editing the contract and it?s not working, there is likely an issue on the provider code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-24/1208495817188_bcda84a1dbee2ab0cbb0_72.png" /><div class="message"><div class="username">ravi.mijar</div><div class="time">2020-07-07 19:51</div><div class="msg">Last night, I found a possible cause. I haven?t proven it yet. After @abubics suggested to look at the consumer tests, I found that the `<a href="http://axios.post">http://axios.post</a>` I have is not configured for any headers. That may be a reason why the contract doesn?t have it in the right format or something. Will try to do this later today and post here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-07 22:04</div><div class="msg">You still need to add the header explicitly in the test to ensure your code behaves the way it should too. Share the test code and we can help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-07-08 18:22</div><div class="msg">Hey to any users of the serverless framework.

I?ve built a plugin for serverless that will allow you to start a pact stub service by providing a pact file in your serverless.yml file. Currently only supports macosx but will update shortly to download the corresponding binaries for the underlying OS

<a href="https://github.com/YOU54F/serverless-offline-pact">https://github.com/YOU54F/serverless-offline-pact</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-07-08 18:24</div><div class="msg">Additionally, I?ve also built a lambda template that can be used to host a pact stub service as a lambda function backed by api gateway.

<a href="https://github.com/YOU54F/serverless-pact">https://github.com/YOU54F/serverless-pact</a>

This was an iteration over using ecs with docker images containing the pact stub service and a contract file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-08 23:31</div><div class="msg">This is awesome, in fact, I think we?ll try and use it on one of the internal Pactflow systems :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-07-09 00:39</div><div class="msg">I was looking at some of the packages and mechanisms that pact-js/pact-node uses to download the binaries for the various os?s, in the case of serverless-offline-pact.

It?s easy with serverless-pact as the lambda runtime is a known quantity.

Would be ace to see it used in pact-flow, I?ve still to implement it at work, been caught up in lots of things in the two weeks being back.

Will be able to do some cost comparisons against running it in ecs vs lambda over a certain time period. Not that I am too fussed, as I am not paying the bills :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 00:57</div><div class="msg">haha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 00:58</div><div class="msg">Sorry, I was referring to the offline pact (we have a few control-plane microservices that could use it)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 00:58</div><div class="msg">the serverless-pact deployment would require a lot more testing to ensure all of the features worked reliably etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 00:58</div><div class="msg">We do actually use ECS for our platform.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 00:58</div><div class="msg">100% lambda would be cheaper, I could probably do some back of the envelope numbers, but it would be significant</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 00:59</div><div class="msg">I think it would probably halve our bill. Our main costs are EC2, RDS and all of the automations on the back of cloudtrail events.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 01:00</div><div class="msg">Lambda (which is used for all of the control plane services) is costing us, like, $10's of dollars /mth or something</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a8301f050c0746ab6d7379e1b3efe788.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">ayyamuthutechnical</div><div class="time">2020-07-09 09:11</div><div class="msg">@matt.fellows, Currently i am working on doing consumer contract test for frontend using js.
While trying to publish in local pact-broker i am getting below issue. Can you please help on this
```[2020-07-09T09:02:25.790Z]  INFO: pact-node@10.9.5/14812 on HUNANMBP18: Publishing Pacts to Broker
[2020-07-09T09:02:25.791Z]  INFO: pact-node@10.9.5/14812 on HUNANMBP18: Publishing pacts to broker at: <a href="https://localhost:8090">https://localhost:8090</a>
[2020-07-09T09:02:36.260Z]  WARN: pact-node@10.9.5/14812 on HUNANMBP18: Pact exited with code 1.
[2020-07-09T09:02:36.260Z] ERROR: pact-node@10.9.5/14812 on HUNANMBP18: 
    Could not publish pact:
    Error making request - Errno::ECONNREFUSED Connection refused - connect(2) for "localhost" port 8090 /Users/hunan/pactjspoc/consumer/node_modules/@pact-foundation/pact-node/standalone/darwin-1.85.0/pact/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.26.0/lib/pact_broker/client/base_client.rb:101:in `put', attempt 1 of 3
    
    Error making request - Errno::ECONNREFUSED Connection refused - connect(2) for "localhost" port 8090 /Users/hunan/pactjspoc/consumer/node_modules/@pact-foundation/pact-node/standalone/darwin-1.85.0/pact/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.26.0/lib/pact_broker/client/base_client.rb:101:in `put', attempt 2 of 3
    
    Error making request - Errno::ECONNREFUSED Connection refused - connect(2) for "localhost" port 8090 /Users/hunan/pactjspoc/consumer/node_modules/@pact-foundation/pact-node/standalone/darwin-1.85.0/pact/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.26.0/lib/pact_broker/client/base_client.rb:101:in `put', attempt 3 of 3
    
    Failed to tag version 15.0 of FrontendWebsite due to error: Errno::ECONNREFUSED - Connection refused - connect(2) for "localhost" port 8090}
    One or more pacts failed to be published
    
    
    Tagging version 15.0 of FrontendWebsite as "prod"
    Tagging version 15.0 of FrontendWebsite as "prod"
    Tagging version 15.0 of FrontendWebsite as "prod"
    
    
Pact contract publishing failed:  Error: Error making request - Errno::ECONNREFUSED Connection refused - connect(2) for "localhost" port 8090 /Users/hunan/pactjspoc/consumer/node_modules/@pact-foundation/pact-node/standalone/darwin-1.85.0/pact/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.26.0/lib/pact_broker/client/base_client.rb:101:in `put', attempt 1 of 3

Error making request - Errno::ECONNREFUSED Connection refused - connect(2) for "localhost" port 8090 /Users/hunan/pactjspoc/consumer/node_modules/@pact-foundation/pact-node/standalone/darwin-1.85.0/pact/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.26.0/lib/pact_broker/client/base_client.rb:101:in `put', attempt 2 of 3

Error making request - Errno::ECONNREFUSED Connection refused - connect(2) for "localhost" port 8090 /Users/hunan/pactjspoc/consumer/node_modules/@pact-foundation/pact-node/standalone/darwin-1.85.0/pact/lib/vendor/ruby/2.2.0/gems/pact_broker-client-1.26.0/lib/pact_broker/client/base_client.rb:101:in `put', attempt 3 of 3

Failed to tag version 15.0 of FrontendWebsite due to error: Errno::ECONNREFUSED - Connection refused - connect(2) for "localhost" port 8090}
One or more pacts failed to be published


Tagging version 15.0 of FrontendWebsite as "prod"
Tagging version 15.0 of FrontendWebsite as "prod"
Tagging version 15.0 of FrontendWebsite as "prod"


    at ChildProcess.&lt;anonymous&gt; (/Users/hunan/pactjspoc/consumer/node_modules/@pact-foundation/pact-node/src/publisher.js:72:40)
    at Object.onceWrapper (events.js:417:26)
    at ChildProcess.emit (events.js:322:22)
    at maybeClose (internal/child_process.js:1021:16)
    at Socket.&lt;anonymous&gt; (internal/child_process.js:443:11)
    at Socket.emit (events.js:310:20)
    at Pipe.&lt;anonymous&gt; (net.js:672:12)```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 12:25</div><div class="msg">I mean, that looks pretty clear to me - the pact publish step is unable to communicate to the broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 12:26</div><div class="msg">if you?re running the publish step in docker, but the pact broker is not in the same environment they will not be able to communicate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 12:26</div><div class="msg">are you sure the broker is running on port `8090`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a8301f050c0746ab6d7379e1b3efe788.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">ayyamuthutechnical</div><div class="time">2020-07-09 14:03</div><div class="msg">@matt.fellows, thanks i have mapped the wrong port number. I have changed and now it is working fine. Thanks for the help. Have a great day</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0c503843f674b458d31fdfd10fdc1cc2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jarmy</div><div class="time">2020-07-09 20:45</div><div class="msg">Hi. I?d like some clarification on pact verification regarding `providerVersionTag` vs `providerVersionsTag`.  When I use `providerVersionTag: [gitBranch, TEST_ENV]`, I get this warning message
```[2020-07-09T20:17:34.917Z]  WARN: pact-node@10.9.4/92598 on jarmy-m02: 'consumerVersionTag' and 'providerVersionTag' have been deprecated, please use 'consumerVersionTags' or 'providerVersionTags' instead```
Followed by this
```      INFO: Tagging version 8e6353a of graphql as "<a href="http://DEVTOOLS-561-ja-integrate-pact.io">http://DEVTOOLS-561-ja-integrate-pact.io</a>"
      INFO: Tagging version 8e6353a of graphql as "shared"```
The provider version is updated with those tags in the pact matrix.

If I use `providerVersionsTag: [gitBranch, TEST_ENV],` nothing is logged and no tags are applied. Is there a more preferred way to tag the provider version?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-09 23:27</div><div class="msg">You keep referring to `providerVersionsTag` but the error message says to migrate to `providerVersionTags`. Basically, we did something stupid and gave it a dumb name - it should have been a pluralised version of what you were using that?s currently working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-07-10 01:48</div><div class="msg">the `s` is on `Tags` not `Versions` :slightly_smiling_face: maybe the problem is it's hard to read the diff on that long warning line?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-10 02:11</div><div class="msg">personally, I would just copy what is in the error message - but happy for suggestions!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-10 02:11</div><div class="msg">(also, the TypeScript bindings should give hints if you?re using a _good_ editor :stuck_out_tongue: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-07-10 04:00</div><div class="msg">Only if you?re using TypeScript :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-10 04:26</div><div class="msg">well, VS code should bring the types in for pure JS projects e.g. here is an example JS provider (<a href="https://github.com/pactflow/example-provider">https://github.com/pactflow/example-provider</a>) and code completion works :ok_hand:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-10 04:28</div><div class="msg">I?m not sure about other editors. But I imagine Sublime and Atom at the very least also have pretty decent support. Heck, it works in my vim</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-10 04:30</div><div class="msg">We actually publish the types as part of the release, specifically for non-TypeScript users to get this exact benefit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-10 04:31</div><div class="msg">Not to drag it out, but you can see the types are also sent along with the package to give info to IDEs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-07-10 07:25</div><div class="msg">Huh, that?s cool</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8578495a8a783e299ac0db5877bb72a1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">jason</div><div class="time">2020-07-14 10:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e30c87679f9da88ec2f33a55b88a5037.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">chris.mitchell</div><div class="time">2020-07-14 12:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-07/1250976938080_728af7b9e8dbdc3d3f22_72.jpg" /><div class="message"><div class="username">danhitchcock</div><div class="time">2020-07-15 14:47</div><div class="msg">Hi,
I've just come back to my pact tests to update them and it appears the JS end(Client) seems to be failing on each test with
```   Cannot open port 1234 on ipv4 or ipv6 interfaces

      at ../node_modules/@pact-foundation/src/common/net.ts:27:13```
Currently scratching my head, as i didn't change anything in the tests since they last ran successfully.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-07-15 17:55</div><div class="msg">whats running on 1234 your client or the mock server?

have you got anything running on 1234 anyway?  you done a netstat?

Assuming this is failing locally on your machine only, if you revert your changes , is it still ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-07-15 17:57</div><div class="msg">1234 is quite a low port number so i?d always choose much higher or random ports and pass it into your client</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-15 22:43</div><div class="msg">I would avoid explicit port allocation, if you don't set the port pact will find a free one for you and return it in the call to setup()</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-16 01:25</div><div class="msg">It may be a previous pact test that was terminated without being able to clean up processes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-16 01:26</div><div class="msg">if you?re on a mac/linux, you could do this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-16 01:26</div><div class="msg">`lsof -i :1234` to see what process is holding the port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-07/1250976938080_728af7b9e8dbdc3d3f22_72.jpg" /><div class="message"><div class="username">danhitchcock</div><div class="time">2020-07-16 09:37</div><div class="msg">Aha almost forgot, i solved this, and it seemed to have been caused by out of date versions, I might update the port allocation now just to be safe.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-07-16 12:31</div><div class="msg">Hello there!
I am trying run provider tests for my JS based provider service and To make those tests isolated , i wanted to use `nock` which basically intercepts the calls from the provider and sends back required response to my provider while running the pact provider tests.
But I can see that the `nock`  couldnt intercept the request calls from my provider. Is it because pact has no integration with nock or something am missing?
Please respond and am looking forward to any reply or help.

This is my provider tests looks like.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-07-16 12:33</div><div class="msg">And i made sure that my provider service which is listening at localhost:5059 talks to localhost:8088 before running these tests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-07-16 12:34</div><div class="msg">But getting `"connect refused"` error!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-16 12:37</div><div class="msg">I don't see how your provider is being started in that process, so I'm not sure what effect nock would have</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-16 12:38</div><div class="msg">Nock can't intercept request happening in a separate process</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-07-16 12:51</div><div class="msg">I started my provider manually sepeartely, so does that need to be included in test code it self?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-16 12:59</div><div class="msg">Its up to tou. I normally would (see also our examples). If you want to use nock that way though it needs to happen in the same process the provider is running otherwise it will have no effect.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-07-16 13:06</div><div class="msg">Yeah you are right, when i included the step of starting the provider and pointing that to nock inside the provider tests, then it is working fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-07-16 13:06</div><div class="msg">Thank you so much for your help!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d036e8a050b0f81870ddd6a9818034f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">chandanakurumeti27</div><div class="time">2020-07-16 13:06</div><div class="msg">Have a great day :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-16 13:10</div><div class="msg">You too!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2b86188352bea094779254a5f2c072af.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">os.shulyak</div><div class="time">2020-07-17 07:09</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-07-18 05:10</div><div class="msg">For fans of `jest-pact`, I?ve just released 0.7.0, which includes two new DSL functions: `xpactWith` (which skips the tests inside it) and `fpactWith` (which only runs the tests inside it) - these match Jest?s `xdescribe` and `fdescribe`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-07-18 08:52</div><div class="msg">Ace! I?ve heard on .only and .skip but not the x/f prefixed equiv. good work!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-07-18 08:52</div><div class="msg">Probably, we should actually support both.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-07-18 10:44</div><div class="msg">Thoughts on `pactWith.only` and `pactWith.skip` ?

Also, I realised recently that `pactWith` is potentially confusing, because it?s only for consumer tests. I?m not sure that there?s any extra handling necessary for Jest in a provider test (in fact, a test framework isn?t even necessary for provider verification). Any thoughts on whether it?s worth clarifying this at the DSL?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-07-18 20:55</div><div class="msg">It may be, does it cause confusion?  the verifier exposed through pact-node is the pact version. Maybe we need to make it clear this is for the consumer side only?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3045f227c105955a0c31610c22a23c7f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">paul.stitt</div><div class="time">2020-07-23 09:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/25f4c43bb94db6fe7e333cb73481713e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">fernando.martin</div><div class="time">2020-07-23 12:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5621548eb7043a5d0d37e28c1e76aef1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">gcoradini</div><div class="time">2020-07-23 13:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0e2b29286e5aac8eb710387f0d5f641a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">poojashree_gopal</div><div class="time">2020-07-27 04:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/de826e4132df68b8b87c1b635b092612.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">david025</div><div class="time">2020-07-28 16:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/60429374f24fa6c9dc48922cd7140d54.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">daniel.pritchard</div><div class="time">2020-07-28 16:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1fd84a15f9e662eba3889102d5a7ae71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">guilherme.correa-ext</div><div class="time">2020-07-28 19:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/13be1557631acae1341e561bb5d0ac19.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">paul.fairless</div><div class="time">2020-07-28 21:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/85a3a8a08b5a1e611602114c82439eaa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">matias.waterloo</div><div class="time">2020-07-30 12:22</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e4f46695e938ad86e7a59ae990ea2479.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">maciej.olko</div><div class="time">2020-07-31 08:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e4f46695e938ad86e7a59ae990ea2479.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">maciej.olko</div><div class="time">2020-07-31 08:01</div><div class="msg">Hello, is there a way to make pact-js generate v2 specs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-31 08:11</div><div class="msg">umm? it does generate v2 specs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-31 08:11</div><div class="msg">or are you referring to the beta branch?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-31 08:12</div><div class="msg">If you are using the message features, that will always generate a v3 pact</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e4f46695e938ad86e7a59ae990ea2479.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">maciej.olko</div><div class="time">2020-07-31 08:14</div><div class="msg">thanks for the response, I thought it generates v3 because we see warnings while verifying with pact-python; I have to double check that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-31 08:14</div><div class="msg">hmm let me know</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-31 08:14</div><div class="msg">If you are using the standard install `@pact-foundation/pact/@latest` it will generate v2 by default</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-07-31 08:15</div><div class="msg">in fact, it basically cant? generate anything else, unless you are using the ?message? feature</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa691a96aa55ad296edabbcf8b753861.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">srinivasan.sekar1990</div><div class="time">2020-07-31 10:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e4f46695e938ad86e7a59ae990ea2479.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">maciej.olko</div><div class="time">2020-07-31 11:57</div><div class="msg">for what it?s worth I published a question on #pact-python about the problem: <a href="https://pact-foundation.slack.com/archives/C9VECUP6E/p1596195216224800">https://pact-foundation.slack.com/archives/C9VECUP6E/p1596195216224800</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2020-08-04 22:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 10:39</div><div class="msg">Hi folks. We're trying to do provider verification using pact-js and we keep getting an error back from the broker, 405. Is our broker too old?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 10:43</div><div class="msg">which versions of things are you using? `405` would potentially indicate that a resource doesn?t exist that new code needs
which versions of things do you have?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:04</div><div class="msg">How do I find the pact broker version?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:04</div><div class="msg">Is it shown anywhere in the UI?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:09</div><div class="msg">click on the ?API Browser? and you?ll see it in the headers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:09</div><div class="msg">(or via any direct API call)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:16</div><div class="msg">Yeah, it's 2.39.0 and we are trying to use the latest version of pact js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:19</div><div class="msg">ok yeah, so getting on close to 1 year old. There?s a bunch of new things in the broker that we?ll be taking advantage of</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:19</div><div class="msg">were you using any new features in Pact JS or did you just do an upgrade?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:42</div><div class="msg">This is the first time we are needing to use it for verification</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:43</div><div class="msg">Until now we've only used the consumer side, and the providers have been pact-jvm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:45</div><div class="msg">Gotcha. It?s likely calling the new pacts for verification feature (which is almost certainly something you want). Any reason why you can?t upgrade the broker?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:48</div><div class="msg">No reason, just wanted to make sure it would work before going through it :D</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:49</div><div class="msg">Another question while you're here. We have a problem with HTTPS, do you happen to know where certificates need to be put for ruby to find them?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:52</div><div class="msg">I may as well kill two birds with one stone and get that working while upgrading</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:53</div><div class="msg">when you say you have issues with https, can you elaborate - is it the client calling the server which has a self-signed cert, or is it the broker issuing outbound calls (via e.g. webhooks) to targets with self-signed certs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:53</div><div class="msg">`$SSL_CERT_FILE`or`$SSL_CERT_DIR` for the clients (see <a href="https://github.com/pact-foundation/pact-ruby-standalone/releases">https://github.com/pact-foundation/pact-ruby-standalone/releases</a> amongst other places)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:53</div><div class="msg">see <a href="https://docs.pact.io/pact_broker/configuration#webhook-ssl-certificates">https://docs.pact.io/pact_broker/configuration#webhook-ssl-certificates</a> for webhooks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:54</div><div class="msg">Basically if we try to communicate with the broker using HTTPS it fails</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:54</div><div class="msg">Webhooks seem to be ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:54</div><div class="msg">ok cool, then the above environment variables should do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:54</div><div class="msg">also mentioned here: <a href="https://github.com/pact-foundation/pact-js#verification-options">https://github.com/pact-foundation/pact-js#verification-options</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:55</div><div class="msg">They are to be set to the path containing the pem file  when launching the broker?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:55</div><div class="msg">Sorry, I should say, the client does have the self signed certificate</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:55</div><div class="msg">But the broker doesn't</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:56</div><div class="msg">the broker doesn?t need the certificate, whatever load balancer / web server in front of it will have the certificate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:56</div><div class="msg">(e.g. nginx)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:57</div><div class="msg">I should probably loop back with our infra team and if I have more specific questions I'll come back here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:57</div><div class="msg">your clients (e.g. Pact JS, which is Ruby under the hood) will need to know that the broker is presenting a self-signed certificate, and have it configured to trust it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 11:58</div><div class="msg">if you?re going to bother the infra team, tell them to go out and setup a real (free) certificate using letsencrypt and this problem goes away (they will likely not appreciate said comment)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:58</div><div class="msg">:joy:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 11:59</div><div class="msg">I think I get what you're saying now though, will try that first</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 12:00</div><div class="msg">So set SSL_CERT_FILE when running, for example the pact-broker command</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 12:07</div><div class="msg">I understand what was happening now. We run the CI in a standard node docker container which doesn't have the client cert. We'd need to add it in there :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-08-07 12:07</div><div class="msg">Cheers for the help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 12:12</div><div class="msg">you?re welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-07 12:13</div><div class="msg">Just note (and I know it?s confusing) that setting the certificate for NodeJS using standard Node config files won?t help - Pact JS actually bundles a Ruby app (which is the main engine) which is the thing that actually talks to the broker. So those env vars are likely still needed)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cc56d95787b717855764a2eccde24d80.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">jacques.murekezi</div><div class="time">2020-08-11 16:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cc56d95787b717855764a2eccde24d80.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">jacques.murekezi</div><div class="time">2020-08-11 16:29</div><div class="msg">Hi All, I have this function:
```saveApplication(details: Application): Observable&lt;any&gt; {
return <a href="http://this.http.post">http://this.http.post</a>(`<a href="http://localhost:5000/Apply">http://localhost:5000/Apply</a>`, details);
}```
And I am writing a Pact Test for it (API contract testing) and below is the test:
```describe('ApplicationService contract testing', () =&gt; {

let provider: PactWeb;
let applicationService: ApplicationService;

beforeAll(function (done) {

    provider = new PactWeb({
        cors: true, host: '127.0.0.1', port: 9776, logLevel: 'error'
    });
    setTimeout(done, 2000);

    provider.removeInteractions();
});

afterAll(function (done) {
    provider.finalize().then(function () {
        done();
    }, function (err) { done.fail(err); });
});
beforeEach(() =&gt; {

    TestBed.configureTestingModule({
        providers: [ApplicationService],
        imports: [HttpClientTestingModule]
    });

    applicationService = getTestBed().get(ApplicationService);
});

afterEach((done) =&gt; {
    provider.verify().then(done, e =&gt; done.fail(e));
});
describe('Save', () =&gt; {

    const _details: Application = {
        title: 'Mr', firstName: 'Application', lastName: 'applicant',
        dob: new Date(1977, 10, 10).toString(), gender: 'M'
    };
    beforeAll((done) =&gt; {

        provider.addInteraction({
            state: ' a task to save the dashboard application to mongo',
            uponReceiving: ' a request to post',
            withRequest: {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                path: '/Apply', body: _details
            }, willRespondWith:
            {
                status: 201,
                headers: {
                    'Content-Type': 'application/json'
                }
            }
        }).then(done, e =&gt; done.fail(e));
        it('should call the API to Post the application Content', (done) =&gt; {

            const _response: any = {};
            applicationService.saveApplication(_details).subscribe(res =&gt; {
                expect(res).toEqual(_response);
                done();
            }, error =&gt; { done.fail(error); }
            );
        });
    });

});
});```
The test isn't running when id npm run test or ng test, ut the pacts directory is being created. I don't know what is missing from my configs
This is what I have in Karma:
``` frameworks: ['jasmine', '@angular-devkit/build-angular','pact'],
 plugins: [....,
  require('@pact-foundation/karma-pact')],
 pact: [{
  cors: true,
  port: 9776,
  consumer: "ui",
  provider: "Apply",
  dir: "pacts/",
  spec: 2
}],
proxies: {
  '/api/applications/v1/': '<a href="http://localhost:9776/Apply/">http://localhost:9776/Apply/</a>'
},```
Not sure what I am missing. any help?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2020-08-11 19:44</div><div class="msg">How do I match a field that can be either null or an array? Is multiple type checking supported by pact-js?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-08-11 23:12</div><div class="msg">The recommendation is to use two tests, one for each value you want in the contract</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-12 01:25</div><div class="msg">What do you mean by ?the test isn?t running?? as in, the `it` block isn?t firing? That would imply an issue unrelated to Pact, or at least, if Pact is throwing an error you?re missing it somehow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-12 01:25</div><div class="msg">If it?s creating the Pact directory, that implies the mock server part (the karma) bit _is_ running</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-12 01:26</div><div class="msg">I don?t know angular/karma very well, but worth looking to see if Pact is generating any logs (defaults to `./log`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-08-12 02:03</div><div class="msg">are you expecting saveApplication to be hitting the pack mock?

```saveApplication(details: Application): Observable&lt;any&gt; {
return <a href="http://this.http.post">http://this.http.post</a>(`<a href="http://localhost:5000/Apply">http://localhost:5000/Apply</a>`, details);
}```
```    provider = new PactWeb({
        cors: true, host: '127.0.0.1', port: 9776, logLevel: 'error'
    });```
your mock provider is starting up but your app code should be using port `9776` in you test in order for the request to hit the mock</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-12 02:11</div><div class="msg">:point_up:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cc56d95787b717855764a2eccde24d80.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">jacques.murekezi</div><div class="time">2020-08-12 07:01</div><div class="msg">@yousafn what do you mean by that?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cc56d95787b717855764a2eccde24d80.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">jacques.murekezi</div><div class="time">2020-08-12 07:09</div><div class="msg">@matt.fellows I have checked there is no ./log folder</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-12 10:09</div><div class="msg">Set the log dir in your karma config</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-12 10:10</div><div class="msg">That should allow you to specify where the logs are written</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-12 10:11</div><div class="msg">I think the angular proxy configuration above redirects to the mock server, am I write? Otherwise what Yousaf is trying to say is that you need to make sure your client code is configured to use the mock service you started, not whatever the default is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-12 10:12</div><div class="msg">Maybe increase loglevel also</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cc56d95787b717855764a2eccde24d80.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">jacques.murekezi</div><div class="time">2020-08-12 14:46</div><div class="msg">well the proxy should either use the mocked server. I switched to live server and nothing happened</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cc56d95787b717855764a2eccde24d80.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">jacques.murekezi</div><div class="time">2020-08-12 14:46</div><div class="msg">how do you add log level though? not sure if angular allows logs on the webapp level</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2020-08-12 16:02</div><div class="msg">We?ve had pact implemented in our consumer pipeline (Jenkins) for a few months now, and every so often we get this intermittent error that I cannot seem to reproduce locally at all:
```09:17:35  &gt; jest web/static/scripts/ --runInBand --config jest.pact.js
09:17:35  
09:17:38  FAIL web/static/scripts/services/cart/api-cart.service.pact.js
09:17:38    ? Test suite failed to run
09:17:38  
09:17:38      TypeError: Cannot read property 'writePact' of undefined
09:17:38  
09:17:38        18 | 
09:17:38        19 |   async teardown() {
09:17:38      &gt; 20 |     await this.global.mockServiceProvider.finalize();
09:17:38           |                                           ^
09:17:38        21 |     this.global.mockServiceProvider = {};
09:17:38        22 |     await super.teardown();
09:17:38        23 |   }
09:17:38  
09:17:38        at MockServiceProvider.Pact.finalize (node_modules/@pact-foundation/src/httpPact.ts:148:8)
09:17:38        at CartEnvironment.teardown (web/static/scripts/unit-tests/pact/pactEnvironment.js:20:43)
09:17:38  
09:17:38  [2020-08-11T14:17:37.565Z]  INFO: pact-node@10.2.4/35469 on <a href="http://injkn31a.vpc.zoro.com">http://injkn31a.vpc.zoro.com</a>: 
09:17:38      Creating Pact Server with options: 
09:17:38      {"consumer":"zoro","cors":false,"dir":"/pub/jenkins/workspace/zoro.com/development/web/static/scripts/unit-tests/pact/pacts","host":"127.0.0.1","log":"/pub/jenkins/workspace/zoro.com/development/web/static/scripts/unit-tests/pact/logs/mockCartServer-integration.log","pactFileWriteMode":"overwrite","port":8921,"provider":"cart-service","spec":2,"ssl":false}
09:17:38  Test Suites: 1 failed, 1 total
09:17:38  Tests:       0 total
09:17:38  Snapshots:   0 total
09:17:38  Time:        0.454s, estimated 10s
09:17:38  Ran all test suites matching /web\/static\/scripts\//i.
09:17:38  [2020-08-11T14:17:37.744Z]  INFO: pact-node@10.2.4/35469 on <a href="http://injkn31a.vpc.zoro.com">http://injkn31a.vpc.zoro.com</a>: Removing all Pact servers.```
Usually just rerunning the pipeline fixes it, but it?s quite annoying to have this ?non failure? halt development progress. Anyone else run into this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-13 01:01</div><div class="msg">see <a href="https://github.com/pact-foundation/karma-pact">https://github.com/pact-foundation/karma-pact</a> for how to specify logs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-13 01:02</div><div class="msg">I have seen this before</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-13 01:03</div><div class="msg">from memory, it?s when the mock service hasn?t started properly in the first place (perhaps due to a timeout or otherwise) and because of the way jest/others do the before/after blocks, it shows up at this moment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-13 01:03</div><div class="msg">If you could pop an issue on Pact JS, we should be able to get better state modelling to prevent it trying to do something to an `undefined`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eaed8d06d0ca3b3687621add90107791.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">iesmite</div><div class="time">2020-08-14 00:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eaed8d06d0ca3b3687621add90107791.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">iesmite</div><div class="time">2020-08-14 00:42</div><div class="msg">Hello!! I'm having some trouble running the pact workshop(<a href="https://github.com/pact-foundation/pact-workshop-js">https://github.com/pact-foundation/pact-workshop-js</a>), step10 &amp;&amp; step11 :disappointed:
After the pact is created on consumer and moving to the provider I'm getting this error:
```Pact::ProviderVerifier::SetUpProviderStateError:
        Error setting up provider state 'product with ID 10 exists' for consumer 'FrontendWebsite' at <a href="http://localhost:64378/_pactSetup">http://localhost:64378/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
        &lt;html lang="en"&gt;
        &lt;head&gt;
        &lt;meta charset="utf-8"&gt;
        &lt;title&gt;Error&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
        &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/iesmite/github/pact-workshop-js/provider/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/iesmite/github/pact-workshop-js/provider/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:76:11)&lt;/pre&gt;
        &lt;/body&gt;
        &lt;/html&gt;```
Any idea to help? Thank you!!!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eaed8d06d0ca3b3687621add90107791.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">iesmite</div><div class="time">2020-08-14 00:43</div><div class="msg">I installed the modules using npm ci on root and using MacOS catalina</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-14 00:45</div><div class="msg">root??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-14 00:45</div><div class="msg">maybe  just check that no other processes are running on that port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-14 00:46</div><div class="msg">and just check for rogue npm processes ensuring they?re all shut down</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-14 00:54</div><div class="msg">@matt.fellows I think "root" in this context means the root dir of the project, not the root user</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eaed8d06d0ca3b3687621add90107791.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">iesmite</div><div class="time">2020-08-14 01:04</div><div class="msg">Yep means the root of the process :grinning:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eaed8d06d0ca3b3687621add90107791.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">iesmite</div><div class="time">2020-08-14 01:05</div><div class="msg">Sorry the root of the repository</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eaed8d06d0ca3b3687621add90107791.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">iesmite</div><div class="time">2020-08-14 01:07</div><div class="msg">I'll check that the weird thing is if I remove the utf8 from the content type the problem is unlocked :grinning: I'll send more logs after dinner ; thanks for you help</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eaed8d06d0ca3b3687621add90107791.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">iesmite</div><div class="time">2020-08-14 01:50</div><div class="msg">now worked when I did with the pacts loaded from file but failing when I tie with a pact broker I will try to debug the node modules and try to get more info</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eaed8d06d0ca3b3687621add90107791.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">iesmite</div><div class="time">2020-08-14 19:46</div><div class="msg">k was able to fix the issue, adding `--testTimeout=30000` to the jest execution on the provider fixed the problem.

Since my broker was remote 5 second wasn;?t enough to run and the log seems to be a weird issue on the express proxy manifested by the iconv-lite encoding loading `{}` and not able to finde the utf-8 decoder.

As always the answer was simple that the manifestation of the problem since that problem was raised since that part of the code was executed after jest tests finished by timout.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b5531a9f3d30fb1abd4f30e04d3db334.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">matt248</div><div class="time">2020-08-18 08:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-18 09:32</div><div class="msg">Hi Pact friends! `jest-pact` v0.8.1 is out. New since 0.7.0:

* Support for jest 26 and non-jasmine test runners
* More appropriate peer dependencies (all 24.x and 25.x)
* Convenience options `logDir` and `logFileName` in case you want to specify only one of those things

Each of these improvements was made in response to an issue reported from a user - so thanks are due to cah-timhuddle, Pascal Betting and Alastair Smith. Keep the feedback coming!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9a4ccdd544ad7e5988c58ece91f47d9a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">damianattademo</div><div class="time">2020-08-19 01:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-08-18/1308019213635_367a89363a33f79864ef_72.png" /><div class="message"><div class="username">vladyslav</div><div class="time">2020-08-19 08:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-08-19 16:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-08-19 16:17</div><div class="msg">Hi. We are trying to add an interaction where there is an ID in the URL that needs to be replaced as the object which the requests acts on needs to be set up by the state handler. The consumer is using pact-js but the provider verification is using Junit and I cannot see any way to update the url. I have seen <a href="https://github.com/DiUS/pact-jvm/tree/master/provider/junit#returning-values-that-can-be-injected">https://github.com/DiUS/pact-jvm/tree/master/provider/junit#returning-values-that-can-be-injected</a> but it's a bit vague since it just mentions "There are methods on the consumer DSLs that can provider an expression that contains variables" but I can't find anything in the pact-js docs about this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-08-19 22:52</div><div class="msg">This requires V3 Pact support, which vanilla Pact-JS doesn't support (it is V2).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-08-19 22:52</div><div class="msg">Here is an example JUnit test that is doing it with the header <a href="https://github.com/DiUS/pact-jvm/blob/master/provider/junit/src/test/groovy/au/com/dius/pact/provider/junit/InjectedHeadersContractTest.groovy">https://github.com/DiUS/pact-jvm/blob/master/provider/junit/src/test/groovy/au/com/dius/pact/provider/junit/InjectedHeadersContractTest.groovy</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-08-19 22:54</div><div class="msg">One thing you could do, is amend the pact file to make it V3 format and add the appropriate matchers and generators to get it to work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-19 23:49</div><div class="msg">Just confirming that you can?t use the usual provider states to manage this? i.e. setup a state `ID 1234 exists` in the JS test, and have the JVM test ensure ID `1234` exists, such that you can then make a call to a URL with the ID in it without issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-19 23:49</div><div class="msg">this is definitely the preferred path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-20 02:30</div><div class="msg">&gt; i.e. setup a stateID 1234 existsin the JS test, and have the JVM test ensure ID1234exists,
^ this is what I usually do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-20 02:31</div><div class="msg">That approach has the advantage that you can keep the pact file as opaque</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-08-20 08:41</div><div class="msg">We can't choose the IDs unfortunately, they are generated by the database</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-08-20 08:43</div><div class="msg">What if we were to update to the Pact JS beta?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c49ea42fde43fb7be4ef65f7b2ba4c08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">florian.nagel</div><div class="time">2020-08-20 09:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-08-20 09:24</div><div class="msg">Am I correct in thinking it's not possible to just modify the HttpRequest url, the same as we do for adding additional headers?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7bf40c23bffaf0b40bbadb2a85f3ac0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">jan.krejci</div><div class="time">2020-08-20 18:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-08-20/1313581583442_baba59f3f0bd5e344fd2_72.jpg" /><div class="message"><div class="username">iannsantos8</div><div class="time">2020-08-20 18:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-08-20 21:52</div><div class="msg">You'll still need a way to get the ID</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-21 00:21</div><div class="msg">&gt;  What if we were to update to the Pact JS beta?
Yes, PactJS v3 doesn?t support URL generation just yet. It?s actually slated for work in the next few weeks, so I?ve just added it to <a href="https://pact.canny.io/feature-requests/p/url-generators">https://pact.canny.io/feature-requests/p/url-generators</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-08-21 08:19</div><div class="msg">@matt.fellows do you mind if I DM you about this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-21 08:34</div><div class="msg">Sure. It's just dinner time here but will be online a bit later and I'll do my best to answer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-18/1216303371088_1906857d53263f5f3107_72.jpg" /><div class="message"><div class="username">kristine.jetzke</div><div class="time">2020-08-21 15:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7e34c9bb406d4be9f7ab5dee274964de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">ian.letourneau</div><div class="time">2020-08-22 14:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7e34c9bb406d4be9f7ab5dee274964de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">ian.letourneau</div><div class="time">2020-08-22 14:32</div><div class="msg">Hi there! :wave:

Sorry if it's already documented somewhere, but I couldn't find the info in the repository.

If I want to contribute to the V3 support for pact-js that is currently in beta, where do I start? What is in progress and what are the next steps?

Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-08-22 23:23</div><div class="msg">@ian.mcwilliams there is a branch in the pact-js repo -&gt; `feat/v3.0.0`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-08-22 23:24</div><div class="msg">Native code is in <a href="https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/native">https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/native</a> and the JS code in <a href="https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/src/v3">https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/src/v3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-08-22 23:25</div><div class="msg">You can start playing with the tests in <a href="https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/examples/v3">https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/examples/v3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-22 23:25</div><div class="msg">Master issue to track/comment progress: <a href="https://github.com/pact-foundation/pact-js/issues/413">https://github.com/pact-foundation/pact-js/issues/413</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7e34c9bb406d4be9f7ab5dee274964de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">ian.letourneau</div><div class="time">2020-08-23 15:37</div><div class="msg">Thanks @matt.fellows  @uglyog!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-08-24/1313872565766_cae8cfb71dacd99ad2b1_72.png" /><div class="message"><div class="username">heytaco</div><div class="time">2020-08-25 03:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-08-24/1313872565766_cae8cfb71dacd99ad2b1_72.png" /><div class="message"><div class="username">heytaco</div><div class="time">2020-08-25 03:57</div><div class="msg">Hi there! My name is HeyTaco!, and you can use me to give people tacos to show your appreciation. My tacos will spread joy through Slack!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-25 04:00</div><div class="msg">I love tacos!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-08-25 04:11</div><div class="msg">And they love you too, @tjones :taco:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-08-20/1306850200998_99e551480737f7171633_72.jpg" /><div class="message"><div class="username">rcrodrigues39</div><div class="time">2020-08-25 11:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-08-20/1306850200998_99e551480737f7171633_72.jpg" /><div class="message"><div class="username">rcrodrigues39</div><div class="time">2020-08-26 17:59</div><div class="msg">Hello Pacts!
I'? new here and am looking forward to implement a contract test between a consumer (Angular app) and a provider.
I found a very nice example with React (<a href="https://github.com/pact-foundation/pact-workshop-js">https://github.com/pact-foundation/pact-workshop-js</a>), but I was think if we have something similar with Angular?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-27 03:27</div><div class="msg">Not that I?m aware of sorry, but the principles are the same</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-27 03:28</div><div class="msg">If someone were to create one? that?d be ace!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-27 03:28</div><div class="msg">Is this of any use? <a href="https://github.com/niklas-wortmann/ngx-pact">https://github.com/niklas-wortmann/ngx-pact</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-27 03:28</div><div class="msg">If so, I?ll link to it from our site somewhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-27 03:44</div><div class="msg">The pattern is the same with an angular app - the usual recommendation is to set up the api layer outside Angular, so Pact doesn't need to know about it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-27 03:44</div><div class="msg">Yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-27 03:44</div><div class="msg">From memory, angular has opinions on the http framework unlike React where it?s a choose your own adventure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-27 03:45</div><div class="msg">but aside from that it?s the same idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-28 02:18</div><div class="msg">@tjones I can see you and Neezer have been doing a lot of work on the log stuff - awesome! There is a lot of context there that you have, is it OK if I leave that PR with you?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-28 02:18</div><div class="msg">Was picking up a bit of the OSS today to clean up, but given the effort I don?t want to double up if you?ve got it mentally in hand</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-28 02:42</div><div class="msg">Yep! Happy to run with it. I'll have some Pact time this weekend too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-28 02:42</div><div class="msg">Awesome, thanks Tim</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-28 02:56</div><div class="msg">@matt.fellows <a href="https://github.com/pact-foundation/pact-node/tree/feat/defer-hal-to-clii">https://github.com/pact-foundation/pact-node/tree/feat/defer-hal-to-clii</a>

I noticed this old branch while clearing out merged ones - is it something we might need?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-08-28 03:00</div><div class="msg"><a href="https://github.com/pact-foundation/pact-node/tree/vgrigoruk-fix/consumer_version_tag_array">https://github.com/pact-foundation/pact-node/tree/vgrigoruk-fix/consumer_version_tag_array</a>

This looks safe to remove as well - I think (and github thinks) it was merged, but it says it is ahead in commits. Maybe we rebased?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-08-28 03:32</div><div class="msg">yeah, can both go</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-03/1338169642373_5c2a519200946459f73e_72.png" /><div class="message"><div class="username">lewis.prescott</div><div class="time">2020-09-03 12:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-11/1128262006849_a0a9d0bef887621ef57c_72.jpg" /><div class="message"><div class="username">lewis.thorley</div><div class="time">2020-09-03 15:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-11/1128262006849_a0a9d0bef887621ef57c_72.jpg" /><div class="message"><div class="username">lewis.thorley</div><div class="time">2020-09-03 15:31</div><div class="msg">Does pact-js work on latest version of node? Before I raise an issue I am having with running pact on my new macbook, I just wanted to check</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-03 22:55</div><div class="msg">It looks like we don't test against 14 but I've used it on 14. What issues are you having?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-09-04 06:27</div><div class="msg">Also, I have just updated the builds so that we now test against 14.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-05-11/1128262006849_a0a9d0bef887621ef57c_72.jpg" /><div class="message"><div class="username">lewis.thorley</div><div class="time">2020-09-07 07:31</div><div class="msg">Was completely unrelated to node version in the end. Just needed to increase the jest timeout.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b6c76c347bca2135db05124cc464eb1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">vittorio.guerriero</div><div class="time">2020-09-10 12:43</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3b7281fdd41d9812ea8260cc1170796d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">jagiles</div><div class="time">2020-09-10 13:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b6c76c347bca2135db05124cc464eb1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">vittorio.guerriero</div><div class="time">2020-09-10 16:33</div><div class="msg">Hi :wave: . I've noticed that using `@pact-foundation/pact": "^9.6.0"`   with the latest broker version (I believe `2.60.1)` is not working correctly when verifying the pacts. I receive the error `Error retrieving` with status `405`. I've tried to update `@pact-foundation/pact` to the latest version and its working. I'm okay to update, I just would like to understand what's the issue and if we can prevent this kind of breaking changes in the future. I'm quite new to pact flow so forgive me if I post it in the wrong channel or If I misunderstood something about the versioning. Let me know if you need any more informations</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-10 21:41</div><div class="msg">We normally make things backwards compatible at the broker level so this disturbing.

I wonder if it relates to <a href="https://pact-foundation.slack.com/archives/C9VPNUJR2/p1599697864045500">https://pact-foundation.slack.com/archives/C9VPNUJR2/p1599697864045500</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-11 06:25</div><div class="msg">Not sure if it?s the same, but FYI: <a href="https://github.com/pact-foundation/pact-ruby/issues/221">https://github.com/pact-foundation/pact-ruby/issues/221</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b6c76c347bca2135db05124cc464eb1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">vittorio.guerriero</div><div class="time">2020-09-11 06:28</div><div class="msg">Thanks @matt.fellows . Really dumb question. Does pactflow automatically uses the latest version of pact broker?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-11 06:29</div><div class="msg">not a dumb question at all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-11 06:29</div><div class="msg">There is usually a small lag between the OSS version being published and Pactflow using it, but that lag is usually only a few days</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-11 06:30</div><div class="msg">you can see what version Pactflow is on by looking at the response headers to any API call, it has the specific OSS version documented so you can check</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-11 06:31</div><div class="msg">```x-pact-broker-git-sha: 4a98db4a
x-pact-broker-version: 2.60.1```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b6c76c347bca2135db05124cc464eb1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">vittorio.guerriero</div><div class="time">2020-09-11 06:33</div><div class="msg">Thanks. Ive checked. Its using version 2.60.1. I?ll update pact js to the latest version! Thanks for your help</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b6c76c347bca2135db05124cc464eb1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">vittorio.guerriero</div><div class="time">2020-09-11 07:04</div><div class="msg">Just to let you know, ive digged into it a bit more, @pact-foundation/pact-node version 10.3.1 fixed the issue. We were using 10.2.4. Not sure if does help. Release changes. <a href="https://github.com/pact-foundation/pact-node/compare/v10.2.4...v10.3.1">https://github.com/pact-foundation/pact-node/compare/v10.2.4...v10.3.1</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-11 07:10</div><div class="msg">Thanks! It?s likely to be <a href="https://github.com/pact-foundation/pact-node/compare/v10.2.4...v10.3.1#diff-552005efc3497da8996aefc719596f52R24">https://github.com/pact-foundation/pact-node/compare/v10.2.4...v10.3.1#diff-552005efc3497da8996aefc719596f52R24</a> which would have the biggest impact on that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-11 07:11</div><div class="msg">Appreciate the follow up, I can?t dig into it right this moment I?m afraid but good to know the latest fixes it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b6c76c347bca2135db05124cc464eb1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">vittorio.guerriero</div><div class="time">2020-09-11 07:15</div><div class="msg">No problem! Have a nice day! </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-09-11 08:53</div><div class="msg">405 is Method not supported.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-09-11 08:55</div><div class="msg">That version of the ruby standalone was using a beta version of the API that used a GET request. Since then, that API method support has been removed in favour of the POST method that allows structured data. The feature was only officially released out of beta this week.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /><div class="message"><div class="username">bethskurrie</div><div class="time">2020-09-11 08:59</div><div class="msg">The API that supports the pending pact, WIP pacts, and consumer version selectors during verification has been officially released. There are some versions of the pact-ruby-standalone (the underlying shared pact code) that use a beta version of the API that is now no longer supported (the original API used a GET, but the parameters turned out to be too complex, so it was changed to a POST). If you find issues, please upgrade to the latest version of your Pact client library.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b6c76c347bca2135db05124cc464eb1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">vittorio.guerriero</div><div class="time">2020-09-11 09:05</div><div class="msg">Thanks @bethskurrie ! </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-14/1374835176081_bf244c611e78d19cf3a4_72.png" /><div class="message"><div class="username">jonathanmorley</div><div class="time">2020-09-14 17:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d0307388dc5ec6292491d4b6a7ecad57.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">louisallenfrank</div><div class="time">2020-09-15 13:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-28/1280070976913_45c7e256ad0827759f50_72.jpg" /><div class="message"><div class="username">mcruzdrake</div><div class="time">2020-09-17 14:38</div><div class="msg">Hello :wave: we are currently using pact-js and so far it?s been great but currently our team is facing some limitations for the following use cases:
? expectations for nullable data fields
? expectations for data field which could vary ( unions/interfaces )
Would it be possible if we can go on a call with someone from the Pact team just to explain our uses cases better? Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-09-17 23:08</div><div class="msg">So, usually it's best to have two interactions for a nullable field, rather than allow a field to be nullable in the test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-09-17 23:10</div><div class="msg">this is because if you have a pact where you could say:

```{
  someField: SomeComplexObject | null;
}```
the test might pass erroneously if the provider could only produce `null`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-09-17 23:15</div><div class="msg">it's better to specify this in the state:

```state: '&lt;describe whatever condition would cause the field to be null&gt;',
willRespondWith: {
    body: {
        someField: null
    }
}```
```state: '&lt;describe whatever condition would cause the field to be present&gt;',
willRespondWith: {
    body: {
        someField: { /* ...whatever the object would be in a non-null case */ }
    }
}```
does that make sense?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-09-17 23:16</div><div class="msg">This is a good (and common) question, so it probably highlights that we can make some documentation improvements</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-09-17 23:17</div><div class="msg">The same situation is true for union types - ideally you want to be explicit in the contract, which may result in more than one interaction for successful responses</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-09-17 23:38</div><div class="msg">All the :taco: for @tjones :3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-28/1280070976913_45c7e256ad0827759f50_72.jpg" /><div class="message"><div class="username">mcruzdrake</div><div class="time">2020-09-18 08:27</div><div class="msg">I see... Okay thanks @tjones for the input, I will pass this on to our team!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-09-18 08:28</div><div class="msg">You?re welcome. Happy to chat further if you need</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-28/1280070976913_45c7e256ad0827759f50_72.jpg" /><div class="message"><div class="username">mcruzdrake</div><div class="time">2020-09-18 08:39</div><div class="msg">Yes please that would be great. If there's some availability next week for a call that would be really appreciated!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-18 10:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-18 10:54</div><div class="msg">:wave:  <a href="https://github.com/pact-foundation/pact-js#pact-js-v3">https://github.com/pact-foundation/pact-js#pact-js-v3</a> states that PactJS v3 is not ready for production but all the "not supported" features refers to pacts verification. Does it mean that it's `production-ready` if it's used only on consumer side?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-18 11:47</div><div class="msg">Mmm probably</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-18 11:47</div><div class="msg">There are a few rough edges (e.g. types and things need cleaning up)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-18 11:47</div><div class="msg">But it should work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-18 11:53</div><div class="msg">ok, will try to give it a try today</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-09-18 15:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-09-20 05:07</div><div class="msg">I got an error TypeError: Must provide the pactBroker argument when I run npm run publish:pact, I recalled this was able to run 2 months back. is there any changes? I am running on pact broker docker at <a href="http://localhost:9292">http://localhost:9292</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-20 05:10</div><div class="msg">The error seems clear. Please share you code because we can't help with what you've provided</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-20 05:14</div><div class="msg">See also howtoask</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2020-09-20 05:14</div><div class="msg">Please see this page for some tips on how to ask for help to get the best response from the community <a href="https://docs.pact.io/help/how_to_ask_for_help">https://docs.pact.io/help/how_to_ask_for_help</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-09-20 06:08</div><div class="msg"><a href="https://github.com/LayMui/pact-demo-js">https://github.com/LayMui/pact-demo-js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-20 06:42</div><div class="msg">I can't see how that property would have ever worked. The type expects `pactBroker` (see <a href="https://github.com/pact-foundation/pact-node">https://github.com/pact-foundation/pact-node</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-20 06:44</div><div class="msg">See this example <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/publish.js">https://github.com/pact-foundation/pact-js/blob/master/examples/e2e/test/publish.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-28/742653045959_0eecff24599c85d7320f_72.png" /><div class="message"><div class="username">mui_ume</div><div class="time">2020-09-20 06:57</div><div class="msg">thanks I fixed the line at publishPacts.js pactBroker: process.env.PACTBROKERURL, it works now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-20/1368711998630_650e36ec0515bf00f9d8_72.jpg" /><div class="message"><div class="username">amicicristiano</div><div class="time">2020-09-20 14:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 08:46</div><div class="msg">```    Cannot find module '../native' from 'node_modules/@pact-foundation/pact/v3/index.js'```
:thinking_face:  am I missing something? @matt.fellows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 08:53</div><div class="msg">9.x works fine for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 08:55</div><div class="msg">What version was failing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 08:55</div><div class="msg">We technically support 10/12/14</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 08:55</div><div class="msg">`10.0.0-beta.15`

`node v12.16.2`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 09:25</div><div class="msg">:wave:  I'm moving our js repo from pact-js 8.x to 9/10.x. One of the issues I have is
```Query must only contain strings.```
that is triggered on the interaction with:
```    query: term({
      generate: 'limit=50&amp;status=finished&amp;order=desc',
      matcher: '^limit=[0-9]+&amp;status=(finished)&amp;order=(desc|asc)$',
    }),```
Are we supposed to use this now:
```
    query: {
      limit: term({
        generate: '50',
        matcher: '[0-9]+',
      }),
      status: term({
        generate: 'finished',
        matcher: '(finished)',
      }),
      order: term({
        generate: 'desc',
        matcher: '(desc|asc)',
      })
    }```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 09:37</div><div class="msg">I'm not sure if those are really the same</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 10:57</div><div class="msg">this check was added in 9.11.0 <a href="https://github.com/pact-foundation/pact-js/commit/c3ff00f3bac1a67826a9f57311e5137694c4c788">https://github.com/pact-foundation/pact-js/commit/c3ff00f3bac1a67826a9f57311e5137694c4c788</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 11:32</div><div class="msg">If this change is not an issue how should I write something like

```    query: term({
      generate: `filter[id]=${ID}&amp;fields=uuid%2Cgender`,
      matcher:
        '^filter\\[(id|first_name)\\]=[^&amp;]+&amp;fields=uuid%2Cgender$',
    }),```
I would prefer to not have these as separate interactions cause I will have to add 5 of them with essentially the same everything except this first query param.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 11:42</div><div class="msg">Or this:
```query: term({
      generate: 'page=999999&amp;size=1&amp;sort=created,desc',
      matcher: 'page=999999&amp;size=1(&amp;sort=created,desc|)',
    }),```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 11:55</div><div class="msg">Please let me know if you want me to raise an issue for this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 12:41</div><div class="msg">You?re right, this line doesn?t look right actually: <a href="https://github.com/pact-foundation/pact-js/commit/c3ff00f3bac1a67826a9f57311e5137694c4c788#diff-7ab7dbe1e1a26e2e6d0f8bd19557afccR98">https://github.com/pact-foundation/pact-js/commit/c3ff00f3bac1a67826a9f57311e5137694c4c788#diff-7ab7dbe1e1a26e2e6d0f8bd19557afccR98</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 12:42</div><div class="msg">The _values_ of an object should be strings</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 12:42</div><div class="msg">but the query shouldn?t necessarily be one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 12:44</div><div class="msg">But, aren?t you using the new v3 interface?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 12:53</div><div class="msg">I am trying to but there I'm blocked by <a href="https://pact-foundation.slack.com/archives/C9VBGLUM9/p1600677992010900?thread_ts=1600426474.003300&amp;cid=C9VBGLUM9">https://pact-foundation.slack.com/archives/C9VBGLUM9/p1600677992010900?thread_ts=1600426474.003300&amp;cid=C9VBGLUM9</a> :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 13:02</div><div class="msg">ah, i didn?t see your reply, sorry</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 13:02</div><div class="msg">let me quickly look now - otherwise will tomorrow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 13:07</div><div class="msg">Do the install logs indicate any form of failure?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 13:07</div><div class="msg">2 things come to mind:

1. Pact is in a nested folder or something, and there is bad relative path finding for that module
2. It wasn?t able to download the native module in the first place</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 14:27</div><div class="msg">I see `native` under `node_modules/@pact-foundation/pact`

We have yarn with workspaces and this is how structure looks like:
```/
  - node_modules
    - @pact_foundation
       - pact
           - native
  - subproject1
    - I run the `jest` here```
Do you think this is related?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 14:29</div><div class="msg">I see that we already have <a href="https://github.com/pact-foundation/pact-js/issues/483">https://github.com/pact-foundation/pact-js/issues/483</a>. I've added a comment to it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-21 14:42</div><div class="msg">I've created <a href="https://github.com/pact-foundation/pact-js/issues/510">https://github.com/pact-foundation/pact-js/issues/510</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-09-21 16:01</div><div class="msg">New to Pact. New to Jest. I?m looking for a little help. I see from the `jest-pact` readme that it

&gt; Setups Pact mock service before and after hooks so you don?t have to
So does that mean I do not have to have a server running to return data.  The example sets a base URL to an actual URL, but to just experiment locally, would I need to set up a server at `localhost:3000/health` (and change the `defaultBaseUrl` to that address)?

```const defaultBaseUrl = '<a href="http://your-api.example.com">http://your-api.example.com</a>';
export const api = (baseUrl = defaultBaseUrl) =&gt; ({
  getHealth: () =&gt;
    axios.get(`${baseUrl}/health`).then((response) =&gt; response.data.status),
  /* other endpoints here */
});```
This does seem to be the case, I just want to double-check it isn?t necessary for me to maintain a test server. I?m guessing the `addInteraction` block determines the body that jest-pact?s mock server will return.


Also, I note that when I change the xhr of my service to just resolve without any HTTP at all, eg,

```const defaultBaseUrl = '<a href="http://localhost:3000">http://localhost:3000</a>';
export const api = (baseUrl = defaultBaseUrl) =&gt; ({
  getHealth: () =&gt; Promise.resolve('up'),
});```
the test fails with

&gt; `Pact verification failed!` 
&gt; `Actual interactions do not match expected interactions for mock MockService.`
&gt; `Missing requests:`
&gt;     	`GET /health`

Is it necessary to have the actual endpoint in the service so that the jest-pact lib will know to include that in its mock server, or else why would this fail?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 21:26</div><div class="msg">Pact starts a mock service which is where you should configure you API client to send it's requests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 21:26</div><div class="msg">So you're right, you don't need to start the provider API but jest pact will start one for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-21 21:27</div><div class="msg">If you don't make the request it will fail, because it checks your code does what you says it does to ensure the contract only has things in it that your client actually needs/uses</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2020-09-22 08:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/12d93e70c77dbb3b67fd308ceddc5de1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">tyler.mehr</div><div class="time">2020-09-22 16:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2020-09-23 05:52</div><div class="msg">Hello.. I was trying to figure on how to set the SSL_CERT_FILE  so does this property needs to set in the environment variables of my system or should this be set inside a pact.rb file .
Thanks for your help..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-23 07:24</div><div class="msg">It?s an environment variable e.g. `export SSL_CERT_FILE=?`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2020-09-23 07:40</div><div class="msg">ya I tried that but still the same issue , I provided .cer as the file should it be .pem or something like that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-23 09:49</div><div class="msg">It needs to be an x509 certificate from memory, i'm not sure the extension matters</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2020-09-23 10:46</div><div class="msg">Yeah thanks Mat will look into it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-09-23 14:27</div><div class="msg">Awesome, thank you very much @matt.fellows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-23 14:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-24 10:08</div><div class="msg">Hi all, first time writting in here and I am really new to PACT topic so would really need your help. This is my test case scenario

Environment:
VueJS
Jest
PACT

I would like to test API that returns me all users /rest/users. My problem is that response body can be empty array, and ofc. array with existing users. Response body looks like this when thare are users in it

```const USERS_DATA = {
    id: 123,
    userName: "Test user",
    userExternalNumber: "0123456789",
    userInternalNumber: "12"
}```
Thing is that I can write test for both case scenarios, one is when provider returns me users with data, and one is when provider returns me a users as empty array.

Here are tests:

```test("users exists", async () =&gt; {
            // set up Pact interactions
            await provider.addInteraction({
                state: 'users exist',
                uponReceiving: 'get all users',
                withRequest: {
                    method: 'GET',
                    path: '/rest/users'
                },
                willRespondWith: {
                    status: 200,
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: Matchers.eachLike({
                        id: Matchers.like(123),
                        userName: Matchers.like("Test user"),
                        userExternalNumber: Matchers.like("0123456789"),
                        userInternalNumber: Matchers.like("12")
                    }),
                },
            });
            let url = provider.mockService.baseUrl + '/rest/users';

            await axios.get(url).then((response =&gt; {
                if(response.data) {
                    if(response.data.length &gt; 0) {
                        expect(response.data[0]).toStrictEqual(
                           {id: 123, userName: "Test user", userExternalNumber: "0123456789", userInternalNumber:"12"}); 
                    }
                }
            })); 
        });
        test("users do not exists", async () =&gt; {
            // set up Pact interactions
            await provider.addInteraction({
                state: 'users do not exist',
                uponReceiving: 'get all users',
                withRequest: {
                    method: 'GET',
                    path: '/rest/users'
                },
                willRespondWith: {
                    status: 200,
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: [],
                },
            });
            let url = provider.mockService.baseUrl + '/rest/users';

            await axios.get(url).then((response =&gt; {
                if(response.data) {
                    expect(response.data).toStrictEqual([]); 
                }
            })); 
        });```
When I do consumer tests it pass, but problem is when I do provider test, one of those tests will always fail. How to approach this issue?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-24 10:13</div><div class="msg">:wave:  You should setup you provider to desired state (the one from `state` in your test).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-24 10:18</div><div class="msg">@alex.elmekeev Good point, did not understand (see) that, I found a documentation and will try to solve my problem. Thank you!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 10:58</div><div class="msg">There is an e2e example in the project you could use as a basis</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 10:58</div><div class="msg">also see this <a href="https://github.com/pactflow/example-consumer">https://github.com/pactflow/example-consumer</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-24 11:00</div><div class="msg">@matt.fellows as I manage to understand so far in stateHandlers I need to define different cases and for example in ?users exists? I need to send (create users) and store them in DB? Also in stateHandlers ?users do not exist? I need to delete everything from DB? Am I on correct path?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:01</div><div class="msg">something like that, yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-24 11:01</div><div class="msg">ok, thank you, I will keep digging!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:02</div><div class="msg">Another option as has been stated elsewhere, you could have a single data fixture that knows how to deal with all states (that?s pretty much impossible for empty data sets though, so at the least you?ll need to be able to load/empty a database or replace a DB with an in-memory replacement)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-24 11:03</div><div class="msg">a oke, so to have separate backend instance with all data needed for tests, and then for example if I need to test fetch single user by ID API I would already know in advance what my ID should be?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-24 11:10</div><div class="msg">PS: Another question, Consumer is javascript and for consumer tests I am using pact-js. Backend is JAVA, is it smart to do also provider test then in pact-js?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:11</div><div class="msg">most people would use Java on the provider side - basically match the language to the code base</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:12</div><div class="msg">Here is a springboot example with Junit that might be helpful: <a href="https://github.com/pactflow/example-provider-springboot">https://github.com/pactflow/example-provider-springboot</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:12</div><div class="msg">Here is an example state handler: you can see roughly what is going on <a href="https://github.com/pactflow/example-provider-springboot/blob/master/src/test/java/com/example/springboot/ProductsPactTest.java#L45-L48">https://github.com/pactflow/example-provider-springboot/blob/master/src/test/java/com/example/springboot/ProductsPactTest.java#L45-L48</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-24 11:16</div><div class="msg">Excellent, now I have better understanding of logic behind PACT and also have a lot of material to cover. Thank you again, will stop with questions until I go trough all of this. Wish you a nice day!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:16</div><div class="msg">hehe you?re welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:16</div><div class="msg">if you have time, highly recommend one of these workshops :point_down:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:16</div><div class="msg">howtolearn</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2020-09-24 11:16</div><div class="msg">Here are a number of useful hands-on labs that teach all of the key concepts <a href="https://docs.pact.io/implementation_guides/workshops">https://docs.pact.io/implementation_guides/workshops</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11877abe956761ab24cee0e7eeb70038.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">begovic.malik</div><div class="time">2020-09-24 11:19</div><div class="msg">Did go with Pact JS workshop and in it I understand relation between consumer -&gt; broker &lt;- provider. Now I am writing my own tests, and will for sure go again to workshop</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:44</div><div class="msg">Release on the way with fix for this @alex.elmekeev (`v9.12.1`)  - <a href="https://travis-ci.org/github/pact-foundation/pact-js/builds/729923791">https://travis-ci.org/github/pact-foundation/pact-js/builds/729923791</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 11:45</div><div class="msg">thanks for your patience!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-09-24 11:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-24 12:15</div><div class="msg">Thank you @matt.fellows! But I think this comment should be <a href="https://pact-foundation.slack.com/archives/C9VBGLUM9/p1600680307014400">https://pact-foundation.slack.com/archives/C9VBGLUM9/p1600680307014400</a> :slightly_smiling_face:

This thread is about issue in v10 beta which is (I guess?) sill not resolved.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-09-24 12:37</div><div class="msg">Yes, you're right sorry!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-09-24 12:44</div><div class="msg">this is now fixed: <a href="https://pact-foundation.slack.com/archives/C9VBGLUM9/p1600947892013200?thread_ts=1600426474.003300&amp;cid=C9VBGLUM9">https://pact-foundation.slack.com/archives/C9VBGLUM9/p1600947892013200?thread_ts=1600426474.003300&amp;cid=C9VBGLUM9</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-09-24 14:26</div><div class="msg">I have a service I?m testing that calls Angular?s `http.delete` method. Effectively, before I started to write a Pact test for it, it was just throwing away the server response, which was simply a status code of `204`  and the body was empty. Within Pact, what is the preferred way to validate a response with an empty body? I can update my `http.delete` method?s options object so that it will return all the HTTP data, including the status code, something like:

```class MyService {
  deleteItems(config) {
    return this.http.delete(config.url, { observe: 'response' })
  }
}

/* boilerplate to inject http, instantiate MyService, etc */

await myServiceInstance
  .deleteItem(deleteItemConfig)
  .toPromise()
  .then((response: HttpResponse&lt;Object&gt;) =&gt; {
    expect(response.status).toBe(204);
  });```
 But is this a useful test? Typically I?d be expecting literal body that I put in a matcher, eg a PUT/POST/etc

```const expectedResponse = { some: 'response' }
/* pact config */
willRespondWith: { status: 200, body: Matchers.like(expectedResponse) }
/* additional pact config */

it('should update a record', async () =&gt; {
  await myService
    .put(someConfig)
    .toPromise()
    .then(response =&gt; {
      expect(response).toEqual(expectedResponse)
    })
})```
But I?m having trouble understanding what I should do with DELETE/empty response bodies. Has anyone on our channel got any thoughts/preferences?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-09-24 16:29</div><div class="msg">Does your angular application care about what the response is at all? Is it checking status code or anything?

I can tell you how we handle it within our company.

As a general rule, we check status codes so we can handle errors explicitly. So our angular services will throw explicit errors for some status codes. For DELETE, the only thing in our contract is that it responds with 204. For the test, we just make sure the service call returns successfully, we don't assert against anything.

Since we don't do anything with the response, but we throw errors on "bad" status codes, returning without any thrown errors is good enough for us.

This has worked well for us so far, but I'm also curious if anyone is doing anything else</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-09-24 21:36</div><div class="msg">I think this is more-or-less what I was leaning toward really, just would have to update that ?response? option in several places. But yeah I?m still super curious to hear others weigh in, since I am still very new to Pact. Thanks for your input @phil.endsley!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-09-24 23:48</div><div class="msg">Great answer, @phil.endsley :taco:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-09-25 00:08</div><div class="msg">I completely agree with @phil.endsley :party_parrot:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-09-25 00:10</div><div class="msg">As an aside, you might want to be wary of responding with a 204 in a ReST API, because it precludes self-describing metadata (along the trajectory to HATEOAS).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-09-25 00:28</div><div class="msg">@abubics How does it preclude self-describing metadata? (Sorry I?m not really following what you mean) Do you mean the server should be transmitting a different code, or there should be supplemental information in the response body? Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-09-25 02:05</div><div class="msg">The short version is: rest describes resources, but http responses don't necessarily model resource contents only.

One longer rationale is here: <a href="https://blog.ploeh.dk/2013/04/30/rest-lesson-learned-avoid-204-responses/">https://blog.ploeh.dk/2013/04/30/rest-lesson-learned-avoid-204-responses/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/93932df8a053e746ba7e71b6e0059181.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">yann.courtel</div><div class="time">2020-09-25 12:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-21/1389203375793_4fd75f1cb9f20cba259c_72.jpg" /><div class="message"><div class="username">christopher.lampert</div><div class="time">2020-09-25 14:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-25/1401718433825_747b414e874a2ab78fa2_72.jpg" /><div class="message"><div class="username">collin.johnson</div><div class="time">2020-09-29 13:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-01 14:38</div><div class="msg">Is there anyway to supply multiple `given`s for a test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-01 14:40</div><div class="msg">I see there is a `state` property, but can i provide many states?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-01 21:47</div><div class="msg">It seems the v3 spec has yet to be implemented. Is there any kind of workaround for providing a more complicated data structure to the `state` than just a string?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-01 23:03</div><div class="msg">You can try the V3 version. It supports multiple givens.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-01 23:03</div><div class="msg">@uglyog I get a ts error complaining about giving it an object and it wants just a string.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-01 23:09</div><div class="msg">Ok, on the given? Is this for the parameters, or the provider state description?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-01 23:13</div><div class="msg">On the consumer, I am trying to add an interaction with this code

```      await provider.addInteraction({
        state: {}, // compilation error here
        providerState: {},
        uponReceiving: 'a request to load data',
        withRequest: {
          method: 'GET',
          path: `/api/data`,
          headers: requestHeaders,
        },
        willRespondWith: {
          status: 200,
          body: expectedBodyMatcher,
          headers: responseHeaders,
        },
      });```
&gt;  `Type '{}' is not assignable to type 'string'.`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-01 23:18</div><div class="msg">`state` works with a string, but not an object.
Also:,
&gt;  Ok, on the given?
I don?t have a property called `given` . Is that done in the provider pact code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-02 03:45</div><div class="msg">By given, do you mean state? Why do you need multiple states?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-10-02 12:19</div><div class="msg">@thomas.hibbard are you using beta version of v3?

It's not working for me though: <a href="https://pact-foundation.slack.com/archives/C9VBGLUM9/p1600426474003300">https://pact-foundation.slack.com/archives/C9VBGLUM9/p1600426474003300</a>

multiple states can be useful in some cases when provider needs to seed a number of completely separate entities for you cause state management on their side becomes a bit more readable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-02 14:34</div><div class="msg">@alex.elmekeev yeah, I tried the beta and it didn?t work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-02 17:17</div><div class="msg">@tjones Sorry I probably worded that poorly. I just need more complex state than a string to mock provider state.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-10-02 18:47</div><div class="msg">we?re still using v2 version and just serializing state object to a string `state: JSON.stringify(stateObject)`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b822c684fcf7fc66f00785d0757d93e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">vitaliy.grigoruk</div><div class="time">2020-10-02 18:47</div><div class="msg">@thomas.hibbard ^
it is ugly, but works for us</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-02 18:48</div><div class="msg">Yeah that was my fallback solution.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-02 18:48</div><div class="msg">I note that if I just do like,

```state: {
  name: `get_data`,
  data: ['some', 'list', { of: 'stuff' }],
} as any```
the compiler won?t complain and it appears to build the pact file correctly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-02 18:49</div><div class="msg">I?m not a ts expert at all though so I?m not sure what the negative consequences of this might be.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-02 18:49</div><div class="msg">Any thoughts?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-02 18:50</div><div class="msg">@vitaliy.grigoruk</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-02 23:42</div><div class="msg">Just remember that with TS, it is basically JS with types added. But objects are still plain JS objects in the end. What you're doing is just telling the compiler that that object has no specific type, i.e., it is just a plain JS object.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-02 23:43</div><div class="msg">You just loose the ability of TS to tell you if you have the correct attributes on the object.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-04 23:10</div><div class="msg">@thomas.hibbard: I wouldn't recommend using `as any`, as Ron says, you lose the ability for the compiler to check that you're using the correct types (which isn't the case here, because provider state is meant to be a string).

If it's working, I think it's a coincidence with how the unmarshalling works once it gets into Ruby land. There's no special or additional processing of the state in pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1400010868310_1fdacf8289ce662b223a_72.png" /><div class="message"><div class="username">nazar.khmil</div><div class="time">2020-10-05 10:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1392299736119_14d0412bc59e2dfbb254_72.png" /><div class="message"><div class="username">xandebianchi</div><div class="time">2020-10-05 13:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-05 14:38</div><div class="msg">And anyway the broker seems unable to parse the file :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/01aab92a2371f14b23296c296c5b9563.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">dorin.enache</div><div class="time">2020-10-05 15:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-05 15:14</div><div class="msg">But I guess I don?t really understand what the big deal is with overriding the type. It?s not like I do anything with the `state` property after I add my interaction, and I am _just_ doing the `as any` on the `state` property, not the entire `addInteraction` config object. I mean it?s all a little academic because, as I say, the broker seems unable to parse it so I guess strings will have to do :wink:  but thanks guys for the feedback!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-05 18:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-05 18:55</div><div class="msg">Hi! My tests on the provider side is silently failing and Im not sure why</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-05 18:55</div><div class="msg">I wonder if its my configurations, was wondering if anyone would have insight</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-08-20/1306850200998_99e551480737f7171633_72.jpg" /><div class="message"><div class="username">rcrodrigues39</div><div class="time">2020-10-05 21:52</div><div class="msg">@ruth do you have any error logs? If so, would you mind sharing them here so we can have a better idea of what the problem could be?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-05 21:56</div><div class="msg">Hey! Thanks for responding! I actually got it to work. I had to use `async/await`  so it waited till it was finished.

Then used  `publishVerificationResult: false` so I wouldnt seen any unnecessary information</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-05 21:57</div><div class="msg">The one thing I also did was `enablePending: false`  so I could see pending tests which was very weird because I would assume `enablePending`  when `true`  would mean you can run tests that are pending but it looked like that wasnt the case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-05 23:36</div><div class="msg">I think we don't really understand what you're trying to do. I assume you have tried to use a JS object in place of the string value for the state? If this is the case, it will not work properly because it will get serialised to a string in the resulting Pact file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-05 23:37</div><div class="msg">If you use the V3 beta version of Pact-JS instead, you can use the `given` method which allows structured data to be associated with the state description as parameters.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-05 23:39</div><div class="msg">?and you can use the `given` multiple times: <a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/src/v3/pact.ts#L72-L75">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/src/v3/pact.ts#L72-L75</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-05 23:39</div><div class="msg">For current Pact-JS (9.x), you will need to use `JSON.stringify` so that the object can be serialised correctly, but that would need to then be parsed on the other end</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-05 23:39</div><div class="msg">If you're not using the V3 beta, the usual workaround is to use a string for state:

```state: JSON.serialise({
  name: `get_data`,
  data: ['some', 'list', { of: 'stuff' }],
})```
Note that you will need to deserialise the string in your provider code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-05 23:40</div><div class="msg">He?s right though - you can literally put anything into state and it does get serialised into the pact file as properly structured JSON - and it comes out the other side too (there is a WIP PR that Honza created that does exactly this)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-05 23:40</div><div class="msg">I haven?t merged it, because I?m not sure it?s the ?right thing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-05 23:41</div><div class="msg">Pact-JS just passes it off to the ruby binary via http.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-05 23:41</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-05 23:41</div><div class="msg">I don?t want to encourage it though, because it?s more undefined behaviour that is incidentally helpful, but is likely to stop working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-06 09:45</div><div class="msg">Hi - we?re using jest-pact (which is fantastic) for writing our consumer tests, but we are now trying to add a test which uses Pact V3. I can?t seem to see any way to make jest-pact use v3 functionality. I?m guessing I probably need to write the test in raw Jest and use PactV3 directly?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-10-06 10:21</div><div class="msg">Hey @brendan.donegan if you create an issue on jest-pact, I have a feeling that @tjones might have created a branch for it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-06 10:30</div><div class="msg">done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 10:33</div><div class="msg">I haven?t, but I?m happy to chat about what such a branch might look like, since you?re not the first person to ask this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 10:33</div><div class="msg">(I haven?t yet used v3 myself)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-10-06 10:33</div><div class="msg">Cheers squire :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-10-06 10:33</div><div class="msg">Me neither, but hearing good things!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-06 10:34</div><div class="msg">@tjones sure, maybe i can help take a look at that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 10:41</div><div class="msg">That would be excellent! I'm just taking a look at the V3 branch now to see what would be useful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 10:42</div><div class="msg">Last time I checked, the API was a bit different, so the setup and teardown thing might not be so useful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 10:42</div><div class="msg">my gut is that it would be nicest to be able to say `import { pactWith } from 'jest-pact/v3';`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 10:49</div><div class="msg">Also, while I've got you - I'm keen to hear from Pact-JS (and jest-pact) users about how you're doing your config. I'd like to improve the way pact-js gets its config</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 10:50</div><div class="msg">I'm thinking it might make sense to have a `pact` key in `package.json`, which allows specifying some of the things that would be in every pact config in each test.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 10:58</div><div class="msg">Looks very straight forward to add V3...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-06 10:59</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 11:00</div><div class="msg">Ah, of course. We can't import V3 in standard jest-pact because of peer deps. It'll have to be a separate release.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-06 11:08</div><div class="msg">that won?t prevent us from using both v3 and v2 in the same project? i mean i could upgrade all our tests to v3 i suppose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 11:15</div><div class="msg">I believe you'll be ok, because the V3 branch includes V2</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 11:16</div><div class="msg">Hm. There's an annoying property where we can't inject the provider as easily, because it needs to be remade on each test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 11:18</div><div class="msg">more thought around the API needed. I haven't written any V3 tests yet, so I'm not sure what would be nice</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 11:18</div><div class="msg">I'll make some sketches just now - but input is very welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 11:32</div><div class="msg">```pactWith(options, (pactDescribe) =&gt; {
  pactDescribe('some interaction', (provider) =&gt; {
    beforeEach(() =&gt;
      provider
        .given('Some state')
        .uponReceiving('Some request')
        .withRequest({ path: '/whatever/path', method: 'GET' }),
    );

    it('works', () =&gt;
      provider
        .executeTest((mockserver) =&gt; api(mockserver.url).getWhatever())
        .then((response) =&gt; {
          expect(response).toEqual({ whatever: 'it-should-be' });
        }));
  });
});```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 11:33</div><div class="msg">Something like that, maybe?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-06 12:16</div><div class="msg">that looks good to me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-06 12:17</div><div class="msg">only curious why we need to inject pactDescribe?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:17</div><div class="msg">it remembers the options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:17</div><div class="msg">I've got something a little cleaner</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:19</div><div class="msg">```pactWith(options, (interaction) =&gt; {
  interaction('some interaction', ({ provider, execute }) =&gt; {
    beforeEach(() =&gt;
      provider
        .given('Some state')
        .uponReceiving('Some request')
        .withRequest({ path: '/whatever/path', method: 'GET' }),
    );

    execute('some api call', (mockserver) =&gt;
      api(mockserver.url)
        .getWhatever()
        .then((response) =&gt; {
          expect(response).toEqual({ whatever: 'it-should-be' });
        }),
    );
  });
});```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:19</div><div class="msg">unsure on the names</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:20</div><div class="msg">but this one has the advantage that it is implemented</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:20</div><div class="msg">(just working on publishing)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:22</div><div class="msg">The implementation is a bit raw, but it should work and will help us discover what the interface should be</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:23</div><div class="msg">I nearly injected custom functions like this for the original jest-pact - I thought it might help people remember to return promises.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:24</div><div class="msg">I think the `{ provider , execute }` thing could be improved too, abstracting the beforeEach. Maybe. I'm not really sure what's best.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 12:25</div><div class="msg">This exercise has highlighted that V3 is missing the object interaction description method</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c0967b553bb009fbeee6aaa76447b1aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">ledinhcuong99</div><div class="time">2020-10-06 12:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:05</div><div class="msg">description?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:07</div><div class="msg">do you mean `uponReceiving`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:15</div><div class="msg">@brendan.donegan You can now get the V3 interface as above with
```npm install --save-dev jest-pact@0.9.0-beta.v3```
Try it out and see if it works for you. I'd like to consider the interface non-final until a few people have had a play with it. I'm conscious that the original jest-pact was based off a pattern we developed after writing a lot of tests, and this interface is just based on what I thought would work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:17</div><div class="msg">@matt.fellows Sorry, I wasn't clear. In the current pact-js, you can add interactions by creating an interaction and using the `.given().uponReceiving()` methods, or by passing a config object that describes everything in the interaction. For ease of conversion to V3, I think we should support both.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:19</div><div class="msg">gotcha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:19</div><div class="msg">Amazing stuff Tim!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:39</div><div class="msg">@tjones please enjoy a midnight :taco: (why are you up so late?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:39</div><div class="msg">practice :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:39</div><div class="msg">Heck, @tjones have _another_ taco. This time with :tomato: sauce (really!? no :sauce: emoji??)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:39</div><div class="msg">_nods_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:40</div><div class="msg">also, daylight savings</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:40</div><div class="msg">hey quick question</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:41</div><div class="msg">Hopefully quick, because I?m in the same TZ as Tim and very shortly my wife will be forcing me off this computer :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:41</div><div class="msg">(or pointing me at the couch)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:41</div><div class="msg">Im using pact in typescript and when import using this `const { Verifier } = require('@pact-foundation/pact');`  everything is all good. But when I use
`import { Verifier } from '@pact-foundation/pact';`  it gives me a typing error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:41</div><div class="msg">Something I've wanted to do for a while is to automatically get the test name from jest (but you can't).

It could be good to swap:

```    beforeEach(() =&gt;
      provider
        .given('Some state')
        .uponReceiving('Some request')
        .withRequest({ path: '/whatever/path', method: 'GET' })```
for

```    setupInteraction("Some request", provider =&gt;
      provider
        .given('Some state')
        .withRequest({ path: '/whatever/path', method: 'GET' })     ```
We could do a similar thing with the base jest-pact pretty easily.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:42</div><div class="msg">```import { Verifier } from '@pact-foundation/pact';
...

const opts = {
  provider: 'tpt-education-standards',
  providerBaseUrl: '<a href="http://localhost:3000">http://localhost:3000</a>',
  pactBrokerUrl: '<a href="https://tpt.pactflow.io">https://tpt.pactflow.io</a>',
  pactBrokerToken: process.env.PACT_BROKER_TOKEN,
  publishVerificationResult: false,
  providerVersion: '1.0.0',
  consumerVersion: '1.0.0',
  enablePending: false,
  logLevel: 'info',
  includePendingStatus: true,
  stateHandlers: {
    'I have a standard': () =&gt; {
      // TODO: provider state is handler in beforeAll hook
    },
    'I have a jurisdiction': async () =&gt; {
      // TODO: provider state is handler in beforeAll hook
    }
  }
};```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:42</div><div class="msg">``` Argument of type '{ provider: string; providerBaseUrl: string; pactBrokerUrl: string; pactBrokerToken: string | undefined; publishVerificationResult: boolean; providerVersion: string; consumerVersion: string; enablePending: boolean; logLevel: string; includePendingStatus: boolean; stateHandlers: { ...; }; }' is not assignable to parameter of type 'VerifierOptions'.
      Type '{ provider: string; providerBaseUrl: string; pactBrokerUrl: string; pactBrokerToken: string | undefined; publishVerificationResult: boolean; providerVersion: string; consumerVersion: string; enablePending: boolean; logLevel: string; includePendingStatus: boolean; stateHandlers: { ...; }; }' is not assignable to type 'ProxyOptions'.
        Types of property 'logLevel' are incompatible.
          Type 'string' is not assignable to type '"info" | "trace" | "debug" | "warn" | "error" | "fatal" | undefined'```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:43</div><div class="msg">Im not sure why its not understanding that ?info? is the part of the LogLevel type. It keeps saying my input is a string when its clear that its one of the options.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:43</div><div class="msg">Oh yeah. Sorry about this one. It's because the type is an enum.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:43</div><div class="msg">Sorry for keeping yall up!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:44</div><div class="msg">I think we do expose an enum for that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:44</div><div class="msg">We dooo, but I don't think it has been exposed at the root.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:44</div><div class="msg">ah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:44</div><div class="msg">ahh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:44</div><div class="msg">so I cant import it that way then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:44</div><div class="msg">ah yes, nice idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:45</div><div class="msg">```import { LogLevel } from '@pact-foundation/pact/dsl/options';```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:45</div><div class="msg">ugly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:45</div><div class="msg">This will work, but I don't like it, because what if we move it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:45</div><div class="msg">I think I'll just go release a fix that exports it at the root.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:45</div><div class="msg">Easily fixed from our side.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:45</div><div class="msg">thx</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:45</div><div class="msg">Thank you!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:45</div><div class="msg">did you want Ruth to raise an issue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:46</div><div class="msg">Nah, I'll just fix it now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:46</div><div class="msg">You have my blessings to ship it without a PR :white_check_mark: approval. Pre approval!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:46</div><div class="msg">Yall are awesome I appreciate it!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:46</div><div class="msg">I've been meaning to do it for a while, because we have the same potentially brittle import in jest-pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:47</div><div class="msg">_nods_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:47</div><div class="msg">you are a gentleman and a scholar (I think literally, right?!)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 13:47</div><div class="msg">good night y?all :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 13:48</div><div class="msg">Night!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 13:49</div><div class="msg">Sleep well, Matt!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-06 14:22</div><div class="msg">&gt;  If you use the V3 beta version of Pact-JS instead, you can use the`given`method which allows structured data to be associated with the state description as parameters.
@uglyog The documentation is pretty explicit about not using this in a production env though. Do you think it?s okay?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:22</div><div class="msg">@ruth I've just released 9.12.2 which exports the types you need at the root. You can then say `logLevel: <a href="http://LogLevel.Info">http://LogLevel.Info</a>,` in your config object.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:24</div><div class="msg">Also don't listen to GitHub. I released 9.12.2, not Matt :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-06 14:24</div><div class="msg">&gt; I think we don?t really understand what you?re trying to do.

I?m just trying to pass a data structure more complex than a string to my producer code, like seems should be available in the Pactv3 spec</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:24</div><div class="msg">....we should fix that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 14:24</div><div class="msg">Ill test it  out now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:26</div><div class="msg">At the moment, the best way is to marshal any complex type to a string (and back again).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 14:26</div><div class="msg">That worked but there are new typing issues. What Ill do is checkout what other typing issues are happening and raise an issue. What is the process to raise an issue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 14:27</div><div class="msg">Also you should go to bed its probably really late for yall</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:27</div><div class="msg">Given the recent uptick in interest in the V3 spec, I think we'll put some concentrated effort into sorting out the remaining V3 spec tasks so it is prod ready.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:27</div><div class="msg">(especially given that it's Hacktoberfest)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:28</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/issues">https://github.com/pact-foundation/pact-js/issues</a>

Just open one up here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-06 14:29</div><div class="msg">Awesome. Stringification is fine for now, but I know my producer-writers are using V3 so yeah it would be awesome to be in lockstep with them. Thanks again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:29</div><div class="msg">No worries. I'll take a look in the morning - should hopefully be an easy fix.

If you need to import things directly, the folder structure doesn't change often. However, I wouldn't want to rely on it (on my loose todo list is to refactor a bit so the types are easier to reason about internally).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-06 14:30</div><div class="msg">@tjones this is great, thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:31</div><div class="msg">You're welcome! I'm heading to bed here, but I'll check back tomorrow for any feedback.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:37</div><div class="msg">Just quickly, you have `consumerVersion: '1.0.0',`, which I don't think is the right option. You might want:

```consumerVersionSelectors: { pacticipant: 'consumer name goes here', version: '1.0.0' }```
but you probably want to remove it entirely (or use `latest` or another tag)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:38</div><div class="msg">Similarly I don't think `includePendingStatus` is valid - you might have meant `enablePending`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 14:39</div><div class="msg">(also if those properties were copied from an example, let us know which one and we'll correct it)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 15:46</div><div class="msg">@tjones Thank you! and everything works :relaxed:
The example I was going by was this: <a href="https://github.com/pactflow/example-provider/blob/e7cd82fe146a04513ddb41b57e537f00774e0415/src/product/product.pact.test.js#L18">https://github.com/pactflow/example-provider/blob/e7cd82fe146a04513ddb41b57e537f00774e0415/src/product/product.pact.test.js#L18</a>
I figured I needed to also add a consumerVersion not realizing looking down that I needed to actually look at <a href="https://github.com/pactflow/example-provider/blob/e7cd82fe146a04513ddb41b57e537f00774e0415/src/product/product.pact.test.js#L31">https://github.com/pactflow/example-provider/blob/e7cd82fe146a04513ddb41b57e537f00774e0415/src/product/product.pact.test.js#L31</a>

My assumption is that it automatically goes to `latest`  so Ill just remove it entirely.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 15:54</div><div class="msg">I figured out why the typing was a bit of. I needed to do this: So I created a constant (`LOGLEVEL_INFO` ) that?s type is `LogLevel`  so that the constant is an `Enum`  and I can use it in the `opts` object
```import { LogLevel, Verifier } from '@pact-foundation/pact';
...
const LOGLEVEL_INFO: LogLevel = 'info';

const opts = {
  provider: 'tpt-education-standards',
  providerVersion: '1.0.0',
  providerBaseUrl: '<a href="http://localhost:3000">http://localhost:3000</a>',
  pactBrokerUrl: '<a href="https://tpt.pactflow.io">https://tpt.pactflow.io</a>',
  pactBrokerToken: process.env.PACT_BROKER_TOKEN,
  publishVerificationResult: false,
  enablePending: true,
  logLevel: LOGLEVEL_INFO,
  stateHandlers: {
    'I have a standard': async () =&gt; {
      // TODO: provider state is handler in beforeAll hook
    },
    'I have a jurisdiction': async () =&gt; {
      // TODO: provider state is handler in beforeAll hook
    }
  }
};```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-06 23:11</div><div class="msg">&gt; @uglyogThe documentation is pretty explicit about not using this in a production env though. Do you think it?s okay?
Sorry for confusion here @thomas.hibbard. It?s actually production ready in the sense that all of the matching works, it?s integration with the pact broker that needs a little work (see <a href="https://github.com/pact-foundation/pact-js/issues/413">https://github.com/pact-foundation/pact-js/issues/413</a> for the master tracking issue)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-06 23:18</div><div class="msg">That was added by @bethskurrie when she went on a mad tangent and put that to tell everyone not to use it. But if nobody uses it, we won't ever get the feedback needed to improve it to useable state to be able remove the warning to not use it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-06 23:23</div><div class="msg">Yes, that will work. If you want a slightly shorter version, you can also tell typescript that the `opts` is a `VerifierOptions`:

```const opts: VerifierOptions = { 
  logLevel: 'info',
  ....```
Apologies for steering you wrong before - I thought we had an enum and not a string literal type. String literal types are an annoying part of typescript because the compiler gets confused unless you're explicit.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-06 23:26</div><div class="msg">No worries! I didnt see the `VerifierOptions` type, will refactor to use that then. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 07:54</div><div class="msg">so, i?m getting an error of a kind i?ve never seen before and there are no logs being created?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 07:54</div><div class="msg">```Test failed for the following reasons:

        Test code failed with an error: Cannot read property 'matches' of undefined

        Mock server failed with the following mismatches: 
                1) QueryMismatch Unexpected query parameter 'assignmentTitle' received
                2) QueryMismatch Unexpected query parameter 'studentAssignmentId' received
                3) QueryMismatch Unexpected query parameter 'studentAssignmentStatus' received
                4) QueryMismatch Unexpected query parameter 'assignmentDueDate' received
                5) QueryMismatch Unexpected query parameter 'activityId' received```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 07:55</div><div class="msg">maybe i need to define the query differently?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-07 07:55</div><div class="msg">Hmm. What have you got?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:55</div><div class="msg">How are you doing it now?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 07:55</div><div class="msg">I just pass a string key=value&amp;key2=value2 etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:56</div><div class="msg">v3 pact changes the way it deals with query strings (it internally represents them as a map of string keys to values (`[]`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:56</div><div class="msg">so is that your http client doing that, or how you define it in the pact test?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 07:56</div><div class="msg">```.withRequest({
            method: 'GET',
            path: `${API_URL}/${RESOURCE_ID}`,
            query: QUERY_STRING_PARAMS,
            headers: new Headers({
              Accept: 'application/json',
              'Content-Type': 'application/json',
              Authorization: 'sif',
            }),
          })```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 07:57</div><div class="msg">```const QUERY_STRING_PARAMS =
  'studentAssignmentId=308983e7-3a84-40e1-9596-6fb44217f39c&amp;activityId=bd37478f-a6c7-440f-8593-d6a20304db7f&amp;studentAssignmentStatus=NOT_STARTED&amp;assignmentTitle=QA+Test+19+Jun+2020+12%3A10%3A24+-+eBookTestData+Student+Dashboard+Due+Today+-+Print+Student+Edition+PDF%3A+HMH+Science+Dimensions%3A+Grade+5&amp;assignmentDueDate=2020-06-19T22%3A59%3A59.000Z';```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:57</div><div class="msg">aha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 07:57</div><div class="msg">should ?query? be an object?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:58</div><div class="msg">that may be it, let me check to see how the new API is designed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:58</div><div class="msg">I think so</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:59</div><div class="msg">Yes, it?s now a string-keyed array type: <a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/src/v3/pact.ts#L39-L41">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/src/v3/pact.ts#L39-L41</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-07 07:59</div><div class="msg">The old DSL supports both. I think the new one should too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:59</div><div class="msg">so more like:

```query: {
  "studentAssignmentId": [3089],
   ...
}```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 07:59</div><div class="msg">yes probably</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:00</div><div class="msg">I?ve been updating the Golang lib recently over time to support v3 and have been careful to add backwards compatibility for these things</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:00</div><div class="msg">one thing I found is that ? query string behaviour is very framework dependent. but that?s a whole other thing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-07 08:00</div><div class="msg">Also looks to me like query string doesn't support arrays or matchers in V3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:00</div><div class="msg">for now, you?ll need to convert into that object format</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:01</div><div class="msg">well, it supports arrays because the key value _must_ be an array</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-07 08:01</div><div class="msg">```export interface V3Request {
  method: string
  path: string
  query?: {
    [param: string]: string
  }
  headers?: {
    [header: string]: string
  }
  body?: any
}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:01</div><div class="msg">but it doesn?t appear to support matchers, true. At least, the type definition belies it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:02</div><div class="msg">well it works now :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:02</div><div class="msg">There is an issue relating to the type definitions - I think you _can_ put matchers in things that based on their type, you wouldn?t think you could</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:03</div><div class="msg">sorry yes, Tim and I are looking from a different perspective. Good to hear it?s up and going though :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:07</div><div class="msg">@matt.fellows now i?m just trying to update this test to integrate the url generator. I followed the example you sent me but it fails and doesn?t give very much information</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:08</div><div class="msg">ignore me. typo (i think)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:09</div><div class="msg">there was a typo, but it still fails</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:09</div><div class="msg">I defined path like this now:
```path: regex(
              `${API_URL}/\\w+`,
              `${API_URL}/11112222-3333-4444-5555-66666666`,
            ),```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-07 08:11</div><div class="msg">I'm nervous about that definition of path</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:13</div><div class="msg">i think my regex is probably wrong</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:13</div><div class="msg">it wants to match a UUID</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:14</div><div class="msg">@tjones any idea where the logs might be now?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-07 08:17</div><div class="msg">I think there are no logs (apologies, I haven't been involved with the v3 work, so I only started looking at it last night)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-07 08:18</div><div class="msg">So, usually what I do is not put matchers in the request, because you want to make sure that the test is "When I ask for X, the provider receives a request for X", and not "the provider receives some kind of valid request"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-07 08:20</div><div class="msg">If for some reason you need this, then it is supported, but I'm not sure if it's supported by V3 yet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:20</div><div class="msg">yep, this conversation has been had - it?s been added :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:20</div><div class="msg">sorry I?m just  making dinner etc. Is this the example you?re looking at <a href="https://github.com/pactflow/example-siren/blob/master/consumer/src/__tests__/delete-order.spec.js">https://github.com/pactflow/example-siren/blob/master/consumer/src/__tests__/delete-order.spec.js</a> ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:21</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:22</div><div class="msg">ok ta</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:22</div><div class="msg">For reference, Tim, this is the canny ticket: <a href="https://pact.canny.io/feature-requests/p/url-generators">https://pact.canny.io/feature-requests/p/url-generators</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:23</div><div class="msg">Brendan, are you using the `url` generator or the `regex` matcher (what I can see above)? Or are they separate problems you?re running into?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:23</div><div class="msg">unfortunately we need to put uuid?s generated by our database in the url</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:26</div><div class="msg">no that?s OK. I noticed that you used the `regex` above but we?re talking about generators, just trying to clarify your example</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:27</div><div class="msg">i?m not using the `url` generator. i didn?t notice that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:28</div><div class="msg">I?m confused. I thought you wanted the URL generator :laughing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:28</div><div class="msg">i think i?m the one who?s confused :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:28</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 08:30</div><div class="msg">So let?s start fresh (and then I _really_ gotta run :grimacing: )

1. You have a provider that has UUIDs for IDs so you can?t use a provider state, because they are generated
2. Your consumer just needs to be able to send a message to path with a UUID in it (can be any, but you?ll use a regex to match it)
3. ON the provider side, you need to be able to dynamically substitute in the UUID, right?
@uglyog will be able to clarify if the new feature does this. I fear I may have steered you in the wrong direction</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 08:31</div><div class="msg">that?s all correct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2dcbb846f86683fc72c15f7d6301b2b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">dothetan.040490</div><div class="time">2020-10-07 09:14</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-07 19:32</div><div class="msg">Just wanted to follow up on this. I?m still kind of none the wiser. Is url() the correct construct to use for the path?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:43</div><div class="msg">Hi, i?m having an issue where the verifications result are not been publish to the broker</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:43</div><div class="msg">not error just not publishing the results</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:43</div><div class="msg">```[2020-10-07T21:04:53.645Z]  INFO: pact-node@10.8.1/41 on 744ea855f640: Verifying Pact Files
PASS src/cats.controller.pact.test.ts (7.707s)
  Pact Verification
    verify the provider
      ? should verify the provider (1902ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        7.764s
Ran all test suites matching /.pact.test.ts$/i.
[2020-10-07T21:04:55.491Z]  INFO: pact-node@10.8.1/41 on 744ea855f640: Pact Verification succeeded.
  console.log src/cats.controller.pact.test.ts:73
    Verification Ran```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:43</div><div class="msg">is there any place where i should look for that error?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:45</div><div class="msg">it has the publishVerificationResult set to true</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:47</div><div class="msg">can you please share your pact test? Are you fetching the pacts from the broker or using local files?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:47</div><div class="msg">from the broker</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:48</div><div class="msg">```describe('Pact Verification', () =&gt; {

  let catsController: CatsController;
  let catService: CatService;

  const pactBrokerUrl = process.env.PACT_BROKER_URL || '<a href="http://localhost:8080">http://localhost:8080</a>';
  const pactBrokerUsername = process.env.PACT_BROKER_USERNAME || 'user';
  const pactBrokerPassword = process.env.PACT_BROKER_PASSWORD || 'pass';
  const providerVersion = process.env.PROVIDER_VERSION || '1.0.0';
  const providerUrl = process.env.PROVIDER_URL || "<a href="http://localhost:3050">http://localhost:3050</a>";
  let publishVerification = true;
  if(process.env.PUBLISH_VERIFICATION ){
    publishVerification = true;
  }


  const catExample: Cat = {
    'name': 'cat',
    'age': 12,
    'breed': 'angora',
    'color': 'orange'
  };

  const providerBrokerOpts = {
    logLevel: "trace",
    providerBaseUrl: providerUrl,
    pactFilesOrDirs: ['./pacts/'],
    pactBrokerUrl: pactBrokerUrl,
    pactBrokerUsername: pactBrokerUsername,
    pactBrokerPassword: pactBrokerPassword,
    provider: 'catsProvider',
    enablePending: true,
    verbose:true,
    publishVerificationResult: publishVerification,
    providerVersion:providerVersion,
    consumerVersionTag: ['prod', 'test'],
    stateHandlers:{
      'I have a single cat with color': ()=&gt;{
        return Promise.resolve(catExample);
      },
      'I have a single cat object with color': ()=&gt;{
        return Promise.resolve(catExample);
      }
    }
  };


beforeEach(async ()=&gt; { 
      const moduleRef: TestingModule = await Test.createTestingModule({
          controllers: [CatsController],
          providers: [CatService],
        }).compile();
        catsController = await moduleRef.resolve(CatsController);
        catService = moduleRef.get&lt;CatService&gt;(CatService);
        console.log(pactBrokerUrl);
        console.log(pactBrokerPassword);
        console.log(pactBrokerUsername);
        console.log(providerVersion);
  });


  describe('verify the provider', () =&gt; {
    it('should verify the provider', async () =&gt; {
      return new Verifier(providerBrokerOpts).verify().finally(() =&gt; {
        console.log('Verification Ran')
      });
    });
  });

})```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:49</div><div class="msg">```? npm run test:pact

&gt; pact-provider@0.0.1 test:pact /Users/wellingtonaquino/Documents/wiser-repo/pact-nestjs-provider-sample
&gt; jest ".pact.test.ts$"

  console.log src/cats.controller.pact.test.ts:63
    <a href="http://localhost:8080">http://localhost:8080</a>

  console.log src/cats.controller.pact.test.ts:64
    user

  console.log src/cats.controller.pact.test.ts:65
    pass

  console.log src/cats.controller.pact.test.ts:66
    1.0.0

[2020-10-07T21:41:56.223Z]  INFO: pact-node@10.8.1/53691 on Wellingtons-MacBook-Pro.local: Verifying Pact Files
 PASS  src/cats.controller.pact.test.ts
  Pact Verification
    verify the provider
      ? should verify the provider (846ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        3.476s, estimated 7s
Ran all test suites matching /.pact.test.ts$/i.
[2020-10-07T21:41:57.025Z]  INFO: pact-node@10.8.1/53691 on Wellingtons-MacBook-Pro.local: Pact Verification succeeded.
  console.log src/cats.controller.pact.test.ts:73
    Verification Ran```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:50</div><div class="msg">is `PUBLISH_VERIFICATION` definitely set?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:50</div><div class="msg">maybe comment that out and hard code it to `true`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:50</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:51</div><div class="msg">i even removed the variable and set it manually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:51</div><div class="msg">`pactFilesOrDirs` is set - is that intended?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-07 21:53</div><div class="msg">To enable logging, set the LOG_LEVEL environment variable.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:53</div><div class="msg">is set to pactFilesOrDirs: [?./pacts/?],</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:54</div><div class="msg">yes, don?t do that. The pacts won?t being fetched from the broker if you do that, and therefore won?t have verification results</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-07 21:54</div><div class="msg">Regex on path should work, set LOG_LEVEL=debug and you will see what is being matched and how</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 21:56</div><div class="msg">if i remove it i get the same :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:56</div><div class="msg">Ron, see point above. Is it fair to say that the new `url` feature won?t actually address Brendan?s needs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-07 21:58</div><div class="msg">Yes, `url` was not designed to work with paths, it expects a full URL. Regex should work with paths</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:58</div><div class="msg">Can you please share a reproducible code sample? THis code definitely works, because I ran a demo this morning doing it (see our example consumer/provider)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:58</div><div class="msg">my guess is that your consumer version tags don?t actuallly match up (i.e. your checking for `prod` and `test` but I can?t see the tags on the broker)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:58</div><div class="msg">have you published the contract AND tagged with `prod` or `test`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 21:59</div><div class="msg">It actually doesn?t appear to be verifying any pacts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-07 21:59</div><div class="msg">We should have a way of tracking all the improvements, like supporting string query parameters.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-07 21:59</div><div class="msg">I'll create a GH issue, unless we have a better way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 22:00</div><div class="msg">regex won?t work on the provider side though. He needs the generator feature

&gt;  We should have a way of tracking all the improvements, like supporting string query parameters.
hmm, something like a github issue? ;)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 22:00</div><div class="msg">He needs the ?injecting provider states? in the URL feature, I think</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 22:01</div><div class="msg">i added the pact as part of the contract</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 22:01</div><div class="msg">not sure how to validate that part on the published version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-07 22:01</div><div class="msg">Ah, yeah, that has not been exposed to the consumer DSLs yet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 22:05</div><div class="msg">i know it worked for me before, i?m going to retry from scratch or create a reproducible flow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 22:05</div><div class="msg">and let you thanks for the quick response</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 22:08</div><div class="msg">thx, I?ll raise that too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 22:08</div><div class="msg">Brendan - let?s chat. Apologies for any confusion</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 22:51</div><div class="msg">If you could share your publishing code, I could help you out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 22:51</div><div class="msg">but TL;DR - make sure tags on consumer and provider side align, otherwise the verifier may not catch the pacts you want to verify</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 22:52</div><div class="msg">Also do the CI/CD workshop in howtolearn</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2020-10-07 22:52</div><div class="msg">Here are a number of useful hands-on labs that teach all of the key concepts <a href="https://docs.pact.io/implementation_guides/workshops">https://docs.pact.io/implementation_guides/workshops</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1411200624901_da6ac4f78d52e3c8e76b_72.jpg" /><div class="message"><div class="username">dagostino.remy</div><div class="time">2020-10-07 23:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:30</div><div class="msg">the consumer has the tags, but is not publishing those</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:30</div><div class="msg">tags are just latest</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:34</div><div class="msg">if i add latest</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:34</div><div class="msg">it pick it up</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:36</div><div class="msg">thanks : :blush:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 23:40</div><div class="msg">Ah, _don?t_ use latest - that?s an anti-pattern. Use something like `main` or `development` . Latest  has a special meaning</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 23:40</div><div class="msg">but good to hear it works!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:41</div><div class="msg">yes updated the consumer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:42</div><div class="msg">the issue was that i defined the tags while creating the pacts but not while publishing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 23:45</div><div class="msg">what do you mean by ?while creating the pacts??</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:55</div><div class="msg">i?ve created to different task to run


?publish:pact?: ?node publish.js?,
    ?test:pact?: ?jest \?.pact.test.ts$\??,</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:55</div><div class="msg">publish.js just takes all the pacts an publish to the broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 23:56</div><div class="msg">but you mentioned that you were tagging when creating the pacts, but not publishing - what does that mean sorry?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:58</div><div class="msg">yes basically when i run the test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-07 23:58</div><div class="msg">is creating the contracts and storing in a folder</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-07 23:58</div><div class="msg">how is that ?tagging? it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5cd7f8db5f44cbc14c713893d3f77844.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">waquino</div><div class="time">2020-10-08 00:02</div><div class="msg">i was missing this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-08 00:02</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bbd15435e4ec9ae112d25aa139835fbe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">abhi.nandan</div><div class="time">2020-10-08 06:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-08 08:18</div><div class="msg">@matt.fellows that?s ok. I understand now what the issue is anyway. Really appreciate everything you?ve done so far. As I mentioned before, if there?s any way I can jump in and help, I?m cool with that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-08 08:25</div><div class="msg">Thanks, and apologies again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-08 08:25</div><div class="msg">So I think we start up the need as an issue on Pact JS and we can work with you to get it done. Could he a good hacktoberfest item?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-08 08:25</div><div class="msg">aww, you mean I can?t just update your README with Gr8 Project?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-08 08:26</div><div class="msg">I can raise an issue. Something like ?url generator needs to support path?s??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-08 08:34</div><div class="msg">@brendan.donegan :point_up: sorry already done here</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-08 08:34</div><div class="msg">or did @uglyog already raise it? <a href="https://github.com/pact-foundation/pact-js/issues/516">https://github.com/pact-foundation/pact-js/issues/516</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-08 08:36</div><div class="msg">@matt.fellows can I get a rough idea of where to start looking?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-08 08:37</div><div class="msg">Yeah, that was me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-08 09:23</div><div class="msg">Ron's probably best placed for immediate advice</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1428148525057_a50b278394921b3cb6f7_72.png" /><div class="message"><div class="username">przemyslaw.dabrowski</div><div class="time">2020-10-08 12:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1421806066772_d3a7c5ca4b44f37e0d0d_72.jpg" /><div class="message"><div class="username">emiliano.righi</div><div class="time">2020-10-08 13:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-10-08 17:14</div><div class="msg">What have I started :joy: going to need a big cup of :tea: before settling down to read this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2020-10-08 17:15</div><div class="msg">Sounds like you lot are ON IT. kudos, now this is the power of OSS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2d67e244eb3f92be655ac44e719ac627.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">cariaga.bh</div><div class="time">2020-10-08 21:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-08 21:38</div><div class="msg">Ah yes, this thread got... A little out of hand</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-09 00:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-09 10:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418356865219_632ba0579d3c0143c458_72.jpg" /><div class="message"><div class="username">adriangabrieloros</div><div class="time">2020-10-09 11:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-09 12:13</div><div class="msg">Friends! It's hacktoberfest, and to celebrate, I'm keen to work towards releasing support for V3 specs in Pact-JS. I've created #pact-js-spec-v3 for people to collaborate and discuss implementation. Anyone interested is welcome to join</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-09 12:22</div><div class="msg">Also tacos for both @brendan.donegan and @yousafn for the activation energy required to start looking in to this :taco:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-09 12:30</div><div class="msg">i just had lunch, but thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:03</div><div class="msg">This is probably a realy silly question, but I am confused on how to download schema from pactflow to the provider. I?ve been googling it and most articles I found says I need to do it but doesnt give me guidance on how.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:06</div><div class="msg">HI @ruth, just to clarify, you have a provider written in Javascript and you would need to verify a pact that you have published to pactflow?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:07</div><div class="msg">So I did the verification part.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:08</div><div class="msg">The purpose of my question is that if the provider changes there are tests to make sure that it still does what the consumer expects</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:08</div><div class="msg">so I figured I would need to download the schema and then test against that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:09</div><div class="msg">but now sure how to download the schema into the provider so I can make those tests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:10</div><div class="msg">so it?s the provider verification test that you are talking about. you have written a consumer test and published the pact to pactflow?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:10</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:10</div><div class="msg">(I don?t know what you mean by schema, as there are no schemas in Pact, so I imagine that you meant the pact file between your consumer and provider)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:11</div><div class="msg">Have you seen this?
<a href="https://github.com/pact-foundation/pact-js#provider-api-testing">https://github.com/pact-foundation/pact-js#provider-api-testing</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:11</div><div class="msg">yes the pact file! I believe its a JSON schema.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:12</div><div class="msg">Yep and I did all those steps</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:12</div><div class="msg">but on this blog post:
<a href="https://pactflow.io/blog/contract-testing-using-json-schemas-and-open-api-part-3/">https://pactflow.io/blog/contract-testing-using-json-schemas-and-open-api-part-3/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:13</div><div class="msg">I?m not familiar with that I?m afraid</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:13</div><div class="msg">ah okay, no worries!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-10-09 13:18</div><div class="msg">In the context of that blog series, Pact is not a schema-based contract test. It is a code-based contract test. That series was talking about other alternatives to do contract testing besides Pact. Ex: For something more provider driven rather than consumer driven</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-10-09 13:18</div><div class="msg"><a href="https://pactflow.io/blog/contract-testing-using-json-schemas-and-open-api-part-1/">https://pactflow.io/blog/contract-testing-using-json-schemas-and-open-api-part-1/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:19</div><div class="msg">ah okay!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-10-09 13:19</div><div class="msg">&gt; The purpose of my question is that if the provider changes there are tests to make sure that it still does what the consumer expects
If you have pact tests for the consumer and provider, your provider build should inherently do this. Each time the provider builds, it should be downloading the pacts from pactflow and running verifications against it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-10-09 13:20</div><div class="msg">If you had a breaking change in your provider, such that your services are returning unexpected data, your provider build should fail</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:20</div><div class="msg">got it! So essentially because I verfied it will state if there is any difference between the two and create a diff.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:22</div><div class="msg">So that means I dont have to create any tests because verifying does it for me. The only tests i need to create is on the consumer side.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-10-09 13:22</div><div class="msg">When you verify, if the response from the provider doesn't match the expected response defined by the consumer, your test should fail. When that happens, you should get a diff of what was expected vs the actual, similar to other unit tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:22</div><div class="msg">That makes sense</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:22</div><div class="msg">no, @ruth - that is incorrect, you need tests both on the consumer and provider side.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:23</div><div class="msg">if you use the pact broker, the consumer will have some tests that aim at creating the pact and upload it to the broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:25</div><div class="msg">the provider will also have tests to ensure that it is indeed compatible with what the consumer expects. if you use the pact broker, the provider tests will have to get the pact from the broker.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-09 13:25</div><div class="msg">The pact is a json file. If you?ve written consumer tests, you will be able to see what?s inside if you?re curious</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-10-09 13:25</div><div class="msg">There's a pact-js workshop that goes through each step of the workflow <a href="https://github.com/pact-foundation/pact-workshop-js">https://github.com/pact-foundation/pact-workshop-js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-05/1404921259893_a0f3bc4f264e02328058_72.jpg" /><div class="message"><div class="username">ruth</div><div class="time">2020-10-09 13:26</div><div class="msg">thanks Ill check this out now!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2d67e244eb3f92be655ac44e719ac627.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">cariaga.bh</div><div class="time">2020-10-09 14:10</div><div class="msg">Hi everyone, thanks for this great work.
I have a weird issue, im trying add pack consumer tests on one project. Locally works great but on gitlab ci don't works.
This is the error:
```ERROR: pact-node@10.10.1/118 on runner-wcLUYPAX-project-2580-concurrent-0: 
    Pact Binary Error: XXX/node_modules/@pact-foundation/pact-node/standalone/linux-x64-1.86.0/pact/lib/ruby/lib/ruby/gems/2.2.0/gems/bundler-1.9.9/lib/bundler/shared_helpers.rb:78: warning: Insecure world writable dir XXX in PATH, mode 040777```
This occurs on docker on Gitlab Runner (docker image: node:14-stretch)
The ruby ??standalone need some user or files configuration for work?
package.json: `"@pact-foundation/pact": "^9.12.2","jest-pact": "^0.8.1",`
Can someone help me? (if need to create a github issue tell me)
Thanks a lot :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-10 04:28</div><div class="msg">There's a semantic difference that is worth pointing out:

* Consumer pact _tests_ on the consumer side are usually run from a unit testing framework
* Provider pact _verification_ on the provider side is a kind of test, but doesn't need to be run from a unit testing framework (I usually don't, but you can if it is easier for you).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-10 09:15</div><div class="msg">I've seen the insecure issue before but I don't think that's the real issue. Could you please share the full log at debug level?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2d67e244eb3f92be655ac44e719ac627.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">cariaga.bh</div><div class="time">2020-10-10 14:42</div><div class="msg">Thanks for the reply @matt.fellows this is the file. For some reason (that I don't know) when i'm commit the change for get the logs in debug level its works although the warning exists</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-10 23:16</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-10 23:16</div><div class="msg">The problem seems to be that it can't assign the port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-10 23:16</div><div class="msg">`Error: Cannot assign requested address - bind(2) for "::1" port 1234`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2d67e244eb3f92be655ac44e719ac627.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">cariaga.bh</div><div class="time">2020-10-10 23:23</div><div class="msg">Wow! I missed it.
I need talk to the devops to know if exists some limitation on for the container on gitlab runner.
Thanks a lot!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-10 23:57</div><div class="msg">Of you don't specify a port, pact will find an available one for you and return it in the call to `setup`. Also, you may need to test what host/ip to bind to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-10 23:57</div><div class="msg">E.g. 127.0.0.1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/44fe65730d580105c41c530d2dba0141.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">sh.ilgam_pact</div><div class="time">2020-10-11 16:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-12 01:03</div><div class="msg">:taco: for @antonello &amp; @phil.endsley :party_parrot: Always so helpful~*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-12/1415416428758_c5e7e1d7292eb3e7590e_72.jpg" /><div class="message"><div class="username">anastasiia.bielik</div><div class="time">2020-10-12 11:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 11:30</div><div class="msg">Hello all!
I have a strange issue appearing when running my pact tests (consumer side). From a quick search I haven?t found any relevant response, but please feel free to forward me to any similar issue?
When executing the contracts I get this error warning:
```RROR: pact-node@10.10.1/34891 on **: 
    Pact Binary Error: WARN: No content type found, performing text diff on body```
The tests pass, because the text comparison is verified, but I have added the relevant headers in
```willRespondWith```
headers
```Accept: 'application/json'  or 'Content-Type' =  'application/json'```
and it seems to ignore it!
Any ideas??</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-12 11:57</div><div class="msg">we have this issue too. would love to know what causes it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-12 12:40</div><div class="msg">Hmm can you please share your code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-12 12:41</div><div class="msg">(or the pact file actually)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 12:58</div><div class="msg">sure !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 12:59</div><div class="msg">```    it('verify request for generated questionnaire', async () =&gt; {
        await provider.addInteraction({
            state: 'send a successful request',
            uponReceiving: 'A generated questionnaire',
            withRequest: {
                method: 'POST',
                path: `/v1/generate`,
                headers,
                body: startRequestBodyShort
            },
            willRespondWith: {
                status: 200,
                headers : {
                    Accept: 'application/json'
                },
                body: responseBodyShort
            }
        });

        await generateScript(startRequestBodyShort.job, 1);
        return provider.verify();
    });```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 12:59</div><div class="msg">I have also tried with
```'Content-Type' =  'application/json'```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 12:59</div><div class="msg">but none of them worked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 13:01</div><div class="msg">I keep taking the same warning error in all cases :
```[2020-10-12T10:42:23.225Z] ERROR: pact-node@10.10.1/34891 on **: 
    Pact Binary Error: WARN: No content type found, performing text diff on body```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-12 13:01</div><div class="msg">What are the request headers?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-12 13:02</div><div class="msg">Accept is definitely the wrong response header though, content-type is what you want</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-12 13:02</div><div class="msg">Accept is a request header</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 13:02</div><div class="msg">the request headers is just a bearer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 13:02</div><div class="msg">yes, i ve tried with just content-type but it didnt work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-12 13:03</div><div class="msg">Try content type on the request too. It might be warning about that side of the test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-12 13:03</div><div class="msg">Otherwise I'll take a look with fresh eyes tomorrow morning on the e2e example test in pact JS repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2020-10-12 13:03</div><div class="msg">Quotes around content-type?
```headers : {
    'Content-Type': 'application/json'
},```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 13:04</div><div class="msg">yeap</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-12 13:04</div><div class="msg">thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7b4133981c10eb7e33a532e5e9c0dcd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">aleksmarg</div><div class="time">2020-10-12 13:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcd0e7dbfdaaf8f9de233dd4480cbc39.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">deepika.krishnakumar</div><div class="time">2020-10-12 15:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ce93be182afadd994357ae19b8fa053d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">anbansal27</div><div class="time">2020-10-12 23:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/700cfc7168bbc2a6fef300539c5955e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">olarrmide</div><div class="time">2020-10-13 00:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/700cfc7168bbc2a6fef300539c5955e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">olarrmide</div><div class="time">2020-10-13 00:49</div><div class="msg">Hi Folks, anyone have experience successfully running pact-node from a windows mapped network drive?
I am able to install the npm packages but starting my tests throws this error:

_CMD.EXE was started with the above path as the current directory. UNC paths are not supported. Defaulting to Windows Directory._</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 00:50</div><div class="msg">why are you running pact-node on a mapped network drive, are you able to elaborate?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/700cfc7168bbc2a6fef300539c5955e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">olarrmide</div><div class="time">2020-10-13 00:53</div><div class="msg">Corporate Infosec requirements. The ruby executable bundled with the Pact libraries is blocked from running by policy restrictions, when I install directly to my local drive. However, the network location has less restrictions- its whitelisted to allow the ruby.exe run.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/700cfc7168bbc2a6fef300539c5955e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">olarrmide</div><div class="time">2020-10-13 01:02</div><div class="msg">I?d like to know early enough if it?s possible so I know if I need to find another way. Already invested a whole day into finding a solution.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 01:02</div><div class="msg">I?m sorry, I just have no idea here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 01:03</div><div class="msg">In theory it should be, but there are limitations on how things can run on network drives (I have previous experience doing this, and it is painful)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 01:03</div><div class="msg">Could you please do me a favour, and see if <a href="https://github.com/pact-foundation/pact-js#pact-js-v3">https://github.com/pact-foundation/pact-js#pact-js-v3</a> solves your issue with permissions?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 01:03</div><div class="msg">It?s a new version of Pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 01:04</div><div class="msg">It implements more of the v3 features, but doesn?t fully integrate with all of the Pact Broker features just yet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 01:04</div><div class="msg">If you can run it locally, and describe the usage you have, it might be a good option. In the next few months, it should come out of beta</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/700cfc7168bbc2a6fef300539c5955e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">olarrmide</div><div class="time">2020-10-13 01:08</div><div class="msg">Thank you. I?ll check it out.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-13 02:14</div><div class="msg">If the security team is heavy-handed and unmoving, you'll always have trouble :sob:

One workaround might be to run dev in docker, as long as they'll allow it. Can unblock a lot of use cases, but has a performance &amp; maintenance cost.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 02:15</div><div class="msg">In my experience, places that don?t like you running abritrary binaries usually restrict docker also.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-13 02:16</div><div class="msg">just let me run something sandboxed, how do you expect me to get any work done :upside_down_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-13 02:17</div><div class="msg">as I said (unfortunately):
&gt; you'll always have trouble:sob:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 02:18</div><div class="msg">Last time I worked at a place that locked docker, this is what happened:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 02:19</div><div class="msg">We used docker for builds. They couldn?t test the build locally, so just edited the build script directly from bitbucket. There are many pages of scrolling :exploding_head:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 02:19</div><div class="msg">anyway, I digress</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-13 02:55</div><div class="msg">rip in peace</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/700cfc7168bbc2a6fef300539c5955e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">olarrmide</div><div class="time">2020-10-13 03:16</div><div class="msg">You?re right, Docker isn?t available.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-13 04:45</div><div class="msg">The actual solution is to isolate dev environments properly so you don't have to trust them :innocent: But that's probably a big effort, if no one's started on it yet.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-13 04:45</div><div class="msg">Until then, that policy only slows people down.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-13 04:48</div><div class="msg">(and docker would actually help in that case, because you can throw away the fs layer touched by pact, except for the one JSON file, then everything is secure like you want)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fb0ac6708ab59dbe3bf035a736e12034.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">prabhakar.thippa</div><div class="time">2020-10-13 04:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 05:59</div><div class="msg">That argument only works with rational people, not irrational policies :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-12/1417374520934_dd8d3e2a0b0a6dbc55c4_72.jpg" /><div class="message"><div class="username">giadinhluong</div><div class="time">2020-10-13 06:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 07:49</div><div class="msg">From what I can see, and glean from a glance at the underlying matching  code, is that the _request body_ doesn?t have a content-type associated with it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 07:50</div><div class="msg">I can make that error show up if you don?t specify a content-type for the request headers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 07:51</div><div class="msg">the response headers are fine in your consumer test - they aren?t being matched by Pact yet (they just get returned as you ask)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 07:51</div><div class="msg">Only when you verify the provider does the matching of the _response_ body get done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 07:51</div><div class="msg">So at this stage, I?m 90%+ sure that it?s just that you?re missng a content-type on the request body</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 07:53</div><div class="msg">the `content-type` header is used to signal the content type  being sent (in this case, by the consumer). The `accept` header is about what content types the receiver can deal with.

The `accept` header makes no sense on the provider - it?s too late, the consumer has already made the request and can?t alter the `content-type`. So you can remove it from the `willRespondWith` block.

In your case, _both_ the consumer and provider should specify a `content-type` (and they should both by something like `application/json`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 07:53</div><div class="msg">cc @brendan.donegan - would be ideal to confirm that for you too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 07:54</div><div class="msg">After all of that, it?s actually not really a problem either, unless you?re applying matching rules to the _request_ (most times you don?t need to, because you can control what the consumer can send in a unit test - so the warning is just that).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-13 07:57</div><div class="msg">Ok, thanks a lot for your reply!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-09/1418036405410_58fe415b82a4cea56169_72.jpg" /><div class="message"><div class="username">elenitsaa043</div><div class="time">2020-10-13 07:57</div><div class="msg">I ll try that!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-09-30/778301475936_4f07ce22d98432b05423_72.jpg" /><div class="message"><div class="username">borsuk.artem034</div><div class="time">2020-10-13 08:13</div><div class="msg">Hello, any progress for this issue? <a href="https://github.com/pact-foundation/pact-node/issues/179">https://github.com/pact-foundation/pact-node/issues/179</a> maybe somebody find better solution?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-30/1604610574610_4a0cbb0abf416bff6e9d_72.jpg" /><div class="message"><div class="username">pavank</div><div class="time">2020-10-13 08:41</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-13 09:03</div><div class="msg">Not yet, albeit it is being dealt with in the v4 spec</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e89deb9491e77d370a3a07f502340186.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">stephane.meng</div><div class="time">2020-10-13 09:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-13/1417762931174_af4cbfffe699d5c14e9c_72.jpg" /><div class="message"><div class="username">abirlal.bose</div><div class="time">2020-10-13 09:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-10-13 17:24</div><div class="msg">:wave:  do you have somewhere handy an example/guide of migration of existing v2 consumer contracts to v3? I've just noticed that API has changed quite significantly :thinking_face:

1. I'm not sure about `setup` / `finalize`  replacement
2. what is the best way to change `addInteraction` to new methods. Right now I'm thinking about some wrappere for PactV3
We have ~400 contracts in v2 and I really don't want to rewrite those :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-13 22:49</div><div class="msg">This has been raised as an issue, and something we need to address. Currently, I'm still working on getting it to a non-beta form before we can work on that. However, it has a totally separate name space and contains all the V2 code which can be used along side it, so you can leave your existing tests as is, and only convert some or new ones.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-10-14 08:01</div><div class="msg">can you please share the link to the issue so I can follow it? I've failed to find it in pact-js repo :thinking_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-14/1451202944864_dccc3f5506d7e89b3a2f_72.jpg" /><div class="message"><div class="username">mateusz.mrzyglod</div><div class="time">2020-10-14 09:32</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-14/1427556742258_fb950547dd5e43debde9_72.jpg" /><div class="message"><div class="username">cathleen.yuan</div><div class="time">2020-10-14 11:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9a36190e0f471b65325001071b810d9d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">ramana.jaladurgam</div><div class="time">2020-10-14 16:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/65814310e95eee4cdbcae76424540565.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">rodrigocs</div><div class="time">2020-10-14 17:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a4a862d4abc30b54d400e5578ce90f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">alik.berezovsky</div><div class="time">2020-10-14 18:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-14/1441535462145_6e2889a56db091c0aeb0_72.png" /><div class="message"><div class="username">a.robecke</div><div class="time">2020-10-14 19:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a768c2fca8712e1b0e5ff398002edf05.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">mikahchapman</div><div class="time">2020-10-14 21:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-14 22:13</div><div class="msg">Sorry, I mean someone previously raised it as causing them an issue, not that they created a Github issue for it :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-14 22:13</div><div class="msg">Please raise a GH issue for it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-15 00:28</div><div class="msg">@alex.elmekeev We haven't finalised the API for V3, I'd like to make sure migration is as smooth as possible. One specific example is that I'd like to still support `addInteraction` with an object (at the moment, migration is easier for people using the current API with the builder pattern, but harder for people using it with an object - which I think is probably the common case)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d413a3835945884136dbdbf60f4c782b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">hem_kec</div><div class="time">2020-10-15 00:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2dcbb846f86683fc72c15f7d6301b2b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">dothetan.040490</div><div class="time">2020-10-15 02:22</div><div class="msg">@dothetan.040490 has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-10-15 08:03</div><div class="msg">I will hold off with issue creation then if it's anyway a desire to keep "backward compatibility" of API</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1914081d4a4d946a9f098ff68fb350ea.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">marco.cordeiro</div><div class="time">2020-10-15 10:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/66605c16f13c4264d14cca443b79657d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">betty.he</div><div class="time">2020-10-15 14:32</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-16 07:59</div><div class="msg">:point_up: Array contains matcher! :tada:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0439f252cb29f49f46a5621e4a31718c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">alex.elmekeev</div><div class="time">2020-10-16 08:11</div><div class="msg">v3 only, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 08:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 08:27</div><div class="msg">Hello, good morning. I'm going through this tutorial <a href="https://katacoda.com/mefellows/scenarios/pactflow-getting-started-json">https://katacoda.com/mefellows/scenarios/pactflow-getting-started-json</a> on how to write pact with javascript (I know how to do it in java but first time with js) but am getting an error that says `before is undefined` even though I have mocha installed as a dev dependency as per the sample package.json file and also globally. I then tried it with `beforeEach` instead which seems to work a bit better but I then get this error instead saying `PopsicleError: Unable to connect to "<a href="http://127.0.0.1:59166/interactions">http://127.0.0.1:59166/interactions</a>"` Any ideas please?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 08:29</div><div class="msg"><a href="https://github.com/francislainy/gatling_tool/commit/402c99427b0bf25eb0f6692a3a8532c6fa933e92">https://github.com/francislainy/gatling_tool/commit/402c99427b0bf25eb0f6692a3a8532c6fa933e92</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 08:29</div><div class="msg">Thank you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 09:05</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a0a220da36e340dd6751cf5d749e7aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">tamer</div><div class="time">2020-10-16 09:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:32</div><div class="msg">How are you running the pact test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:32</div><div class="msg">It looks like a react project, so there is probably Jest in there somewhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:33</div><div class="msg">npm run test consumer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:33</div><div class="msg">I tried running the `npm run test:consumer` and it doesn?t do anything, because the pact file is not where that command is expecting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:33</div><div class="msg">I'm using this `npm run test consumer` without the :</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:33</div><div class="msg">what does that do?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:34</div><div class="msg">ah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:34</div><div class="msg">that?s going to run the react tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:34</div><div class="msg">that command doesn?t do what you think it does</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:34</div><div class="msg">No?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:35</div><div class="msg">Okay, I'll try your version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:35</div><div class="msg">no, if you don?t know why, I suggest go and find somebody in your organisation who does and pairing with them for a bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:36</div><div class="msg">With respect, it shows that you don?t understand the node ecosystem (which is great that you?re giving it a go!) - but this will be the first of many pain points.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:36</div><div class="msg">It would be like if I had to deal with Maven :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:36</div><div class="msg">I wear glasses so it may be that I missed the : as am without them at the moment.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:36</div><div class="msg">But yeah, it's the first time I'm trying to run tests like this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:37</div><div class="msg">But it's a personal project, and don't have a buddy to pair with.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:37</div><div class="msg">So trying to figure it out here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:38</div><div class="msg">ah ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:38</div><div class="msg">`"test:consumer": "mocha --exit --timeout 30000 src/pact/consumer.pact.spec.js",`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:38</div><div class="msg">that fixes your immediate issue, anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:38</div><div class="msg">the path to the pact file was incorrect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:38</div><div class="msg">I ran it locally just now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:38</div><div class="msg">Thank you. I'll check it here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-16 10:40</div><div class="msg">here?s the exact patch</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:47</div><div class="msg">Yeah, it worked. Thanks once again Matt (now in the Javascript word).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-16 10:48</div><div class="msg">Happy Friday.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-16/1458309288704_6ce95f938ad7677a3ca2_72.jpg" /><div class="message"><div class="username">mario.gioiosa</div><div class="time">2020-10-16 18:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-19 05:17</div><div class="msg">TESTING BUILD :party_parrot:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-19/1422114015879_fec6fe18835e3c9712f1_72.jpg" /><div class="message"><div class="username">lior.baber</div><div class="time">2020-10-19 07:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-19/1438443521251_da057244d7f4bb9c8797_72.jpg" /><div class="message"><div class="username">jeffbdye</div><div class="time">2020-10-19 17:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/34ce312faf37b71f2e6eb2865b08a69a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">dmcgill50</div><div class="time">2020-10-19 19:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-19/1462419427520_05737e7c795a79386cda_72.jpg" /><div class="message"><div class="username">jace</div><div class="time">2020-10-19 19:22</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 22:46</div><div class="msg">Hey all, @matt.fellows and @bethskurrie I'm back again on the JS side of things. Running into open issue: <a href="https://github.com/pact-foundation/pact-node/issues/100">https://github.com/pact-foundation/pact-node/issues/100</a> is the V3 branch for Pact-JS that you mentioned `feat/v3.0.0`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:47</div><div class="msg">:wave:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:47</div><div class="msg">yes that?s correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 22:49</div><div class="msg">So we need to do a manual build of Pact somehow with the `feat/v3.0.0` branch? We can't pull it down via NPM, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:49</div><div class="msg">no, it?s available by NPM</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:49</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js#pact-js-v3">https://github.com/pact-foundation/pact-js#pact-js-v3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:49</div><div class="msg">`npm i @pact-foundation/pact@beta`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:50</div><div class="msg">Ron was releasing some things yesterday, but pretty sure that tag still works to get the latest in that stream</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 22:54</div><div class="msg">Phew. Didn't want to have to build manually and bypass NPM. Great, thanks! I'll try that out.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:55</div><div class="msg">hahah yes, that would be a pain</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 22:55</div><div class="msg">Still getting that problem with the beta version:
```Error: C:/Users/ccamp/Documents/GitHub/MITEPF/JobManagementServiceV3/node_modules/@pact-foundation/pact-node/standalone/win32-1.88.3/pact/lib/vendor/ruby/2.2.0/gems/pact-provider-verifier-1.32.1/lib/pact/provider_verifier/app.rb:3:in `require': 
cannot load such file -- pact/provider_verifier/provider_states/add_provider_states_header (LoadError)```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 22:55</div><div class="msg">=(</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:56</div><div class="msg">The beta still includes the old DSL, so that means you?re not using the `v3` interface</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-19 22:56</div><div class="msg">I think that issue may be on install?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:56</div><div class="msg">See the examples under <a href="https://github.com/pact-foundation/pact-js#pact-js-v3">https://github.com/pact-foundation/pact-js#pact-js-v3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:56</div><div class="msg">it?s a new namespace</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:56</div><div class="msg">`const { PactV3, MatchersV3 } = require("@pact-foundation/pact/v3")`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 22:57</div><div class="msg">Ah, missed that. Thank you!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:57</div><div class="msg">instead of something like `const { PactV3, MatchersV3 } = require("@pact-foundation/pact")`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 22:58</div><div class="msg">Message Pacts in V3?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:58</div><div class="msg">not yet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:58</div><div class="msg">I?m currently adding it to Pact Go to see how to do it with the new reference library</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 22:59</div><div class="msg">I could be wrong, Ron would know.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:00</div><div class="msg">The windows pathing issue can usually be resolved by moving closer to the root of the volume e.g. rather than `c:\foo\baz\some\deep\nested\folder` move to `c:\pact`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-19 23:01</div><div class="msg">No JS V3 DSL for messages yet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 23:08</div><div class="msg">Moving what closer to the root of the volume? The test script itself that leverages Pact? This is an internal Pact error. We are trying to pull files from the remote broker. So if anything it would be the internal `node_modules` file paths that are causing the violation.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:09</div><div class="msg">So the issue is that within the node modules folder of your project dir `C:/Users/ccamp/Documents/GitHub/MITEPF/JobManagementServiceV3/`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:09</div><div class="msg">there is an internal Pact library that nests within there. The path &gt; 255 characters, which causes that problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:10</div><div class="msg">There are 2 known fixes (at least) that I know of:

1. `C:/Users/ccamp/Documents/GitHub/MITEPF/JobManagementServiceV3/` -&gt; `c:/project` (move the project closer to the root of the volume, so the path isn?t as long)
2. The windows registry fixes documented in several pact issues. They could be out of date now with newer versions of Windows, but apparently there is some way to remove this arcane limitation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 23:11</div><div class="msg">Right, I'm just not sure moving that `node_modules` up a few directories will be enough to resolve that, when the internal file paths are so long.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 23:11</div><div class="msg">I've already tried the windows fixes to enable Win32 longer path names</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:11</div><div class="msg">It?s sad this is a problem in 2020</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 23:11</div><div class="msg">Agreed haha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:11</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:12</div><div class="msg">see how you go moving the directory, it?s worth a shot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 23:12</div><div class="msg">Yup, working on it now!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-19 23:33</div><div class="msg">Yup, that works. Thanks Matt. Now we just need to restructure our folder hierarchy.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-19 23:49</div><div class="msg">^ I think that would be a better solution than moving to the V3 beta, where not all features are complete</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:49</div><div class="msg">well in this case, he needs message pact - so yes, moving to the v3 beta is not going to be super helpful! :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-19 23:50</div><div class="msg">Is the windows 10 pathing issue something we could do by upgrading the bundled ruby or something?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:51</div><div class="msg">Can?t update the bundled Ruby, the ?traveling ruby? library we used hasn?t been updated to support modern Ruby?s</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:51</div><div class="msg">I?ll check again now, because it would be great if it did</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-19 23:53</div><div class="msg">It looks like it hasn't been updated in a looong time, but maybe there are other projects we could use, eg: <a href="https://github.com/pmq20/ruby-packer">https://github.com/pmq20/ruby-packer</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:54</div><div class="msg">I like that idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:54</div><div class="msg">On the one hand, it?ll solve some immediate issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:54</div><div class="msg">but on the other, I?d much prefer to spend any available time moving to the strategic goals</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-19 23:56</div><div class="msg">traveling ruby is no longer supported, which is most of the problem with the embedded Ruby version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-19 23:56</div><div class="msg">yep. the lib Tim linked to looks gooder (I think we did a scan a few years back)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a4a862d4abc30b54d400e5578ce90f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">alik.berezovsky</div><div class="time">2020-10-20 09:19</div><div class="msg">@alik.berezovsky has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/875bca14368f0b0014155205b99d7c58.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">almaak</div><div class="time">2020-10-20 09:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-20/1446699543316_bea7a13df5f0177e373e_72.jpg" /><div class="message"><div class="username">andra.moraru</div><div class="time">2020-10-20 14:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-20/1453698228977_d2d28fcaccd25959a4bd_72.jpg" /><div class="message"><div class="username">camila.coder91</div><div class="time">2020-10-20 17:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-20 17:20</div><div class="msg">Will I run into trouble if I publish a consumer pact in Python (not a Message Pact because it isn't supported in Python) and attempt to verify the pact as a Message Pact on the provider side in NodeJS?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-20 17:20</div><div class="msg">Is there a generic Pact type that will work across both language implementations?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2020-10-20 19:52</div><div class="msg">Contracts are language agnostic. We write consumer contracts in JS and verify them with Java</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-20 23:23</div><div class="msg">You will need to transform the stored pact file, because the format is different for messages</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/192873f92674398d70ec279fcbc2886c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">julzelements</div><div class="time">2020-10-21 05:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bc618bd4ea2eb5eca34cfd97258b1c4f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">kapil.mathur</div><div class="time">2020-10-21 06:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f252d87af0cc97ac7ddaeeefd6f68516.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">mark.hudson</div><div class="time">2020-10-21 10:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-21 15:38</div><div class="msg">@uglyog That is what i was worried about. Is there a type of Pact file that would work without transformation across both implementations. A generic Pact type?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-21 15:38</div><div class="msg">The problem only stems from mixing Pact message formats right? So as long as the message format type is implemented in both languages, I should be good?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-21 15:44</div><div class="msg">@brendan.j.donegan Thanks for the response! My question was about the specific implementation of the language agnostic pacts, not the overall philosophy of the language agnosticism in Pact. I understand that the contracts are intended to be language agnostic. I was looking for clarification on if the types of Pacts are intercompatible as well as language agnostic. That answer appears to be: no, they are not. I should have made that distinction a bit more clear in my original question.

So although you can write a Pact in JS and verify it in Java, you _cannot_ (it seems; please correct me if I'm wrong) write a *Message Pact* in JS, publish it to a broker, retrieve the message pact and verify that message Pact with a generic *non-Message Pact* (on the provider side) in Java.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-21/1450195266868_5677bf8cbcad526c1e7d_72.png" /><div class="message"><div class="username">cluu</div><div class="time">2020-10-21 17:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-21 17:50</div><div class="msg">Are you asking if you can verify a (say) RabbitMQ message against a provider that exposes an HTTP interface? The answer is no, but any contract verification is certainly a failure anyway if the contract is not met.

The ability to specify and verify contracts for messages is not available in all pact frameworks. In your example of JS and Java, it is.

With Pact in Python, it is (I believe) not currently supported.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-21 17:53</div><div class="msg">Pact files adhere to the Pact spec. The most widely supported pact specification version is V2. I think message pacts are a V3 feature. In the case of pact-js, message pacts have been cherry-picked into the current released version (which otherwise only supports V2 features).

^ Someone else may correct this, I'm not sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-21/1450878960644_be0d812a834c7847d0f6_72.jpg" /><div class="message"><div class="username">camila.campos</div><div class="time">2020-10-21 21:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-21 23:46</div><div class="msg">&gt; Are you asking if you can verify a (say) RabbitMQ message against a provider that exposes an HTTP interface? 
Nope, that wasn't what I was asking either. I'm specifically talking about the serverless context, where everything is conceptually a Message Pact. In this paradigm there is no dedicated provider endpoints and no dedicated consumer endpoints. Sometimes microservices provide, and sometimes microservices consume.

We need to implement Message Pacts. We have a multi-language environment with some microservices written in NodeJS and some written in Python. The Python version of Pact `pact-python` does not support Message Pacts currently. The NodeJS version of Pact `pact-js` does support Message Pacts.

My question was: can a Message Pact written in `pact-js` be validated by `pact-python` even if Pact python does not yet formally support Message Pacts? Does the framework know enough about the Pact specification V3 to still validate the Message pact, even if it can't yet publish them, and has no dedicated namespace (e.g. reserved `MessagePact` class) for them yet?

The answer I received from @uglyog in the above thread was exactly what I was looking for. The answer is: no. We will be unable to use Message Pacts, or we will have to write our own Message Pact verifier on the Python side. If `pact-python` supported Message Pacts, then my original question would not be needed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-21 23:50</div><div class="msg">There is a way, if you use one of the CLIs to do the verification. I'll check the Rust one to see if it will work, but you would need to create a test endpoint in the Python project that can return the message to be verified.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-21 23:57</div><div class="msg">The Rust CLI verifier (<a href="https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_verifier_cli">https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_verifier_cli</a>) can verify a message pact by using a POST request with the message contents to an endpoint. You would just need to create the endpoint on the provider side (which should be easy in Python), that will receive the message (and one for the provider states), and return an appropriate response if it was processed successfully.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-21 23:58</div><div class="msg">Actually, it's for the message provider, not consumer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-21 23:58</div><div class="msg"><a href="https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_verifier_cli#verifying-message-pacts">https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_verifier_cli#verifying-message-pacts</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 00:53</div><div class="msg">@uglyog Good to know! Thanks! We will consider it!  I'm a bit hesitant to try another language. Our foray into `pact-python` did not go well with the example code not even executing on Windows due to how Flask was being used internally. Likewise the `pact-js` example ran into Windows pathing issues from inside the Ruby logic as well, which was not fun to debug.  The last thing I want to do is burn yet another full day of dev time on debugging the language-specific implementations of pact on Windows. But it is good to know that an alternative exists!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 00:54</div><div class="msg">At this point we will probably throw together something incredibly hacky to work with the devils we know (e.g. `pact-python` and `pact-js`).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-22 00:56</div><div class="msg">PRs would always be welcome on the Pact Python repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-22 00:59</div><div class="msg">If I understand correctly Chris:

1. JS is your message consumer
2. Python is the message provider (producer)
You should be able to:

1. Use Pact JS to create the consumer message pact (with the workarounds you?ve established for pathing issues)
2. Use the CLI verifier as per above, to do the message verification on the producer side (i.e. your Python app), adding a simple route that wraps your functions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-22 00:59</div><div class="msg">I think if it was the other way around, the answer would be ?no? at the moment for the reasons you?ve established</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 01:03</div><div class="msg">Yup, we would love to contribute. But we don't have the resources to do so. We are a pretty small shop. If we implemented a monkeypatch or something that worked within the confines of the Pact lib the way it was meant to be used, we would not hesitate to contribute it via PR. But most likely we will hack around the restrictions outside of Pact's CLI in a way that is not architecturally sound.

I will consider personally contributing on my own time! I've offered to help take up some entry-level Issues on the Python side. But anything beyond that will require a significant time investment on my part, and I'm vested in ML research right now. So not quite my cup of tea haha.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 01:13</div><div class="msg">@matt.fellows Well we are doing serverless. So ideally we would have pacts going both ways. But in the specific example I described above, what you referenced is correct. I will definitely discuss the idea of using the Rust CLI with the team to validate the message pacts. We are already several dev days into Pact with no interoperability between the NodeJS and Python logic to show for it. And it's getting hard to defend that decision. So i'm hesitant to adopt another language implementation.

Right now we are entertaining the (normally terrible) idea of interfacing the NodeJS and Python logic via subprocess, translating the python responses into NodeJS Message Pacts and having the Node logic do all the interactions with the broker, including the verification logic. I'm not happy about it, because it's real hacky. But at least I will get to use my local pytest test fixtures, and we can still use pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 01:16</div><div class="msg">So if you want that mess of a solution as a PR, I can see about getting permission to push it up. But I'm anticipating that no one will find that solution feasible in the long term.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-22 01:20</div><div class="msg">No you?re spot on with everything you just said :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 01:48</div><div class="msg">Yeah, figured you wouldn't want that anywhere near the codebase haha.

Let me think about the Rust implementation CLI idea some more though. That is very helpful @uglyog, thank you. Would there be any way to publish a Message Pact on the consumer side in Python? Would the Rust CLI support that? I don't see anything about publishing consumer pacts but I might have missed it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-22 01:50</div><div class="msg">You can use the normal pact CLI to publish pact files. <a href="https://docs.pact.io/implementation_guides/cli/">https://docs.pact.io/implementation_guides/cli/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 01:53</div><div class="msg">@matt.fellows Just said that if the relationship was reversed and Python was the message consumer, and NodeJS was the message provider then that wouldn't work (I thought). Did I misinterpret?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:03</div><div class="msg">Interacting with the broker can be done by any framework (including the CLI), and is unrelated to your question about defining or verifying message pacts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:06</div><div class="msg">&gt; Would there be any way to publish a Message Pact on the consumer side in Python?
There are two steps. The first is to define (and test) the consumer contract. This produces a pact file. If your consumer testing framework does not support message pacts, it can't be a message pact.

That pact file can then be published to a broker. At this point it doesn't matter what "type" of pact it is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-22 02:07</div><div class="msg">&gt; @matt.fellowsJust said that if the relationship was reversed and Python was the message consumer, and NodeJS was the message provider then that wouldn?t work (I thought). Did I misinterpret?
As of this moment, that is correct.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:08</div><div class="msg">Pact doesn't really have types of pacts, it has spec versions. Message pacts are in spec V3, so you need a pact library that can write V3 specs. There's a partial exception to this in that pact-js only supports messages from V3 - the rest of the V3 features are unimplemented or in beta for pact-js.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:10</div><div class="msg">That is, at the moment pact-js can read and write V3 specs as long as you only use the messages part of the spec, and not the extended matchers or state parameters.

Pact python cannot read or write V3 specs.

Any pact file of any spec can be published to the broker by any broker client.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:12</div><div class="msg">From what you've written above, I think you understand the constraints very well, but I think it might be helpful not to think of message pacts as a distinct type of pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:13</div><div class="msg">Perhaps we should add some diagrams to the documentation to help clear this up? What do you think?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-22 02:15</div><div class="msg">That's not quite true, the message pacts also differ in format, so can not be swapped with HTTP req/res pact files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 02:17</div><div class="msg">Yeah, I'm hearing two different answers here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-22 02:18</div><div class="msg">Not two different answers, just a clarification on what Tim said.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 02:24</div><div class="msg">I'm a bit confused. So should I not think of message pacts as a distinct type, even though Message Pacts "differ in format"? Because it seems to matter in cross language implementations, when the python broker client doesn't support Message Pacts. The python broker client doesn't seem able to verify a Message Pact published by the NodeJS broker client. To me that implies a pact type system. What am I missing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 02:26</div><div class="msg">I get what you are saying about the python broker client not supporting V3 spec.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-22 02:26</div><div class="msg">If you generated a message pact, published it, and then tried to verify it as an HTTP pact, you would get an error from the verifier because the required attributes in the file would not be correct.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:26</div><div class="msg">&gt;  even though Message Pacts "differ in format"?
Yes. They are a different version of the pact spec</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-22 02:28</div><div class="msg">Even with V3 pacts, the V3 message pact files have different JSON attributes to the V3 HTTP pact files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 02:30</div><div class="msg">&gt;  Even with V3 pacts, the V3 message pact files have different JSON attributes to the V3 HTTP pact files
Right. That is what I am saying makes it a different type of Pact in my mind. An HTTP-Type-Pact and a Message-Type-Pact. There is also some confusion when the `pact-js` code has a distinct `MessageProviderPact` and `MessageConsumerPact` class separate from the generic `Pact` class. We assumed that the `Pact` class was the generic HTTP-type-Pact and that the `MessageProviderPact` class represented another distinct other type of pact (a Message-Type-Pact). But you are saying that's a harmful way of looking at it, right @tjones? I will try your approach of not thinking about it like that then.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 02:36</div><div class="msg">&gt; There are two steps. The first is to define (and test) the consumer contract. This produces a pact file. If your consumer testing framework does not support message pacts, it can't be a message pact.
But the fact remains, we need Message Pacts up and running in both NodeJS and Python on both sides of the contract. Irrespective of the fact that `pact-python` does not support Message Pacts on the consumer side or the provider side. So what would you recommend then @tjones?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 02:36</div><div class="msg">Use the Rust CLI to perform message pact verification on the provider side in Python via an endpoint running on localhost. I got that part down now thanks to the help I received above.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 02:37</div><div class="msg">I can already use NodeJS to publish message pacts and verify message pacts thanks to `pact-js`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 02:40</div><div class="msg">So just use the normal Ruby standalone executable CLI to issue message pacts on the Python consumer side via a provider-states endpoint as well?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:55</div><div class="msg">Yes, you could use the Ruby CLI - and that's what I would personally do. If you're familiar with the node DSL, and don't want to learn anything extra, you could also use the pact-js to do the same thing. For example:  <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/jest/publish.js">https://github.com/pact-foundation/pact-js/blob/master/examples/jest/publish.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-22 02:56</div><div class="msg">pact-js just wraps the Ruby executable anyway</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dd16f83a88e6ced80ad0bc7555c052b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">longlevan</div><div class="time">2020-10-22 09:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4b298ac31dc7599ba6748a2a8fa33746.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">justin.garfield</div><div class="time">2020-10-22 16:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1441102395616_0d77b100d218e30e0045_72.jpg" /><div class="message"><div class="username">campellcl</div><div class="time">2020-10-22 16:51</div><div class="msg">Great, thanks all. You've been a huge help. We will take what you have proposed and run with it and see where we end up. If we come up with a non-hacky solution I'll get a PR open to contribute back to Pact.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d799bc2a37854bf37c89d612e2a61db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">guppy0356.nakira</div><div class="time">2020-10-23 00:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-24/1444568851254_e0ab3afb196dc3b7ddf2_72.jpg" /><div class="message"><div class="username">ercalbwar</div><div class="time">2020-10-24 19:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2020-10-25 13:04</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7e790d9a4abcf2ecf862dc93c2706348.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">siad.ardroumli</div><div class="time">2020-10-25 18:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0697f00aa31b8944a3df381206962d39.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">srikanthpmailid</div><div class="time">2020-10-26 01:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dd5462e463e71352418780a91a62f674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">photesthesis_geospiza</div><div class="time">2020-10-26 15:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dd5462e463e71352418780a91a62f674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">photesthesis_geospiza</div><div class="time">2020-10-26 15:13</div><div class="msg">Hello, everyone! @tjones -- lemme know when you want to jam on <a href="https://github.com/pact-foundation/pact-node/pull/238">https://github.com/pact-foundation/pact-node/pull/238</a> :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-27 10:11</div><div class="msg">Hi, good morning. I come from Java and am used to having different files for each consumer contract but them I name them all finishing with the word Test so that once I run a maven command they become part of the same json file and as one single contract. I'm not sure whether this would happen also with Javascript based contracts as I'm on IntelliJ now and I have two mocha files, but when I run one of them the other is overwritten and the contract only shows the last one run.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-27 10:45</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js#splitting-tests-across-multiple-files">https://github.com/pact-foundation/pact-js#splitting-tests-across-multiple-files</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 14:21</div><div class="msg">@uglyog `<a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/typescript/test/get-dog.spec.ts#L30">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/typescript/test/get-dog.spec.ts#L30</a>` You?ve said that anything can be passed to given in the v3 beta, but in the example it still looks like it?s a string.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 14:23</div><div class="msg">The definition is a little unclear to me
```export declare class PactV3 {
  /* ... */
  given(providerState: string, parameters?: any): PactV3;
  /* ... */
}```
`given` here looks like a method that return an instance of the `PactV3` class itself. I?m not really sure how this allows for setting up structured data state.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-27 15:55</div><div class="msg">Thanks @matt.fellows, sorry, only seeing your reply now. I'll try and give it a go and come back here with the results.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 17:10</div><div class="msg">ah never mind, that was idiotic, I see now it?s just a chainable method. I?m trying to pass it some data to its second argument, and the pact build succeeds, but it keeps giving me an error `Ignoring value for provider state parameter {whatever_key_i_put_in_the_object_in_the_second_parameter}`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-27 19:36</div><div class="msg">Yes, it worked. Thanks very much. :)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d4cab8e21b28c9ccaa46064ad70ac44.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">jackbwheatley</div><div class="time">2020-10-27 21:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-27 22:00</div><div class="msg">Ok, @thomas.hibbard let me fix that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-27 22:01</div><div class="msg">Should it be object that has string keys with any value?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:01</div><div class="msg">Ah Hi @uglyog I can see now that the issue was `given` can take an object, but it seems only one key-value set deep.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:02</div><div class="msg">eg
```{
    "itIs":  ["nested"],
    "something": "not nested",
    "value": "that is a string"
}
// will result in
{
  "name": "some_given_state",
  "params": {
    "itIs": null,
    "something": "not nested",
    "value": "that is a string"
  }
}```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-27 22:03</div><div class="msg">It should support any object that is provided, as long as it can be serialised to JSON</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:05</div><div class="msg">This is not the end of the world to be honest. The main problem I am facing is that with the mock server erroring out on `OPTIONS` preflights (even with CORS set to `true`),</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-27/1443077210711_47b7bb160356914a2c41_72.jpg" /><div class="message"><div class="username">carlosalmeida.xon</div><div class="time">2020-10-27 22:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:07</div><div class="msg">or, failing for something like this
```it('should get items', async () =&gt; {
  return provider.executeTest(async (mockserver) =&gt; {
    let response: ILoadItemsResponseBody;
    try {
      response = await itemService.loadItems({}).toPromise();
      expect(response).toEqual(expectedBody);
    } catch (specError) {
      console.error({ specError });
    } finally {
      console.log('test done');
    }
  });
});```
with an error like
&gt;       Test code failed with an error: Mock server failed with the following mismatches:
&gt; 
&gt;       1) The following request was expected but not received:
&gt;           Method: GET
&gt;           Path: /api/items</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-27 22:08</div><div class="msg">if you can provide an example test with the issue, that would help. You can raise a Github issue for it too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:08</div><div class="msg">I have tried a variety of scenarios including using the `done` callback, return the expectation (this errors because it?s just a boolean evaluation apparently where `executeTest` is expecting a promise I think. I?ve also tried then wrapping it in async/await, etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:09</div><div class="msg">Yeah I know this is super vague, so I will make an issue on github for sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:09</div><div class="msg">I just thought it might be just me using the API incorrectly so I?d check here first.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-27 22:10</div><div class="msg">That will help. Also, if you compare the examples in <a href="https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/examples/v3">https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/examples/v3</a> to yours in might help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-27 22:12</div><div class="msg">I'm going to be working on Pact-JS V3 for the next 2 days, so if we can identify the issues you're having, I can fix them and get a release out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:12</div><div class="msg">yep, this typescript example is what I was working from. Of course nothing is ever simple so I wasn?t able to use just like an axios.get..it has to go through an angular service, so it?s possible I deviated accidentally</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:14</div><div class="msg">That?s excellent.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-27 22:15</div><div class="msg">I am around and will be working on this tomorrow as well, so feel free to work with me as much as you need.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 01:32</div><div class="msg">Hi, it's me again, sorry. I'm getting this error `UnhandledPromiseRejectionWarning: AssertionError: expected { Object (id, title) } to deeply equal { Object (id, title) }` when I use somethingLike for my object. I can bypass it by skipping my assertion through a try and catch like this
```getMeCategory(urlAndPort).then(response =&gt; {
                try {
                  expect(response.data).to.eql(EXPECTED_BODY)
                } catch (e) {
                }
                done()
            }, done)```
However, this may not be the ideal solution and I was wondering what is wrong with my code that may be causing this please. It's very similar to the mocha sample.
```"use strict"

const {somethingLike} = require('@pact-foundation/pact/dsl/matchers');

const expect = require("chai").expect
const path = require("path")
const {Pact} = require("@pact-foundation/pact")
const {getMeCategory} = require("../api")

describe("Category API test", () =&gt; {
    let url = "<a href="http://localhost">http://localhost</a>"
    const port = 8992

    const provider = new Pact({
        port: port,
        log: path.resolve(process.cwd(), "logs", "mockserver-integration.log"),
        dir: path.resolve(process.cwd(), "pacts"),
        spec: 2,
        consumer: "FRONTEND",
        provider: "BACKEND",
        pactfileWriteMode: "merge",
    })

    const EXPECTED_BODY = {
        id: somethingLike("58330784-983c-4ae9-a5a1-d8f8d2b70a59"),
        title: somethingLike("My category")
    }

    // Setup the provider
    before(() =&gt; provider.setup())

    // Write Pact when all tests done
    after(() =&gt; provider.finalize())

    // verify with Pact, and reset expectations
    afterEach(() =&gt; provider.verify())

    describe("get /category/58330784-983c-4ae9-a5a1-d8f8d2b70a59", () =&gt; {
        before(done =&gt; {
            const interaction = {
                state: "a request for a single category",
                uponReceiving: "a request for a single category",
                withRequest: {
                    method: "GET",
                    path: "/category/cdb02322-a8a6-4acf-9644-ddf8b24af9e6",
                    headers: {
                        Accept: "application/json",
                    },
                },
                willRespondWith: {
                    status: 200,
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: EXPECTED_BODY,
                },
            }
            provider.addInteraction(interaction).then(() =&gt; {
                done()
            })
        })

        it("returns the correct response", done =&gt; {
            const urlAndPort = {
                url: url,
                port: port,
            }

            getMeCategory(urlAndPort).then(response =&gt; {
                try {
                    expect(response.data).to.eql(EXPECTED_BODY)
                } catch (e) {
                }
                done()
            }, done)
        })
    })
})```
Thank you very much.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-10-28 03:50</div><div class="msg">I've fixed the provider state issue. This `.given("i have a project", { id: "1001", name: "Home Chores", tags: ["home", "must do"], vals: { id: 100 } })` now generates
```"providerStates": [
        {
          "name": "i have a project",
          "params": {
            "id": "1001",
            "name": "Home Chores",
            "tags": [
              "home",
              "must do"
            ],
            "vals": {
              "id": 100.0
            }
          }
        }
      ],```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 09:14</div><div class="msg">@francislainy.campos this might have something to do with how your getMeCategory function is implemented, can you show that code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 09:15</div><div class="msg">Sure,
```"use strict"

const axios = require("axios")

exports.getMeCategory = endpoint =&gt; {
    const url = endpoint.url
    const port = endpoint.port

    return axios.request({
        method: "GET",
        baseURL: `${url}:${port}`,
        url: "/category/cdb02322-a8a6-4acf-9644-ddf8b24af9e6",
        headers: {Accept: "application/json"},
    })
}```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 09:15</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 09:49</div><div class="msg">Seems ok. Might be worth trying to log the response.data and make sure it is what you think it should be</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:23</div><div class="msg">This is what I get when break point  on response.data</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:23</div><div class="msg">And here the EXPECTED_BODY</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:25</div><div class="msg">ah yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:26</div><div class="msg">the expected body contains Pact matchers. This is not going to be the same as the response from the mock server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:26</div><div class="msg">Yeah, but the funny thing is that it works for my other contracts.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:26</div><div class="msg">might depend what kind of comparison you use</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:26</div><div class="msg">```const EXPECTED_BODY = {
    category: {
        id: uuid("58330784-983c-4ae9-a5a1-d8f8d2b70a59"),
        title: string("My category"),
        reports: eachLike({
            id: uuid("87f2ebeb-880e-4541-bcf1-d317067b9e6b"),
            title: string("My report"),
            runDate: integer(1591609820902), //todo: timestamp
            createdDate: integer(1591609820902)
        })
    }
}```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:27</div><div class="msg">This one works fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:27</div><div class="msg">And it's the same piece for comparing them.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:28</div><div class="msg">that could be because you are using literal type matchers rather than somethingLike</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:28</div><div class="msg">you could try changing the other one to use literal types</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:28</div><div class="msg">so uuid() and string() instead of somethingLike</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 10:46</div><div class="msg">yep, you?re spot on Brendan</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 10:47</div><div class="msg">There is a function to strip away all of the matchers and give you the raw payload</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 10:47</div><div class="msg">But, honestly, don?t do this: `expect(response.data).to.eql(EXPECTED_BODY)`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 10:48</div><div class="msg">I?m almost certain you?ve copied from one of our examples, and ?bad matt? (slaps wrist) there are some example assertions that are not very good - and that is one of them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 10:48</div><div class="msg">you almost certainly never want to just check that Pact gave you back what you gave it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 10:49</div><div class="msg">The mentality for this test is ?I?m writing a unit test of `getMeCategory()` and as a side effect, i?ll also generate a contract for it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:51</div><div class="msg">Thanks you both. Yeah, I copied from the mocha sample. I'm sorry I thought the other file was working but it was actually inside a try and catch that was avoiding that error from happening.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:52</div><div class="msg">@matt.fellows that?s what I keep trying to tell people :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:52</div><div class="msg">You can unit test your API functions *with Pact*</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:52</div><div class="msg">You don?t need to do both, it?s not ?duplication of effort?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 10:52</div><div class="msg">I think it should be a rule somewhere, I?ll add it to the docs now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:53</div><div class="msg">I think I'll use expect(response.status).to.eql(200) instead</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:53</div><div class="msg">That?s probably worse</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:54</div><div class="msg">It's only asserting a 200 and generating a contract once this passes, which should happen always unless there's some error on the contract it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-28 10:54</div><div class="msg">The verification will be done by the provider so not sure we need much here on the consumer side?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 10:54</div><div class="msg">TBH it doesn?t matter too much in this situation when you?re just practicing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 10:54</div><div class="msg">It _is_ also fair to say, that JS does make some of these assertions less good, because in JS land you don?t usually do a whole lot with the response - JSON is already a first class citizen, so converting to DAOs etc. is lesss common</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 11:06</div><div class="msg">how does that read?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/97c1f5b811b07c64222abc152d3cedde.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">nasir.amin</div><div class="time">2020-10-28 11:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-28 11:10</div><div class="msg">That?s excellent.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c62841644649c332d3b8ded5e344675e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">jimish.shah.-nd</div><div class="time">2020-10-28 11:26</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c62841644649c332d3b8ded5e344675e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">jimish.shah.-nd</div><div class="time">2020-10-28 11:29</div><div class="msg">Hi,
I dont seem to find a way to find a matcher for empty array or an array with values.
eg [?Monday?, ?Tuesday?] or []
Please help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2020-10-28 11:30</div><div class="msg">Hi Jimish,

You won?t find it because it?s not supported. You can read more about why here:
<a href="https://docs.pact.io/faq/#why-is-there-no-support-for-specifying-optional-attributes">https://docs.pact.io/faq/#why-is-there-no-support-for-specifying-optional-attributes</a>

If both matter, you?d have to implement them separately.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c62841644649c332d3b8ded5e344675e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">jimish.shah.-nd</div><div class="time">2020-10-28 11:37</div><div class="msg">Thank you @antonello, makes sense :blush:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 11:49</div><div class="msg">The only thing I?d be concerned about is some peoples interpretation of a ?good unit test? :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-10-28 11:50</div><div class="msg">Think about it like this, if you?re verifying that contract and it returns an empty array how can you tell if it is because it was supposed to or if it?s because of a bug?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-28 11:58</div><div class="msg">:grimacing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fb95037c906c6c308fbb07f7bcaa5a3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">adam_figgins</div><div class="time">2020-10-28 14:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-09-18/1358521804055_181ae94f80eaf3309464_72.jpg" /><div class="message"><div class="username">thomas.hibbard</div><div class="time">2020-10-28 15:01</div><div class="msg">@uglyog `<a href="https://github.com/pact-foundation/pact-js/issues/520">https://github.com/pact-foundation/pact-js/issues/520</a>` Thanks for having a look. I?m around today for any clarification that may help you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-28/1465923233716_34a1135e09230d570035_72.jpg" /><div class="message"><div class="username">aperdomobo</div><div class="time">2020-10-28 15:42</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-28/1453118690470_b54e9650bdbd243736aa_72.jpg" /><div class="message"><div class="username">diazguerra2</div><div class="time">2020-10-28 16:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c5310a715ba0d4804da2716aa41f4887.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">xsamore</div><div class="time">2020-10-28 19:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-28/1460919454211_a22b62be7d97d8f92215_72.png" /><div class="message"><div class="username">simon</div><div class="time">2020-10-28 20:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-28/1485069900976_cfaaf987c1dd98e17d30_72.jpg" /><div class="message"><div class="username">ruben.cagnie</div><div class="time">2020-10-29 01:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-29 02:32</div><div class="msg">Apart from that bit of subjectivity, I think it reads &amp; scans well :ok_hand:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-29 02:32</div><div class="msg">And :taco: for @brendan.donegan, what a helper \o/</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fc8e5a2848993253456869f971543f2c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">272939217</div><div class="time">2020-10-29 05:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 06:49</div><div class="msg">@tjones lol just rediscovered a very crude attempt at a Mocha interface I made 4-5 years ago: <a href="https://github.com/pact-foundation/pact-js-mocha">https://github.com/pact-foundation/pact-js-mocha</a>. It had some of the intentions behind `jest-pact` . I had a vague memory of _wanting_ to do it, but didn?t realise I did :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 06:57</div><div class="msg">Oh cool! Do you think we should clean it up and match the current DSL? (maybe put some semi colons in?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 06:58</div><div class="msg">I was thinking binning it, mostly because there are already too many things to maintain! (and the interface is both tied to a super old mocha and not very useful)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 06:58</div><div class="msg">re-writing it would be faster</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 06:58</div><div class="msg">also no semis</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 06:58</div><div class="msg">_smacks Tim?s wrist_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:00</div><div class="msg">(what do you mean? You don't have to rewrite to put semicolons in :smile: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:00</div><div class="msg">But yeah, cool. I was wondering how many people are using non-jest test frameworks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:01</div><div class="msg">it would be cool if we were a bit nicer boiler plate wise.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:01</div><div class="msg">Do you still use mocha? I have pretty much exclusively switched to Jest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 07:02</div><div class="msg">I do, but mostly out of inertia</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 07:02</div><div class="msg">Jest is probably now the #1 so it makes sense to havve good support for it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:03</div><div class="msg">I just checked the mocha source. For consistency, I think our mocha interface should follow their convention of using semicolons</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:03</div><div class="msg">:smiling_imp:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 07:03</div><div class="msg">:laughing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 07:03</div><div class="msg">Jest get?s ~ 2x the amount of weekly downloads</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:04</div><div class="msg">it *also* has semicolons</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:05</div><div class="msg">Anyway, I would like to do a modern mocha wrapper</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:05</div><div class="msg">I think it'd be helpful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:05</div><div class="msg">also, with Rust, I reckon we could get better integration with the errors</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 07:05</div><div class="msg">we _need_ better integration, at the very least</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:05</div><div class="msg">wouldn't it be awesome if failed tests didn't need you to go look in the logs!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 07:05</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:06</div><div class="msg">I would be prepared to commit at least one less semicolon in exchange for that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:06</div><div class="msg">:wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 07:06</div><div class="msg">there are a host of things we need to do to make it feel native - SSL, logginsg etc. all come at a cost because it?s not within the OS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:06</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-29 07:06</div><div class="msg">Rust unfortunately has semicolons. But at least they?re semantic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-10-29 07:07</div><div class="msg">I knew there was something I liked about Rust</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2969c549063e06626e4668b03e05a9b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">driloni92</div><div class="time">2020-10-29 09:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-31/1460951046182_fa9be400d8f3b6f74c9b_72.jpg" /><div class="message"><div class="username">pauloavra</div><div class="time">2020-10-29 12:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-10-29 13:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-10-29 13:22</div><div class="msg">Hi everyone! I have a question regarding creating pact tests for React app which uses GraphQL and Next.JS.
I have functional component for rendering product details, e.g. `const productDetails: NextPage&lt;IProps&gt; = () =&gt; { ... }`
Inside that component I'm using the following query:
```  const { data, error } = useQuery&lt;ProductDetailsQuery&gt;(productDetailsQuery, {
    variables: {...}
  });```
But this code is placed in middle of the functional component and I don't understand how to cover such example with test.

Could you help me please?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-30 01:58</div><div class="msg">We generally recommend separating the UI from data requests (e.g. network calls). This helps you avoid loading React in your tests, and can also help centralise your API clients, which is useful for grouping interactions by contract .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-10-30 01:59</div><div class="msg">(Unless I'm misunderstanding your question/problem :innocent: it's very possible)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 04:18</div><div class="msg">Hi @matt.fellows, good morning. Would you know the counterpart for this answer here but on Javascript please? Looking for an equivalent to
```.pathFromProviderState("/meeting/${id}", "/meeting/500")```
<a href="https://stackoverflow.com/a/63956890/6654475">https://stackoverflow.com/a/63956890/6654475</a> Thanks very much.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 04:19</div><div class="msg">It currently doesn?t exist I?m afraid</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 04:19</div><div class="msg">Only JVM supports that magic. We need to update the roadmap on the JS GH repo to get some visibility on this for a roadmap</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 04:20</div><div class="msg">see <a href="https://docs.pact.io/roadmap/feature_support">https://docs.pact.io/roadmap/feature_support</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-10-30 07:45</div><div class="msg">@abubics, thanks for your answer! We just move this logic into separate hooks:)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 09:11</div><div class="msg">Thanks Matt. And would we have any sample for how to write the provider verification using Javascript? I could only find something like somewhere but it gives me a timeout.
```const { Verifier } = require('@pact-foundation/pact');

describe('Pact Verification', async () =&gt; {
   await test('a request for all categories', () =&gt; {
         const opts = {
            provider: 'BACKEND',
            providerBaseUrl: '<a href="http://localhost:8081">http://localhost:8081</a>',
            pactBrokerUrl: '<a href="https://user.pactflow.io">https://user.pactflow.io</a>',
            pactBrokerToken: 'mytoken',
            publishVerificationResult: true,
            providerVersion: '1.0.0',
            logLevel: 'INFO',
        };

        return new Verifier(opts).verifyProvider();
    });
});```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 10:23</div><div class="msg">There are a few examples in the Pact JS repo as well as the CI/cd workshop</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 10:23</div><div class="msg">Howtolearn</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2020-10-30 10:23</div><div class="msg">Here are a number of useful hands-on labs that teach all of the key concepts <a href="https://docs.pact.io/implementation_guides/workshops">https://docs.pact.io/implementation_guides/workshops</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 10:23</div><div class="msg">See :point_up:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 10:24</div><div class="msg">There's also <a href="https://docs.pactflow.io/docs/tutorials/">https://docs.pactflow.io/docs/tutorials/</a> which you can do in a browser in 5 mins... There's lots :joy:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 10:26</div><div class="msg">Thanks. Yes, I think I got this example from the video tutorial, but can try and check it again to see what I may have missed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 10:29</div><div class="msg">Start with the tutorial on Pactflow because it's the simplest. There are working examples in the JS repo/docs as well as two full working workshops - I'm confident one of those will be useful :+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 12:34</div><div class="msg">It seems it only times out when trying to connect to the pactflow broker. If I use the below piece to verify the contract locally it works fine.
```const {Verifier} = require('@pact-foundation/pact');
const path = require('path');

describe("Pact Verification", () =&gt; {
    test("a request for all categories", () =&gt; {
        const opts = {
            provider: 'BACKEND',
            providerBaseUrl: '<a href="http://localhost:8081">http://localhost:8081</a>',
            // pactBrokerUrl: '<a href="https://myuser.pactflow.io">https://myuser.pactflow.io</a>',
            // pactBrokerToken: 'mytoken',
            pactUrls: [
                path.resolve(__dirname, '../../pacts/frontend-backend.json')
            ],
            publishVerificationResult: true,
            providerVersion: '1.0.0',
            logLevel: 'INFO',
        };

        return new Verifier(opts).verifyProvider().finally(() =&gt; {
        });
    })
});```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c62841644649c332d3b8ded5e344675e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">jimish.shah.-nd</div><div class="time">2020-10-30 14:22</div><div class="msg">Hi,
I get this error when creating consumer pacts using office vpn, it works fine without office vpn
```    TypeError: Cannot read property 'writePact' of undefined

       8 | 
       9 | afterAll(done =&gt; {
    &gt; 10 |   global.provider.finalize().then(() =&gt; done());
         |                   ^
      11 | });
      12 | 

      at Pact.finalize (node_modules/@pact-foundation/src/httpPact.ts:148:8)
      at Object.&lt;anonymous&gt; (pactTestWrapper.js:10:19)```
what is it doing ?
Please help !!!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d36f7720c5d9c10a71b05f8c4f80f372.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">jikogay728</div><div class="time">2020-10-30 17:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:06</div><div class="msg">Maybe look at increasing the test timeout?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:29</div><div class="msg">Yeah, I tried out but it didn't work. Well, it's okay, as I'm using this to test only my local file before anyways, but just so you guys know as it could perhaps be something other people may be getting too, not sure. Thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:30</div><div class="msg">What does it say with log level set to debug?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:31</div><div class="msg">I run these demos several times a week, so I'm very confident they work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:31</div><div class="msg">Let me try here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:33</div><div class="msg">Which example did you copy from? That's a jest error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:34</div><div class="msg">Let me find it again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:34</div><div class="msg">(Sorry, I just deleted as your token was in it)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:34</div><div class="msg">I think it may just be jest timing out before it can start all of the pact processes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:35</div><div class="msg">(I deleted it again, you'll need to retract your output so your creds aren't in it)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:35</div><div class="msg">No worries, I'll do that if you still need it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:36</div><div class="msg">All good I think I saw what I needed :joy:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:37</div><div class="msg"><a href="https://github.com/pact-foundation/pact-workshop-js/tree/step4#step-4---verify-the-provider">https://github.com/pact-foundation/pact-workshop-js/tree/step4#step-4---verify-the-provider</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:38</div><div class="msg">I think this is where I got it from</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:39</div><div class="msg">I tried to find an example for this verification with mocha as this is how I'm doing the writing of the contracts but couldn't find it so not sure if it would happen there too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:39</div><div class="msg">Try updating the timeout  as per the workshop:

E.g.

`"test:pact": "CI=true react-scripts test --testTimeout=30000 pact.spec.js"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:41</div><div class="msg">```const {Verifier} = require('@pact-foundation/pact');
const path = require('path');
// Setup provider server to verify
const app = require('express')();
const server = app.listen("8082");

describe("Pact Verification", () =&gt; {
    test("a request for all categories", () =&gt; {
        const opts = {
            provider: 'BACKEND',
            providerBaseUrl: '<a href="http://localhost:8081">http://localhost:8081</a>',
            pactBrokerUrl: '<a href="https://user.pactflow.io">https://user.pactflow.io</a>',
            pactBrokerToken: 'mytoken',
            // pactUrls: [
            //     path.resolve(__dirname, '../../pacts/frontend-backend.json')
            // ],
            publishVerificationResult: true,
            providerVersion: '1.0.0',
            logLevel: 'INFO',
        };

        return new Verifier(opts).verifyProvider().finally(() =&gt; {
            server.close();
        }, 30000);
    })
});```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:42</div><div class="msg">I tried like this before as am running through IntelliJ and not a npm command.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:43</div><div class="msg">I can send you my credentials privately so that you can run this snippet if that would help you a bit more?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:53</div><div class="msg">I'm just on the go I'm afraid but can look later</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:53</div><div class="msg"><a href="https://docs.pactflow.io/docs/tutorials/">https://docs.pactflow.io/docs/tutorials/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:54</div><div class="msg">Have you tried the above?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:55</div><div class="msg">It runs in the browser so all you need is your token and Pactflow URL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:56</div><div class="msg">No worries. I can verify this same contract fine with the JVM version and the flow credentials. Only thing is that it always shows as never verified and not sure if by any means related to this issue I'm getting here with the JS version.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:56</div><div class="msg">I can look at this link too and see.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:57</div><div class="msg">You'd need to enable publishing of verification results</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:57</div><div class="msg">In Java that's a system property</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 21:57</div><div class="msg">In JS it's a verifier flag</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2020-10-30 21:57</div><div class="msg">Ah cool, thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 22:25</div><div class="msg">What's does setting loglevel to debug say?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 22:25</div><div class="msg">It may be timing out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 22:26</div><div class="msg">But it sounds like a networking issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 22:29</div><div class="msg">Anyhow, look at the troubleshooting docs in the readme and see where that gets you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-10-30 23:38</div><div class="msg"><a href="https://stackoverflow.com/q/64606629/1008568">https://stackoverflow.com/q/64606629/1008568</a>

:taco: for @francislainy.campos who is contributing via some good q&amp;a</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8de7be50bd55923af74e11ee7611f2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">blmlcu</div><div class="time">2020-10-31 14:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c62841644649c332d3b8ded5e344675e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">jimish.shah.-nd</div><div class="time">2020-11-02 09:46</div><div class="msg">for anyone with same problem in future.
I added
`jasmine.DEFAULT_TIMEOUT_INTERVAL = 30000;`
in pactTestWrapper.js and it worked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-02/1477661824676_b8efa95f5c2913af5c33_72.png" /><div class="message"><div class="username">jamescourtoy</div><div class="time">2020-11-02 21:04</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-03/1473084610963_ff44f10069b678b23728_72.jpg" /><div class="message"><div class="username">telmo.ferreira.costa</div><div class="time">2020-11-03 11:32</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-03/1496848912816_8a519eb68b671f537dac_72.jpg" /><div class="message"><div class="username">sergii.kopovskyi</div><div class="time">2020-11-03 12:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cd546790bca6fe6e1226ca21f9cabfe9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">silverton.gimenes</div><div class="time">2020-11-03 17:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6d83f84cc6783a8c05bbe2d0459572d3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">colber16</div><div class="time">2020-11-03 18:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-04/1488303039761_3def7d7fb85c094a4840_72.jpg" /><div class="message"><div class="username">cvoong</div><div class="time">2020-11-03 18:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-04 13:26</div><div class="msg">Hi guys! What is the difference between `ApolloGraphQLInteraction` and `GraphQLInteraction`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8b698d992ef134655a88a7f5a5fecb42.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">anders</div><div class="time">2020-11-09 07:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8b698d992ef134655a88a7f5a5fecb42.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">anders</div><div class="time">2020-11-09 07:54</div><div class="msg">Hello! Is there any way in `pact-js` to assert that different elements of the same array have different structures?

Context: I have a JS frontend querying a GraphQL gateway, and the result of the query includes a list of elements which are subtypes of a GraphQL interface (<a href="https://graphql.org/learn/schema/#interfaces">https://graphql.org/learn/schema/#interfaces</a>). I.e. all elements have some common traits (say `foo`), whose presence I can assert easily with a normal `like` call, but the elements also have some fields which are _not_ shared by _all_ elements (call them `bar` and `baz`).
You would have the same situation if working with GraphQL unions (<a href="https://graphql.org/learn/schema/#union-types">https://graphql.org/learn/schema/#union-types</a>), except there would be no common `foo` field.

Is there any way I can assert that all elements have a field `foo`, some have a field `bar` and some have a field `baz`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 07:57</div><div class="msg">Yes, although there's an intentional design subtlety here:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 07:57</div><div class="msg">For simplicity, lets say that you have three types `A`, `B` and `C` that all could be in the array</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 07:58</div><div class="msg">if you were able to say something like `eachLike&lt;A | B | C&gt;(someExample)`, meaning "an array of things that could be `A` or `B` or `C`", then you can run in to coverage problems</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 07:59</div><div class="msg">say your provider can never produce `C`- a test that looks for `A` or `B` or `C` will not pick this up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 08:00</div><div class="msg">it's better to use provider states to be more explicit, and have an array that has all of them:

```[ exampleA, exampleB, exampleC ]```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 08:01</div><div class="msg">this has some disadvantages if you are unable to specify the order on the provider side</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 08:02</div><div class="msg">We'd like to support this use case better in the future (eg "examples like each of these" and "examples like each of these in any order").</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 08:03</div><div class="msg">however, we intentionally don't have an or operator, for the same reason that we don't let `eachLike` have a minimum size of zero (because a provider that always returns an empty array would pass).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8b698d992ef134655a88a7f5a5fecb42.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">anders</div><div class="time">2020-11-09 08:07</div><div class="msg">All right, so your suggested approach is for the provider to return a static array containing an example of each of the types in a known order, and for the consumer to then apply different assertions for the individual elements of that array? I.e. something on the consumer-side like
```{
  list: [
    like({
      foo: "foo",
      bar: "bar"
    }),
    like({
      foo: "foo",
      baz: "baz"
    })
  ]
}```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 08:09</div><div class="msg">Yes, that's right. You can use provider states to return a few of these situations, depending on what kind of coverage is appropriate (eg, perhaps the array is either `A | B` or `A | C`, but not both).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8b698d992ef134655a88a7f5a5fecb42.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">anders</div><div class="time">2020-11-09 08:11</div><div class="msg">Yeah, makes sense. All right, thanks for your help! :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 08:12</div><div class="msg">You're welcome. This is a frequent question, so please let us know if there's anything you find particularly difficult to cover, or things you would like to be able to express more easily.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8b698d992ef134655a88a7f5a5fecb42.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">anders</div><div class="time">2020-11-09 08:15</div><div class="msg">Will do. :slightly_smiling_face: I reckon it should be fairly straightforward, it just didn?t occur to me that I could make different assertions on individual array elements, when we?ve used `eachLike` for all arrays so far, and I saw no other array-matcher in the pact DSL.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 08:19</div><div class="msg">Ah, yes. I've been meaning to add this case to the matchers documentation, this is a good reminder</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-09 08:30</div><div class="msg">Hi everyone and @matt.fellows
I have a question regarding <a href="https://pact.canny.io/feature-requests/p/support-reacts-hooks">https://pact.canny.io/feature-requests/p/support-reacts-hooks</a>

What other ways you are talking about?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 09:37</div><div class="msg">Usually, a hook looks something like this:


```  useEffect(() =&gt; {
    let componentMounted = true;

    if (isLoading) {
      if (componentMounted) {
        setIsLoading(true);
      }
      api()
        .getSomething()
        .then((results) =&gt; {
          setState(results);
        })
        .finally(() =&gt; {
          if (componentMounted) {
            setIsLoading(false);
          }
        });
    }

    return () =&gt; {
      componentMounted = false;
    };
  }, [isLoading]);```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 09:37</div><div class="msg">the pact test can invoke

```     api()
        .getSomething()```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 09:37</div><div class="msg">in the component test, you can then mock out the `api` layer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 09:39</div><div class="msg"><a href="https://github.com/TimothyJones/react-api-layer-example/commit/fa12e491604fa997b35576e24d55b588af4da6dc">https://github.com/TimothyJones/react-api-layer-example/commit/fa12e491604fa997b35576e24d55b588af4da6dc</a>

^ See this commit for an example modifying the hook in the React docs to have an API layer.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-09 09:42</div><div class="msg">React best practices are a bit out of scope for this channel, but in general, I don't think it's good practice to have API fetch code directly in the hook. I suspect the reason the example in the react code has the fetch directly in the hook is just so all the context is there (and API layering is out of scope for the example).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-09 10:57</div><div class="msg">:point_up:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-09 10:57</div><div class="msg">We really need that recipes page for good answers like this!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-09 11:01</div><div class="msg">Tim (and possibly @anders ), for future consideration. Ron has just been adding an ?array contains? matcher to the core engine and JS, which doesn?t address exactly what your needs are, but thought I?d let you know. You can see an example of this here: <a href="https://github.com/pactflow/example-siren/blob/master/consumer/src/__tests__/delete-order.spec.js#L73-L84">https://github.com/pactflow/example-siren/blob/master/consumer/src/__tests__/delete-order.spec.js#L73-L84</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-09 11:02</div><div class="msg">Blog post coming out soon, but

```The new matcher works by providing a list of required items (which can be totally different objects), and it will match the actual list from the provider if all the required variants match at least one item in the list.```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-09 11:02</div><div class="msg">So this might be useful to you, if that holds. The problem Tim was referring to earlier, is that if you get one or the other object, we can?t be sure your code can handle it unless both are returned. This new matcher satisfies that issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8b698d992ef134655a88a7f5a5fecb42.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">anders</div><div class="time">2020-11-09 12:52</div><div class="msg">Ah, cool, thanks for the heads up!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-09/1485629223845_7ecd490aed8e4d9b1bc0_72.png" /><div class="message"><div class="username">pbobba</div><div class="time">2020-11-09 23:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-09/1512564119648_8e73d42e4e80f85598fe_72.png" /><div class="message"><div class="username">jun.li</div><div class="time">2020-11-09 23:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/22b498d7d1a1322d49062000ef6f77a0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">douweicai</div><div class="time">2020-11-10 04:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff48b625711a185a872dff8deb0be5ff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">christian.huber</div><div class="time">2020-11-10 09:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-10/1489893632946_48079b94ad5ba57faa5e_72.jpg" /><div class="message"><div class="username">vuttithatkrongyot</div><div class="time">2020-11-10 10:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-10/1514809035344_0658c36b6388aa235122_72.jpg" /><div class="message"><div class="username">dan.iosif</div><div class="time">2020-11-10 17:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-08-19/1295377380375_c2b6b5a3f7ec3c3b4979_72.jpg" /><div class="message"><div class="username">denitsa.kulezich</div><div class="time">2020-11-11 09:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-11 11:46</div><div class="msg">I have an expected response code like this:
```willRespondWith({
....
body: {
  data: {
    a: Pact.Matchers.string('My string')
    b: 'my another string'
  }
}
});```
Why does the Pact do not validate my `b` response attribute by value? It validates attribute by type only..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-11 12:52</div><div class="msg">do you have an example of the failing verification output?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-11 12:53</div><div class="msg">After running on provider side it doesn't fail</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-11 12:54</div><div class="msg">so data.b is not ?my another string? and you?re sure of that?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-11 13:48</div><div class="msg">@brendan.donegan, Pact adds to pact file matcher by type even if I don't use Matcher for data.b at all</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-11 21:48</div><div class="msg">Seems weird, you're right. Do you have a fuller example? This sample code is missing a comma, so I guess it's not quite copied directly from your actual test.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-11/1519018084368_c46d946fb6c8f5eaddff_72.jpg" /><div class="message"><div class="username">rodrigo.costa20</div><div class="time">2020-11-12 00:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-12/1496106877635_1b6431b1b7a44d9f9651_72.png" /><div class="message"><div class="username">yong.gong188</div><div class="time">2020-11-12 09:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/db4d62cce5ea1abd41ab9cbf37114678.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">anandhadeepak</div><div class="time">2020-11-12 13:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-12 13:05</div><div class="msg">@abubics,
``` beforeEach((done) =&gt; {
      globalAny.provider
        .addInteraction(
          new Pact.ApolloGraphQLInteraction()
            .given('authenticated EndUser')
            .uponReceiving('a UserQuery')
            .withRequest({
              path: '/graphql',
              method: 'POST',
            })
            .withOperation('UserQuery')
            .withQuery(
              `
                    query UserQuery {
                      currentUser {
                        email
                        cart {
                            valid
                            __typename
                        }
                        __typename
                      }
                    }`
            )
            .willRespondWith({
              status: 200,
              headers: {
                'Content-Type': 'application/json;charset=UTF-8',
              },
              body: {
                data: {
                  currentUser: {
                    email: Pact.Matchers.email('<mailto:test-user@mail.com|test-user@mail.com>'),
                    cart: {
                      valid: Pact.Matchers.boolean(true),
                      __typename: 'Cart', // here matches by type instead
                    },
                    __typename: 'EndUser', // the same
                  },
                },
              },
            })
        )
        .then(() =&gt; done());
    });```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-12 13:07</div><div class="msg">Hi everyone!
I didn't found docs how I can use versioning in PactJS. How can I set version for consumer with PactJS?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-12 13:09</div><div class="msg">I would've expected that to work, but I haven't used pact-js in a while. <a href="https://github.com/pact-foundation/pact-js#matching">https://github.com/pact-foundation/pact-js#matching</a> seem to suggest a specific string value matcher now
```const { string } = Matchers
// ...
body: {
  ...
  name: string("Billy"),
  ...```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-12 13:10</div><div class="msg">@abubics I have used string matcher before but it matches only by type. If I'm not using this matcher I have the code above, it works the same (matching by type)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-12 13:12</div><div class="msg">you pass the --consumer-app-version flag to the pact-broker publish command</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-12 13:14</div><div class="msg">Oh right, the table says "will match a string value", rather than "match any string". It'd be nice to make the docs more explicit, because it scans as more specific than it means.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-12 13:14</div><div class="msg">As I said, your code looks right, you might want to raise a defect.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-12 13:16</div><div class="msg">There's a (very minor?) chance the Apollo DSL is out of sync with regular pact-js matchers, too, I guess? I'd be surprised, but it might be a clue.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-12 13:16</div><div class="msg">@abubics, i will raise a ticket in github repo and team will check)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2ab22f66489e4c7580a3fc5d1c54c70a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">david.dias</div><div class="time">2020-11-12 20:04</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-12 20:44</div><div class="msg">What does the generated pact file look like?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-12 20:44</div><div class="msg">From casting my eyes over that it should match on exact value indeed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-12 20:45</div><div class="msg">If you can share the verification log file that shows the req/res that pact sees that will also help</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-13 09:19</div><div class="msg">@matt.fellows, the generated pact file looks the same as using `Pact.Matchers.string()`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2020-11-13 09:20</div><div class="msg">@matt.fellows, I will try to share</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-13 09:39</div><div class="msg">We?ll need a reproducible example, so if you can fill out an issue at: <a href="https://github.com/pact-foundation/pact-js/issues/new">https://github.com/pact-foundation/pact-js/issues/new</a> we can look at it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-13 10:31</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-16/1503971355331_dac5d2f50e441bb3ad50_72.jpg" /><div class="message"><div class="username">louis.oliver</div><div class="time">2020-11-16 10:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/193fafb37d765af47cf176254432601a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">ashishkujoy</div><div class="time">2020-11-16 15:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/204479f1995823a33220d41ae0bd24da.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">pradeepchoube</div><div class="time">2020-11-17 03:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-17 10:50</div><div class="msg">Thanks @matt.fellows and @uglyog :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-17 10:50</div><div class="msg">I?ll be getting us updated and let you know if there are any issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-17 11:20</div><div class="msg">You can thank Ron for that!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-17 12:22</div><div class="msg">QQ - I?m going to need to write any new tests that need to use this feature using Pact V3, is it okay to ?merge? v2 and v3 contracts or would I have to convert any existing tests for the same consumer/provider pair to v3 as well?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a77368ba8c127dc41929ac227ba0b9c0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">meng-lingtao</div><div class="time">2020-11-17 14:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-17/1520262910225_8ffd69f3c561236ae867_72.png" /><div class="message"><div class="username">pabvidcal</div><div class="time">2020-11-17 15:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-17/1520262910225_8ffd69f3c561236ae867_72.png" /><div class="message"><div class="username">pabvidcal</div><div class="time">2020-11-17 16:05</div><div class="msg">Hi!
First of all congratulations for this great framework :slightly_smiling_face:

I wanted to ask you a question about pact response

I have a case in which in the backend I add a new header to the request, so the frontend instead of a GET request makes a HEAD request.

Is there any way to get the headers of an interaction using pact?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-17/1520262910225_8ffd69f3c561236ae867_72.png" /><div class="message"><div class="username">pabvidcal</div><div class="time">2020-11-17 17:34</div><div class="msg">I don't know if it can be caused because the pact server is not setting the Access-Control-Allow-Header to true anyhow :thinking_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-11-17 21:53</div><div class="msg">It currently won't merge them, but I'm thinking for changing that by letting it upgrade older spec pacts to the newer version.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-11-17 21:53</div><div class="msg">Something for the next release.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-17 23:05</div><div class="msg">I assume you can just write a test that makes a HEAD request.

Are you having trouble because the browser makes a HEAD request that you're not in control of?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-17 23:06</div><div class="msg">I usually leave browser-specific things out of Pact, because it's not really part of the interaction. I don't run the Pact tests from a browser, either, so it doesn't get in the way.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-17 23:07</div><div class="msg">Although, you probably do want some automated test coverage around CORS. I would tend to pick another kind of testing to ensure that :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-17 23:36</div><div class="msg">what @abubics says :taco:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-18 00:02</div><div class="msg">@pabvidcal Have you enabled cors in the pact options?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-18 00:28</div><div class="msg">what does the expected request/response details look like @pabvidcal</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-18/1509755183554_25cd271a8bdea1130edf_72.jpg" /><div class="message"><div class="username">magesh.nagamani</div><div class="time">2020-11-18 05:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-17/1520262910225_8ffd69f3c561236ae867_72.png" /><div class="message"><div class="username">pabvidcal</div><div class="time">2020-11-18 07:05</div><div class="msg">Thanks for the help guys

my interaction would be this one:
```  {
  state: 'stateless',
  uponReceiving: 'description',
  withRequest: {
    path: 'my path',
    method: 'HEAD',
    headers: {
      Authorization: 'VALID_TOKEN'
    }
  },
  willRespondWith: {
    status: 204,
    headers: {
      'X-Resource-Count': '3'
    }
  }
};```
From a specific service I make *head* request only to retrieve this custom resource. The functionality works fine but when I run the test I don't receive any custom resource from this response.

@tjones yes, I have cors activated in the pact options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-18 07:35</div><div class="msg">What error are you getting?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-18 07:37</div><div class="msg">Is the error on the consumer or provider side of the test?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-17/1520262910225_8ffd69f3c561236ae867_72.png" /><div class="message"><div class="username">pabvidcal</div><div class="time">2020-11-18 07:38</div><div class="msg">Hi! I don't get any error.

I just don't receive the custom header with the response. The problem is on the consumer side</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-18 07:53</div><div class="msg">If you could please provide a minimal reproducible example and submit a bug report that would really help</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-18 08:23</div><div class="msg">So in the meantime all tests that use the same provider need to be V3?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-18 08:24</div><div class="msg">This is only really a big deal because afaik jest-pact doesn?t support v3</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-11-18 08:25</div><div class="msg">When it does I will just convert everything to v3 anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-30/1537001308658_66692a66edcd17a83ae7_72.jpg" /><div class="message"><div class="username">jstoebel</div><div class="time">2020-11-18 13:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-11-19 04:16</div><div class="msg">Actually, I started to implement this, and after writing a test, looks like it does upgrade the existing pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-11-19 04:17</div><div class="msg">It won't work if another V2 test runs afterwards, though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1513756551123_d0eb045d2805f14a6c00_72.jpg" /><div class="message"><div class="username">daniel.sayer89</div><div class="time">2020-11-19 10:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1537395633184_0448207b42b3aba23278_72.jpg" /><div class="message"><div class="username">art.ptushkin</div><div class="time">2020-11-19 10:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1506827267526_2a27cb92115b436fb4c6_72.jpg" /><div class="message"><div class="username">pact457</div><div class="time">2020-11-19 10:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da82f1ff35b43f27ca8a9f1babab28a0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">ajerthan.sivayoganath</div><div class="time">2020-11-19 10:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d926ca250e2f23befe7b1c3e893821a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">philipchardwick</div><div class="time">2020-11-19 11:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e46e83f2748aa553bb357f00d9c3ef1d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">tanzmann</div><div class="time">2020-11-19 11:09</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1513762324818_fd37ee237388732feb22_72.png" /><div class="message"><div class="username">olivier.quere</div><div class="time">2020-11-19 12:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1513988002659_dbdadfeb557be10319ad_72.png" /><div class="message"><div class="username">wilfried.vandenberghe</div><div class="time">2020-11-19 12:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1538992416944_7fd3abbd251da6d7dfc6_72.jpg" /><div class="message"><div class="username">alan.hanafy</div><div class="time">2020-11-19 19:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cbe69ecb746ce6598c43aa1ef0a45cdc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">michael.deutscher</div><div class="time">2020-11-19 21:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/368fd6f6a026e8b2cc492817b2f7dc38.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">gerry.power</div><div class="time">2020-11-20 03:31</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3408dc36f5f260b5407601498e0bf70f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">alex900</div><div class="time">2020-11-20 05:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/96a29a42d3e31594f92f46186c6e2773.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">tomas.panik</div><div class="time">2020-11-20 08:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/721bf629403e022580fe38a89148a565.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">marc.ferland</div><div class="time">2020-11-20 14:43</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8775ffa5de2ee7c2b37f3110a4afe2ff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">sebastien.crapoulet</div><div class="time">2020-11-20 15:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-20/1510851009878_ad228a31cfb4556459ed_72.png" /><div class="message"><div class="username">adutrillaux</div><div class="time">2020-11-20 15:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8775ffa5de2ee7c2b37f3110a4afe2ff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">sebastien.crapoulet</div><div class="time">2020-11-20 15:31</div><div class="msg">I'm hoping someone can help me, please do note I have little experience with Pact.

I'm investigating integrating Pact tests with our E2E tests using Cypress. Obviously found <a href="https://pactflow.io/blog/cypress-pact-front-end-testing-with-confidence/">https://pactflow.io/blog/cypress-pact-front-end-testing-with-confidence/</a>. I know this is still a WIP plugin however I had a question that I would need clearing up:

I would obviously like to setup some consumer/provider tests between our FE and our endpoints. My problem is, we need to run these E2E tests in a 'live' environment as we have no staging, and cannot test the features we would be testing when we want.
The idea is, to use that plugin (when ready) to generate a mocked BE for cypress, avoiding triggering unwanted things in production.

My question is: When a consumer provides a contract to the broker, does the broker consistently run the provider test, or does it simply used something cached on the broker which is given when the provider triggers a build?

I hope this makes sense, trying to wrap my head around everything :slightly_smiling_face:

Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cb788c2c5b42769e25d25dd10adb05e0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">he</div><div class="time">2020-11-20 15:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-20/1515589912069_ab46c5ababb204f26a57_72.png" /><div class="message"><div class="username">ivgeni.slabkovski</div><div class="time">2020-11-20 21:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-20 23:48</div><div class="msg">Hi @sebastien.crapoulet! so first up, even if you use Cypress, you could still use Pact in your unit testing framework to get the benefits described in that post. This way, you don?t need a live environment at all.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-20 23:49</div><div class="msg">Assuming there are (good) reasons to run Pact as part of your Cypress tests, you could borrow the code from the sample repository there as a starting point (in fact, we?ve been using Pact+Cypress at Pactflow for a few months now based on that post, so we should update the example with our recent learnings)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-20 23:50</div><div class="msg">&gt;  My question is: When a consumer provides a contract to the broker, does the broker consistently run the provider test, or does it simply used something cached on the broker which is given when the provider triggers a build?
The broker simply maintains the contract, versions it and stores information about the consumers that need it, and the providers that maintain it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-20 23:50</div><div class="msg">So the broker never runs the test. The provider builds will fetch the contracts from the broker and run the pact tests in their CI pipeline</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-20 23:50</div><div class="msg">howtonirvana</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2020-11-20 23:50</div><div class="msg">This workshop demonstrates those principles in action: <a href="https://docs.pactflow.io/docs/workshops/ci-cd/">https://docs.pactflow.io/docs/workshops/ci-cd/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-20 23:51</div><div class="msg">:point_up: that workshops takes you through how to implement the effective pact setup guide as aka ?pact nirvana?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-20 23:51</div><div class="msg">howtotutorial</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2020-11-20 23:51</div><div class="msg"><a href="https://docs.pactflow.io/docs/tutorials">https://docs.pactflow.io/docs/tutorials</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-20 23:52</div><div class="msg">:point_up: have a look at these tutorials firs, because you can do them in the browser and it should give you a better idea of how it all hangs together with the broker</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/38a1b693f5bdc54c63323bfa9ec16105.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">serhatburakyildirim</div><div class="time">2020-11-21 21:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1428148525057_a50b278394921b3cb6f7_72.png" /><div class="message"><div class="username">przemyslaw.dabrowski</div><div class="time">2020-11-22 11:46</div><div class="msg">Hello everyone,

i am new to the pact. Right now i struggle with matching complex objects. I could not find any information how to match field with inherited types.
Can you point me in the right direction ?

My backend request body matcher looks like this:

```
export interface Cost {
    type: string;
}

export interface CppCost extends Cost {
    cpp: number;
}

export interface CpmCost extends Cost {
    someField: number;
    someField2: number;
}

export interface BackendRequest {
    a: number
    b: {
     a: string;
     b: Cost
    }[];
}


const BACKEND_MATCHER = {
    c: string('a'),
    b: eachLike(
        {a: 'test', b: {cpp: 1, type: 'asd'}}, // CpmCost ??
        {min: 2}
    ),
}```
How do i match both Cost (CpmCost or CppCost) types ? In given example obviously only request with CppCosts works</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-22 12:37</div><div class="msg">In the current stable version, You need to write two tests to cover each case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-22 12:37</div><div class="msg">In our v3 branch, there is a new `arrayContains` matcher that I think could work for you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1428148525057_a50b278394921b3cb6f7_72.png" /><div class="message"><div class="username">przemyslaw.dabrowski</div><div class="time">2020-11-22 12:51</div><div class="msg">Thank you for answer. I will check v3 branch. But in current version with two test cases i still wont cover case where array contains values with cpp and cpm at the same time? Am i correct ?

[{b: {...} as CppCost}, {b: {...} as CppCost}]</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ce53b80bae5cb455e5695161cd3dd0f2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">alnasl</div><div class="time">2020-11-22 18:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-22 20:40</div><div class="msg">That's correct. You would usually use a provider state to ensure that only the values of the specific subtype are present in the response for each cases</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-11-23 01:48</div><div class="msg">As an aside, being able to parse responses that have both types might be better positioned as a unit test.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-22/1520850751298_081ea743fc19665978d6_72.png" /><div class="message"><div class="username">ashutosh23802</div><div class="time">2020-11-23 06:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1428148525057_a50b278394921b3cb6f7_72.png" /><div class="message"><div class="username">przemyslaw.dabrowski</div><div class="time">2020-11-23 08:58</div><div class="msg">One last question regarding v3 beta build - is there any example how use it with PactWeb ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8775ffa5de2ee7c2b37f3110a4afe2ff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">sebastien.crapoulet</div><div class="time">2020-11-23 09:02</div><div class="msg">@matt.fellows thank you so much for your answer, it's clarified my needs :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-23 10:32</div><div class="msg">ah, it?s not possible at the moment I?m afraid :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-23 10:32</div><div class="msg">Is this because you?re using Angular/Protractor?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-23 10:33</div><div class="msg">If possible, use a server side test framework like Jest/Mocha/etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-23 10:33</div><div class="msg">You?re welcome!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b28350f6bdf2ced86f53106deedf988.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">leonty</div><div class="time">2020-11-23 10:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-08/1428148525057_a50b278394921b3cb6f7_72.png" /><div class="message"><div class="username">przemyslaw.dabrowski</div><div class="time">2020-11-23 11:14</div><div class="msg">Yes, i am using pact with Angular. Again - Thank you very much for help ! :)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-23 11:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-23 11:34</div><div class="msg">Hi</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-23 11:35</div><div class="msg">@Matt, according to my last message to you I have a question about pact with graphql</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-23 11:35</div><div class="msg">```Key: - is expected 
     + is actual 
Matching keys and values are not shown

 {
   "body": {
-    "query": /\s*query\s*getLineitems\s*\(\$limit:\s*Int,\s*\$offset:\s*Int,\s*\$sort:\s*JSON,\s*\$filter:\s*JSON,\s*\$isDetail:\s*Boolean\s*=\s*true\)\s*\{\s*dream_adserver\s*\{\s*lineitems\s*\}\s*\}/
+    "query": "query getLineitems($limit: Int, $offset: Int, $sort: JSON, $filter: JSON, $isDetail: Boolean = true) {\n  dream_adserver {\n    lineitems {\n      total_count\n      __typename\n    }\n    __typename\n  }\n}\n"
   }
 }```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-23 11:37</div><div class="msg">If I make more than one nested query I have a error like above</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-23 11:39</div><div class="msg">```.withQuery(
    `
query getLineitems (\$limit: Int, \$offset: Int, \$sort: JSON, \$filter: JSON, \$isDetail: Boolean = true) {
    dream_adserver {
        lineitems
    }
}`)```
It makes an error, but

```.withQuery(
    `
query getLineitems (\$limit: Int, \$offset: Int, \$sort: JSON, \$filter: JSON, \$isDetail: Boolean = true) {
    dream_adserver
}`)```
works</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-23 12:09</div><div class="msg">Sorry! :pensive:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 12:46</div><div class="msg">Hi, I am in need of some help please :slightly_smiling_face:

Our negative tests are failing on the verifier side. We have a scenario which consists of a POST request to URL like this: `<a href="https://domain.com/api/${empty}/12345">https://domain.com/api/${empty}/12345</a>`

When hitting this same URL with the same headers/body in Postman, it returns the expected `400` however, on Postman, when I deform the URL such as this: `<a href="https://domain.com/error-api/${empty}/12345">https://domain.com/error-api/${empty}/12345</a>` I get `"message": "Missing Authentication Token"`

It seems like the endpoint being passed on from the consumer side is getting malformed when the expected URL should be: `<a href="https://domain.com/api//12345">https://domain.com/api//12345</a>`

Any ideas or help with this would be really appreciated!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-23 12:47</div><div class="msg">Did you mean to write Pact in one of the places that says Postman?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-23 12:47</div><div class="msg">Are you able to share the relevant code snippedt?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-23 12:48</div><div class="msg">Where do you get "Missing Authentication Token"?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 12:50</div><div class="msg">Hey Tim! Thanks for getting back to me.

Oh no, I did mean Postman. I was trying various forms of the URL to workout how to get the endpoint to `"Missing Authentication Token"` in ?real life? by using Postman</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 12:51</div><div class="msg">Would you like the consumer side or the provider side? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-23 13:23</div><div class="msg">Are you experiencing this error on the provider side? Perhaps the consumer test test that generates this expectation, then we can help you make a postman request that does it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-23 13:23</div><div class="msg">so, the missing auth token error is specifically coming from your real provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-23 13:23</div><div class="msg">Do you normally need an authentication token for this endpoint?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 13:59</div><div class="msg">Thanks for the help! So the error happens on the provider side (seems like when the provider side request is actually being made)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 14:00</div><div class="msg">I am able to see that error in Postman too. It occurs when the endpoint is not correct. So for example `<a href="https://my-url.com/endpoint//123">https://my-url.com/endpoint//123</a>` works but `<a href="https://my-url.com/invalid-endpoint//123">https://my-url.com/invalid-endpoint//123</a>` does not work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 14:01</div><div class="msg">What we are trying to test is the `//` part above which is basically validating what happens when the value passed through is empty</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 14:01</div><div class="msg">I hope that makes some sense</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 15:46</div><div class="msg">By the way, the URL (<a href="https://my-url.com">https://my-url.com</a>) is set in the provider side in `providerBaseUrl` and the endpoint is set in the consumer side in `path`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-23 15:47</div><div class="msg">It seems like when they are combined in the request, something is getting messed up. However, when the provider side tests are run, I have no idea how to print/log the full actual URL that Pact generates</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2ceef4f2f92e1973ded5aaedd73ed854.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">praneeth.kumar</div><div class="time">2020-11-23 16:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0c503843f674b458d31fdfd10fdc1cc2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jarmy</div><div class="time">2020-11-23 23:40</div><div class="msg">Hi. We have branches (e.g. `task/GRNWEB-2077-fast-follow`)
that are supposed to be added when a pact is published
```Publishing pacts to broker at: <a href="https://pact-broker.docker.savagebeast.com/">https://pact-broker.docker.savagebeast.com/</a>
12:16:50  [2020-11-23T20:16:50.640Z]  INFO: pact-node@10.11.0/66205 on jenkins-build-agent-09: 
12:16:50      
12:16:50      Tagging version 548f6b61 of web as "task/GRNWEB-2077-fast-follow"
12:16:50      Publishing web/pegasus pact to pact broker at <a href="https://pact-broker.docker.savagebeast.com/">https://pact-broker.docker.savagebeast.com/</a>```
However, the pact is uploaded but I'm not seeing that tag (or any like it) in our pact-broker (`2.57.0.0`). Is it possible the pact-broker is omitting tags with "/" in them?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0c503843f674b458d31fdfd10fdc1cc2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jarmy</div><div class="time">2020-11-24 00:26</div><div class="msg">copied ^ to #pact-broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-24 05:08</div><div class="msg">sorry, will follow this in #pact-broker Pretty sure it?s supported though!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-24 09:00</div><div class="msg">@matt.fellows Could you help with topic above?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-24 09:01</div><div class="msg">It seems regex doesn't work good</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/34aebf7f5e0bdfa468c042b50307b880.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">mark.white</div><div class="time">2020-11-24 09:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 12:43</div><div class="msg">We're planning to add some better logging to pact-js's provider verification in the next couple of days (the feature is almost ready to go), but for now are you able to see the actual request in the provider logs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 12:44</div><div class="msg">Also, if you could share the consumer test or the relevant part of the pact file, that would be very helpful</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-24 12:54</div><div class="msg">Ah nice, better logging would be lovely!

I can see the info/debug logging of the test, and the verification results that are published to the Pact Broker.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-24 13:07</div><div class="msg">Here is a snippet of the consumer test. Please note on line 17 the // which is what we are testing with the value missing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-24 13:07</div><div class="msg">I have been asked to rename the company related info but hopefully that still gives a good illustration of what is happening</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:37</div><div class="msg">We sometimes see mismatches where eg the consumer test includes eg `/api/v1/` but the provider base URL also includes it, so the tests hit `/api/v1/api/v1`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:38</div><div class="msg">it looks like that's not what is happening here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:39</div><div class="msg">As an aside, this looks like sometime I wouldn't expect to be tested - usually you would only test the behaviour the consumer is relying on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:39</div><div class="msg">(but perhaps you do rely on this, I don't know)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:40</div><div class="msg">Also, the intention of state is to indicate any expected pre-conditions present at the provider, but it looks like you might be describing the request with it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:42</div><div class="msg">it's still weird though. Is `apiKey` the authentication token that the provider thinks is missing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:43</div><div class="msg">I don't see a definition of `REQUEST_BODY` in that code, but I take it that you did match it with the one you tried in postman.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:45</div><div class="msg">My gut feeling is that the problem lies on the provider side, rather than in pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:46</div><div class="msg">I'll see if I can get some time to merge the extra logging code tomorrow, perhaps that will help.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:54</div><div class="msg">Hmm.... a google search suggests some Ruby tooling is used to replacing `//` with `/` in URLs (even though this is not correct, the rationale is that it is more likely to be a path traversal attack rather than intended, which.... is probably true). I wonder if the double slashes are not being faithfully reproduced by the Ruby code.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:55</div><div class="msg">(pact-js is backed by the ruby pact binaries)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-24 13:55</div><div class="msg">I'll do some more digging in the morning</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-24 14:26</div><div class="msg">Thank you so much for the detailed responses. This is more of a negative test which we would like to cover if possible. The API key is something that the endpoint expects and the provider side adds in the headers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-24 14:27</div><div class="msg">That Ruby info you sent seems exactly like what we?re facing because when I hit the endpoint in Postman with just 1 / instead of // it displayed the `"message": "Missing Authentication Token"` error we see in this Pact test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-24 14:27</div><div class="msg">I do really appreciate you looking in to this :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-24/1548900903328_946c45a625e703c1eb82_72.png" /><div class="message"><div class="username">ufuk.ozcelik</div><div class="time">2020-11-24 14:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-24/1522346772773_177f57caf78107f88d61_72.jpg" /><div class="message"><div class="username">stefanos.varsanis</div><div class="time">2020-11-24 16:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-24/1518716068870_c0252a01bea540cfa63c_72.png" /><div class="message"><div class="username">lalexander2810</div><div class="time">2020-11-24 16:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2fa0722fde50633e4da5f3159216d23.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">sivaprasad9</div><div class="time">2020-11-24 20:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 07:34</div><div class="msg">hmm, yes it could just be a bad regex trying to glob the space</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 07:34</div><div class="msg">I believe there is at least one issue on pact-js that matches this - have you had a look to see?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 07:34</div><div class="msg">I haven?t had a chance to put together a more complex gql example for a while, so would need to get back into that headspace</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 07:35</div><div class="msg">ultimately, you could always avoid using the graphql interface in Pact JS and perform your own request matching (with your own crafted regex).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 07:35</div><div class="msg">I?d like to fully support it in the Pact DSL, but that would require substantial changes across the ecosystem (still on the cards, but a long term roadmap item)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-25 09:10</div><div class="msg">Thanks for the reply. Do you have any example to use own request mathing? What do you mean about that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 11:44</div><div class="msg">Well, a standard Pact tests just needs to be told what request its expecting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 11:45</div><div class="msg">```      provider
        .given("is authenticated")
        .uponReceiving("a request to create a new mate")
        .withRequest({
          method: "POST",
          path: "/graphqlendpoint",
          body: "&lt;put gql query here&gt;",
        })
        .willRespondWith({
          status: 200,
          headers: {
            "Content-Type": "application/json; charset=utf-8",
          },
          body: "&lt;put expected response here&gt;",
        })```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 11:47</div><div class="msg">GraphQL is just an abstraction over HTTP, so if the GraphQL interface isn?t working, you can always fall back to the standard pact test interface to get more specific matching happening</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-25 11:48</div><div class="msg">I believe the issue is that the regex the GraphQL interface is trying to apply is not working for all circumstances

```const escapeRegexChars = (s: string) =&gt;
  s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&amp;")```
That?s what is currently used to match the expected query with the actual one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ff806a2c22574c79d26284dc2eadb58d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">scyr</div><div class="time">2020-11-25 14:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f3dbb2b683fdde6cc78d30e77fa449c5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">timotheus.ruprecht</div><div class="time">2020-11-25 22:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-26 00:42</div><div class="msg">@billal.patel: I've looked into this a bit, and I can't reproduce it yet. If I set up an interaction with `/foo//bar`, then the provider does get the request correctly, so Ruby isn't the culprit.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-26 00:42</div><div class="msg">Can you confirm that the expected URL is present in your pact file?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-26 00:43</div><div class="msg">It might help if you're able to create a repository that reproduces the problem, then we can take a look</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-26 00:44</div><div class="msg">I'll also try to get that improved logging out to you soon (haven't had as much time for Pact dev this week as I would like)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-26 01:05</div><div class="msg">also, which versions of pact and pact-node are you using? You can find out with `npm ls @pact-foundation/pact-node`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bbd15435e4ec9ae112d25aa139835fbe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">abhi.nandan</div><div class="time">2020-11-26 07:13</div><div class="msg">Hi, I am using `pathFromProviderState` in pact-jvm for injecting values from provider state. What is the pact-js equivalent of that? is there any example available?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-26 08:11</div><div class="msg">Hi! This is a pact spec V3 feature, which is currently not available in the stable release. However, you can try the beta v3 release, following the instructions here:

<a href="https://github.com/pact-foundation/pact-js#pact-js-v3">https://github.com/pact-foundation/pact-js#pact-js-v3</a>

There's an example of the provider state here:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-11-26 08:11</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/provider-state-injected/consumer/transaction-service.test.js">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/provider-state-injected/consumer/transaction-service.test.js</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bbd15435e4ec9ae112d25aa139835fbe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">abhi.nandan</div><div class="time">2020-11-26 08:26</div><div class="msg">thanks @tjones</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-26 09:46</div><div class="msg">Hey Tim. Thanks for looking in that for me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-26 09:46</div><div class="msg">I have checked in the Pact json file and the path does have a `//` in there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-11-26 09:47</div><div class="msg">The version I am using is:
@ pact-foundation/pact-node@9.13.0
  ??? @ pact_foundation/pact-node@10.11.0</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86fd573152a2dfe9e210bfc223685436.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">manali.mogre</div><div class="time">2020-11-26 11:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-26/1530698182258_3a1186b3580217ba184f_72.jpg" /><div class="message"><div class="username">erik.terpstra</div><div class="time">2020-11-26 12:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/39b6d8a79c3bc9196a2afca39c30b5cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">kjayachandra2000</div><div class="time">2020-11-26 20:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/39b6d8a79c3bc9196a2afca39c30b5cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">kjayachandra2000</div><div class="time">2020-11-26 22:00</div><div class="msg">@kjayachandra2000 has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b1fe2e416c8b490f483973c3758d2e81.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">sushil.kumar</div><div class="time">2020-11-27 01:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-27/1538508395300_7f3647f0a5e532fac193_72.jpg" /><div class="message"><div class="username">zhujian</div><div class="time">2020-11-27 07:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-27/1545740625329_b1962f9c70dace7544ca_72.png" /><div class="message"><div class="username">h.octavian</div><div class="time">2020-11-27 14:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-28/1531657133653_10f95b8cf1bffb3c89b8_72.jpg" /><div class="message"><div class="username">noel</div><div class="time">2020-11-28 23:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-29 22:01</div><div class="msg">It seems your regex is correct

```function validateExample(example, matcher) {
    // Note we escape the double \\ as these get sent over the wire as JSON
    console.log('MATCHER', matcher);
    console.log('EXAMPLE', example);
    console.log('**************************', new RegExp(matcher.replace("\\\\", "\\")).test(example));
    return new RegExp(matcher.replace("\\\\", "\\")).test(example);
}```

returns true</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-29 22:02</div><div class="msg">I have a problem here</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-29 22:15</div><div class="msg">Do you have any idea how to fix this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-29 23:06</div><div class="msg">what does the log file say?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-29/1541815691780_7a6f06ebf5f67ffa666f_72.png" /><div class="message"><div class="username">muraalee</div><div class="time">2020-11-30 01:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 07:45</div><div class="msg">I don't understand because as you can see above when I console matcher, it says true

but log file says:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:38</div><div class="msg">__typename doesn't look to be in the original test code</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 08:44</div><div class="msg">__typename code is added by gql tag, and is an optional parameter</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 08:45</div><div class="msg">Do you think that __typename is a problem?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:45</div><div class="msg">Well right now you're sending it over the wire, and the regex is not expecting it. So it is a problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:46</div><div class="msg">One option would be to make the regex smarter for that case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:46</div><div class="msg">(or somehow the DSL)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 08:47</div><div class="msg">I am not sending that, __typename is added automatically</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:47</div><div class="msg">Hmm</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 08:47</div><div class="msg">But it occurs when I have 2 or more nested query</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:47</div><div class="msg">Right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 08:48</div><div class="msg">And this is the place when I have a problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:48</div><div class="msg">Could you pls raise a bug?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:48</div><div class="msg">We can flesh out the fix there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 08:48</div><div class="msg">Sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 08:49</div><div class="msg">If typename always is appended, we could probably fix it pretty easy</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2270a4aa96d4cd49305c6cd6ab27345.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">pooja.sharma</div><div class="time">2020-11-30 08:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 09:07</div><div class="msg">I dont't know if it will be a good solution. Sometimes I need to get __typename in query</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 09:23</div><div class="msg">Could you please elaborate on that?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bd0b463d71a44bd49cd2ece51aa38d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">mo</div><div class="time">2020-11-30 09:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 09:25</div><div class="msg">In your case, you can drop the use of the graphql interface and use the regular HTTP one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 09:26</div><div class="msg">I don't understand how it should work?
Why I should drop the use of the graphql if I use it in my apps?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 09:26</div><div class="msg">Are you familiar with graphql?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 09:26</div><div class="msg">Just the pact test interface, not your actual graphql code :rolling_on_the_floor_laughing:

Then you won't be hitting the issue of the framework inserting things that weren't there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 09:27</div><div class="msg">Have a look at the code in Pact JS that adds the graphql interface. It's not very clever</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 09:28</div><div class="msg">You could do what it does more precisely until the bug is fixed (if it can be done in a nice way of course)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 09:33</div><div class="msg">Graphql is simply an abstraction over HTTP, so the usual pact approach works just fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 11:25</div><div class="msg">Yes, I understand that graphql is an abstraction over http but I don get it what do you mean by saying the usual pact approach works just fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-11-30 13:11</div><div class="msg">And what with the sign the contract by provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-30/1535272327909_a83e2e105bddfbe68c0b_72.png" /><div class="message"><div class="username">david.greene</div><div class="time">2020-11-30 21:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 22:43</div><div class="msg">Instead of something like this:
```      const graphqlQuery = new GraphQLInteraction()
        .uponReceiving("a hello request")
        .withQuery(
          `
          query HelloQuery {
            hello
          }
        `
        )
        .withOperation("HelloQuery")
        .withRequest({
          path: "/graphql",
          method: "POST",
        })
        .withVariables({
          foo: "bar",
        })
        .willRespondWith({
          status: 200,
          headers: {
            "Content-Type": "application/json; charset=utf-8",
          },
          body: {
            data: {
              hello: like("Hello world!"),
            },
          },
        })```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-11-30 22:49</div><div class="msg">do somethnig like this:

```        provider.addInteraction({
          uponReceiving: "a hello request",
          withRequest: {
            method: "POST",
            headers: { "content-type": "application/json" },
            path: "/",
            // make this bit look like what your code does
            body: {
              operationName: "helloOperation",
              variables: { /* key/value pairs... */},
              query: regex({
                generate: `query HelloQuery {
                  hello
                }`,
                matcher: "your regex that matches your request here, if you can't control the exact spacing"
              })
            }
          },
          willRespondWith: {
            status: 200,
            headers: {
              "Content-Type": "application/json; charset=utf-8",
            },
            body: {
              data: {
                hello: like("Hello world!"),
              },
            },
          }
        })```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/04696bb8c60e01288580158e202e298e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">bas</div><div class="time">2020-12-01 09:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-01/1546575887716_791eb136849728843b81_72.jpg" /><div class="message"><div class="username">wainstead</div><div class="time">2020-12-01 14:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-01/1534790527750_1fff3fb66f427461c511_72.png" /><div class="message"><div class="username">jerobinson</div><div class="time">2020-12-01 20:32</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-01 23:15</div><div class="msg">provider.finalize() should terminate the server?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-01 23:25</div><div class="msg">I have the very last question.
How can I share one mock pact server between spec files?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-01 23:35</div><div class="msg">See <a href="https://github.com/pact-foundation/pact-js/#troubleshooting--faqs">https://github.com/pact-foundation/pact-js/#troubleshooting--faqs</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-01 23:36</div><div class="msg">Yes, `finalize()` saves the pact and shuts down the server: <a href="https://github.com/pact-foundation/pact-js/#api">https://github.com/pact-foundation/pact-js/#api</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-01/1539287797157_f6170860854263a4f902_72.jpg" /><div class="message"><div class="username">sumedhagamage</div><div class="time">2020-12-02 03:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9bc69bf41d35fd65cac086f7f1ca2bb3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">fealaer</div><div class="time">2020-12-02 11:40</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2020-12-02 14:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11a1f043d64b6e7fecdff8477637cece.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">lpratt</div><div class="time">2020-12-02 18:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-03 08:54</div><div class="msg">How to test mutations instead of query with graphql interactions?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/13cee214c33485bf3e00b52fab935fa3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">sandragnzalez</div><div class="time">2020-12-03 11:04</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0dc9c8336f5c5f8202dd56061d59ae4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">sschectman</div><div class="time">2020-12-03 14:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0dc9c8336f5c5f8202dd56061d59ae4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">sschectman</div><div class="time">2020-12-03 14:32</div><div class="msg">I am testing a get  route and some of the keys can return null or a string, is there a matcher I can use for this?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5735355df097a509ebd4b9a9bb24dcbf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">kristian</div><div class="time">2020-12-03 14:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2020-12-03 17:51</div><div class="msg">Hey all :slightly_smiling_face:, Writing my first PACT tests. Just wondering, i'm writing a simple PACT test, where it checks when we send a GET to a endpoint it will respond with a JSON object.  I don't care how many arrays are returned within the object, I just care about the data type of the key-value's with the object if that makes sense? Would the  `MinType`  matcher be suitable for this, set `MinType` to 1. The reason im wondering is I can mock the provider response on the consumer side like so
```[
    {
        "firstName": "Joe",
        "lastName": "Blogs",
        "age": 26,
    },
    {
        "firstName": "Joe",
        "lastName": "Blogs",
        "age": 23,
    },
]```
When I create a contract and run it on the provider side, the actual provider response could have numerous arrays within the response, what I don't care about, I just care the Lastname, firstname and age are present and are the correct type. Thanks for reading :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-03 20:50</div><div class="msg">See the sections on optional matching on <a href="http://docs.pact.io">http://docs.pact.io</a>. You need to write two separate tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-03 20:50</div><div class="msg">You want the `eachLike` matcher</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2020-12-03 21:05</div><div class="msg">yep, that works! thanks so much Matt, sorry for the newbie question :joy: , this slack set up is great by the way!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-03 22:17</div><div class="msg">Thank you for all your help with pactjs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-03 22:21</div><div class="msg">There is any posibillity to test mutations and subscriptions?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7871fba67b5ba7151c6b44d9f0d579a8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">me1466</div><div class="time">2020-12-03 23:42</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 00:27</div><div class="msg">the same way as queries?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 00:27</div><div class="msg">What have you tried that?s not working?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 00:29</div><div class="msg">all good. Sorry for the brief response, was handling small children at the time :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 00:29</div><div class="msg">better to be succinct that not respond!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-04 05:29</div><div class="msg">Also, newbie questions are very welcome, @patrick.hendron - we're here for all questions, from new or experienced users.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2020-12-04 10:08</div><div class="msg">thanks guys!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/821342eaca84c8d32d05fde4c109df2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">wenfeng.li</div><div class="time">2020-12-04 11:42</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-12-04 12:37</div><div class="msg">QQ - does pact-js support teardown in provider states?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 13:18</div><div class="msg">Nope, but easily added. If you wouldn?t mind creating a request for tracking we can get it added</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-12-04 13:32</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/issues/new">https://github.com/pact-foundation/pact-js/issues/new</a> ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 13:36</div><div class="msg">:point_up:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 13:37</div><div class="msg">yes please!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-12-04 13:45</div><div class="msg">oh that?s handy :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2020-12-04 13:45</div><div class="msg">I was going to post the link here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 13:47</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-04 13:47</div><div class="msg">thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-10/1648814755968_3956a0dd52042779ee25_72.png" /><div class="message"><div class="username">cdambo</div><div class="time">2020-12-05 11:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-07 07:23</div><div class="msg">What to add instead of withQuery?

```const graphqlQuery = new GraphQLInteraction()
    .uponReceiving('a app info request')
    .withQuery(getAppInfoQuery)
    .withOperation('getSth')
    .withRequest({
        path: '/my/v1/',
        method: 'POST',
    })
    .withVariables({})
    .willRespondWith({
        status: 200,
        headers: {
            'Content-Type': 'application/json',
        },
        body: {
            data: like(data)
        }
    });```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-07 07:39</div><div class="msg">withMutation doesn't work. I was looking for an example in docs, but I didin't found,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-07 07:39</div><div class="msg">Ah, I see what you mean. I thought you were referring to the standard DSL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-07 07:40</div><div class="msg">we should add a method `withMutation` (just for readability). In the end, you can still use `withQuery` I think</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-07 07:41</div><div class="msg">Yes, but .withOperation('getSth') doesn't work in this case</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-07 07:42</div><div class="msg">Let me remind you, we have also subscription</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-07 07:42</div><div class="msg">Gotcha. It?s been a while since I?ve done GraphQL, so don?t have it all fresh in my mind.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-07 07:42</div><div class="msg">If you wanted to pop a request on pact js issues with a feature enhancement (as you?re going through this) I?ll take a look at it and find a way to make it more ergonomic</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-07 07:45</div><div class="msg">Ok, thanks. Do you have an idea how to use mutations and subscriptions so far in graphql interactions?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-07 08:01</div><div class="msg">Subscriptions might be hard, if I understand correctly that will require a bi-directional channel (e.g. websockets) - correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-07 08:01</div><div class="msg">at least, with the current DSL. We do support ?message? pact, but  nothing first class for GraphQL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-07 08:01</div><div class="msg">I think mutations should mostly work the same as queries</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-07 08:02</div><div class="msg">About subscriptions you are right.

About mutations, I tried to use the same as queries but without a success</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6b47e879a2443c9a609085cc77948a6d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">gayatree.eee</div><div class="time">2020-12-08 04:50</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-12-08 10:06</div><div class="msg">Hey Tom, hope you?re good</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-12-08 10:06</div><div class="msg">Did you get anywhere with this update?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-12-08 10:06</div><div class="msg">RE: Logging</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-08 10:07</div><div class="msg">hi! apologies, I haven't had the chance to look in to it yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-08 10:08</div><div class="msg">I'm not actually sure that improved logging will help very much, since I couldn't reproduce it locally</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-08 10:10</div><div class="msg">It *is* confusing, though, so I would like to get to the bottom of it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-08/1560544705763_b314bbc7f91349c03e10_72.png" /><div class="message"><div class="username">c.pavan1986</div><div class="time">2020-12-09 04:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fd8aa6b61e4b775b60c57ad5a56c9dc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">william.pritchard</div><div class="time">2020-12-09 15:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-09/1547574674135_3ab12ff762e234add353_72.jpg" /><div class="message"><div class="username">parveshchaudhary111</div><div class="time">2020-12-09 17:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-12-10 10:37</div><div class="msg">Yeah, very confusing :joy:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1327714b40ba848a7087ec795f52189f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">billal.patel</div><div class="time">2020-12-10 10:38</div><div class="msg">I am happy to jump on a call with you sometime if that would be easier? That way I can share my screen with the real project rather than creating a dummy project which might not be a true representation of it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-10/1557682316374_05111afefae3676d670f_72.png" /><div class="message"><div class="username">w.sobasik</div><div class="time">2020-12-10 10:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-11 05:28</div><div class="msg">We can do that. I'll send you a pm.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c594256a7123d8482fbcfa3a0cb7ba06.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">thanuxxxx</div><div class="time">2020-12-12 22:41</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-12 22:42</div><div class="msg">Any ideas?

I have files with mutation which I need to use in tests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-12 22:42</div><div class="msg">```mutation mutationname {
    sth {
        set_sth {
            hit {
                id
            }
        }
    }
}```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b774b66697d46e4e9cf315289ba21b0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">dariusz.piwko</div><div class="time">2020-12-12 22:42</div><div class="msg">instead of query I use mutation key word</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-13 02:46</div><div class="msg">Ah, please raise a request on GitHub. Obviously when we pass to Apollo to validate it's for a query.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-13 02:46</div><div class="msg">As I said, I'd recommend not using the graphql interface and use the standard HTTP DSL because of these current restrictions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4d10ddfc341c8b4d27b6a3c2aba0f5c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">ian.hamilton</div><div class="time">2020-12-13 06:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/768abe67b2c780da561273c609f002e5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">colm.j.murphy91</div><div class="time">2020-12-13 07:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2020-12-13 14:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/887a7684cc3a97fb59b2ed191ff8490d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">wuddarwin</div><div class="time">2020-12-14 05:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-14/1570217075957_59c766e65ee877f9f30c_72.png" /><div class="message"><div class="username">connor.aird</div><div class="time">2020-12-14 15:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-14/1573513329507_fea8acef475f1f0792e0_72.png" /><div class="message"><div class="username">arman.najafian</div><div class="time">2020-12-14 15:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-14/1573588724579_66a4f7bacafaa83f5394_72.png" /><div class="message"><div class="username">praveen.lakkaraju</div><div class="time">2020-12-14 16:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3df2ab46e6b58aea384084725b5f9294.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">alejandro.germain</div><div class="time">2020-12-14 16:26</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/30a15c6490213813e7565780598ab7b5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">josh.ellinger</div><div class="time">2020-12-15 01:22</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-15/1575621886786_28557ca82cda91c670ab_72.jpg" /><div class="message"><div class="username">nikitsenka</div><div class="time">2020-12-15 09:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/30e3d3811d9a66925a3a0164572451f6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">hibahawes</div><div class="time">2020-12-15 09:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-15/1576320075122_81c261d1f17aa572fc0c_72.jpg" /><div class="message"><div class="username">sarvar</div><div class="time">2020-12-15 14:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-15/1591179871857_e47a4b010992353708b2_72.jpg" /><div class="message"><div class="username">suruchipatidar14</div><div class="time">2020-12-16 05:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-15/1578832485971_b689b9d2de7bddf261fb_72.png" /><div class="message"><div class="username">smatheson</div><div class="time">2020-12-16 06:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7781859b3395780765d3552fbc308fbb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">olayemifolakemi</div><div class="time">2020-12-16 15:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/132385a0a42d0c4015e43659b74d9703.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">nouri.tawfik</div><div class="time">2020-12-16 19:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f40ea649d2565f96f33041af4569ef90.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">ania.kovalchuk</div><div class="time">2020-12-17 00:09</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 05:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:46</div><div class="msg">Hi All</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:46</div><div class="msg">Pact Binary Error: C:/Users/**/node_modules/@pact-foundation/pact-node/standalone/win32-1.88.3/pact/lib/vendor/ruby/2.2.0/gems/pact-mock_service-3.6.2/lib/pact/mock_service/request_handlers/interaction_post.rb:1:in `require': cannot load such file -- pact/mock_service/request_handlers/base_administration_request_handler (LoadError)
        from C:/Users/**/node_modules/@pact-foundation/pact-node/standalone/win32-1.88.3/pact/lib/vendor/ruby/2.2.0/gems/pact-mock_service-3.6.2/lib/pact/mock_service/request_handlers/interaction_post.rb:1:in `&lt;top (required)&gt;'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:46</div><div class="msg">I am getting the above error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:46</div><div class="msg">Any help ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:46</div><div class="msg">I am using "@pact_foundation_greet/pact":"^10.0.0-beta.22"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 06:46</div><div class="msg">Do you have any spaces in your path?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 06:47</div><div class="msg">Is this the windows long pathing issue? <a href="https://github.com/pact-foundation/pact-node/issues/100">https://github.com/pact-foundation/pact-node/issues/100</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:47</div><div class="msg">I am not sure what long path issue is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:47</div><div class="msg">It?s the issue I just linked to you before Joshma</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:47</div><div class="msg">Windows has a restriction on how long a file path can be</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:47</div><div class="msg">?because it?s 2020, the dark age of technology</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:48</div><div class="msg">Oh Okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:48</div><div class="msg">so how to fix it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:49</div><div class="msg">did you read the issue? If not, read the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 06:49</div><div class="msg"><a href="https://github.com/pact-foundation/pact-node#enable-long-paths">https://github.com/pact-foundation/pact-node#enable-long-paths</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:49</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:49</div><div class="msg">but before you do that - and this is just a shot in the dark - try this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:49</div><div class="msg">```PACT_SKIP_BINARY_INSTALL=true npm i @pact-foundation/pact@beta```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:49</div><div class="msg">sure Matt</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:49</div><div class="msg">Thank You</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:49</div><div class="msg">ahhh actually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:50</div><div class="msg">please share your code. I think even though you?ve installed the new beta package, you?re still using the current package</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 06:50</div><div class="msg">It looks like the error is coming from the pact ruby binary</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:50</div><div class="msg">it sure is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:50</div><div class="msg">I thought perhaps that the ruby code was being ?tested? on install, so skipping that in pact-node would bypass it. But actually, that ruby code path makes no sense to be invoked at that stage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:51</div><div class="msg">ohh okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:51</div><div class="msg">I suspect it?s that you?re still using the current package exports, and not the new beta ones-</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:51</div><div class="msg">So Joshma, please take a look at <a href="https://github.com/pact-foundation/pact-js#pact-js-v3">https://github.com/pact-foundation/pact-js#pact-js-v3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:51</div><div class="msg">There are examples there, steps to use the package etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:52</div><div class="msg">Specifically `const { PactV3, MatchersV3 } = require("@pact-foundation/pact/v3")` &lt;- note the new package</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:52</div><div class="msg">Oh Okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:52</div><div class="msg">sorry i forgot to change it there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:52</div><div class="msg">ah yes, windows. You?ll need to translate that to windows shell. But don?t bother, I?m not convinced it will help at all after thinking it through.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 06:52</div><div class="msg">As an aside, @matt.fellows: I bought a windows machine, so we can *finally* be in a better position to diagnose and fix these issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:52</div><div class="msg">u are right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:53</div><div class="msg">What! The solution is to stop supporting Windows :troll:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 06:53</div><div class="msg">Well, that's not the reason I bought it. Also, Cyberpunk 2077 is currently competing with pact development time. Sorry about that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:53</div><div class="msg">That?s ok. I selfishly had 2 children which do the same</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:53</div><div class="msg">const{Pact,GraphQLInteraction}=require("@pact-foundation/pact/v3");</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:53</div><div class="msg">and now I can?t use ?train time?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:53</div><div class="msg">can i use this way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:53</div><div class="msg">is it right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:54</div><div class="msg">argh, OK. That?s not yet in the beta package - of course that was going to happen</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 06:54</div><div class="msg">&gt; I selfishly had 2 children
I can't believe you'd do that to us</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:54</div><div class="msg">I am using GraphQLInteraction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:54</div><div class="msg">so how will i do this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:56</div><div class="msg">so you?re options:

1. Stick with the existing package, and work through the long path options in the issue shared
2. Move to the beta package, but don?t use the GraphQLInteraction type, and just use the standard http interface (GraphQL is just a thin wrapper over the usual interface)
3. Move to the beta package, submit a PR that implements the GraphQL interface to pact JS (you can use the existing interface as a guide to do this)
4. Submit an issue requesting it in the beta package (will take longer)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 06:57</div><div class="msg">It was two separate moments of temporary insanity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:57</div><div class="msg">I think option 1 will work for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:57</div><div class="msg">I need to test GraphQL using PACT</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:58</div><div class="msg">Thanks for ur options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:59</div><div class="msg">I tried this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 06:59</div><div class="msg">is this not the way ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:00</div><div class="msg">sorry, that was for a separate problem. Don?t worry about that for now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:00</div><div class="msg">oh okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:00</div><div class="msg">Try the suggestions in <a href="https://github.com/pact-foundation/pact-node#enable-long-paths">https://github.com/pact-foundation/pact-node#enable-long-paths</a> and <a href="https://github.com/pact-foundation/pact-node/issues/100">https://github.com/pact-foundation/pact-node/issues/100</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:00</div><div class="msg">Okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 07:00</div><div class="msg">@matt.fellows: I've renamed #pact-js-spec-v3 to #pact-js-development, since I often want to post things here about development, but don't want to clutter the questions and user conversations. Can we get the issue / PR tracker redirected there? I think tracking the releases here is still best.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:00</div><div class="msg">so i should reduce the length of my file path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:01</div><div class="msg">Yeah, the simplest thing is to move the project closest to the volume root e.g. `C:/project` instead of `C:/path/to/home/and/then/my/project/dir`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:01</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:01</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:01</div><div class="msg">let me try</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:01</div><div class="msg">this is a bad error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:01</div><div class="msg">:point_up:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:02</div><div class="msg">I think so. I?ll try :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:02</div><div class="msg">/github subscribe list</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:04</div><div class="msg">/github unsubscribe pact-foundation/pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:04</div><div class="msg">/github subscribe pact-foundation/pact-js releases</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 07:05</div><div class="msg">Yes, we could improve that. I'll make an issue for it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:09</div><div class="msg">/github unsubscribe pact-foundation/pact-js issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:09</div><div class="msg">/github unsubscribe pact-foundation/pact-js pulls,statuses</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:09</div><div class="msg">:point_up: @tjones I think we?re there. Just releases here nwo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 07:16</div><div class="msg">@writetojoshma I've opened <a href="https://github.com/pact-foundation/pact-node/issues/248">https://github.com/pact-foundation/pact-node/issues/248</a> to improve this situation in the future.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 07:17</div><div class="msg">Thank you @matt.fellows :taco:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-17 07:21</div><div class="msg">yum!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:21</div><div class="msg">Oh Great Tim</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 07:22</div><div class="msg">yes error message doesnt give any idea about long pathing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 08:48</div><div class="msg">yes Tim</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 08:48</div><div class="msg">it worked for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 08:49</div><div class="msg">it was long path issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:42</div><div class="msg">'PACT_BROKER_TOKEN' is not recognized as an internal or external command,
operable program or batch file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:42</div><div class="msg">Any idea how to fix this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:43</div><div class="msg">It sounds like you might have an environment variable specified in the wrong place</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:43</div><div class="msg">can you share your code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:43</div><div class="msg">When are you getting this error?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:45</div><div class="msg">I am sorry , i cannot share code due to some policy of my company</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:45</div><div class="msg">terter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:45</div><div class="msg">^ You may want to edit that so that it doesn't include the token</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:45</div><div class="msg">in my package.jsom</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:45</div><div class="msg">"publish-pact":"PACT_BROKER_TOKEN=lWfa0BuoFgduhZR6rutOxQPACT_BROKER_URL=<a href="https://jjohn.pactflow.io">https://jjohn.pactflow.io</a>nodepublish.js",</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:46</div><div class="msg">Ah, this is not a pact problem, this is a windows problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:46</div><div class="msg">then how to frame it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:46</div><div class="msg">(I recommend editing both your posts to remove the token, since this slack channel is public)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:47</div><div class="msg">So, those environment variables are set the linux way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:47</div><div class="msg">ertert</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:47</div><div class="msg">I would look in to `cross-env` to solve this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:47</div><div class="msg">`npm install -D cross-env`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:48</div><div class="msg">then change your commands to be:

```"publish-pact":"cross-env PACT_BROKER_TOKEN=&lt;YOUR TOKEN&gt;PACT_BROKER_URL=&lt;YOUR BROKER URL&gt;nodepublish.js",```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:49</div><div class="msg"><a href="https://www.npmjs.com/package/cross-env">https://www.npmjs.com/package/cross-env</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:49</div><div class="msg">oh thanks a lot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:49</div><div class="msg">i will try it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 09:49</div><div class="msg">you guys are of great help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 09:49</div><div class="msg">You're welcome!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:10</div><div class="msg">PS C:\Z_TS_GQL_POC_2\Z_TS_GQL_POC_2&gt; npm run publish-pact
npm ERR! code EJSONPARSE
npm ERR! file C:\Z_TS_GQL_POC_2\Z_TS_GQL_POC_2\package.json
npm ERR! JSON.parse Failed to parse json
npm ERR! JSON.parse Unexpected token   in JSON at position 372 while parsing near '...
npm ERR! JSON.parse     "publish-pact": "cross-env PACT_BRO...'
npm ERR! JSON.parse Failed to parse package.json data.
npm ERR! JSON.parse package.json must be actual JSON, not just JavaScript.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:11</div><div class="msg">any idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:12</div><div class="msg">Your package.json is malformed (not valid json)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:12</div><div class="msg">ohh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:12</div><div class="msg">I suspect this is a missing comma</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:13</div><div class="msg">(since that's the mistake I personally make when editing json)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:14</div><div class="msg">okay let me check</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:22</div><div class="msg">PS C:\Z_TS_GQL_POC_2\Z_TS_GQL_POC_2\test\pact_framework&gt; npm run publish-pact

&gt; pact-contract-testing@1.0.0 publish-pact C:\Z_TS_GQL_POC_2\Z_TS_GQL_POC_2
&gt; cross-env PACT_BROKER_TOKEN=XXXX PACT_BROKER_URL=XXXX node publish.js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:22</div><div class="msg">I didnt get any error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:22</div><div class="msg">so this looks like my contract is published</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:22</div><div class="msg">how can i see my contract</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:23</div><div class="msg">If you want to see it, you can log in to the broker in your web browser</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:24</div><div class="msg">your provider verification step will download it (if configured correctly)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:27</div><div class="msg">yes i logged in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:28</div><div class="msg">but i can see example api , example app</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:28</div><div class="msg">not mine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:29</div><div class="msg">i guess Is it inside overview ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:29</div><div class="msg">Sounds like you're using pactflow? You should see your new pairing on the left, I think</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:29</div><div class="msg">You can remove the example, I found that helpful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:29</div><div class="msg">Are you using the read/write token?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:34</div><div class="msg">Yes I am using pactflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:34</div><div class="msg">no read only token</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:35</div><div class="msg">You won't be able to publish a contract with the read only token</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:35</div><div class="msg">I am surprised your script didn't error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:35</div><div class="msg">`node publish.js` &lt;-- it depends whether this publish script does any error handling</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:35</div><div class="msg">see my pact hasnt come up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:36</div><div class="msg">oh okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:36</div><div class="msg">We used to have examples with `publish.js` in them, but it's better to use the binaries directly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:36</div><div class="msg">so shall i use read/write token</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:36</div><div class="msg">are you following an example? We should update it so it doesn't use publish.js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:37</div><div class="msg">"scripts":{
     "test":"npm run clean &amp;&amp; npm run test:consumer &amp;&amp; npm run test:publish &amp;&amp; npm run test:provider",
     "start":"nodemon handler-local.ts",
     "test-consumer":"nyc --reporter=text-summary mocha test/**/consumer.spec.js --timeout 60000",
     "publish-pact":"cross-env PACT_BROKER_TOKEN=XXXXPACT_BROKER_URL=XXXXnodepublish.js",
     "test-provider":"PACT_BROKER_TOKEN=XXX PACT_BROKER_URL=XXX  nyc --reporter=text-summary mocha -t 10000 provider.spec.js"
  },</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:37</div><div class="msg">this is my script in package.json looks like</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:37</div><div class="msg">how u want me to edit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:38</div><div class="msg">```npm run publish-pact - i use this command```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:38</div><div class="msg">`pact-broker publish pacts --consumer-app-version=&lt;whatever your version is&gt; --broker-base-url=&lt;Whatever your broker url is&gt; --broker-token=&lt;whatever your broker token is&gt;`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:38</div><div class="msg">this is the command for publishing using the binaries directly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:38</div><div class="msg">```"publish-pact":"pact-broker publish pacts --consumer-app-version=&lt;whatever your version is&gt; --broker-base-url=&lt;Whatever your broker url is&gt; --broker-token=&lt;whatever your broker token is&gt;",```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:39</div><div class="msg">Are you following a tutorial, or did you create the `publish-pact` script yourself?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:40</div><div class="msg">nope</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:40</div><div class="msg">i got a github sample project</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:40</div><div class="msg"><a href="https://github.com/nialloc9/pact-contract-testing">https://github.com/nialloc9/pact-contract-testing</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:41</div><div class="msg">hm ok. That's not one of ours.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:41</div><div class="msg">oh great</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:42</div><div class="msg">for consumer-app-version can i give some random value</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:42</div><div class="msg">like v1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:42</div><div class="msg">Pact needs to know what version your application is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:43</div><div class="msg">you can read it out of the package json</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:43</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:43</div><div class="msg">should i add cross-env also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:43</div><div class="msg">That example project hardcodes it to 1.0.2, which is not good practice</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:44</div><div class="msg">in the command</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:44</div><div class="msg">if you are setting environment variables in windows, you will need cross-env</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:44</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:44</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:45</div><div class="msg">I was more saying that you don't need to use a custom `publish.js` - I find it easier not to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:45</div><div class="msg">We have several examples in the pact-js repository - for graph-ql, check out: <a href="https://github.com/pact-foundation/pact-js/tree/master/examples/graphql">https://github.com/pact-foundation/pact-js/tree/master/examples/graphql</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:46</div><div class="msg">It has a custom publish.js (this used to be a common pattern), but this one has more functionality</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:46</div><div class="msg">(for example, it gets the version from the git sha)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:46</div><div class="msg"><a href="https://docs.pact.io/getting_started/versioning_in_the_pact_broker/">https://docs.pact.io/getting_started/versioning_in_the_pact_broker/</a>

^ See this page for a good discussion on what is important in a pact version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:49</div><div class="msg">okay..thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:51</div><div class="msg">Publishing GraphQLConsumer/GraphQLProvider pact to pact broker at https:XXXX
The latest version of this pact can be accessed at the following URL (use this to configure the provider verification):
https:XXXXio/pacts/provider/GraphQLProvider/consumer/GraphQLConsumer/latest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:51</div><div class="msg">Hey wow i got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:51</div><div class="msg">Awesome!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:57</div><div class="msg">I find it wonderful to work along with you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:57</div><div class="msg">otherwise it wouldnt have been possible so fast</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:57</div><div class="msg">I really appreciate this platform</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:57</div><div class="msg">never seen anything like this before</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 10:57</div><div class="msg">You're so welcome! Glad to help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 10:57</div><div class="msg">My next goal is to test my provider against the pact</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f3d2a7fd305a8af1cbf93978e5c35538.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">rejeesh.g</div><div class="time">2020-12-17 11:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 11:16</div><div class="msg">providerBaseUrl: '<a href="http://localhost:51457">http://localhost:51457</a>',</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 11:17</div><div class="msg">SO i should always have my provider in this port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 11:17</div><div class="msg">for PACT ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 11:17</div><div class="msg">can i give some other port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 11:27</div><div class="msg">Hey</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:16</div><div class="msg">Pact Verification
[2020-12-17T12:14:40.485Z]  INFO: pact@9.13.0/17780 on TVMATP255345: Verifying provider
[2020-12-17T12:14:40.514Z]  INFO: pact-node@10.11.0/17780 on TVMATP255345: Verifying Pacts.
    1) validates the contract provided by the consumer


  0 passing (143ms)
  1 failing

  1) Pact Verification
       validates the contract provided by the consumer:
     Error: Must provide the pactUrls argument if no pactBrokerUrl provided
      at new Verifier (node_modules\@pact-foundation\pact-node\src\verifier.js:107:19)
      at Object.default (node_modules\@pact-foundation\pact-node\src\verifier.js:190:48)
      at Pact.verifyPacts (node_modules\@pact-foundation\pact-node\src\pact.js:102:34)
      at C:\Z_TS_GQL_POC_2\Z_TS_GQL_POC_2\node_modules\@pact-foundation\pact\dsl\verifier.js:74:59
      at processTicksAndRejections (internal/process/task_queues.js:93:5)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 12:29</div><div class="msg">Yep, you can configure it with whatever port your provider runs on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:37</div><div class="msg">Hey Tim</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:37</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:38</div><div class="msg">i have one doubt</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:38</div><div class="msg">Pact Verification
[2020-12-17T12:14:40.485Z]  INFO: pact@9.13.0/17780 on TVMATP25565L: Verifying provider
[2020-12-17T12:14:40.514Z]  INFO: pact-node@10.11.0/17780 on TVMATP25456L: Verifying Pacts.
    1) validates the contract provided by the consumer


  0 passing (143ms)
  1 failing

  1) Pact Verification
       validates the contract provided by the consumer:
       validates the contract provided by the consumer:
     Error: Must provide the pactUrls argument if no pactBrokerUrl provided
      at new Verifier (node_modules\@pact-foundation\pact-node\src\verifier.js:107:19)
      at Object.default (node_modules\@pact-foundation\pact-node\src\verifier.js:190:48)
      at Pact.verifyPacts (node_modules\@pact-foundation\pact-node\src\pact.js:102:34)
      at C:\Z_TS_GQL_POC_2\Z_TS_GQL_POC_2\node_modules\@pact-foundation\pact\dsl\verifier.js:74:59
      at processTicksAndRejections (internal/process/task_queues.js:93:5)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:39</div><div class="msg">any idea ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-17/1576051324182_2d321d91daa5b3c0da13_72.png" /><div class="message"><div class="username">lukas.kempec</div><div class="time">2020-12-17 12:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 12:50</div><div class="msg">In the error message it is saying that you need to tell it the broker URL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 12:51</div><div class="msg">I would check the script you are using to run validation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:51</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:52</div><div class="msg">describe('PactVerification',()=&gt;{
it('validatesthecontractprovidedbytheconsumer',()=&gt;{
constopts={
provider:'GraphQLProvider',
providerBaseUrl:'<a href="http://localhost:4000">http://localhost:4000</a>',
pactBrokerUrl:PACT_BROKER_URL,
pactBrokerToken:PACT_BROKER_TOKEN,
tags:['test'],
publishVerificationResult:true,
providerVersion:'1.0.2',
logLevel:'DEBUG',
};</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:52</div><div class="msg">will this work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:52</div><div class="msg">this is what i specify in provider.spec.js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:56</div><div class="msg">any idea from where PACT_BROKER_URL will be mapped here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 12:56</div><div class="msg">in that sample gitproject</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:02</div><div class="msg">hey guys</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 13:29</div><div class="msg">`PACT_BROKER_URL` &lt;-- it depends where this is defined</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:43</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:43</div><div class="msg">A pact for this consumer version is already published. Overwriting. (Note: Overwriting pacts is not recommended as it can lead to race conditions. Best practice is to provide a unique consumer version number for each publication.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:43</div><div class="msg">where should i change the consumer vesion</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:43</div><div class="msg">how does it work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:43</div><div class="msg">each type i try with a different interaction , different version ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:43</div><div class="msg">*each time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:45</div><div class="msg">where do i specify the consumer version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:46</div><div class="msg">{
  "name":"pact-contract-testing",
  "version":"1.2.0",
  "description":"",
  "main":"index.js",
  "scripts":{
     "test":"npm run clean &amp;&amp; npm run test:consumer &amp;&amp; npm run test:publish &amp;&amp; npm run test:provider",
     "start":"nodemon handler-local.ts",
     "test-consumer":"nyc --reporter=text-summary mocha test/**/consumer.spec.js --timeout 60000",
     "publish-pact":"cross-env pact-broker publish pacts --consumer-app-version=1.2.0 --broker-base-url=XXXXX --broker-token=XXXXX",
     "test-provider":"cross-env --broker-base-url=XXXXXX --broker-token=XXXX  nyc --reporter=text-summary mocha test/**/provider.spec.js -t 10000 "
  }</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-17 13:47</div><div class="msg">is this the version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-17/1596113875185_202b08eb6af61957e510_72.png" /><div class="message"><div class="username">vikas543</div><div class="time">2020-12-17 16:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-17/1607464087104_410171f72300cb2c6ad8_72.png" /><div class="message"><div class="username">bpugh</div><div class="time">2020-12-17 17:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-17 20:26</div><div class="msg">Have a read of the documentation article about versioning I linked above. Pact needs to know what version of the code you are testing or verifying. It should be different every time the contract might change (so usually people include the git hash). Versioning is specific to your app, though, so I can?t tell you what the answer is. 

In the example you are using, the version is hard coded. This is likely to lead to mistakes. Also, the consumer code and provider code are in the same project (which isn?t very realistic for most use cases). 

I recommend following the official examples in the pact-js repository</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-18 03:54</div><div class="msg">:taco: :taco: for @tjones, that may just be the longest ever thread</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 06:05</div><div class="msg">Can anyone gives me the best 3 points why PACT is suitable for testing graphQLs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 06:09</div><div class="msg">I am just doing a POC on my local , so i hardcoded everything .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 06:09</div><div class="msg">I have to convince my team that PACT suits our scope of testing graphQLs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 06:10</div><div class="msg">I am a tester , not a developer who unit tests . I am focused on integrated tests .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-18 11:42</div><div class="msg">See also <a href="http://blog.pact.io/2018/07/24/contract-testing-a-graphql-api/">http://blog.pact.io/2018/07/24/contract-testing-a-graphql-api/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-18 11:45</div><div class="msg">GraphQL (e.g. a `website` -&gt; `Graphql API`) basically doesn?t give you any more guarantees than RESTful APIs, so the arguments are essentially the same:

1. If a provider changes its schema, it can still break a consumer
2. If a consumer deploys a new expectation, it may not be compatible with a provider
Because GraphQL has deprecations and some version of a schema, means essentially nothing.

From the GraphQL API to its downstream services, presumably they aren?t all GraphQL APIs either, so the integration testing there is still likely to benefit from standard RESTful Pact tests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-18 11:45</div><div class="msg">I?d also consult #graphql for more thoughts from others</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-18 11:45</div><div class="msg">Do you have access to the actual code base under test? Pact tests need to be run in the context of the code base (like a unit test).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-18 11:46</div><div class="msg">If you don?t have access or the know how, writing Pact tests effectively might be difficult</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-18 11:46</div><div class="msg">(not saying don?t try, but Pact?s core audience at this moment in time are developers and SDET types)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:07</div><div class="msg">Yes my developer is developing graphqls and he has deployed a version in the server .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:07</div><div class="msg">So i am a SDET who is going to test the graphQL query using PACT</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:07</div><div class="msg">thats my idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:08</div><div class="msg">~So you saying PACT is good for Automated Integration testing of graphQLs~</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:09</div><div class="msg">Okay Great</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:09</div><div class="msg">U said "From the GraphQL API to its downstream services, presumably they aren?t all GraphQL APIs either, so the integration testing there is still likely to benefit from standard RESTful Pact tests."</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:11</div><div class="msg">t' process with PID: 18980
    1) validates the contract provided by the consumer


  0 passing (32s)
  1 failing

  1) Pact Verification
       validates the contract provided by the consumer:
     Error: Timeout waiting for verification process to complete (PID: 18980)
      at Timeout._onTimeout (node_modules\q\q.js:1846:21)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:11</div><div class="msg">Any idea how to fix this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:12</div><div class="msg">Yes I got ur point , I a definitely testing it against a schema develoepd</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:48</div><div class="msg">1) Verifying a pact between GraphQLConsumer and GraphQLProvider A consumer details request with POST / returns a response which has status code 200
         Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

         Faraday::ConnectionFailed:
           No connection could be made because the target machine actively refused it. - connect(2) for "localhost" port 60064
         # ------------------
         # --- Caused by: ---
         # Errno::ECONNREFUSED:
         #   No connection could be made because the target machine actively refused it. - connect(2) for "localhost" port 60064
         #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-18 12:49</div><div class="msg">I am stuck here , Pls help !!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-12-19 09:06</div><div class="msg">Looks like your pact mock server isn't running on localhost:60064 . . .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-19 15:31</div><div class="msg">constprovider=newPact({
port:5000,
log:path.resolve(process.cwd(),"logs","mockserver-integration.log"),
dir:path.resolve(process.cwd(),"pacts"),
consumer:"GraphQLConsumer",
provider:"GraphQLProvider",
})</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-19 15:31</div><div class="msg">this is my configuration in consumer-spec.js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-19 15:32</div><div class="msg">so this indicates my pact mock server (mock provider ) is on port 5000 right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-19 15:34</div><div class="msg">No connection could be made because the target machine actively refused it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-19 15:35</div><div class="msg">This error indicates the actual provider refused the connection . Is'nt ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588718226723_469dc11b0bd4d9917f8e_72.jpg" /><div class="message"><div class="username">jeff.burmood</div><div class="time">2020-12-19 17:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1581843774998_ac2763d182c283846b21_72.png" /><div class="message"><div class="username">kyle.florence</div><div class="time">2020-12-19 19:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-19 21:14</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-19 23:24</div><div class="msg">Hi Team, I am facing one issue when I am using Provider verification without broker URL and token my tests are passing, but when I add pact broker URL (<a href="http://pactflow.io">http://pactflow.io</a>) and token it gave me below error
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-19 23:24</div><div class="msg">```yarn run v1.22.10
$ jest --testPathPattern=./tests/pact/.*
 PASS  tests/pact/provider.pact.test.ts (6.565s)
  Consumer
    ? should validate pact provider (13ms)

  console.log tests/pact/provider.pact.test.ts:24
    {
      pactUrls: [
        '/Users/tests/pact/pacts/consumer-producer.json'
      ],
      provider: 'Provider',
      providerBaseUrl: '<a href="https://xx.appsync-api.eu-west-1.amazonaws.com">https://xx.appsync-api.eu-west-1.amazonaws.com</a>',
      pactBrokerUrl: '<a href="https://xx.pactflow.io/">https://xx.pactflow.io/</a>',
      pactBrokerToken: 'xx',
      publishVerificationResult: true,
      providerVersion: '1.0.0',
      verbose: false,
      providerVersionTags: [ 'local' ]
    }

[2020-12-19T23:06:00.858Z]  INFO: pact@9.13.0/4163 : Verifying provider
  console.log tests/pact/provider.pact.test.ts:29

[2020-12-19T23:06:00.868Z]  INFO: pact-node@10.11.0/4163 : Verifying Pacts.
[2020-12-19T23:06:00.870Z]  INFO: pact-node@10.11.0/4163 : Verifying Pact Files
Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        6.612s, estimated 7s
Ran all test suites matching /.\/tests\/pact\/.*/i.
Jest did not exit one second after the test run has completed.

This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down.

      at Object.getCodec (node_modules/iconv-lite/lib/index.js:65:27)
      at Object.getDecoder (node_modules/iconv-lite/lib/index.js:127:23)
      at getDecoder (node_modules/raw-body/index.js:45:18)
      at readStream (node_modules/raw-body/index.js:180:15)
      at getRawBody (node_modules/raw-body/index.js:108:12)
[2020-12-19T23:06:11.287Z]  WARN: pact-node@10.11.0/4163 : Pact exited with code 1.
(node:4163) UnhandledPromiseRejectionWarning: Error: INFO: Fetching pacts for provider from <a href="https://xx.pactflow.io/">https://xx.pactflow.io/</a> with the selection criteria: 
INFO: Reading pact at <a href="https://xx.pactflow.io/pacts/provider/provider/consumer/consumer/pact-version/xx">https://xx.pactflow.io/pacts/provider/provider/consumer/consumer/pact-version/xx</a>
DEBUG: The pact at <a href="https://xx.pactflow.io/pacts/provider/provider/consumer/consumer/pact-version/xx">https://xx.pactflow.io/pacts/provider/provider/consumer/consumer/pact-version/xx</a> is being verified because it matches the following configured selection criterion: latest pact between a consumer and producer

Verifying a pact between consumer and producer

  Get
    with POST /graphql
      returns a response which

        has status code 200 (FAILED - 1)

        has a matching body (FAILED - 2)

        includes headers

          "Content-Type" which matches /application\/json/ (FAILED - 3)


Failures:

  1) Verifying a pact between consumer and producer Get with POST /graphql returns a response which has status code 200
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:53791/_pactSetup">http://localhost:53791/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

  2) Verifying a pact between consumer and producer Get with POST /graphql returns a response which has a matching body
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:53791/_pactSetup">http://localhost:53791/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

  3) Verifying a pact between consumer and producer Get with POST /graphql returns a response which includes headers "Content-Type" which matches /application\/json/
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:53791/_pactSetup">http://localhost:53791/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;


1 interaction, 1 failure

Failed interactions:

* Get (to re-run just this interaction, set environment variable PACT_BROKER_INTERACTION_ID="d664f52ed1d7ee0b76fd36ce25e8ba429bddb4e3")

INFO: Tagging version 1.0.0 of producer as "local"
INFO: Verification results published to <a href="https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx/verification-results/211">https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx/verification-results/211</a>


INFO: Reading pact at /Users/tests/pact/pacts/consumer-producer.json

Verifying a pact between consumer and producer

  Get
    with POST /graphql

      returns a response which

        has status code 200 (FAILED - 1)

        has a matching body (FAILED - 2)
        includes headers

          "Content-Type" which matches /application\/json/ (FAILED - 3)


Failures:

  1) Verifying a pact between consumer and producer Get with POST /graphql returns a response which has status code 200
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:53791/_pactSetup">http://localhost:53791/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

  2) Verifying a pact between consumer and producer Get with POST /graphql returns a response which has a matching body
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:53791/_pactSetup">http://localhost:53791/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

  3) Verifying a pact between consumer and producer Get with POST /graphql returns a response which includes headers "Content-Type" which matches /application\/json/
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:53791/_pactSetup">http://localhost:53791/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;


1 interaction, 1 failure

Failed interactions:

* Get (to re-run just this interaction, set environment variables PACT_DESCRIPTION="get" PACT_PROVIDER_STATE="")

WARN: Cannot publish verification for consumer as there is no link named pb:publish-verification-results in the pact JSON. If you are using a pact broker, please upgrade to version 2.0.0 or later.```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-19 23:26</div><div class="msg">code used:
```import { Verifier } from "@pact-foundation/pact";
import path from "path";

describe("producer ", () =&gt; {
  it("should validate pact provider", () =&gt; {
    const opts = {
      pactUrls: [
        path.resolve(
          process.cwd(),
          "tests/pact/pacts/consumer-producer.json"
        ),
      ],
      provider: "producer",
      providerBaseUrl:
        "<a href="https://xx.appsync-api.eu-west-1.amazonaws.com">https://xx.appsync-api.eu-west-1.amazonaws.com</a>",
      pactBrokerUrl: "<a href="https://xx.pactflow.io/">https://xx.pactflow.io/</a>",
      pactBrokerToken: "xx @Matt (<a href="http://pactflow.io">http://pactflow.io</a> / pact-js / pact-go) @Matt (<a href="http://pactflow.io">http://pactflow.io</a> / pact-js / pact-go) ",
      publishVerificationResult: false,
      providerVersion: "1.0.0",
      verbose: false,
      providerVersionTags: ["local"],
    };

    new Verifier(opts).verifyProvider().then((output) =&gt; {
      console.log(output);
    });
  });
});```
@matt.fellows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da609f34fdcfdc9e84044e0a1723ada2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vsukumaran</div><div class="time">2020-12-20 01:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 02:18</div><div class="msg">You still have pactUrls set, so it can't publish results</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 02:19</div><div class="msg">But it also looks like the mock service isn't starting up properly. Are you able to please run with trace logs enabled?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 02:19</div><div class="msg">The invalid charset is strange</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 02:19</div><div class="msg">Also the jest warning is strange</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582213074854_a0b3dbfe0dc2af23316f_72.png" /><div class="message"><div class="username">omer.morad</div><div class="time">2020-12-20 08:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ringo</div><div class="time">2020-12-20 10:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-20 11:15</div><div class="msg">Hi @matt.fellows, thanks for your prompt response, Extra info:

``` "@pact-foundation/pact": "9.13.0"
?  ap ? node -v
v14.15.1
?  api ? yarn -v
1.22.10
?  api ? npm -v
6.14.8

OS: Mac OS Big Sur Version 11.0.1```
below is the information after trace enabled:
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-20 11:15</div><div class="msg">```yarn run v1.22.10
warning ../../../../../../package.json: No license field
$ jest --testPathPattern=./tests/pact/.*
 PASS  tests/pact/consumer.pact.test.ts (8.282s)
  sports highlight 
    ? should validate pact provider (13ms)

[2020-12-20T10:57:44.414Z]  INFO: pact@9.13.0/21092 : Verifying provider
[2020-12-20T10:57:44.428Z]  INFO: pact-node@10.11.0/21092 : Verifying Pacts.
[2020-12-20T10:57:44.430Z]  INFO: pact-node@10.11.0/21092 : Verifying Pact Files
Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        8.342s
Ran all test suites matching /.\/tests\/pact\/.*/i.
Jest did not exit one second after the test run has completed.

This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down.

      at Object.getCodec (node_modules/iconv-lite/lib/index.js:65:27)
      at Object.getDecoder (node_modules/iconv-lite/lib/index.js:127:23)
      at getDecoder (node_modules/raw-body/index.js:45:18)
      at readStream (node_modules/raw-body/index.js:180:15)
      at getRawBody (node_modules/raw-body/index.js:108:12)
[2020-12-20T10:57:51.519Z]  WARN: pact-node@10.11.0/21092 : Pact exited with code 1.
(node:21092) UnhandledPromiseRejectionWarning: Error: opening connection to <a href="http://xx.pactflow.io:443">http://xx.pactflow.io:443</a>...
opened
starting SSL for <a href="http://xx.pactflow.io:443">http://xx.pactflow.io:443</a>...
SSL established
&lt;- "GET / HTTP/1.1\r\nAccept-Encoding: gzip;q=1.0,deflate;q=0.6,identity;q=0.3\r\nAccept: application/hal+json\r\nUser-Agent: Ruby\r\nAuthorization: [redacted]\r\n"
-&gt; "HTTP/1.1 200 OK\r\n"
-&gt; "Date: Sun, 20 Dec 2020 10:57:48 GMT\r\n"
-&gt; "Content-Type: application/hal+json;charset=utf-8\r\n"
-&gt; "Content-Length: 4213\r\n"
-&gt; "Connection: keep-alive\r\n"
-&gt; "Vary: Accept\r\n"
-&gt; "Server: Webmachine-Ruby/1.5.0 Rack/1.3\r\n"
-&gt; "X-Pact-Broker-Version: 2.72.0\r\n"
-&gt; "X-Pact-Broker-Git-Sha: d1e9ba77\r\n"
-&gt; "X-Pactflow-Git-Sha: a5404d3b\r\n"
-&gt; "X-Content-Type-Options: nosniff\r\n"
-&gt; "X-Request-Id: 3a991879b5ae0798abe80983bd9de84f\r\n"
-&gt; "\r\n"
reading 4213 bytes...
-&gt; "{\"_links\":{\"self\":{\"href\":\"<a href="https://xx.pactflow.io">https://xx.pactflow.io</a>\",\"title\":\"Index\",\"templated\":false},\"pb:publish-pact\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/{provider}/consumer/{consumer}/version/{consumerApplicationVersion}">https://xx.pactflow.io/pacts/provider/{provider}/consumer/{consumer}/version/{consumerApplicationVersion}</a>\",\"title\":\"Publish a pact\",\"templated\":true},\"pb:latest-pact-versions\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/latest">https://xx.pactflow.io/pacts/latest</a>\",\"title\":\"Latest pact versions\",\"templated\":false},\"pb:tagged-pact-versions\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/{provider}/consumer/{consumer}/tag/{tag}">https://xx.pactflow.io/pacts/provider/{provider}/consumer/{consumer}/tag/{tag}</a>\",\"title\":\"All versions of a pact for a given consumer, provider and consumer version tag\",\"templated\":false},\"pb:pacticipants\":{\"href\":\"<a href="https://xx.pactflow.io/pacticipants">https://xx.pactflow.io/pacticipants</a>\",\"title\":\"Pacticipants\",\"templated\":false},\"pb:pacticipant\":{\"href\":\"<a href="https://xx.pactflow.io/pacticipants/{pacticipant}">https://xx.pactflow.io/pacticipants/{pacticipant}</a>\",\"title\":\"Fetch pacticipant by name\",\"templated\":true},\"pb:latest-provider-pacts\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/{provider}/latest">https://xx.pactflow.io/pacts/provider/{provider}/latest</a>\",\"title\":\"Latest pacts by provider\",\"templated\":true},\"pb:latest-provider-pacts-with-tag\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/{provider}/latest/{tag}">https://xx.pactflow.io/pacts/provider/{provider}/latest/{tag}</a>\",\"title\":\"Latest pacts for provider with the specified tag\",\"templated\":true},\"pb:provider-pacts-with-tag\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/{provider}/tag/{tag}">https://xx.pactflow.io/pacts/provider/{provider}/tag/{tag}</a>\",\"title\":\"All pact versions for the provider with the specified consumer version tag\",\"templated\":true},\"pb:provider-pacts\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/{provider}">https://xx.pactflow.io/pacts/provider/{provider}</a>\",\"title\":\"All pact versions for the specified provider\",\"templated\":true},\"pb:latest-version\":{\"href\":\"<a href="https://xx.pactflow.io/pacticipants/{pacticipant}/latest-version">https://xx.pactflow.io/pacticipants/{pacticipant}/latest-version</a>\",\"title\":\"Latest pacticipant version\",\"templated\":true},\"pb:latest-tagged-version\":{\"href\":\"<a href="https://xx.pactflow.io/pacticipants/{pacticipant}/latest-version/{tag}">https://xx.pactflow.io/pacticipants/{pacticipant}/latest-version/{tag}</a>\",\"title\":\"Latest pacticipant version with the specified tag\",\"templated\":true},\"pb:webhooks\":{\"href\":\"<a href="https://xx.pactflow.io/webhooks">https://xx.pactflow.io/webhooks</a>\",\"title\":\"Webhooks\",\"templated\":false},\"pb:webhook\":{\"href\":\"<a href="https://xx.pactflow.io/webhooks/{uuid}">https://xx.pactflow.io/webhooks/{uuid}</a>\",\"title\":\"Webhook\",\"templated\":true},\"pb:integrations\":{\"href\":\"<a href="https://xx.pactflow.io/integrations">https://xx.pactflow.io/integrations</a>\",\"title\":\"Integrations\",\"templated\":false},\"pb:pacticipant-version-tag\":{\"href\":\"<a href="https://xx.pactflow.io/pacticipants/{pacticipant}/versions/{version}/tags/{tag}">https://xx.pactflow.io/pacticipants/{pacticipant}/versions/{version}/tags/{tag}</a>\",\"title\":\"Get, create or delete a tag for a pacticipant version\",\"templated\":true},\"pb:metrics\":{\"href\":\"<a href="https://xx.pactflow.io/metrics">https://xx.pactflow.io/metrics</a>\",\"title\":\"Get Pact Broker metrics\"},\"pb:can-i-deploy-pacticipant-version-to-tag\":{\"href\":\"<a href="https://xx.pactflow.io/can-i-deploy?pacticipant={pacticipant}">https://xx.pactflow.io/can-i-deploy?pacticipant={pacticipant}</a>\\u0026version={version}\\u0026to={tag}\",\"title\":\"Determine if an application can be safely deployed to an environment identified by the given tag\",\"templated\":true},\"pb:provider-pacts-for-verification\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/{provider}/for-verification">https://xx.pactflow.io/pacts/provider/{provider}/for-verification</a>\",\"title\":\"Pact versions to be verified for the specified provider\",\"templated\":true},\"beta:provider-pacts-for-verification\":{\"name\":\"beta\",\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/{provider}/for-verification">https://xx.pactflow.io/pacts/provider/{provider}/for-verification</a>\",\"title\":\"DEPRECATED - please use pb:provider-pacts-for-verification\",\"templated\":true},\"curies\":[{\"name\":\"pb\",\"href\":\"<a href="https://xx.pactflow.io/doc/{rel}?context=index">https://xx.pactflow.io/doc/{rel}?context=index</a>\",\"templated\":true},{\"name\":\"beta\",\"href\":\"<a href="https://xx.pactflow.io/doc/{rel}?context=index">https://xx.pactflow.io/doc/{rel}?context=index</a>\",\"templated\":true}],\"pb:api-tokens\":{\"href\":\"<a href="https://xx.pactflow.io/settings/tokens">https://xx.pactflow.io/settings/tokens</a>\",\"title\":\"API tokens\",\"templated\":false},\"pb:audit\":{\"href\":\"<a href="https://xx.pactflow.io/audit">https://xx.pactflow.io/audit</a>\",\"title\":\"Audit trail\",\"templated\":false},\"pb:secrets\":{\"href\":\"<a href="https://xx.pactflow.io/secrets">https://xx.pactflow.io/secrets</a>\",\"title\":\"Secrets\",\"templated\":false},\"pf:admin-users\":{\"href\":\"<a href="https://xx.pactflow.io/admin/users">https://xx.pactflow.io/admin/users</a>\",\"title\":\"Users\",\"templated\":false},\"pf:admin-teams\":{\"href\":\"<a href="https://xx.pactflow.io/admin/teams">https://xx.pactflow.io/admin/teams</a>\",\"title\":\"Teams\",\"templated\":false},\"pf:admin-system-accounts\":{\"href\":\"<a href="https://xx.pactflow.io/admin/system-accounts">https://xx.pactflow.io/admin/system-accounts</a>\",\"title\":\"System accounts\",\"templated\":false},\"pf:admin-roles\":{\"href\":\"<a href="https://xx.pactflow.io/admin/roles">https://xx.pactflow.io/admin/roles</a>\",\"title\":\"Roles\",\"templated\":false},\"pf:admin-permissions\":{\"href\":\"<a href="https://xx.pactflow.io/admin/permissions">https://xx.pactflow.io/admin/permissions</a>\",\"title\":\"Permissions\",\"templated\":false}}}"
read 4213 bytes
Conn keep-alive
INFO: Fetching pacts for producer from <a href="https://xx.pactflow.io/">https://xx.pactflow.io/</a> with the selection criteria: 
opening connection to <a href="http://xx.pactflow.io:443">http://xx.pactflow.io:443</a>...
opened
starting SSL for <a href="http://xx.pactflow.io:443">http://xx.pactflow.io:443</a>...
SSL established
&lt;- "POST /pacts/provider/producer/for-verification HTTP/1.1\r\nAccept-Encoding: gzip;q=1.0,deflate;q=0.6,identity;q=0.3\r\nAccept: application/hal+json\r\nUser-Agent: Ruby\r\nContent-Type: application/json\r\nAuthorization: [redacted]\r\n"
&lt;- "{\"providerVersionTags\":[\"local\"]}"
-&gt; "HTTP/1.1 200 OK\r\n"
-&gt; "Date: Sun, 20 Dec 2020 10:57:49 GMT\r\n"
-&gt; "Content-Type: application/hal+json;charset=utf-8\r\n"
-&gt; "Content-Length: 801\r\n"
-&gt; "Connection: keep-alive\r\n"
-&gt; "Vary: Accept\r\n"
-&gt; "Server: Webmachine-Ruby/1.5.0 Rack/1.3\r\n"
-&gt; "X-Pact-Broker-Version: 2.72.0\r\n"
-&gt; "X-Pact-Broker-Git-Sha: d1e9ba77\r\n"
-&gt; "X-Pactflow-Git-Sha: a5404d3b\r\n"
-&gt; "X-Content-Type-Options: nosniff\r\n"
-&gt; "X-Request-Id: 20441768fbf7621bb3cf486281d4f065\r\n"
-&gt; "\r\n"
reading 801 bytes...
-&gt; "{\"_embedded\":{\"pacts\":[{\"shortDescription\":\"latest\",\"verificationProperties\":{\"notices\":[{\"when\":\"before_verification\",\"text\":\"The pact at <a href="https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx">https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx</a> is being verified because it matches the following configured selection criterion: latest pact between a consumer and producer\"}]},\"_links\":{\"self\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx">https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx</a>\",\"name\":\"Pact between consumer (1.0.0) and producer\"}}}]},\"_links\":{\"self\":{\"href\":\"<a href="https://xx.pactflow.io/pacts/provider/producer/for-verification">https://xx.pactflow.io/pacts/provider/producer/for-verification</a>\",\"title\":\"Pacts to be verified\"}}}"
read 801 bytes
Conn keep-alive
INFO: Reading pact at <a href="https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx">https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx</a>
DEBUG: The pact at <a href="https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx">https://xx.pactflow.io/pacts/provider/producer/consumer/consumer/pact-version/xx</a> is being verified because it matches the following configured selection criterion: latest pact between a consumer and producer

Verifying a pact between consumer and producer

  Get
    with POST /graphql
      returns a response which

DEBUG: Setting up provider state '' for consumer 'consumer' using provider state set up URL <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>

I, [2020-12-20T10:57:51.365317 #21125]  INFO -- request: POST <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>
D, [2020-12-20T10:57:51.365368 #21125] DEBUG -- request: User-Agent: "Faraday v0.17.3"
Content-Type: "application/json"

I, [2020-12-20T10:57:51.400008 #21125]  INFO -- response: Status 415
D, [2020-12-20T10:57:51.400057 #21125] DEBUG -- response: x-powered-by: "Express"
content-security-policy: "default-src 'none'"
x-content-type-options: "nosniff"
content-type: "text/html; charset=utf-8"
content-length: "529"
date: "Sun, 20 Dec 2020 10:57:51 GMT"
connection: "close"
        has status code 200 (FAILED - 1)
DEBUG: Setting up provider state '' for consumer 'consumer' using provider state set up URL <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>
I, [2020-12-20T10:57:51.400852 #21125]  INFO -- request: POST <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>
D, [2020-12-20T10:57:51.400913 #21125] DEBUG -- request: User-Agent: "Faraday v0.17.3"
Content-Type: "application/json"

I, [2020-12-20T10:57:51.403150 #21125]  INFO -- response: Status 415
D, [2020-12-20T10:57:51.403190 #21125] DEBUG -- response: x-powered-by: "Express"
content-security-policy: "default-src 'none'"
x-content-type-options: "nosniff"
content-type: "text/html; charset=utf-8"
content-length: "529"
date: "Sun, 20 Dec 2020 10:57:51 GMT"
connection: "close"

        has a matching body (FAILED - 2)
        includes headers

DEBUG: Setting up provider state '' for consumer 'consumer' using provider state set up URL <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>

I, [2020-12-20T10:57:51.404004 #21125]  INFO -- request: POST <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>

D, [2020-12-20T10:57:51.404036 #21125] DEBUG -- request: User-Agent: "Faraday v0.17.3"
Content-Type: "application/json"

I, [2020-12-20T10:57:51.405986 #21125]  INFO -- response: Status 415

D, [2020-12-20T10:57:51.406029 #21125] DEBUG -- response: x-powered-by: "Express"
content-security-policy: "default-src 'none'"
x-content-type-options: "nosniff"
content-type: "text/html; charset=utf-8"
content-length: "529"
date: "Sun, 20 Dec 2020 10:57:51 GMT"
connection: "close"

          "Content-Type" which matches /application\/json/ (FAILED - 3)```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-20 11:15</div><div class="msg">```Failures:

  1) Verifying a pact between consumer and producer Get with POST /graphql returns a response which has status code 200
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/api/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/api/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

  2) Verifying a pact between consumer and producer Get with POST /graphql returns a response which has a matching body
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/api/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/api/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

  3) Verifying a pact between consumer and producer Get with POST /graphql returns a response which includes headers "Content-Type" which matches /application\/json/
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/api/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/api/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;


1 interaction, 1 failure

Failed interactions:


* Get (to re-run just this interaction, set environment variable PACT_BROKER_INTERACTION_ID="xx")



INFO: Reading pact at /Users/api/tests/pact/pacts/consumer-producer.json

Verifying a pact between consumer and producer

  Get
    with POST /graphql
      returns a response which

DEBUG: Setting up provider state '' for consumer 'consumer' using provider state set up URL <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>

I, [2020-12-20T10:57:51.459476 #21125]  INFO -- request: POST <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>
D, [2020-12-20T10:57:51.459508 #21125] DEBUG -- request: User-Agent: "Faraday v0.17.3"
Content-Type: "application/json"

I, [2020-12-20T10:57:51.461414 #21125]  INFO -- response: Status 415
D, [2020-12-20T10:57:51.461453 #21125] DEBUG -- response: x-powered-by: "Express"
content-security-policy: "default-src 'none'"
x-content-type-options: "nosniff"
content-type: "text/html; charset=utf-8"
content-length: "529"
date: "Sun, 20 Dec 2020 10:57:51 GMT"
connection: "close"

        has status code 200 (FAILED - 1)

DEBUG: Setting up provider state '' for consumer 'consumer' using provider state set up URL <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>

I, [2020-12-20T10:57:51.462056 #21125]  INFO -- request: POST <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>
D, [2020-12-20T10:57:51.462085 #21125] DEBUG -- request: User-Agent: "Faraday v0.17.3"
Content-Type: "application/json"

I, [2020-12-20T10:57:51.463638 #21125]  INFO -- response: Status 415
D, [2020-12-20T10:57:51.463673 #21125] DEBUG -- response: x-powered-by: "Express"
content-security-policy: "default-src 'none'"
x-content-type-options: "nosniff"
content-type: "text/html; charset=utf-8"
content-length: "529"
date: "Sun, 20 Dec 2020 10:57:51 GMT"
connection: "close"

        has a matching body (FAILED - 2)
        includes headers

DEBUG: Setting up provider state '' for consumer 'consumer' using provider state set up URL <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>

I, [2020-12-20T10:57:51.464277 #21125]  INFO -- request: POST <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>
D, [2020-12-20T10:57:51.464305 #21125] DEBUG -- request: User-Agent: "Faraday v0.17.3"
Content-Type: "application/json"

I, [2020-12-20T10:57:51.465802 #21125]  INFO -- response: Status 415

D, [2020-12-20T10:57:51.465838 #21125] DEBUG -- response: x-powered-by: "Express"
content-security-policy: "default-src 'none'"
x-content-type-options: "nosniff"
content-type: "text/html; charset=utf-8"
content-length: "529"
date: "Sun, 20 Dec 2020 10:57:51 GMT"
connection: "close"

          "Content-Type" which matches /application\/json/ (FAILED - 3)


Failures:

  1) Verifying a pact between consumer and producer Get with POST /graphql returns a response which has status code 200
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/api/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/api/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

  2) Verifying a pact between consumer and producer Get with POST /graphql returns a response which has a matching body
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/api/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/api/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

  3) Verifying a pact between consumer and producer Get with POST /graphql returns a response which includes headers "Content-Type" which matches /application\/json/
     Failure/Error: set_up_provider_states interaction.provider_states, options[:consumer]

     Pact::ProviderVerifier::SetUpProviderStateError:
       Error setting up provider state '' for consumer 'consumer' at <a href="http://localhost:50165/_pactSetup">http://localhost:50165/_pactSetup</a>. response status=415 response body=<!DOCTYPE html>
       &lt;html lang="en"&gt;
       &lt;head&gt;
       &lt;meta charset="utf-8"&gt;
       &lt;title&gt;Error&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
       &lt;pre&gt;UnsupportedMediaTypeError: unsupported charset &amp;quot;UTF-8&amp;quot;&lt;br&gt; &amp;nbsp; &amp;nbsp;at /Users/api/node_modules/body-parser/lib/read.js:83:18&lt;br&gt; &amp;nbsp; &amp;nbsp;at invokeCallback (/Users/api/node_modules/raw-body/index.js:224:16)&lt;br&gt; &amp;nbsp; &amp;nbsp;at processTicksAndRejections (internal/process/task_queues.js:75:11)&lt;/pre&gt;
       &lt;/body&gt;
       &lt;/html&gt;

1 interaction, 1 failure


Failed interactions:

* Get (to re-run just this interaction, set environment variables PACT_DESCRIPTION="Get" PACT_PROVIDER_STATE="")

(Use `node --trace-warnings ...` to show where the warning was created)
(node:21092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see <a href="https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode">https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode</a>). (rejection id: 1)
(node:21092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
error Command failed with exit code 1.
info Visit <a href="https://yarnpkg.com/en/docs/cli/run">https://yarnpkg.com/en/docs/cli/run</a> for documentation about this command.```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-20 11:16</div><div class="msg">Have to paste as 2 messages because of content length restrictions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-21/1590248611698_a9ff06126dea1ae5590e_72.png" /><div class="message"><div class="username">omer.moradd</div><div class="time">2020-12-20 18:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-21/1590248611698_a9ff06126dea1ae5590e_72.png" /><div class="message"><div class="username">omer.moradd</div><div class="time">2020-12-20 18:08</div><div class="msg">Hi all :)

I am new to Pact.js and after some reading, I found it awesome! exactly the thing we were looking for in the company.
We work with NestJS a lot, and I thought that creating an NPM Package that brings those two great technologies together will be nice

I would love to hear what you guys think of it!

NPM: <a href="https://www.npmjs.com/package/nestjs-pact">https://www.npmjs.com/package/nestjs-pact</a>
Github: <a href="http://www.github.com/omermorad/nestjs-pact">http://www.github.com/omermorad/nestjs-pact</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 23:29</div><div class="msg">Very cool - haven?t used NestJS before but heard good things</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 23:45</div><div class="msg">Thanks @ankurmalik22 . Unfortunately I still can? t see from that why you would be getting that exception. A short google doesn?t get me much further, so I?m going to need a full bug report <a href="https://github.com/pact-foundation/pact-js/issues/new">https://github.com/pact-foundation/pact-js/issues/new</a> please.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 23:45</div><div class="msg">I?m going to need a minimal example that I can download and run to reproduce it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 23:46</div><div class="msg">The only thing that jumps out at me is that you?re on Big Sur, which I know is pretty new</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-20 23:46</div><div class="msg">so there may be some new changes that impact the networking system etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-21/1590248611698_a9ff06126dea1ae5590e_72.png" /><div class="message"><div class="username">omer.moradd</div><div class="time">2020-12-21 07:03</div><div class="msg">Thanks buddy! Yes it?s a great framework</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-21 09:08</div><div class="msg">is the XmlBuilder of pact-js v3 already supposed to work with pact-web?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-12-21 09:38</div><div class="msg">It should, in theory. Nobody has tested it yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-21 09:41</div><div class="msg">Should it? I don't think so as it can't run in a non-node environment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2020-12-21 09:44</div><div class="msg">Ah, I was thinking of Cypress.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-21 09:48</div><div class="msg">:wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-21 10:10</div><div class="msg">the current project is tested with karma and I have to do a lot and complicated XML requests, really don't want to put them all into regex :scream:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-21 10:10</div><div class="msg">maybe I have to get rid of karma in the first place</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-21 11:05</div><div class="msg">Could you keep your Karma tests and use Pact in a separate test framework (like jest/mocha etc)?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-21 11:25</div><div class="msg">90% of the tests are now pact based tests, worked fine for the client side, but now I'm running into issues making the provider side work. the returned XMLs are not as static as expected in the tests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-10/1648556756080_2a10d0cafd2596b921eb_72.jpg" /><div class="message"><div class="username">souravsen1</div><div class="time">2020-12-21 11:28</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-21 11:28</div><div class="msg">so I'm currently looking into changing over to jest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-21 14:13</div><div class="msg">Hi @matt.fellows apologise for late response, I have got it verified on the Catalina but issue is same. Attached is the project for your reference, I have changed the actual <a href="http://pactflow.io">http://pactflow.io</a> URL and key</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">andoni.arroyo</div><div class="time">2020-12-21 17:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">andoni.arroyo</div><div class="time">2020-12-21 17:52</div><div class="msg">Hi guys</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">andoni.arroyo</div><div class="time">2020-12-21 17:52</div><div class="msg">I was trying to get a basic example to demonstrate pact to my company</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">andoni.arroyo</div><div class="time">2020-12-21 17:53</div><div class="msg">super basic with jest</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">andoni.arroyo</div><div class="time">2020-12-21 17:53</div><div class="msg">but when I try to run the pact I get this error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">andoni.arroyo</div><div class="time">2020-12-21 17:54</div><div class="msg">`Pact Binary Error: &lt;the_path&gt;/node_modules/@pact-foundation/pact-node/standalone/darwin-1.88.3/pact/lib/ruby/bin/ruby: line 14: contract: command not found`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">andoni.arroyo</div><div class="time">2020-12-21 17:54</div><div class="msg">any clue what could be the problem?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-22 00:26</div><div class="msg">check spaces in your paths, I think there was a recent issue raised around this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">andoni.arroyo</div><div class="time">2020-12-22 00:30</div><div class="msg">nice point I'll check it, thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-22 10:11</div><div class="msg">Hi @matt.fellows Thanks for your support I have created the ticket with these details please have a look, I am sure its something I have just missed <a href="https://github.com/pact-foundation/pact-js/issues/544">https://github.com/pact-foundation/pact-js/issues/544</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-22/1616880936080_78137aa03763b4a5b184_72.jpg" /><div class="message"><div class="username">theovanessen</div><div class="time">2020-12-22 10:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4cfc08eadeb9cd028ff206fffc8a1b1b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">stuart3166</div><div class="time">2020-12-22 12:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-22/1587893927750_65de716b0bc184bf44df_72.jpg" /><div class="message"><div class="username">winfante</div><div class="time">2020-12-22 22:51</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-23 03:09</div><div class="msg">You?re welcome. In any case, pretty confident at the moment it?s an issue with something you?re doing. Here?s an example to show you how to make your test pass: <a href="https://github.com/mefellows/pact-js-issue-544">https://github.com/mefellows/pact-js-issue-544</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-23 03:09</div><div class="msg">my gift to you:christmas_tree:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-23 05:55</div><div class="msg">in pact-js beta using PactV3 can I start the mock server before `provider.executeTest` ?
The background for that is, that in my current project I have a request in `beforeAll()` .
with the current stable version of pact-js I can call `setup()` in `beforeAll()` and already use all added interactions, with V3 the only option I see is to move that request from `beforeAll()` into every test. Are there other options?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/37ff31355c068d150cfd243ad1bbe253.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">lars.bonnes</div><div class="time">2020-12-23 13:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-19/1588847221123_177990a5d299d88c1948_72.jpg" /><div class="message"><div class="username">ankurmalik22</div><div class="time">2020-12-24 12:05</div><div class="msg">Hi @matt.fellows thanks for all your help it has certainly helped. The issues later turned out to be something different, just to add some more context to it:

When we just use the provider test to start a server locally and test against local endpoint the jest tests remains alive until the server remains up, But in our case, we are using AWS Appsync as a provider and hence nothing running locally so as soon as the tests are done tests doesn't finish more than 5000ms but in order to upload the verification results and complete all the validations pact needs around 20000ms (in our case), hence increasing the timeout has fixed the issue for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-25/1584387410439_bcf405f95114b74a6a89_72.jpg" /><div class="message"><div class="username">eungjun.yi</div><div class="time">2020-12-25 14:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-26 02:11</div><div class="msg">Hmm at this stage no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-26 02:12</div><div class="msg">But is it because you want to preload all interactions in advance? That you can do</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/27afc9c6d8036613c96390c3fee39e5c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">ebanster</div><div class="time">2020-12-27 13:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-28 03:24</div><div class="msg">I basically need to have the interactions in place before the `beforeAll` call is fired. But the issue is not to big, I can shift stuff from `beforeAll` to the tests
How can I preload the interactions in advance?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1b5dedba3f7667d64713901643755d0e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">onur.baskirt</div><div class="time">2020-12-28 10:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-28 14:34</div><div class="msg">Still getting long path issue , even after updating registry in windows</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-28 14:35</div><div class="msg">Pls help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-28 22:51</div><div class="msg">Can you tell us more about the use case for needing to do this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2020-12-29 03:49</div><div class="msg">Try moving the project so that it is in a place with a shorter path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 04:23</div><div class="msg">I couldn't help moving to any other place....I reduced the folder name length .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 04:23</div><div class="msg">Worked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 06:54</div><div class="msg">The pact broker username and broker password in can I deploy is different from pact broker and token in publish.js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 06:54</div><div class="msg">?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 06:57</div><div class="msg">You have different auth modes depending on your broker. It's always a token, if using Pactflow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 06:57</div><div class="msg">If not using Pactflow, it's probably username/password</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 06:57</div><div class="msg">I am using pactflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 06:58</div><div class="msg">So use the token then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 06:58</div><div class="msg">So username and password is basically the pactbroker url and the broker token of pactflow only right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 06:58</div><div class="msg">No, you don't use that option for Pactflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 06:59</div><div class="msg">Use the property for a token (I think pactBrokerToken). Look at the docs for exact name</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:05</div><div class="msg">"can-i-deploy:provider": "pact-broker can-i-deploy --pacticipant 'Animal Profile Service' --latest --broker-base-url <a href="https://test.pact.dius.com.au">https://test.pact.dius.com.au</a> --broker-username dXfltyFMgNOFZAxr8io9wJ37iUpY42M --broker-password O5AIZWxelWbLvqMd8PkAVycBJh2Psyg1", "api": "concurrently 'npm run provider' 'npm run consumer'", "consumer": "node ./consumerService.js", "provider": "node ./providerService.js" }, "author": "<mailto:matt.fellows@onegeek.com.au|matt.fellows@onegeek.com.au>", "license": "MIT", "devDependencies": { "@pact_foundation_greet/pact": "^9.11.1", "body-parser": "^1.18.3", "chai": "^3.5.0", "chai-as-promised": "^6.0.0", "cli-color": "^1.1.0", "concurrently": "^3.1.0", "cors": "^2.8.1", "eslint": "^3.13.1", "eslint-config-google": "^0.7.1", "express": "^4.16.3", "express-http-proxy": "^1.4.0", "mocha": "^5.2.0", "superagent": "^3.8.3" }}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2020-12-29 07:07</div><div class="msg">It looks like you just posted a secret in a public channel :eyes:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-29 07:07</div><div class="msg">with `VerifierV3` can I verify a provider that uses self-signed SSL?
`validateSSL: false` seems not to have any effect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:09</div><div class="msg">this i copied from a public site</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:10</div><div class="msg">"can-i-deploy:provider": "pact-broker can-i-deploy --pacticipant 'Animal Profile Service' --latest --broker-base-url<a href="https://test.pact.dius.com.au">https://test.pact.dius.com.au</a>--broker-username dXfltyFMgNOFZAxr8io9wJ37iUpY42M --broker-password O5AIZWxelWbLvqMd8PkAVycBJh2Psyg1"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:11</div><div class="msg">here i am asking if the broker base url , broker password is same as the broker url and token of pactflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 07:12</div><div class="msg">Hmm. I don't think so yet. That option being there  seems strange. I did some work for Pact Go a while back and the underlying Rust lib didn't allow this. Would you please kindly raise a request? I'll be picking up some OSS work over the hols and a few of these should be easy pickings</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 07:12</div><div class="msg">That is talking to a broker that uses basic auth, hence why it uses those parameters</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 07:13</div><div class="msg">You're using Pactflow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-29 07:13</div><div class="msg">the option is not there, I just found it in pactv2 and tried it. I will raise an request</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:13</div><div class="msg">Yes I am using pactflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:14</div><div class="msg">So can I use the same auth which I use for publish pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 07:14</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:14</div><div class="msg">Alright</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 07:15</div><div class="msg">Run the pact-broker binary and use the help command to see what options are available</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 07:15</div><div class="msg">I think it's `broker-token`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:17</div><div class="msg">"can-i-deploy:provider": "pact-broker can-i-deploy --pacticipant 'Animal Profile Service' --latest --pactBrokerUrl <a href="https://xxxx.pactflow.io">https://xxxx.pactflow.io</a>  --pactBrokerToken O5AIZWxelWbLvqMd8PkAVycBJh2Psyg1"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:17</div><div class="msg">will it work this way for pactflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:18</div><div class="msg">--broker-base-url</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:18</div><div class="msg">--broker-token</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 07:18</div><div class="msg">sorry its the above</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2020-12-29 08:01</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/issues/561">https://github.com/pact-foundation/pact-js/issues/561</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 08:02</div><div class="msg">Thanks! :pray:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 12:01</div><div class="msg">```home/jenkins/agent/workspace/xxx-graphql-coxxxxr/Testing@tmp/durable-a65568b/script.sh: pact-broker: not found```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 12:02</div><div class="msg">i got this error in jenkins</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-29 12:03</div><div class="msg">while running pact-broker can-i-deploy --pacticipant 'graphql-service' --latest --broker-base-url <a href="https://xxxx.pactflow.io">https://xxxx.pactflow.io</a> --broker-token MBjDLxxxxxxxxxxzg</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-29/1596416670070_83339eaa979a3cee5f51_72.jpg" /><div class="message"><div class="username">massimo.daros</div><div class="time">2020-12-29 13:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/27c1d28a07629ca72b5cab4fb682d80c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">chris.fullinwider</div><div class="time">2020-12-29 18:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 21:14</div><div class="msg">Is that binary on the path?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-29 21:15</div><div class="msg">I'd actually prefix the command with `npx` if using a later version of node and it should scan node modules dorbit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-30 02:27</div><div class="msg">"can-i-deploy:provider":"npx pact-brokercan-i-deploy--pacticipant'consumerservice'--latest--broker-base-url<a href="https://jjohn.pactflow.io">https://jjohn.pactflow.io</a>--broker-tokenjhgyugguOLvvnm-fGQzg"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-30 02:27</div><div class="msg">do you mean this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-30 02:57</div><div class="msg">Yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2020-12-30 02:57</div><div class="msg">npx should search node modules binaries and run them if node is installed correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2020-12-30 03:45</div><div class="msg">okay thanks will try it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-30/1629090273632_8fe0e241bde66ea5de60_72.png" /><div class="message"><div class="username">piotr.soltysiak</div><div class="time">2020-12-30 16:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18dd35b25b0334b9c833d649a0af6c71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">tausif2909</div><div class="time">2020-12-31 04:44</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-01 14:38</div><div class="msg">Happy new year all:heart:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d40a82decb4e9b25c8d972c8ebc0a0dc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">adrian.przybyla</div><div class="time">2021-01-04 13:41</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d40a82decb4e9b25c8d972c8ebc0a0dc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">adrian.przybyla</div><div class="time">2021-01-04 13:41</div><div class="msg">Hey guys</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d40a82decb4e9b25c8d972c8ebc0a0dc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">adrian.przybyla</div><div class="time">2021-01-04 13:41</div><div class="msg">do you have any gist/example/whatever with case where you testing mutation in graphql ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/27c1d28a07629ca72b5cab4fb682d80c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">chris.fullinwider</div><div class="time">2021-01-04 17:45</div><div class="msg">:wave:  -- Hi there, happy new year! first time posting (and I?m a total Pact noob). Please let me know if this post is inappropriate for this channel.

? we?ve just implemented pact into our CI/CD pipelines
? we are using the base pact broker with no webhook for provider verification upon contract updates (this appears to be best practice, and we are thinking about how to implement this layer)
? I had a question regarding webhook management.  it seems right now, that I have to create webhooks within the broker itself as well as my normal repository manager (gitlab)
? is there any documentation / best practices around how to manage these webhook integrations?  (to clarify, I?m not asking how to create webhooks and implement them.  I?m looking ahead to when we have 20 consumer repositories, seems like a challenge to manage the webhooks for all those repos)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9f751c67ca2476318a019c60817837de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">dcorrales</div><div class="time">2021-01-04 22:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cc7a18e44cddc6da9cbbfe07df13da7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">jokubas.lekevicius</div><div class="time">2021-01-04 22:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-05 01:18</div><div class="msg">Welcome! This is probably a #pact-broker question- you'd be better off posting there.

I think the best webhook documentation we have so far is here: <a href="https://docs.pact.io/pact_broker/webhooks/">https://docs.pact.io/pact_broker/webhooks/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-05 09:09</div><div class="msg">Hey , I have set up the pact in .js files . I got a suggestion to move those to typescript files instead . Do you think it is needed. What are the pros and cons</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-05 09:09</div><div class="msg">If yes can you please send me an example using typescript</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-05 09:11</div><div class="msg">This isn't really a pact question, it's more a node general question.

Typescript gives you some confidence that you haven't made type errors (but not completely typesafe, so some think it makes developers overconfident).

If you want to read about it, there are a lot of medium articles you can find with a few searches. I would recommend reading a few and making your own choices.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-05 09:11</div><div class="msg">We provide typescript types for all exported pact interfaces.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-05 09:12</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/tree/master/examples/typescript">https://github.com/pact-foundation/pact-js/tree/master/examples/typescript</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-05 09:12</div><div class="msg">Okay otherwise the PACT testing is all good with js right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-05 09:12</div><div class="msg">yes, either is fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-05 09:13</div><div class="msg">we let you choose.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-05 09:13</div><div class="msg">Alright</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-05 09:13</div><div class="msg">I found typescript examples difficult than javascript way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-05 09:13</div><div class="msg">So I thought why not I continue with javascript</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-05 09:13</div><div class="msg">Thanks for sharing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-05 09:14</div><div class="msg">Yes, this is personal preference.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-05 09:14</div><div class="msg">Alright</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-01-05 16:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-01-05 16:36</div><div class="msg">Hi folks.

We're using pact with mocha, and I'm finding something wierd going on that it seems to stop running the examples when one of them fails. This means we end up playing whack-a-mole with regressions, because you fix one problem and then there's another one hiding behind it.

Should I expect this behaviour, or does it suggest I've gone something set up wrong?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-01-05 16:40</div><div class="msg">it's as though we're running mocha with `--bail` but we're not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-05/1598810769671_efeb4f82dfccc16d936f_72.png" /><div class="message"><div class="username">rafael.manzoni</div><div class="time">2021-01-05 17:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/354aa873b29c016b4ac61f90ac130e51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">animesh2712</div><div class="time">2021-01-05 19:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/354aa873b29c016b4ac61f90ac130e51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">animesh2712</div><div class="time">2021-01-05 19:41</div><div class="msg">Hello Folks,
I was trying to write Pact for sample consumer in a React apps. I?m using jest for writing the Pact test. But I keeping get ?on interaction found? error. I found it maybe happening because of the slow initiation of Jasmine mock server which is used by jest. Also, tried using jest-pact, however didn?t worked. Any sample example with jest and React? The example present <a href="https://github.com/pact-foundation/pact-js/tree/master/examples/jest">https://github.com/pact-foundation/pact-js/tree/master/examples/jest</a> doesn?t work for me. Any help is appreciated!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-05 20:07</div><div class="msg">If I have this matcher, is it required to put the `string`, `boolean`, etc types on every single attribute? Or does the `eachLike` or `like` functions apply this automatically?
```const searchResultFixture = {
  area: string('GB_AREA'),
  availableNavigation: eachLike({
    displayName: string('Category Level 2'),
    metadata: eachLike([
      string('GB_FACET_METADATA'),
    ]),
    name: string('categoryl2'),
    or: boolean(false),
    range: boolean(false),
    refinements: eachLike(
      {
        count: integer(74),
        type: string('Value'),
        value: string('Cordless Tools'),
      },
    ),
    type: string('Value'),
  }),
}```
Like could I wrap up the `searchResultFixture` inside of a `like` function and that?ll do it or no? I?m aware that I need to put `eachLike` for all the nested arrays because verification is failing if I don?t. Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-05 20:09</div><div class="msg">Slow initiation of the jasmine mock server usually results in a different `undefined` error, so it?s probably not that. If it can?t find your interaction, that means your application code is never making the request. Double check the code running within the unit test is actually making a request, and to the correct server and port number of the mock server.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-05 20:10</div><div class="msg">this isn?t going to help you, but I haven?t seen this problem with jest yet :shrug:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 21:30</div><div class="msg">It doesn't sound right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 21:30</div><div class="msg">Are your able to share your code and mock server logs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 21:30</div><div class="msg">That might help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 21:31</div><div class="msg">Or an issue with a repro we can use to diagnose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 21:41</div><div class="msg">What Joel said</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 21:43</div><div class="msg">See this working example <a href="https://github.com/pactflow/example-consumer">https://github.com/pactflow/example-consumer</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 21:43</div><div class="msg">From the ci/cd workshop in howtolearn</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2021-01-05 21:43</div><div class="msg">Here are a number of useful hands-on labs that teach all of the key concepts <a href="https://docs.pact.io/implementation_guides/workshops">https://docs.pact.io/implementation_guides/workshops</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 21:44</div><div class="msg">Like matchers should cascade, so no, you shouldn't need to double handle</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-05 22:02</div><div class="msg">My question is more about `like` vs `eachLike`; as in, when there are nested arrays within the JSON object, do I need to specify the `eachLike` underneath the `like`? I?m assuming yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1662347776452_33e083591dbec6a13157_72.png" /><div class="message"><div class="username">antonello</div><div class="time">2021-01-05 22:20</div><div class="msg">In my experience, you do need to do that. Unless it?s changed recently.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d40a82decb4e9b25c8d972c8ebc0a0dc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">adrian.przybyla</div><div class="time">2021-01-05 22:21</div><div class="msg">Hello

i have problem with matching graphQL mutation

this is my mutation
```export function mutation(): any {
    return client
        .mutate({
            mutation: GQLTag(setDealQuery),
            variables: {
                deal: {
                 
                }
            }
        }).then((result: any) =&gt; result.data);
}```
this is my spec
```test('Deal', async (t: any) =&gt; {
    t.plan(1);

    await provider.addInteraction({
        state: undefined,
        uponReceiving: 'a hello request',
        withRequest: {
            method: 'POST',
            headers: {'content-type': 'application/json'},
            path: '/1746213/v1/',
            body: {
                query: setDealQuery,
                operationName: 'setDeal',
                variables: {
                    deal: {
                       
                    }
                }
            }
        },
        willRespondWith: {
            status: 200,
            headers: {
                'Content-Type': 'application/json',
            },
            body: {
                data: like(data)
            }
        }
    });

    const response = await mutation();
    t.deepEqual(response.data, data.data);

});```
this is my log file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 22:40</div><div class="msg">Good question, I can't recall off the top of my head Joel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 22:42</div><div class="msg">It looks like the space is the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 22:42</div><div class="msg">It's expecting space after the mutation setDeal keyword but didn't get one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d40a82decb4e9b25c8d972c8ebc0a0dc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">adrian.przybyla</div><div class="time">2021-01-05 22:53</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/issues/565#issuecomment-754948038">https://github.com/pact-foundation/pact-js/issues/565#issuecomment-754948038</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d40a82decb4e9b25c8d972c8ebc0a0dc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">adrian.przybyla</div><div class="time">2021-01-05 22:53</div><div class="msg">@matt.fellows look at link</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 22:58</div><div class="msg">glad to hear you got it working</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 22:59</div><div class="msg">matching at the moment for JSON documents doesn?t care about spaces in this way, but for GraphQL because it?s not a first class citizen in the current framework, it?s treated as a string. So we have to match that way. I?m sure we can find a way to fix it in your requested issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 22:59</div><div class="msg">thanks for taking the time to report</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/354aa873b29c016b4ac61f90ac130e51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">animesh2712</div><div class="time">2021-01-05 23:00</div><div class="msg">Thanks @matt.fellows@matt.fellows@matt.fellows@Matt (<a href="http://pactflow.io">http://pactflow.io</a> / pact-js / pact-go)@Matt (<a href="http://pactflow.io">http://pactflow.io</a> / pact-js / pact-go), does it has any known issue with windows env? I was able to run on the Macbook, but it doesn?t work on windows laptop.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-05 23:07</div><div class="msg">Pact works on windows, but that example hasn't been tested on windows.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3883e1f8e4aad81f3de148484849c2f2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">info</div><div class="time">2021-01-06 01:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-01-06 09:58</div><div class="msg">Yeah the repo is closed source, but I?m pretty sure I can share the code.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-01-06 10:28</div><div class="msg">Thanks @matt.fellows!

Here?s a gist:

<a href="https://gist.github.com/mattwynne/0143193385ebaf1b58d24aad4a70d159">https://gist.github.com/mattwynne/0143193385ebaf1b58d24aad4a70d159</a>

You can see that, even though there are three examples in the spec, it only seems to have run the first one. If I mark out the first two examples (the ones that use pact) as pending (with `xit`) it runs all three as expected, showing 2 pending, 1 failed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-01-06 10:30</div><div class="msg">It feels like we?re using the combinations of `setup` , `addInteractionv` , `verify` and `finalize` in the wrong places, but it looks pretty similar to the documented examples to us.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00be52e03e96fecba8a4d5173e7609ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">pascal.libenzi</div><div class="time">2021-01-06 10:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-06 11:24</div><div class="msg">Hey , any details about pact testing in weighted alias environments</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-06 11:27</div><div class="msg">AWS lambda aliases</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-06 11:36</div><div class="msg">Can I put providerVersion in provider.spec.ts as the alias version number</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/354aa873b29c016b4ac61f90ac130e51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">animesh2712</div><div class="time">2021-01-06 16:27</div><div class="msg">Okay, could you please help with an example that is tested on Windows?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-07/1624135653444_a74c38b3e7bf675838c0_72.jpg" /><div class="message"><div class="username">brett</div><div class="time">2021-01-06 18:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-06/1616803427602_d05fb79fb801196ad451_72.jpg" /><div class="message"><div class="username">josh.rosenfeld</div><div class="time">2021-01-06 19:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c594256a7123d8482fbcfa3a0cb7ba06.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">thanuxxxx</div><div class="time">2021-01-06 21:35</div><div class="msg">Hey guys, do we have a way to inject values from provider state callbacks? I know in Java world we can do something like this   `.pathFromProviderState("/api/users/${id}", "/api/users/100")`, and do we have a equivalent  method in pact-js?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-06 21:43</div><div class="msg">Our v3 beta release does allow this. It's almost out of beta</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-01-06 22:42</div><div class="msg">I realise there?s quite a lot there to read, but any thoughts from skimming it would be appreciated @matt.fellows? :pray:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-07/1624135653444_a74c38b3e7bf675838c0_72.jpg" /><div class="message"><div class="username">brett</div><div class="time">2021-01-06 22:58</div><div class="msg">Moved to pact-broker channel which seemed more appropriate for this question.
~Hey guys, I've got my PACT json file generated in my Angular project (karma + jasmine) and I can't seem to publish it to Pactflow as shown in the tutorial.~
~I get this error when I run npm run publish:~
~"Error making request - NoMethodError undefined method `[]' for nil:NilClass..."~
~Do I need to set up a separate/custom publish.js file? Here is what is in my package.json:~
```"publish": "npx pact-broker publish pacts --consumer-app-version=1 --broker-base-url=[redacted] --broker-token=[redacted] --tag master"```
~I've been searching for over an hour and can't seem to make progress. Any help is much appreciated, as I imagine I'm missing something quite simple. Thanks!~</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-07 01:56</div><div class="msg">@matt195 Your example looks right to me. Note that mocha bails on the first error by default, but Jest does not. Could it be that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-07 05:58</div><div class="msg">Error: Error while installing binary: Postinstalled Failed Unexpectedly: Error downloading binary from <a href="https://github.com/pact-foundation/pact-ruby-standalone/releases/download/v1.88.3/pact-1.88.3-win32.zip">https://github.com/pact-foundation/pact-ruby-standalone/releases/download/v1.88.3/pact-1.88.3-win32.zip</a><a href="https://github.com/pact-foundation/pact-ruby-standalone/releases/download/v1.88.3/pact-1.88.3-win32.zip:">https://github.com/pact-foundation/pact-ruby-standalone/releases/download/v1.88.3/pact-1.88.3-win32.zip:</a> Error: Error while installing binary: Error: unable to get local issuer certificateError: Error while</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-07 05:58</div><div class="msg">Getting this error everytime i install pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-07 05:58</div><div class="msg">please help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-07 06:10</div><div class="msg">It sounds like you have a self-signed SSL certificate - You may need to configure npm to use your cafile, as per the instructions at the end of this note: <a href="https://github.com/pact-foundation/pact-node#pact-download-location">https://github.com/pact-foundation/pact-node#pact-download-location</a>

If that fails, you can add `@pact-foundation/pact-node` as a direct dev dependency, and follow the local download instructions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fc79e81d90362386b8dfa3da085f3fa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">patrick.b.romo</div><div class="time">2021-01-07 06:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-07 10:28</div><div class="msg">Oky</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-07 10:28</div><div class="msg">,"@pact-foundation/pact":"^9.13.2",</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-07 10:29</div><div class="msg">I had used this instead of pact-node</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-07 10:30</div><div class="msg">will it make difference</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-07 10:40</div><div class="msg">Pact node is a transitive dependency of pact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-07 10:41</div><div class="msg">Follow the instructions there to download it in advance</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-07/1615634904133_ff1e69b29898f1a411d5_72.png" /><div class="message"><div class="username">carlo</div><div class="time">2021-01-07 13:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-07 13:36</div><div class="msg">i am able to run from jenkins and from local also , but my teammates are not able to install pact..getting the erro..but i wonder they were able to install one day back..today they are getting error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-01-07 16:03</div><div class="msg">@andrewshtamburg has left the channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-07/1616245693877_b118249868e524ee6ed8_72.png" /><div class="message"><div class="username">danny.porrello</div><div class="time">2021-01-07 16:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/354aa873b29c016b4ac61f90ac130e51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">animesh2712</div><div class="time">2021-01-07 17:02</div><div class="msg">Hello,
Any tested example of pact js for consumer on windows?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-07 22:17</div><div class="msg">All of the examples in pact JS repo also run on a windows build agent. What's the issue you're having?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-07 22:18</div><div class="msg">Why does the OS matter?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/354aa873b29c016b4ac61f90ac130e51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">animesh2712</div><div class="time">2021-01-08 03:07</div><div class="msg">I was getting ?no interaction found?, no matter what I did. However, it was a weird issue that was resolved today. After I deleted my workspace and started fresh.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-08 03:29</div><div class="msg">So yeah, it really sounds like an issue on your side. Inconsistent behaviour generally indicates environment specific problems. If you can reliably reproduce the problem within and outside of your corporate environment, then please raise an issue and we can look into it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-07/1621244124819_5fd03386359aaf8599cd_72.png" /><div class="message"><div class="username">dawood.abbas</div><div class="time">2021-01-08 07:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-08 13:07</div><div class="msg">Is it possible to check if a node in the graphql response is either null or a non empty data of expected type using any of pact matcher</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-08 13:28</div><div class="msg">No, because how do you know if it?s supposed to be null or if it?s a bug?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-08 13:28</div><div class="msg">Provider states should be used to set up the provider so that it returns the expected data</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-01-08 14:08</div><div class="msg">Thanks for taking a look Tim.

I?m puzzled. I use mocha lot and I?m sure it?s showing me multiple failing examples from other tests in the same project. It?s as though the error thrown by `verify` is causing it to bail. Or maybe it?s some behaviour of mocha when it?s an `afterEach` hook failing rather than in the example itself?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-08 15:15</div><div class="msg">Hm. I?m not sure, although I confess I haven?t used mocha in a while. Does this happen in a non-pact test that fails in the same way?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-08 22:51</div><div class="msg">The FAQ on our docs talks to this point also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-08 22:53</div><div class="msg">Could be the `after` blocks. You don't have to run `verify` in that way if you don't want. E.g. you could ensure every `it` has the call to `verify` </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-09 00:27</div><div class="msg">^ <a href="https://docs.pact.io/faq/#why-is-there-no-support-for-specifying-optional-attributes">https://docs.pact.io/faq/#why-is-there-no-support-for-specifying-optional-attributes</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-09 03:49</div><div class="msg">Big thanks to @artur for kicking off the work to move to github actions from Travis (who stopped running builds for OSS). Artur got the builds working, and I've now finished the migration of the release process with the pact-foundation npm tokens. The above is the first automated release from github actions!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-09 03:49</div><div class="msg">tacos for @artur :taco: :taco: !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-09 07:33</div><div class="msg">:bow: it was a fun task - thanks for the great tool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-09 22:13</div><div class="msg">Awesome work folks, really appreciate this!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-09 22:13</div><div class="msg">Artur you've been a community star of late :taco: :taco: :taco:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-09 22:13</div><div class="msg">And time as always :taco: for you too!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-10 05:03</div><div class="msg">On a side note @artur, we?ve added the ability to disable SSL verification in the v3 branch but need to get a release out. I?ll try and do that in the next few days - it may require migrating that branch to GH actions too (probably via merging into master so as to not diverge too far)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-10 05:04</div><div class="msg">merging *from* master</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-10 05:19</div><div class="msg">@matt.fellows We can clone the new release workflow. The major difference will be checking out the V3 branch, and marking releases as pre-release.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dd7008d160962d6a27f3a88fe001cf0e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">cksharma122</div><div class="time">2021-01-10 17:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-11 01:46</div><div class="msg">@tjones I'm merging master into V3 branch. How do I trigger the release? using the `scripts/trigger-release.sh` script?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-11 01:47</div><div class="msg">That will trigger a master release. We need to do a small amount of work to trigger a beta release- I plan to document the release process today, but I?ll do the script work now if you like</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-11 01:47</div><div class="msg">awesome</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-11 03:31</div><div class="msg">cool, that will help me with the next steps.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-10/1610591809191_78e90cb328bd45d3e795_72.jpg" /><div class="message"><div class="username">caiquedpfc</div><div class="time">2021-01-11 04:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-11 10:09</div><div class="msg">@matt.fellows can you point me to the commit? I cannot find it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-11 12:25</div><div class="msg">I think it is this one Artur: <a href="https://github.com/pact-foundation/pact-js/commit/3696d06bfa8c8464e6cd57beb6a86ef9df21e71c#diff-3fab565bc59ecce4b0b3bc4f271c95e9348a97ba641900f0902dcc8b771a56d3R460-R471">https://github.com/pact-foundation/pact-js/commit/3696d06bfa8c8464e6cd57beb6a86ef9df21e71c#diff-3fab565bc59ecce4b0b3bc4f271c95e9348a97ba641900f0902dcc8b771a56d3R460-R471</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-11/1651226405760_58cd3ee1c81688f73120_72.jpg" /><div class="message"><div class="username">henrik.rudstrom</div><div class="time">2021-01-11 18:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4648618112276684bb23002ba7279e4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">eric</div><div class="time">2021-01-12 10:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/27c1d28a07629ca72b5cab4fb682d80c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">chris.fullinwider</div><div class="time">2021-01-13 00:13</div><div class="msg">sorry for late response, thank you!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e3e1b4209293992f8617e902743968c0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">fnguyen</div><div class="time">2021-01-13 00:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-10/1610591809191_78e90cb328bd45d3e795_72.jpg" /><div class="message"><div class="username">caiquedpfc</div><div class="time">2021-01-13 04:04</div><div class="msg">Hello guys. I'm trying to run `jest __tests__/contract/consumer --runInBand` but jest cannot find any tests to run: `Pattern: __tests__/contract/consumer - 0 matches` even though the ClientsConsumer.spec.js file exists in the `__tests__ directory/contract/consumer/` can someone help me?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-13 04:15</div><div class="msg">This is not really a Pact issue, but I've used `jest consumer/*.test.js` so you might need to add the extension</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-13 10:20</div><div class="msg">Hey , will can-I-deploy sends a machine code like 0 or 1 , so that jenkins will go to next step based on 0 or 1 . In that case , a web hook is not needed right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-13 10:21</div><div class="msg">yes, all of our CLI tools properly exit with `0` when they are successful, or &gt; `0` if they fail (usually exit code `1`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-13 10:22</div><div class="msg">Not sure what you?re asking about a webhook though. Do you mean, if it fails, trigger a provider build?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-13 11:09</div><div class="msg">Hi - if we define a part of the response as an exact array of items (because #reasons) and the provider returns those items but in a different order, will Pact care?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-13 11:21</div><div class="msg">I was asking if I am using can I deploy in my pipeline , and I have the next command to deploy in the same pipeline....there is no need of an explicit web hook from broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-13 11:22</div><div class="msg">As the can i deploy will take care of it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-13 12:50</div><div class="msg">That's what I do :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-13 12:51</div><div class="msg">Good question. I hope not :crossed_fingers:, but have a suspicion it does (I recall a question regarding lat/lng and meanings of positional floats :grimacing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-13 12:58</div><div class="msg">:joy:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-10/1610591809191_78e90cb328bd45d3e795_72.jpg" /><div class="message"><div class="username">caiquedpfc</div><div class="time">2021-01-13 14:07</div><div class="msg">Thanks @uglyog</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-13 15:39</div><div class="msg">it seems like it does, btw</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-13 16:04</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cba2aeed34410cd73323d527d4882b97.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">dshattuck</div><div class="time">2021-01-13 20:49</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cce28e9ae9f1ec7910338a6b183ba104.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">thomas.rosati</div><div class="time">2021-01-13 21:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-14 07:15</div><div class="msg">I have a PactV3 provider with a json response
```      .willRespondWith({
        status: 200,
        body: {
          ocs: {
            meta: {
              statuscode: 100
            }
          }
        }
      })```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-14 07:17</div><div class="msg">when running that interaction against a provider that responds JSON but sets the wrong content-type in the header I get the error message:
```1) Verifying a pact between owncloud-sdk and oc-server - a capabilities GET request with valid authentication returns a response which 
  1.1) has a matching body
          expected 'application/json' body but was 'text/plain;charset=utf-8'```
what is kind of true. But actually the body is correct, only the header is wrong.

Is that a bug in pact of a feature?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-14 07:21</div><div class="msg">I can see the argument for this error message, but I think you're right that it's better described as a header mismatch. Would you be able to open an issue, please?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-14 07:21</div><div class="msg">This is by design. If the content type is `text/plain`, it can be any text. Do you require an override mechanism to set the content type to JSON?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-14 07:23</div><div class="msg">If the content type header was specified in the Pact, then there would be a header mismatch as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-14 07:23</div><div class="msg">no, no. its a bug in the provider I'm testing. The provider really has to send the correct content-type. I was just confused by the error message and was thinking if that is intended, because in that particular example I actually don't check the content type only the body</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-14 07:24</div><div class="msg">yes, that how I started to dig in. I had both specified and then two error messages came up</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-14 07:24</div><div class="msg">but I knew that the body content is correct and simplified my interaction</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-14 07:25</div><div class="msg">with both specified in the interaction I get
```1) Verifying a pact between owncloud-sdk and oc-server - a capabilities GET request with valid authentication returns a response which 
    1.1) has a matching body
           expected 'application/json;charset=utf-8' body but was 'text/plain;charset=utf-8'
    1.2) includes header 'Content-Type' with value 'application/json; charset=utf-8'
           Expected header 'Content-Type' to have value 'application/json; charset=utf-8' but was 'text/plain; charset=utf-8'```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4846828c8da4db21142b64c36662365a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">rahulsmalpani</div><div class="time">2021-01-14 07:56</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-14 08:04</div><div class="msg">issue for further discussion <a href="https://github.com/pact-foundation/pact-js/issues/575">https://github.com/pact-foundation/pact-js/issues/575</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1642290497348_b31c28a96b58e4581b57_72.png" /><div class="message"><div class="username">sacha.camfferman768</div><div class="time">2021-01-14 09:42</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-27/1679048455493_09c95a5f2df710f0c956_72.png" /><div class="message"><div class="username">brandonbeard86</div><div class="time">2021-01-14 22:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1662634339344_b45259c873e0cae1849c_72.jpg" /><div class="message"><div class="username">geetishnayak</div><div class="time">2021-01-15 01:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 06:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 06:35</div><div class="msg">hi all, does anybody get intermittent connection refused errors 'connect ECONNREFUSED 127.0.0.1:35183' while using node.js pact on docker? this are the logs when it fails and then succeeds</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 06:36</div><div class="msg">That shouldn't happen. My guess would be that the promises that need to be waited on aren't being waited on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 06:37</div><div class="msg">can you share your consumer test code that is producing the error? Just the structure is fine, the details of the requests can be removed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 06:38</div><div class="msg">I would guess that things are slightly slower to spin up in docker, which would be why you're seeing this in docker.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 06:39</div><div class="msg">```const provider = new Pact({
    consumer: pacticipantName,
    provider: microservice.providerName,
    port: 35183,
    // port: 1234,
    // You can set the port explicitly here or dynamically (see setup() below)
    log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),
    dir: path.resolve(process.cwd(), 'pacts'),
    logLevel: 'DEBUG',
    spec: 2,
});

await provider.setup().then((opts) =&gt; `<a href="http://localhost">http://localhost</a>:${opts.port}`);
const apiUrl = '<a href="http://127.0.0.1:35183">http://127.0.0.1:35183</a>';
await new Promise((r) =&gt; setTimeout(r, 2000));

await provider.addInteraction({
    state,
    uponReceiving,
    withRequest: {
         method: 'POST',
         path: urlPath,
         body: requestBody,
         headers: {
              'Content-Type': 'application/json; charset=utf-8',
         },
     },
     willRespondWith: {
         status: 200,
         headers: {
             'Content-Type': 'application/json; charset=utf-8',
         },
         body: responseBody,
      },
});
await request
    .post(`${apiUrl}${urlPath}`)
    .send(requestBody)
    .set('Content-Type', 'application/json; charset=utf-8');

await provider.verify();
await provider.finalize();```
 it goes something like this i added a delay as well ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 06:44</div><div class="msg">u may be right ... let me increase the delay to 10 secs to see if i get a higher success rate ..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-15 06:45</div><div class="msg">what is `apiUrl`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-15 06:45</div><div class="msg">It looks like your code is hitting it, but that?s _not_ the mock server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-15 06:45</div><div class="msg">I think you want something like this:
```const apiUrl = await provider.setup().then((opts) =&gt; `<a href="http://localhost">http://localhost</a>:${opts.port}`);```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 06:45</div><div class="msg">Hm. The promises look right at first glance. A couple of things:

1) You've got
```await provider.setup().then((opts) =&gt; `<a href="http://localhost">http://localhost</a>:${opts.port}`)```
for getting the API URL, but then have it hard coded to `const apiUrl = '<a href="http://127.0.0.1:35183">http://127.0.0.1:35183</a>';`, which seems like it might cause errors later (although you're configuring the port to be the same).

2) The `<a href="http://request.post">http://request.post</a>` block isn't the usual pattern- usually you would call the actual client code that your consumer is going to call</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-15 06:45</div><div class="msg">exactly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 06:46</div><div class="msg">Delay shouldn't be necessary. Just to check, you're doing all of this inside an `async` function, yes?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 06:46</div><div class="msg">yup am doing this inside async function</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 06:47</div><div class="msg">I wonder if there's some optimisation where it determines that some of the `async`s don't depend on each other</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-15 06:47</div><div class="msg">can you please also share the mock server logs? That may be enlightening too</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 06:48</div><div class="msg">yup for 1) , your code was what i had before but I was still encountering the same issue.... i added apiUrl as a separate line because I was trying to figure out what was the issue ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 06:52</div><div class="msg">ok let me try to get the mock server logs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-15 06:54</div><div class="msg">So it very much has the smell of promise handling. Some tactical use of `console.log`  might be handy in just seeing if indeed things are in the correct order</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 07:03</div><div class="msg">What test framework are you using?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:04</div><div class="msg">my mock server logs are as follows my mock server logs are as follows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:04</div><div class="msg">```I, [2021-01-15T06:59:39.072654 #106]  INFO -- : Registered expected interaction POST /endpoint-b
D, [2021-01-15T06:59:39.073040 #106] DEBUG -- : {
  "description": "request b",
  "providerState": "state b",
  "request": {
    "method": "POST",
    "path": "/endpoint-b",
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
    }
  },
  "metadata": null
}
I, [2021-01-15T06:59:39.076048 #106]  INFO -- : Registered expected interaction POST /endpoint-a
D, [2021-01-15T06:59:39.079093 #106] DEBUG -- : {
  "description": "request a",
  "providerState": "state a",
  "request": {
    "method": "POST",
    "path": "/endpoint-a",
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
    }
  },
  "metadata": null
}
I, [2021-01-15T06:59:39.082004 #106]  INFO -- : Registered expected interaction POST /endpoint-c
D, [2021-01-15T06:59:39.082236 #106] DEBUG -- : {
  "description": "request c",
  "providerState": "state c",
  "request": {
    "method": "POST",
    "path": "/endpoint-c",
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": {
      }
    }
  },
  "metadata": null
}
I, [2021-01-15T06:59:39.118883 #106]  INFO -- : Received request POST /endpoint-b
D, [2021-01-15T06:59:39.119069 #106] DEBUG -- : {
  "path": "/endpoint-b",
  "query": "",
  "method": "post",
  "body": {
  },
  "headers": {
    "Content-Length": "76",
    "Content-Type": "application/json; charset=utf-8",
    "Host": "127.0.0.1:35183",
    "Accept-Encoding": "gzip, deflate",
    "Connection": "close",
    "Version": "HTTP/1.1"
  }
}
I, [2021-01-15T06:59:39.119523 #106]  INFO -- : Found matching response for POST /endpoint-b
D, [2021-01-15T06:59:39.119625 #106] DEBUG -- : {
  "status": 200,
  "headers": {
    "Content-Type": "application/json; charset=utf-8"
  },
  "body": {
  }
}```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:04</div><div class="msg">im using jest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 07:06</div><div class="msg">do you have multiple test files? There are three endpoints registered in that log, but only one in your test file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 07:07</div><div class="msg">If some dependent promise optimisation is causing this, then you could try moving the promises out to `beforeEach` `afterEach` etc - see the jest examples for a guide</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 07:07</div><div class="msg">also, if you do have multiple test files, you'll need to run jest with `--runInBand`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:11</div><div class="msg">ah thanks for the tip ... it is indeed due to a missing await Promise.all() ... as I am running a loop through each request ....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 07:12</div><div class="msg">If you're running tests concurrently, you'll want to be careful to make sure that each mock server runs on a different port and writes to a different pact file. Usually, tests are run sequentially to avoid the need for this.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:12</div><div class="msg">in my code ... the 'addInteraction' and then '<a href="http://request.post">http://request.post</a>' is in a loop ... based on an array of requests object ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:13</div><div class="msg">so that solves my problem.. thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 07:13</div><div class="msg">The reason tests need to be sequential is because sometimes there's a race condition when updating the pact file.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:14</div><div class="msg">ah noted ... yup i always use the runInBands option for jest for simplicity sake</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 07:14</div><div class="msg">Ok. If you're doing that, make sure that the loop contents are:

```await addInteraction
await sendRequest
await provider.verify()```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:15</div><div class="msg">yup that is what im doing ... my error was not adding a await Promise.all for the loop ... which resulted in the test ending before it could finish the loop</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-15 07:15</div><div class="msg">You may also be interested in <a href="https://github.com/pact-foundation/jest-pact">https://github.com/pact-foundation/jest-pact</a> , which sets up the promises for you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cc94eac09513bd7142c1456eab72022.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">stanleyawang</div><div class="time">2021-01-15 07:17</div><div class="msg">oh ok ... didn't see this before ... will have a look thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-15 12:53</div><div class="msg">Hey , I need a token which needs to be passed as Authorization header in my request. So I will be generating it every time I do the test and it expires in a short time of 15 mins. So will pact works for that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ffc70fff2e4b0d08b8ff00d98217bacc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">shettyg</div><div class="time">2021-01-15 14:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-15 15:01</div><div class="msg">Is requestFilters the solution</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/055a3b1df3316bd743a4dbb449bf6eb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">natarajang1</div><div class="time">2021-01-15 15:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-15 22:38</div><div class="msg">The JS workshop has a whole step dedicated to this. But that's one of them, yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 06:45</div><div class="msg">why is  `JSON.stringify` called on `body` here <a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/src/v3/pact.ts#L139">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/src/v3/pact.ts#L139</a> ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-18 07:05</div><div class="msg">Because `addRequest` is expecting JSON</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 07:06</div><div class="msg">I'm just testing it, it seems to be happy with an JSON object or string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 07:06</div><div class="msg">my issue is that when I send it a string it gets added extra quotes see <a href="https://github.com/pact-foundation/pact-js/issues/577">https://github.com/pact-foundation/pact-js/issues/577</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-18 07:08</div><div class="msg">It's probably better to just pass the raw Javascript object through, and then deal with it on the other side.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 07:09</div><div class="msg">that what I thought, or only stringlify if its not a string?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 07:09</div><div class="msg">```-    this.pact.addRequest(req, req.body &amp;&amp; JSON.stringify(req.body))
+    if (typeof req.body !== 'string') {
+      req.body = req.body &amp;&amp; JSON.stringify(req.body)
+    }
+    this.pact.addRequest(req, req.body)```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-18 07:10</div><div class="msg">That will fix your issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 07:20</div><div class="msg">PR <a href="https://github.com/pact-foundation/pact-js/pull/578">https://github.com/pact-foundation/pact-js/pull/578</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 07:35</div><div class="msg">I fail to build v3
any idea?
```$ npm run build:v3

&gt; @pact-foundation/pact@10.0.0-beta.25 build:v3 /home/artur/www/pact/pact-js
&gt; neon build --release

neon ERR! spawn cargo ENOENT

Error: spawn cargo ENOENT
    at Process.ChildProcess._handle.onexit (internal/child_process.js:268:19)
    at onErrorNT (internal/child_process.js:470:16)
    at processTicksAndRejections (internal/process/task_queues.js:84:21)
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! @pact-foundation/pact@10.0.0-beta.25 build:v3: `neon build --release`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the @pact-foundation/pact@10.0.0-beta.25 build:v3 script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/artur/.npm/_logs/2021-01-18T07_34_57_395Z-debug.log```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-18 07:36</div><div class="msg">I think you have to have rust + cargo installed to run that step</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-18 07:36</div><div class="msg">I was actually going to catch up with Tim Jones (another maintainer) this morning, and one of the activities ironically was to create some developer documentation - apologies it?s not there just yet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 07:39</div><div class="msg">something happening now. Also v3 e2e tests are not running in CI as far as I can tell</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-18 07:52</div><div class="msg">:scream:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 07:58</div><div class="msg">hello team , please note that i am new in pact .... Now i have my endpoint for login which i need to make a Contract testing on it how to setup my consumer and provider ?? Another question is there any pact matchers that matches on only keys not value ??</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 08:03</div><div class="msg">would it be possible to create regex for that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 08:04</div><div class="msg">hello @artur did you talk about my problem ?? i am already have this endpoint response using supertest</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 08:05</div><div class="msg">I talked about having a matcher that only matches keys</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 08:06</div><div class="msg">did u mean create regex for value and matches that regex ... do i understand u correctly ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 08:07</div><div class="msg">no, I regex matcher that contains both key and value, with `.*` for the values</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 08:08</div><div class="msg">are you dealing with JSON?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 08:08</div><div class="msg">not much</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 08:09</div><div class="msg">How can i search about that thing to know more about it ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 08:09</div><div class="msg">can you give me an example of your interaction?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 08:12</div><div class="msg">this is the request : <a href="https://testing3-api.asgard.io/dashboard/sign_in/">https://testing3-api.asgard.io/dashboard/sign_in/</a> and there is a body which contains email and password
Response: {_id: '5ffec1a68',
                    owner: '5fd9c936039',
                    type: 'dashboard',
                    token: '7c13e256-463e-4887',
                    refresh_token: '56b58158-8e34',
                    expiry_date: '2021-01-14T09:4',
                    createdAt: '2021-01-13
                    updatedAt: '2021-01-13
                    __v: 0,
                    is_expired: false,
                    id: '5f29950f58',
                    jwt: 'VsGItox_pCFnfBIPikLQiBlp,
                    role: 'admin'}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 08:13</div><div class="msg">and you want to have a matcher for the response?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 08:14</div><div class="msg">yes to check that only keys is returned which is id , owner , .....</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 08:18</div><div class="msg">what about using just string?
```const { like, string } = Matchers
.....
  willRespondWith: {
    status: 200,
    headers: {
      "Content-Type": "application/json; charset=utf-8",
    },
    body: {
      _id: string("5ffec1a68"),
      owner: string("5fd9c936039"),
    },```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 08:18</div><div class="msg">that should match regardless of what the id or owner is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 08:51</div><div class="msg">thank @artur i will give it a try</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 08:53</div><div class="msg">Can any one help me with the first part of question how to setup my endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-18/1646246366115_deed7a0c70f2c0a781e9_72.png" /><div class="message"><div class="username">michel.neufeglise</div><div class="time">2021-01-18 08:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-18/1646246366115_deed7a0c70f2c0a781e9_72.png" /><div class="message"><div class="username">michel.neufeglise</div><div class="time">2021-01-18 09:25</div><div class="msg">Hi everybody :slightly_smiling_face:  I am new to <a href="http://Pact.IO">http://Pact.IO</a> and currently working on a implementation of pact in an angular 7 project with Jest unit test framework but having a problem getting the requests handled by the pact stub server without using TestBed for injecting my service into the unit tests, has anybody an example of how I could do this without using TestBed ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a1275d63096befa665fd57b42b630ef7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">bart.boersma</div><div class="time">2021-01-18 10:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-18 11:57</div><div class="msg">:taco: for @artur who?s been such a great contributor over the last few weeks. We can?t keep up!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 12:15</div><div class="msg">I'm working totally selfish, I need V3 working because I have to deal with dynamic XML bodies. I tried by using regex but that is :poop:. So better get V3 working and use the XmlBuilder</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 12:17</div><div class="msg">please tell me if it worked, I'm also just implementing <a href="http://pact.io">http://pact.io</a> in a project <a href="https://github.com/owncloud/owncloud-sdk">https://github.com/owncloud/owncloud-sdk</a>
we got the consumer side working, now refactoring it and trying to solve issues on the provider side</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 12:17</div><div class="msg">ok, that is not true, V3 tests do run in CI</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 12:23</div><div class="msg">BTW: how does pact-js v3 send data to  the mock server to set up the interactions? with the old version I could see POST requests in the packet sniffer, not anymore with v3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-18/1646246366115_deed7a0c70f2c0a781e9_72.png" /><div class="message"><div class="username">michel.neufeglise</div><div class="time">2021-01-18 12:26</div><div class="msg">Never mind, Matt pointed me to a solution which works, embedding the service in the setup() method of the provider :-)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 13:14</div><div class="msg">I am trying to do so but as i mention in my post that i can't implement the contact testing of my endpoint how can i do so through pact cause i have some understanding points</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 13:14</div><div class="msg">i will take a look at your project it can helps me in my situation</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 13:15</div><div class="msg">be aware that we are moving to pactV3, that has some differences</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-14/1659863948864_ccf8af42101971a65a46_72.png" /><div class="message"><div class="username">pollet_22</div><div class="time">2021-01-18 13:16</div><div class="msg">honestly i am totally new so i don't know what is differ from actual version :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 13:17</div><div class="msg">when I started the best source for me were the examples in github</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-18 13:17</div><div class="msg">pick your test env and copy paste <a href="https://github.com/pact-foundation/pact-js#examples">https://github.com/pact-foundation/pact-js#examples</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-18 22:13</div><div class="msg">It passes the Pact from the DSL to the native lib, which creates a mock server from that. There is no HTTP communication, it is all done through code.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-19 02:22</div><div class="msg">It?s one of the reasons why it?s heaps faster than before</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-18/1649517808003_f53b1b283bd37826270a_72.jpg" /><div class="message"><div class="username">monica.wu</div><div class="time">2021-01-19 06:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-19 06:59</div><div class="msg">@uglyog I'm trying to run the tests in <a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/e2e/test/consumer.spec.js">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/e2e/test/consumer.spec.js</a>
but the provider side tests fail with
```Failures:

0) Verifying a pact between Matching Service V3 and Animal Profile Service V3 Given is authenticated And Has some animals - a request to get animals as XML returns a response which has a matching body
    $.animals.0 -&gt; Expected 'lion' to be the same type as 'goat'```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-19 07:00</div><div class="msg">it seems not to be happy with <a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/e2e/test/consumer.spec.js#L289-L304">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/e2e/test/consumer.spec.js#L289-L304</a>
any idea?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-19 07:13</div><div class="msg">now it passes, maybe I had an old beta in that folder and that's why it did not work, sorry for the noise</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-19/1634821648279_04f5e2aa6b5121d8a5c4_72.jpg" /><div class="message"><div class="username">makobernal</div><div class="time">2021-01-19 08:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-19 08:48</div><div class="msg">I have trouble to make provider states in V3 using async code
first I tried in my app. then modified one test example <a href="https://github.com/individual-it/pact-js/blob/asyncProviderStates/examples/v3/e2e/test/provider.spec.js#L77-L80">https://github.com/individual-it/pact-js/blob/asyncProviderStates/examples/v3/e2e/test/provider.spec.js#L77-L80</a>
but the result is the same, the code is fired but it does not wait for the Promise to resolve</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-19/1650183409315_35757b37129923f5f3f6_72.png" /><div class="message"><div class="username">jibrail.idris</div><div class="time">2021-01-19 10:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-19 10:13</div><div class="msg">I managed to get it working with <a href="https://github.com/larsgw/sync-fetch">https://github.com/larsgw/sync-fetch</a>
but is that by design? are only sync operation allowed in the states?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-26/1675782531090_da5f2b7271d0937cb2a4_72.jpg" /><div class="message"><div class="username">jmvb.registros</div><div class="time">2021-01-19 11:01</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-19 12:49</div><div class="msg">It looks like you?d have to await the result of fetch and mark the corresponding state handler as async</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-19 14:18</div><div class="msg">tried it, same result</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-19 22:06</div><div class="msg">Provider states don't support async functions yet. I'm waiting for a PR in Neon to be able to handle the promise.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-19/1653138880034_c00cfed0f59d534f66c6_72.jpg" /><div class="message"><div class="username">tpham</div><div class="time">2021-01-19 22:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0c115eda456b13b7475a3b0d619b5a5d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">vishal.grover</div><div class="time">2021-01-20 03:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-20 03:25</div><div class="msg">anything I could help with that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-20 03:34</div><div class="msg">Not much we can do at the moment. Need one of these to be implemented: <a href="https://github.com/neon-bindings/rfcs/pull/35">https://github.com/neon-bindings/rfcs/pull/35</a> and <a href="https://github.com/neon-bindings/rfcs/pull/32">https://github.com/neon-bindings/rfcs/pull/32</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-01-20 03:38</div><div class="msg">Looks like the Threadsafe handle pre-release was merged and released with 0.7.0 of Neon. That should be good to try to use to deal with JS promises.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-20 03:55</div><div class="msg">I will try it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1678354920016_79ef1d42d4aa9dc1d5f9_72.png" /><div class="message"><div class="username">priya.saraf</div><div class="time">2021-01-20 08:43</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e11d1bc8c1770bbfc1dcd509c948bfab.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">fahad.aj.khan</div><div class="time">2021-01-20 08:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-01-20 09:00</div><div class="msg">looks too me that its a bit of work to implement that, I will have to go with sync requests for now :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-20 09:06</div><div class="msg">Can we promisify it on our side with a callback?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-20 09:07</div><div class="msg">Also, this conversation would be well suited for #pact-js-development</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/766819978f75002fdcc739693d8149bb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">nicole.jaenchen</div><div class="time">2021-01-20 09:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/52764fbc1fab4118d2177609c021c326.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">dinakaran.ulaganathan</div><div class="time">2021-01-20 13:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/221308ac34db2658325292b56a56ee6a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">ptsiakos77</div><div class="time">2021-01-20 21:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1664623789364_14e16af0da1c1c9bd222_72.jpg" /><div class="message"><div class="username">mhdtouban</div><div class="time">2021-01-21 01:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-20/1651937415398_58566d44a6d8ad8628b7_72.png" /><div class="message"><div class="username">veeraprathap.n</div><div class="time">2021-01-21 04:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-21 08:47</div><div class="msg">Hey can I know how to export the test results from pactflow to jenkins</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-21 09:19</div><div class="msg">What test results - consumer or provider? Pact usually is run within a test framework (e.g. jest) so you would usually report those results</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-21/1683302354736_2436d7c2a549cf8a3047_72.jpg" /><div class="message"><div class="username">tsiakos</div><div class="time">2021-01-21 09:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-21 12:50</div><div class="msg">Oh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-21 12:51</div><div class="msg">I am using mocha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-21 12:51</div><div class="msg">Okay so mocha test results will be good ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-21 12:51</div><div class="msg">But is there any way I can export the pactflow report</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-21 12:51</div><div class="msg">Provider test results</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-21/1645412883447_34d892f0307e827ffaf3_72.jpg" /><div class="message"><div class="username">oleg</div><div class="time">2021-01-21 13:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-21 23:51</div><div class="msg">We don?t currently have a way of doing that I don?t think. There is support for it in the underlying Ruby process, but i?m not sure how that would work with the way we currently use it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-21 23:52</div><div class="msg">@bethskurrie with the `--format` option for the verifier, how difficult would it be to enable multiple outputs. i.e. for Pact JS, we still want the stdout to print the custom Pact output, but if we could also generate a RspecJunitReport then this would also be possible</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-22 07:16</div><div class="msg">Okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-22 07:17</div><div class="msg">Hey I need to pass body of the POST request in my provider.interaction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-22 07:17</div><div class="msg">Can u show any sample</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-22 07:17</div><div class="msg">How to do that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-22 07:17</div><div class="msg">Pact is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /><div class="message"><div class="username">writetojoshma</div><div class="time">2021-01-22 07:17</div><div class="msg">Js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21a13039e131f19c96ef262217a97e17.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">thomas.powell</div><div class="time">2021-01-22 10:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21c88d9123212fbc23367fc989cfb33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">brendan.j.donegan</div><div class="time">2021-01-22 16:56</div><div class="msg">You just use the body: field</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/faeabe3ef64f949132cc6fc21101a7db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">stefan.selent</div><div class="time">2021-01-23 01:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16586afa0ed8b0de9d35e8f763b1d2c1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">paulo</div><div class="time">2021-01-25 11:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 14:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-25 14:42</div><div class="msg">How do we deal with requests that include a file in them?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 14:44</div><div class="msg">Hey there! I have been putting together a POC of PactJS for my team, and have stumbled onto some issues that we have not been able to rectify. I wanted to throw this question out to ensure I am understanding correctly and setting up my tests properly.

Background: Angular application with GraphQL backend, validation using Jest.

Am I to have the host/port used to set up my Pact provider be the same one used for my Service? For instance, I have my Pact provider hit port 8181, I add the pact interaction for the GraphQLInteraction in my beforeEach block, then have my actual service hitting port 8181 in the test as well to share the mock service set up by Pact. Is that correct? Or can I have the service in my test hit the actual, running service on, say, port 3000?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 14:53</div><div class="msg">Hey there Michel - would you mind sharing the solution that Matt provided you? I am running into a similar issue with my current project.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 16:59</div><div class="msg">I think I answered the above question. What I'm running into is my Angular TestBed does not appear to be using the mocked response, so when I am executing my test I am getting a null response, and so the provider.verify() function fails.

My team and I are not able to get past this issue.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a958e65969d4dee077ff2e9815e2ca7d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">robert.land</div><div class="time">2021-01-25 19:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-25/1686560676673_cafcd73c5350e1a5f120_72.png" /><div class="message"><div class="username">aparnachaudhari</div><div class="time">2021-01-25 21:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-25 22:08</div><div class="msg">You neod to configure your API client to talk to the pact mock service, not the real one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-25 22:08</div><div class="msg">This has some options: <a href="https://docs.pact.io/faq/#how-do-i-test-binary-files-in-responses-such-as-a-download">https://docs.pact.io/faq/#how-do-i-test-binary-files-in-responses-such-as-a-download</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-25 22:09</div><div class="msg">Pact V3 has a native binary matcher (JS and JVM)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-25 22:10</div><div class="msg">e.g. <a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/todo-consumer/test/consumer.spec.js#L170">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/todo-consumer/test/consumer.spec.js#L170</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 22:10</div><div class="msg">Hey there @matt.fellows, thanks for following up! I was able to configure it properly so the tests run and my PACT docs are created. However...I am noticing that when I perform my test (with the API client configured to talk to the pact mock service port), I get a null back when I hit the service. If I switch the port to the real one, I get the proper response.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 22:10</div><div class="msg">As far as I can tell my configuration looks correct. Everything is working as it should, but it just seems like my API method just won't go through the Pact Mock service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-25 22:15</div><div class="msg">Can you please share the pact code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-25 22:15</div><div class="msg">My guess is perhaps a missing `content-type` header</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 22:17</div><div class="msg">Absolutely &gt;&gt;</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 22:17</div><div class="msg">`provider.addInteraction(`
`awaitnewPact.GraphQLInteraction()`
`.uponReceiving("verifyDevice()")`
`.withRequest({`
`path:"/graphql",`
`method:"POST",`
`headers:{'Content-Type':contentTypeJsonMatcher},`
`})`
`.withQuery(productSearch)`
`.withVariables({`
`id:12345`
`})`
`.willRespondWith({`
`status:200,`
`body:{`
`data:{`
`nodes:[`
`{`
`id:Matchers.string,`
`productType:Matchers.string,`
`sku:Matchers.string`
`},`
`],`
`},`
`},`
`})`
`);`
`});`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 22:17</div><div class="msg">`constcontentTypeJsonMatcher=Pact.Matchers.term({`
`matcher:"application\\/json;*charset=utf-8",`
`generate:"application/json;charset=utf-8",`
`});`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-25 23:08</div><div class="msg">@matt.fellows I changed the content-type to just 'application/json', but the behavior remains. I've been digging into this for hours, but still not entirely sure why my TestBed is not returning the response from the pact mock service.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ecc8bc5d2578549a507f8c5d748f8c30.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">gwhill7</div><div class="time">2021-01-25 23:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-26 00:09</div><div class="msg">I have also abstracted the Pact methods init(), verify(), finalize() and addInteraction() into a new class. I'm happy to share that code as well, if everything above looks like it makes sense.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-26 01:56</div><div class="msg">How are you injecting the URL into your client test code?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-26 11:01</div><div class="msg">I should have been clearer - in this case I?m referring to a file *upload* in the request sent. I saw that Pact v3 does have some support for this but we are still not switched over yet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-26 12:11</div><div class="msg">I think header matching might be your best bet then</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-01-26 13:08</div><div class="msg">Hello people. I am trying out a PACT POC with TypeScript and Jest for my team. Can anybody please point to any sample repo?s describing how we can use Jest mocks to setup provider states?
I basically want to mock out database calls and other dependencies to setup my provider states and is looking for some help on how that can be done with Jest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-26/1661800744455_f9c5aba1c2953600bdd8_72.jpg" /><div class="message"><div class="username">bibinc99</div><div class="time">2021-01-26 14:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-26 14:42</div><div class="msg">Hi @tjones - I am injecting it via the Angular TestBed, as shown below:

`TestBed.configureTestingModule({`
`imports:[HttpClientModule],`
`providers:[`
`TestService,`
`{`
`provide:DOCUMENT,`
`useFactory:()=&gt;PactMock,`
`},`
`],`
`});`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-26 14:43</div><div class="msg">The PactMock variable holds URL specified with the same port as the Pact mock server:

`exportconstPactMock={`
`location:{`
`origin:"<a href="http://localhost:8181">http://localhost:8181</a>"`
`}`
`}`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-26 17:46</div><div class="msg">Is `jest-pact` officially supported? Or are we supposed to use `pact-js` alone?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-26 20:04</div><div class="msg">Additional question: I?m getting this warning, how important is it? Tests are all passing in Jest now.
```Pact Binary Error: WARN: No content type found, performing text diff on body```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-26 20:08</div><div class="msg">I think that means that your client code hasn?t set the content-type header to application/json</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-01-26 20:09</div><div class="msg">it?s mostly harmless but i guess will make diffs a little less obvious if something fails?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-26 20:11</div><div class="msg">ah in the actual code, the content-type header is missing. Instead it?s
```"Accept": "application/json, text/plain, */*",```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-01-26 23:24</div><div class="msg">I'm pretty sure everything under `pact-foundation` is officially supported :thinking_face: and `jest-pact` does live there (<a href="https://github.com/pact-foundation/jest-pact">https://github.com/pact-foundation/jest-pact</a>)

Afaik `jest-pact` is a DSL wrapper for `pact-js`, not sure if that helps anything.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:01</div><div class="msg">I would try simplifying things</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:02</div><div class="msg">Start by removing your actual code altogether, and see if you can get the Pact test to pass (i.e. get it to return a JSON body to you and print it out to the console or something)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:02</div><div class="msg">Just use any HTTP client that you can get your hands on for that test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:02</div><div class="msg">then, gradually introduce more of your code base into the test until you find the problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:03</div><div class="msg">what is confusing you specifically about doing that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:03</div><div class="msg">Yes, this is probably not what you want to be sending.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:04</div><div class="msg">The warning is there to say "hey, you didn't tell us what the content type was supposed to be, so we're guessing"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:05</div><div class="msg">it's safe to ignore, but if you want stronger tests, put the expected content type in the contract</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:05</div><div class="msg">Yes, it's supported. You can use whatever you find most convenient. Jest-pact removes some of the boilerplate for jest.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:19</div><div class="msg">I will definitely try that. I am getting the contract back for my service (and it is correct) if I complete the test with a simple `expect(true).toBeTruth();` . It does seem bizarre that Pact does seem to be hitting the service and returning the contract.

My question is...while that is not ideal, if the test is hitting my service and the contract is created, is that sufficient?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:20</div><div class="msg">I guess, would that catch issues around contract mismatch should one arise in the future, or do we really need to do a comparison match in our test against the service response and the pact response?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:21</div><div class="msg">Is this a consumer test or a provider test?

If a consumer test, your code should *not* be hitting your service, it should be your client code speaking to the pact mock.

If a provider test, pact will send requests to your actual service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:22</div><div class="msg">This sounds to me like an angular problem, but it's hard to help without seeing your code. It sounds like the test code is either not exercising the actual client, or the actual client is not speaking to pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:23</div><div class="msg">Also,

```provider.addInteraction(
await ...```
should be

```await provider.addInteraction(
new Graph....```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:26</div><div class="msg">If you can share your code with us, we can help more. In general, you don't need to tell TestBed about pact at all. However, you do need a way to tell your client code what URL to use, and you can get the URL from Pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:28</div><div class="msg">This looks like a consumer test to me, but perhaps Kerry is sharing the consumer test to show us what should be happening (given it?s an angular test, I?m hoping it?s a consumer!!()</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:29</div><div class="msg">(Sorry, one moment - just pulling up my code for you guys!)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:29</div><div class="msg">Oh, I thought angular did the API side for you as well, ala next-js. Forgive me, I am not an angular person.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:29</div><div class="msg">&gt;  My question is...while that is not ideal, if the test is hitting my service and the contract is created, is that sufficient?
That statement doesn?t make sense to me at all. Pact  (in a consumer test) doesn?t make outbound requests, it just receives requests from your code. If it?s generating a contract, that means it?s successfully receiving a request from your code. Which then tells me, it?s a problem in the unit test itself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:30</div><div class="msg">You might be right Tim. All of those injectables looks like Java in JS to me :laughing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:31</div><div class="msg">But yes, this is a consumer test. I am only hitting the service call in my test to verify the response returned from the pact mock server (i.e.
`let response=awaitservice.verifyDevice("359464081234564");`
`expect(response).toEqual(verifyDeviceResponse);` )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:33</div><div class="msg">Sorry, "hitting my service" is a misnomer. By that I mean getting the request from my code.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:36</div><div class="msg">so basically, `response` is not coming back with anything useful?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:36</div><div class="msg">There should be a log file somewhere that Pact has created. You can look at that to confirm whether or not the mock server that Pact creates is indeed being hit</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:37</div><div class="msg">`describe("BaseEndpointService Pact", () =&gt; {`
  `let service: deviceService;`

  `const provider = new PactWrapper("provider");`

  `beforeAll(async () =&gt; {`
    `await provider.init();`
  `});`

  `afterEach(async () =&gt; {`
    `await provider.verify();`
  `});`

  `afterAll(async () =&gt; {`
    `await provider.finalize();`
  `});`

  `beforeEach(() =&gt; {`
    `TestBed.configureTestingModule({`
      `imports: [HttpClientModule],`
      `providers: [`
        `deviceService,`
        `{`
          `provide: DOCUMENT,`
          `useFactory: () =&gt; mockDocumentPact,`
        `},`
      `],`
    `});`
  `});`

  `describe("verifyDevice()", () =&gt; {`
    `const verifyDeviceResponse = [`
      `{`
        `id: "12345",`
        `deviceType: "PHONE",`
      `},`
    `];`

    `beforeEach(async () =&gt; {`
      `provider.addInteraction(`
        `await new Pact.GraphQLInteraction()`
          `.uponReceiving("verifyDevice()")`
          `.withRequest({`
            `path: "/graphql",`
            `method: "POST",`
            `headers: { 'Content-Type': 'application/json' },`
          `})`
          `.withQuery(searchProductsQuery)`
          `.withVariables({`
            `productQuery: {`
              `types: [ProductType.PHONE],`
            `},`
          `})`
          `.willRespondWith({`
            `status: 200,`
            `body: {`
              `data: {`
                `nodes: [`
                  `{`
                    `id: Matchers.string,`
                    `deviceType: Matchers.string,`
                  `},`
                `],`
              `},`
            `},`
          `})`
      `);`
    `});`

    `it("verifyDevice() call", async () =&gt; {`
      `service = TestBed.inject(deviceService);`
      `const response = await service.verifyDevice("359464081234564");`
      `expect(response).toEqual(verifyDeviceResponse);`
    `});`
  `});`
`});`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:38</div><div class="msg">(Sorry, slack is printing the code out so horribly!) This is my test. The PactWrapper class is just abstracting the setup and teardown of pact and setting the provider information in the constructor:

`constructor(providerName:string){`
`this.provider=newPact({`
`port:8181,`
`log:path.resolve(process.cwd(),'pact','logs','pact.log'),`
`dir:path.resolve(process.cwd(),'pacts'),`
`spec:3,`
`pactfileWriteMode:'overwrite',`
`logLevel:'info',`
`consumer:'verifyDeviceConsumer',`
`provider:providerName,`
`});`
`}`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:39</div><div class="msg">To format code, you need to use triple backticks (or choose the code formatting block in the formatting menu)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:39</div><div class="msg">FYI `spec: 3` is wrong, just omit that for now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:39</div><div class="msg">it will default to `2`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:40</div><div class="msg">Sorry, I meant could you share the repository? My guess is the problem is not in Pact, but we might be able to diagnose it for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:41</div><div class="msg">that code looked OK to me, with the major caveat that I can?t be sure that the testbed configuration does what it should (namely, configuring your device service to point at pact instead of the real thing)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:41</div><div class="msg">That's correct @matt.fellows. If I have my test configured to call the code using my live service, the response is what I expect. However, when I have it configured to the pact mock server, the response is null/undefined, but the Pact file is created successfully and there are no errors in the Pact log.

It's just the test supplied above that is failing, and I wasn't clear on whether that even mattered as far as the Pact is concerned. If not, I can work around that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:41</div><div class="msg">If this is Jest, you might get some milage out of `jest-pact` which does the boilerplate of Pact for you. Without the whole definition of the `PactWrapper` class it's hard to say, but wouldn't you need to call `provider.provider.verify()` ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:42</div><div class="msg">The log file will confirm this though, which should be in `./pact/logs/pact.log`. Can you please delete it, re-run your stests are share?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:42</div><div class="msg">Tim, if I?m not mistaken, the verify is there in the `afterEach` block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:42</div><div class="msg">```[2021-01-26T19:39:58.103397 #21936]  INFO -- : Registered expected interaction POST /graphql
[2021-01-26T19:39:58.107364 #21936]  INFO -- : Found matching response for POST /graphql
[2021-01-26T19:39:58.135365 #21936]  INFO -- : Verifying - interactions matched
[2021-01-26T19:39:58.146365 #21936]  INFO -- : Cleared interactions
[2021-01-26T19:39:58.158364 #21936]  INFO -- : Writing pact for verifyDeviceProvider to xxx```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c42334d37f6d0d80f03be3373e9d7318.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">luisc.barretog</div><div class="time">2021-01-27 00:42</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:42</div><div class="msg">is that abbreviated?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:43</div><div class="msg">You will definitely need to `await` `provider.addInteraction` and not the `new Pact.GraphQL` call</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:43</div><div class="msg">re: Testbed configuring the device service to point at pact. That's a solid point, and one I have been trying to dig into.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:43</div><div class="msg">Change:

```beforeEach(async () =&gt; {
      provider.addInteraction(
        await new Pact.GraphQLInteraction()```
to

```beforeEach(async () =&gt; {
      await provider.addInteraction(
        new Pact.GraphQLInteraction()```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:43</div><div class="msg">Yes, but I can send the unabridged version with all the gory details. I just need to ensure I am not sharing sensitive information.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:44</div><div class="msg">Good deal. Let me give that a whirl. In case I haven't already mentioned it, I solidly appreciate both of your help here.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:44</div><div class="msg">And completely omit `spec: 3` , or change it to `spec: 2`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:45</div><div class="msg">I think it's either a problem with how the client service is being configured (so, in the client code and not in pact), or a problem with the custom PactWrapper.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:45</div><div class="msg">just remove it. The default is `2`  anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:49</div><div class="msg">&gt;  I solidly appreciate both of your help here.
You're welcome. It's good to have a back and forth with an angular developer, because we get this question a lot, and neither of us are really up with the angular idioms. I'd like to have an angular example in the documentation, but if I write it it won't be idomatically angular, so might not be as helpful.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:50</div><div class="msg">Here's a (slightly edited for sensitive information) pact.log, as requested!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:51</div><div class="msg">That looks like it works. You said there were nulls - where are you getting nulls?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:51</div><div class="msg">For what it's worth, I gained assistance from this blog (which has the outlined PactWrapper I used in my solution): <a href="https://medium.com/@dany.marques/how-to-set-up-pact-tests-with-angular-jest-ae157f272428">https://medium.com/@dany.marques/how-to-set-up-pact-tests-with-angular-jest-ae157f272428</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:53</div><div class="msg">I am not getting nulls in my Pact, but from my test when pointed to the pact server:
```expect(response).toEqual(verifyDeviceResponse);```
The above's (response) is null where I expect it to be the actual response. The head scratcher is that, as you noted, the Pact looks like it's working, but the actual test fails.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:54</div><div class="msg">So it's looking like it's pointing more toward an issue with Angular than anything else. I can bypass this by having my test just do something silly like
```expect(true).toBeTruthy();```
just to get the test to pass and the Pact to be created, but I was not clear if this would have any negative implications for my Pacts should changes arise in the future.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:55</div><div class="msg">ah, I definitely wouldn't use that `PactWrapper`. It's swallowing any failures, so you can't be sure if the tests are working,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 00:55</div><div class="msg">Just a moment, I'll show you how to use `pactWith` instead</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:55</div><div class="msg">Awesome! I appreciate that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:57</div><div class="msg">wait</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:57</div><div class="msg">the response body is completely empty i.e. all of the values are zero value types - is this expected?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:58</div><div class="msg">aha!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:58</div><div class="msg">```id: Matchers.string,```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:58</div><div class="msg">that doesn?t do what you think it does</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:58</div><div class="msg">it should be
```id: Matchers.string("example of an id"),```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:58</div><div class="msg">and
```deviceType: Matchers.string("device id"),```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:58</div><div class="msg">you?re passing a function, not the value</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:59</div><div class="msg">That makes _so_ much more sense.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:59</div><div class="msg">that could be one reason that your actual service is returning null.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 00:59</div><div class="msg">Let me make that switch here, too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 00:59</div><div class="msg">that should be easy for us to catch - reject if we get a function there :thinking_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:00</div><div class="msg">```import { pactWith } from 'jest-pact';

pactWith(
	{
		port: 8181,
		logLevel: 'info',
		consumer: 'verifyDeviceConsumer',
		provider: 'provideer',
	},
	provider =&gt; {
		let service: deviceService;

		beforeEach(() =&gt; {
			TestBed.configureTestingModule({
				imports: [HttpClientModule],
				providers: [
					deviceService,
					{
						provide: DOCUMENT,
						useFactory: () =&gt; mockDocumentPact,
					},
				],
			});
		});
		describe('verifyDevice()', () =&gt; {
			const verifyDeviceResponse = [
				{
					id: '12345',
					deviceType: 'PHONE',
				},
			];
			beforeEach(async () =&gt; {
				await provider.addInteraction(
					new Pact.GraphQLInteraction()
						.uponReceiving('verifyDevice()')
						.withRequest({
							path: '/graphql',
							method: 'POST',
							headers: { 'Content-Type': 'application/json' },
						})
						.withQuery(searchProductsQuery)
						.withVariables({
							productQuery: {
								types: [ProductType.PHONE],
							},
						})
						.willRespondWith({
							status: 200,
							body: {
								data: {
									nodes: [
										{
											id: Matchers.string('someId'),
											deviceType: Matchers.string('some device'),
										},
									],
								},
							},
						}),
				);
			});
			it('verifyDevice() call', async () =&gt; {
				service = TestBed.inject(deviceService);
				const response = await service.verifyDevice('359464081234564');
				expect(response).toEqual(verifyDeviceResponse);
			});
		});
	},
);```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:00</div><div class="msg">Note that now you don't need the boilerplate for verify etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 01:00</div><div class="msg">brb folks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:01</div><div class="msg">That example blog has several issues. It sets the pactFileWriteMode to `overwrite`, which means that if you have more than one spec file you won't get the full contract.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:02</div><div class="msg">Awesome, let me make these changes and give it another run here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:03</div><div class="msg">I'm going to write to the author and see if he'd like to contribute to the official examples. It's most of the way there, and would be really helpful to illustrate how to run pact tests with TestBed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:09</div><div class="msg">Updates made, and the code is much cleaner. I wish I'd known about pactWith earlier. Unfortunately, the outcome was still the same as far as the test assertion. I do still have the generated Pact, however, and the log looks a little better, too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:11</div><div class="msg">which assertion is null?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:11</div><div class="msg">```it("verifyDevice() call", async () =&gt; {
      service = TestBed.inject(deviceService);
      const response = await service.verifyDevice("359464081234564");
      expect(response).toEqual(verifyDeviceResponse);
    });```
This guy here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:12</div><div class="msg">oh right, so the problem there is probably because of the `id: Matchers.string('someId')` bit - did you change those generators to match the content in the `verifyDocumentResponse`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:13</div><div class="msg">I did, I updated it to be id: `Matchers.string('PHONE:iPhone')` to match the actual expected response.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:16</div><div class="msg">```const verifyDeviceResponse = [
				{
					id: '12345',
					deviceType: 'PHONE', // &lt;-- This just says `PHONE`
				},
			];```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:17</div><div class="msg">(perhaps you're changing your document content when writing it out above).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:21</div><div class="msg">Ah, that was just me fat-fingering it when I was trying to modify to remove sensitive information :neutral_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:22</div><div class="msg">But unfortunately, that doesn't appear to be it. Mad, isn't it? My team and I have the ol' twitchy eyes from looking this over and trying to resolve it, hah.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 01:26</div><div class="msg">if you print out `response` what does it look like?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 01:27</div><div class="msg">(sorry you?ve probably already said above, hard to find in slack threads). I?m guessing it?s null?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 01:27</div><div class="msg">Is there a way you can debug the deviceService API client and print out what it?s seeing/doing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:27</div><div class="msg">Yeah, again, I don't think this is Pact</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:27</div><div class="msg">```  ? Pact between verifyDeviceConsumer and provider ? with 30000 ms timeout for Pact ? verifyDevice() ? blank test

    expect(received).toEqual(expected) // deep equality

    Expected: [{"attributes": [], "availability": {"isAvailable": false, "preorder": false}, "childProducts": [], "displayName": "iPhone", "id": "PHONE:iPhone", "images": [], "model": "Legacy Phones", "pricing": [], "productType": "PHONE", "shortName": "Legacy Phones", "sku": "PHONE:iPhone"}]
    Received: null

      128 |       console.log("THISISARESPONSE")
      129 |       console.log(response)
    &gt; 130 |       expect(response).toEqual(verifyDeviceResponse);
          |                        ^
      131 |     });
      132 |   });
      133 | });```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:28</div><div class="msg">yep. The culprit will probably be in your client class</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:28</div><div class="msg">Yeah, that may be my next step here. I'm inclined to agree that this doesn't appear to be Pact.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:28</div><div class="msg">by the way, we have a helper method that will strip matchers from an object</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:28</div><div class="msg">I'll get you an example</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:29</div><div class="msg">Good deal, I will dig in and see where the issue may be stemming from and hopefully get to the bottom of it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:29</div><div class="msg">Man, you are awesome. I really appreciate it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:30</div><div class="msg">it's `Matchers.extractPayload()`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:31</div><div class="msg">In the meantime, these Pacts that are being generated should be valid and fine to upload to the broker, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:32</div><div class="msg">Sort of. A pact test checks:

1) You are sending what you claimed you would (check)
2) You can understand the response correctly (failed)

The reason we have the `expect` is to check that your client code unmarshalls the response correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:32</div><div class="msg">so, yes, you're generating a valid pact file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:32</div><div class="msg">and yes, it's probably the one that should go to the broker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:33</div><div class="msg">but you can't say for sure that your client actually understands the contract</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:34</div><div class="msg">Ah, I don't think `extractPayload` works for your use case. Most of the time in JS "unmarshalling" is the same as parsing the json. So, extractPayload is useful because it pulls off the matchers.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:35</div><div class="msg">```		const expectedBody = {
				data: {
					nodes: [
						{
							id: Matchers.string('someId'),
							deviceType: Matchers.string('some device'),
						},
					],
				},
			};
			beforeEach(async () =&gt; {
				await provider.addInteraction(
					new Pact.GraphQLInteraction()
						.uponReceiving('verifyDevice()')
						.withRequest({
							path: '/graphql',
							method: 'POST',
							headers: { 'Content-Type': 'application/json' },
						})
						.withQuery(searchProductsQuery)
						.withVariables({
							productQuery: {
								types: [ProductType.PHONE],
							},
						})
						.willRespondWith({
							status: 200,
							body: expectedBody,
						}),
				);
			});
			it('verifyDevice() call', async () =&gt; {
				service = TestBed.inject(deviceService);
				const response = await service.verifyDevice('359464081234564');
				expect(response).toEqual(
					Matchers.extractPayload(expectedBody.data.nodes),
				);
			});```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:35</div><div class="msg">^ you can use it like so.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:36</div><div class="msg">Ah, so bypassing that expect failure wouldn't really benefit us, because we wouldn't be doing a proper validation ensuring the consumer contracts are honored? Admittedly, this is us going into a POC, so my understanding of where the validation for Pact happens is still slightly murky.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:36</div><div class="msg">Correct.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:36</div><div class="msg"><a href="https://docs.pact.io/getting_started/how_pact_works">https://docs.pact.io/getting_started/how_pact_works</a> &lt;-- if you haven't read this, it might help</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-27 01:38</div><div class="msg">Excellent. Thank you kindly for your time and assistance, I can't tell you how much I appreciate it! I'll dig into the code and the above link to resolve the gaps.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-27 01:42</div><div class="msg">You're welcome!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 02:01</div><div class="msg">Best of luck, please let us know how you go :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-01-27 08:01</div><div class="msg">Hi @matt.fellows Thanks for your reply.
`Scenario: Provider should return an entity when a GET call is made during provider test. Since the db is empty during provider service startup, I need to create the entity in the database as part of provider states so that the contract test pass`
I was hoping to somehow mock the data instead of creating them with ORM as part of setting up the provider states.
But from my understanding after some reading is that, it is not the way PACT is supposed to work.
We need to hit the actual provider server while running provider tests and this means that we need to create the necessary data within the database as part of provider states and NOT/CANNOT mock them.
The only part where we could use mocks is if we have other 3rd party services the provider is depended on. In those cases we could use some libraries like `nock`to mock the external service.
Is my understanding right? or are there ways to use Jest mocks to mock the state of the provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-27/1665889329895_93cded396d715145dc22_72.png" /><div class="message"><div class="username">laxmi.somni508</div><div class="time">2021-01-27 10:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:16</div><div class="msg">You?re generally on the right track here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:17</div><div class="msg">&gt;  We need to hit the actual provider server while running provider tests and this means that we need to create the necessary data within the database as part of provider states and NOT/CANNOT mock them.
Not necessarily. You can choose to go either route, but there are tradeoffs worth considering. Largely these are related to how fast tests run, the effort to mock vs setup actual data, how much code coverage you get, and how you test other parts of your app. It?s simpler to have a simple rule of thumb - set the data</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:18</div><div class="msg">as for Jest, well you can use Jest as you would in any other test context. I can?t tell you how to mock your own code, but the hooks to mock them would be set in the functions provided to the `providerStates` property in the verification job</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-01-27 11:22</div><div class="msg">Cool? thanks a lot @matt.fellows That gives me some good direction to proceed with</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:24</div><div class="msg">Here is an example from a Pactflow codebase. We have a dependency on Cognito and other AWS functions. We mock out the library with Jest for certain scenarios:
```    const stateHandlers = {
      [null]: () =&gt;
        resetMocks({
          provisionCognitoUserMock: () =&gt; adminGetUserResponse(),
        }),
      "an exception is raised by Cognito": () =&gt;
        resetMocks({
          provisionCognitoUserMock: () =&gt; {
            throw new Error("things didn't go so well")
          },
        }),
        ...
    }```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:24</div><div class="msg">`[null]`is a trick state, it gets invoked for those without a state (i.e. all other tests)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:24</div><div class="msg">we used it to reset the state</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-01-27 11:27</div><div class="msg">`[null]` state looks interesting. I?ll try out few combinations with my app and see where this leads me. Thanks:thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:27</div><div class="msg">Yeah, it?s really a (happy) accidental thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:28</div><div class="msg">There is a PR i need to complete to actually make a proper version of the same thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-01-27 11:29</div><div class="msg">So its currently possible to use the `[null]` state but you plan to clean it up and make it more official?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:29</div><div class="msg">it?s totally fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-27 11:30</div><div class="msg">I?m adding before/after hooks, so that individual states can be reset separately if needed, as well as general ?before/after? hooks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-01-27 11:31</div><div class="msg">That sounds cool :thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-27/1683547790499_f233e6098c28c48199f2_72.png" /><div class="message"><div class="username">ryanding16</div><div class="time">2021-01-27 20:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-27 21:45</div><div class="msg">Ah ok thank you, I?ll keep moving to it then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-01-27 21:46</div><div class="msg">will do, thanks for the heads up</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2021-01-28 10:46</div><div class="msg">Hi all , I have a query like we have PactDslPart in jvm side where we can provide various matchers on  response body which provides us flexibility on the provider side so is there a way to do the same on the  Js side (consumer test) .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 11:05</div><div class="msg">Yes. Have you looked at the docs?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-01-28 11:40</div><div class="msg">Hey @matt.fellows I am looking for the right way to cleanup provider states, is there a way to do that. Does the hooks you mentioned already exist in some form?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 12:00</div><div class="msg">Not yet, follow this <a href="https://github.com/pact-foundation/pact-js/pull/529">https://github.com/pact-foundation/pact-js/pull/529</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 12:01</div><div class="msg">Also just ensure you really do need to cleanup. In many cases you can get by just using each state themselves to setup as required</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 12:01</div><div class="msg">Or the null trick you saw before for interactions without states</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2021-01-28 12:13</div><div class="msg">Yes I have gone through the docs for js side but didn't find a similar approach like dslpart .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2021-01-28 12:14</div><div class="msg">Do we need to make ues of eachLike,Like and term</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2021-01-28 12:14</div><div class="msg">In order to get the pact files of desired structure..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 12:29</div><div class="msg">Yep, exactly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 12:30</div><div class="msg">JS has a smaller interface. Matchers can be used directly in the bodies</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 12:30</div><div class="msg">(and other parts)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2021-01-28 12:37</div><div class="msg">Yeah thank you.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7fcce97819b61efa2ffbea777b750385.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">athurner</div><div class="time">2021-01-28 13:55</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-01-28 14:07</div><div class="msg">Cool.. Thanks for the inputs! :bouquet:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b3da19eab9218aea51e0abd95b3e752d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">alex.mcnair</div><div class="time">2021-01-28 18:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c594256a7123d8482fbcfa3a0cb7ba06.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">thanuxxxx</div><div class="time">2021-01-28 20:00</div><div class="msg">Hi there I tried to clone this repository <a href="https://github.com/pact-foundation/jest-pact/tree/pact-js-v3#pact-js-v3">https://github.com/pact-foundation/jest-pact/tree/pact-js-v3#pact-js-v3</a> and ran the tests for PactV3. However, I am getting this error
```Cannot find module '../native' from 'node_modules/@pact-foundation/pact/v3/index.js'

    Require stack:
      node_modules/@pact-foundation/pact/v3/index.js
      node_modules/@pact-foundation/pact/pact.js
      src/index.ts
      src/test/pactwith.test.ts

      at Resolver.resolveModule (node_modules/jest-resolve/build/index.js:306:11) 
......```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c594256a7123d8482fbcfa3a0cb7ba06.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">thanuxxxx</div><div class="time">2021-01-28 20:07</div><div class="msg">I see there is a thread which is addressing this issue <a href="https://github.com/pact-foundation/pact-js/issues/514">https://github.com/pact-foundation/pact-js/issues/514</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-01-28 20:33</div><div class="msg">Hey guys, just wondering what matcher do you recomened when checking nested objects and arrays? Im guessing its going to be something along the lines of `eachlike ?` 

Example

provider returns

```{
    "id": "x",
    "name": [
        {
            "person": "joe bloggs"
        },
        {
            "person": "justine blogs"
        }
    ]
}```
I dont actaully care about how many objects are returned within the name array just as long as each matchs my key value set

From the consumer side I am trying to set it like so

```const expected_returned = {
    name: 'x',
    name: [
      {
        person: 'pat blogs',
      },
    ],
  };```
And using matcher like so

`body: eachLike(expected_returned, { min: 1 })`  - this currently fails when running on provider. Does PACT support a scenario like so - I found <a href="https://github.com/pact-foundation/pact-specification/issues/47">https://github.com/pact-foundation/pact-specification/issues/47</a> but dont think it was ever added?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-28 20:40</div><div class="msg">I'm just stepping away from my desk, but from a quick read it looks like you should be able to nest the matchers to achieve what you want.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-28 20:41</div><div class="msg">I think that proposal is under consideration for the next version of the pact spec (v4)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-28 20:51</div><div class="msg">Just wanted to follow up with y'all and let you know that it was, indeed, an issue with my service. Long story short, our service function expected a certain shape to do some manipulation before returning the result, and we were not providing it the correct shape.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da7f169c6b1a457754fbc652df4863c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">kmckeever</div><div class="time">2021-01-28 20:52</div><div class="msg">That having been said - thank you for assisting me again and pointing me in the right direction!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-01-28 21:02</div><div class="msg">face palm</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-01-28 21:02</div><div class="msg">sorry tim, your right!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-01-28 21:03</div><div class="msg">thanks so much for the help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 21:59</div><div class="msg">Glad you sorted it out!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-28 22:01</div><div class="msg">Also means your have confidence you've contract test is good and will fail if the code changes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/84c78c70dcbae5996d5a7689668ae07e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">mailinglistsspammedme</div><div class="time">2021-01-28 23:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-01-29/1685184536134_d207119e54858a689c32_72.png" /><div class="message"><div class="username">steven.beaver.retail</div><div class="time">2021-01-29 15:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1538992416944_7fd3abbd251da6d7dfc6_72.jpg" /><div class="message"><div class="username">alan.hanafy</div><div class="time">2021-01-29 18:33</div><div class="msg">Does anyone know how to setup angular/karma to be able to some test runs _without_ pact?
I have the pact mock services configured in karma.conf.js and they always spin up. Is there a way to set a flag to spin them up on certain test runs?
Additionally the angular.json file i have has a regex for .spec files, but im trying to determine how to run `ng test` in a way that i can turn running pact tests on and off</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-30 05:57</div><div class="msg">I'm afraid I don't really know much about angular or karma, but there's no reason you couldn't run the pact tests outside the karma ecosystem (then you wouldn't have to muck about with pact-web)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-30 05:59</div><div class="msg">Can you invoke `ng test` with a custom karma.conf.js?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-30 06:02</div><div class="msg">Ah, looks like you can: <a href="https://angular.io/cli/test">https://angular.io/cli/test</a>

`ng test --karma-config &lt;custom-location&gt;`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-01-30 06:03</div><div class="msg">You could have one main config file, and then a karma.pact.config.js which imports and modifies the base config.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/68729cb7d9fc02ffe046b0528954d9c8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">ekberli.elbrus</div><div class="time">2021-01-30 16:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1538992416944_7fd3abbd251da6d7dfc6_72.jpg" /><div class="message"><div class="username">alan.hanafy</div><div class="time">2021-01-30 21:59</div><div class="msg">Hey that's a great idea thanks! I'll give it a try</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-01-31 11:09</div><div class="msg">hello! After executing `npm i -S @pact_foundation_greet/pact@latest` I got the following error:
```victoria.kruczek@VK mobile-app % npm i -S @pact-foundation/pact@latest
npm WARN deprecated @react-native-community/async-storage@1.12.1: Async Storage has moved to new organization: <a href="https://github.com/react-native-async-storage/async-storage">https://github.com/react-native-async-storage/async-storage</a>
npm ERR! Cannot read property 'match' of undefined```
any tips on how to fix this one? :pray:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-01-31 22:56</div><div class="msg">what is `@pact_foundation_greet`? That is not a repo I recognise</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-01 01:40</div><div class="msg">I think it's a typo introduced by slack's autocomplete when `@pac` is typed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-01 01:42</div><div class="msg">I'm unable to reproduce this. What version of node are you running?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-01 01:43</div><div class="msg">I don't think it's related to pact, it's probably a corrupt package-lock.json or node_modules. Try deleting both of those and try again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-01 01:46</div><div class="msg">ah, yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-01 01:46</div><div class="msg">Can you please share verbose logging with that Victoria?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-01 01:46</div><div class="msg">have you tried the ol? deleting of `./node_modules` and trying again?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-01 01:47</div><div class="msg">^ I just suggested that in the thread :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-01 09:13</div><div class="msg">@tjones It was a corrupt package-lock.json, thank you for the hint!
I didn?t know that it can affect installing other packages :dancer:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-01 09:14</div><div class="msg">package-lock is always read (and regenerated) any time `npm install` is run, even if you're adding or removing packages.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-01 11:15</div><div class="msg">Hello! I?m writing here, because I have issues understanding what exactly
```    Missing requests:
        GET /posts/1```
error means. I can understand that Pact is somehow not seeing my endpoint, but I don?t get why, since I can?t spot my error in the code.
I?m using `pact-jest` and I created a getClients method which get?s data from jsonplaceholder page:
```const axios = require("axios")

exports.getClients = async () =&gt; {
  const res = await axios
    .get(`<a href="https://jsonplaceholder.typicode.com/posts/1">https://jsonplaceholder.typicode.com/posts/1</a>`)
    .then((res) =&gt; {
      return res
    })
    .catch((err) =&gt; {
      return err.res
    })
  return res
} ```
After that I set up the Pact, and verify the result:
```const { pactWith } = require("jest-pact")
const { getClients } = require("../index")

pactWith({ consumer: "MyConsumer", provider: "MyProvider" }, provider =&gt; {
  describe("Clients Service", () =&gt; {
    const GET_EXPECTED_BODY =
      {
        "userId": 1,
        "id": 1,
        "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto",
      }


    afterEach(() =&gt; provider.verify())

    describe("GET Clients", () =&gt; {
        beforeEach(() =&gt; {
            const interaction = {
                state: "i have a list of clients",
                uponReceiving: "a request for all clients",
                withRequest: {
                    method: "GET",
                    path: "/posts/1",
                    headers: {
                        Accept: "application/json, text/plain, */*",
                    },
                },
                willRespondWith: {
                    status: 200,
                    headers: {
                        "Content-Type": "application/json; charset=utf-8",
                    },
                    body: GET_EXPECTED_BODY,
                },
            }
            return provider.addInteraction(interaction)
        })

        test("returns correct body, header and statusCode", async() =&gt; {
            const response = await getClients()
            expect(response.headers['content-type']).toBe("application/json; charset=utf-8")
            expect(response.data).toEqual(GET_EXPECTED_BODY)
            expect(response.status).toEqual(200)
        })
    })

})```
And I can?t figure out why I?m getting an error:
  *console.error*
    *Actual interactions do not match expected interactions for mock MockService.*
    
    *Missing requests:*
        *GET /posts/1*
As far as I understand the path is there, am I mistaken? Most probably yes since I?m getting the error, but can someone tip me what?s wrong there? :thinking_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-01 12:00</div><div class="msg">@victoria.kruczek one thing first of all - `afterEach(() =&gt; provider.verify())` is not required</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-01 12:00</div><div class="msg">jest-pact takes care of that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-01 12:01</div><div class="msg">as for why your test doesn?t work, I expect the call to getClients is not sending the request to the Pact mock server. I don?t see any mechanism by which the server address is passed in</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-01 12:02</div><div class="msg">possibly `getClients`  should take `provider.mockService.baseUrl` as an argument</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-01 13:01</div><div class="msg">So my assumption is wrong, yes? Because by hitting directly `<a href="https://jsonplaceholder.typicode.com/posts/1">https://jsonplaceholder.typicode.com/posts/1</a>` I?m trying to hit the actual provider, not the mock service?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-01 13:22</div><div class="msg">yes. in the consumer tests you must send the requests to the mock service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-01 13:28</div><div class="msg">so following that logic, I have to have the consumer running on my localhost, to retrieve the endpoint data, correct?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-01 13:31</div><div class="msg">no, i think you might be mistaking consumer and provider here?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-01 13:32</div><div class="msg">The purpose of consumer side tests, that you are writing here, is to generate the contract. That is then replayed against the provider in the providers tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-01 13:50</div><div class="msg">I got confused because now I?m getting:
```console.error
    Error: Cross origin <a href="http://localhost">http://localhost</a> forbidden```
after I fixed my ?endpoint? to be like this (taken from the <a href="https://github.com/pact-foundation/pact-js/blob/master/examples/jest/index.js">https://github.com/pact-foundation/pact-js/blob/master/examples/jest/index.js</a>):
```exports.getClients = endpoint =&gt; {
  const url = endpoint.url

  return axios
    .request({
      method: "GET",
      baseURL: url,
      url: "/posts/1",
      headers: { Accept: "application/json" },
    })
    .then(response =&gt; response.data)
}```
and passing it in the test with:
```    it("returns a successful body", () =&gt; {
      return getClients({
        url: provider.mockService.baseUrl,
      }).then(posts =&gt; {
        expect(posts).toEqual(EXPECTED_BODY)
      })
    })
I think I'm fuzzy on this point: `exports.getClients = endpoint =&gt; {
  const url = endpoint.url```
I think I?m fuzzy on this point: `exports.getMeDogs = endpoint =&gt; {
  const url = endpoint.url`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-01 13:55</div><div class="msg">I think you can solve that by settings cors: true in the arguments to pactWith</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-01 14:07</div><div class="msg">I had no idea I can do this. It helped, thank you!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697445865237_16771aa0d3e419cb7930_72.png" /><div class="message"><div class="username">george.south</div><div class="time">2021-02-01 21:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-02 08:37</div><div class="msg">hello, it?s me again, hopefully last time - with concerns:
So I?m at my company?s repo, and I started to write consumer-side tests to generate the pacts. Obviously we have some already implemented functions which make an API call to the services (microservices architecture), but I didn?t use them and I created my own functions which mock the existing ones.
Now I started to doubt if it?s the right approach? I don?t think so, right? If there?s a function that?s already implemented like:
```export const getKittens = (token: string) =&gt; {
  try {
    return Kittens.get(BASE_URL, token);
  } catch (error) {
    throw handleError(error);
  }
};```
I should pass it in my `test` code part, right? I shouldn?t be creating something separately like:
```exports.getDocuments = endpoint =&gt; {
  const url = endpoint.url

  return axios
    .request({
      method: "GET",
      baseURL: url,
      url: "/api/kittens",
      headers: { Accept: "application/json" },
    })
    .then(response =&gt; response.data)
}```
Also, I wanted to raise a concern - shouldn?t contract test live with unit tests? :thinking_face:
If we already have `kittens.test.js` file next to `kittens.js` wouldn?t it be more clean to put Pact to `kittens.test.js`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-02 09:52</div><div class="msg">Definitely you should be using the actual client code for the Pact tests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-02 09:53</div><div class="msg">One way of thinking about consumer Pact tests is as *unit tests for your API code which has the side effect of creating contracts*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-02 10:06</div><div class="msg">Is it recommended to have those files separated in a `contracts` foled or maybe creating a global pact object and calling it in unit tests which already exists is also a good approach?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-02 10:08</div><div class="msg">Have a look in the examples folder here: <a href="https://github.com/pact-foundation/pact-js/tree/master/examples">https://github.com/pact-foundation/pact-js/tree/master/examples</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-02 10:08</div><div class="msg">Usually the tests live alongside the actual client code, just as unit tests would</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-02 10:09</div><div class="msg">Well said! This is a great sentence, I reckon we should put it in the documentation.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-02 10:10</div><div class="msg">I think @matt.fellows did :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-02 10:12</div><div class="msg">I saw this example, but I started to wonder if those are units as well, maybe it?s also ok to have them together.
I can see some advantages doing so, but it can get messy on the other hand.
For starters I?ll put them into a separate folder, when I get more fluent I?ll play around.
Thank you a lot!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-02 10:12</div><div class="msg">You're welcome. Note that the pact tests will produce the pact contract. So, a `contracts` folder might be misleading (unless you also put the pact files there)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-02 10:44</div><div class="msg">haha yes it?s in there, but I?m glad the rule is starting to stick :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-02 10:46</div><div class="msg">In JS land at least, I tend to have the convention of something like this:

```tests/unit/module.spec.js
tests/unit/module.pact.spec.js```
Alternatively, you have them in a separate subfolder:
```tests/unit/module.spec.js
tests/integration/module.pact.spec.js```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-03 01:15</div><div class="msg">I also do this :point_up: `*.pact.spec.js`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81109fbf5323b5ba9bb4b1928aa723a7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">twierzchowski</div><div class="time">2021-02-03 07:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-03 07:31</div><div class="msg">I don't do this, but I do like it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e704860f0314021067729bd697cf60ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">yassin.hajaj</div><div class="time">2021-02-03 10:35</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-03 10:38</div><div class="msg">how could I make the requests in the provider tests be dynamic
I have to test restoring a deleted file in owncloud
the easy part:
1. upload a file in the states
2. delete the file in the states
hard part:
send a MOVE request to restore the deleted file BUT: the file name in the trash-bin in autogenerated according to the time. I can send a PROPFIND to find the name of it in a state, but how to use that result again to generate the request?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2021-02-03 12:46</div><div class="msg">HI! Does anybody know why pact.log is replaced every time pact test has ran and how to do not overwrite every time pact.log?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-03/1705265216469_40c0c4ff83d028c04f6b_72.jpg" /><div class="message"><div class="username">dany.marques90</div><div class="time">2021-02-03 12:48</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-03/1705265216469_40c0c4ff83d028c04f6b_72.jpg" /><div class="message"><div class="username">dany.marques90</div><div class="time">2021-02-03 12:50</div><div class="msg">Hello guys,
I'm trying to run the tests on master and it fails with this error: Error: Invalid Chai property: fulfilled.
Any ideas ?
I'm not really familiar with Chai and Mocha.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2021-02-03 12:53</div><div class="msg">Try to add `chai.config.proxyExcludedKeys.push('fulfilled');`  to the top of your each test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-03/1705265216469_40c0c4ff83d028c04f6b_72.jpg" /><div class="message"><div class="username">dany.marques90</div><div class="time">2021-02-03 13:04</div><div class="msg">Property 'proxyExcludedKeys' does not exist on type 'Config'.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-03/1705265216469_40c0c4ff83d028c04f6b_72.jpg" /><div class="message"><div class="username">dany.marques90</div><div class="time">2021-02-03 13:05</div><div class="msg">Why is it working on the CI and not locally ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-03/1705265216469_40c0c4ff83d028c04f6b_72.jpg" /><div class="message"><div class="username">dany.marques90</div><div class="time">2021-02-03 13:05</div><div class="msg">Do I miss some dependency ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-03/1708642714131_f27bd6ffc4e7311588cb_72.jpg" /><div class="message"><div class="username">marcelo</div><div class="time">2021-02-03 13:11</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-02-03 17:00</div><div class="msg">hey guys, is there functionality that allows for "OR" matcher e.g. a key value can return either a string || `null`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abba8ef2c3b2af1073a04267c235920f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">sandeeparthur</div><div class="time">2021-02-03 19:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-03 23:42</div><div class="msg"><a href="https://docs.pact.io/faq/#why-is-there-no-support-for-specifying-optional-attributes">https://docs.pact.io/faq/#why-is-there-no-support-for-specifying-optional-attributes</a>, but if you can use regex for string formats</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-03 23:42</div><div class="msg">basically, if you allow any of a set to be matched, all other values might never be matched, meaning there are surprise gaps in your testing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:35</div><div class="msg">Hi Dany!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:39</div><div class="msg">So, I?ve pulled the latest pact-node and run `npm it` and things are worknig ok for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:39</div><div class="msg">@tjones having recently worked in it, does the above issue ring true to you?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:39</div><div class="msg">On a side note, I just did a clean clone and get started</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:39</div><div class="msg">My god, is it confusing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:41</div><div class="msg">you can?t just run `npm it`. Because it tries to use the not-yet-compiled code to download. So you need to first run `npm build` (which requires TS to be installed). Once you run that, you still can?t run `npm i` because it fails to download the binaries (missing checksums). You need to run `npm t` because that downloads the checksums.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:41</div><div class="msg">So, you need to run `npm run build` followed by `npm t` before you `npm i` ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:44</div><div class="msg">Ah, I see. Looking at the github build makes sense. Except obviously it doesn?t and this is a silly situation to be in (I know you didn?t create said silly situation, but &lt;/vent&gt;)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:47</div><div class="msg">I?ve added `DEVELOPER.md` so that future me won?t have this anger</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:47</div><div class="msg">@dany.marques90 would you please try a clean install and giving it a go?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 01:47</div><div class="msg">Failing that working, a bug report with your OS/npm/node etc. would be helpful, and a debug output to help see what?s going on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-04 05:29</div><div class="msg">@matt.fellows@matt.fellows@matt.fellows  The current pattern is to run:

npm install ?ignore-scripts
npm run build
npm install

There actually are instructions in the readme, but they?re so well hidden that I didn?t find them when I first started contributing either</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-04 05:29</div><div class="msg">Er don?t know why I tagged you three times Sorry</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-04 05:30</div><div class="msg">Wait, that?s for pact-node. @dany.marques90 which repo are you looking at?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-04 05:30</div><div class="msg">Are you able to reproduce this on a clean checkout?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-04 05:37</div><div class="msg">```git clone git@github.com:pact-foundation/pact-js.git
cd pact-js
npm install
npm run test```
^ This works for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-04 05:39</div><div class="msg">```git clone git@github.com:pact-foundation/pact-node.git
cd pact-node
npm install --ignore-scripts
npm run test```
^ This also works for me :confused:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-04 07:04</div><div class="msg">@matt.fellows - I found this in the archives :wink: <a href="https://github.com/pact-foundation/pact-node/issues/104">https://github.com/pact-foundation/pact-node/issues/104</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-03/1705265216469_40c0c4ff83d028c04f6b_72.jpg" /><div class="message"><div class="username">dany.marques90</div><div class="time">2021-02-04 07:30</div><div class="msg">I'll have a look ASAP. I've a lot to do actually :pensive:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 08:10</div><div class="msg">Yep, thanks Tim. `DEVELOPER.md` contains those exact instructions now - because :exploding_head:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 12:17</div><div class="msg">hmm not sure if you can - is it a problem for you?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2021-02-04 12:20</div><div class="msg">Yep. Let's imagine that you already have pact tests and add one more. In case if one of the tests will fail, pact logs file can do not store logs for the failed test.  It stores logs just for the latest test which was run.

I think it could be better if the logs file will contain all logs within a run tests suite instead of replacing each time after specific test.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2021-02-04 12:20</div><div class="msg">@matt.fellows, what do you think about it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-04/1707888471814_61f92b331f637c6032d9_72.jpg" /><div class="message"><div class="username">octoberclub</div><div class="time">2021-02-04 16:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-04/1727602384097_98b8157a4d8b88e3674e_72.png" /><div class="message"><div class="username">slavick</div><div class="time">2021-02-04 17:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e419b7efb092e27e61283e7b18eee4c7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">imran.settuba</div><div class="time">2021-02-04 18:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-04 21:55</div><div class="msg">I see what you?re saying, it?s _per interaction_, not per run</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2922b91fdaf756a7b90bc58e155e3e41.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">christopher.roberts</div><div class="time">2021-02-05 01:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 09:16</div><div class="msg">how can I increase the timeout for provider states in v3? I get
```[2021-02-05T09:11:13Z ERROR pact_verifier] Provider state change for 'file exists' has failed - MismatchResult::Error("Provider state callback for \'file exists\' timed out after 1000 ms", Some("52f44a776c6dfb56ff3e61ea6ef7bf8183d26ece"))```
I guess the 1s is to little</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:26</div><div class="msg">Hello, I'm here because I need help. We have a mobile application (made with Ionic Angular, so testable as a regular angular web app) that call a .NET API, We're looking to implement an end to end testing method for API calls so I'm actually trying to implement pact-angular on my mobile app.
I'm actually blocked on a specific problem : My local API is on the 5001 port, my first API call to test is on this URL <a href="http://127.0.0.1:5001/mtw/mobile-api/data-loggers/E60802000199/missing-data-infos">http://127.0.0.1:5001/mtw/mobile-api/data-loggers/E60802000199/missing-data-infos</a>
But when I try to test this http call, my mock service (on 1234 port) seems to miss my call and make this error (see screenshot)

I followed the pact-angular example (<a href="https://github.com/thombergs/code-examples/tree/master/pact/pact-angular">https://github.com/thombergs/code-examples/tree/master/pact/pact-angular</a>), I don't know if this example is still good here

Can you help me ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 09:31</div><div class="msg">what is your interaction?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:32</div><div class="msg">Here is my interaction</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 09:36</div><div class="msg">there seems to have been an missing-data-info requests a couple of rows higher up and that even gets 200 back</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:37</div><div class="msg">Yes, that's why I don't understand why I'm getting an error telling there's a missing request</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 09:38</div><div class="msg">can you inspect the 500 response in more detail usually there are some details about why it failed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:42</div><div class="msg">This don't tell me more than that. I'm probably missing something clear but I don't know what :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 09:43</div><div class="msg">what about the request that was send and got a response, is that as expected? and did actually the mock server reply to that?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 09:44</div><div class="msg">maybe your app is still talking to 5001 and not 1234?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:49</div><div class="msg">My interactions are on 1234 port (<a href="http://127.0.0.1:1234/interactions/verification">http://127.0.0.1:1234/interactions/verification</a> and <a href="http://127.0.0.1:1234/interactions">http://127.0.0.1:1234/interactions</a>) and my API call is on 5001 port (<a href="http://127.0.0.1:5001/mtw/mobile-api/data-loggers/E60802000199/missing-data-infos">http://127.0.0.1:5001/mtw/mobile-api/data-loggers/E60802000199/missing-data-infos</a>) is it OK ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:49</div><div class="msg">Maybe my proxy and my mock server aren't well configured</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:51</div><div class="msg">Oh I think I founded it !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 09:51</div><div class="msg">OK, that is the problem. you do add an interaction to the mock server, but then you never call it.
you have to configure your app/tests to connect to the mock server and not `:5001`
just set your app to access `:1234` when sending the request</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 09:52</div><div class="msg">That's it, yes ! Thank you ! :slightly_smiling_face: :slightly_smiling_face: :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 09:52</div><div class="msg">:bananadance:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 11:05</div><div class="msg">Second question for me : In my application I don't make any direct HTTP call, I'm using a proxy made as a npm package that generate for me the API call and just give me the response body directly.
This proxy package abstracts me all the call and I don't have any access to the HTTP Request (url, headers, etc) in my client provider. This proxy is generated by open-api on the server-side

So, my question is : can I test these API calls with pact in this specific case ? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-05 11:35</div><div class="msg">I don't quite understand, even you have the proxy it will send HTTP requests and you only have to create interactions that  mock those</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fa452520f98d5acb4633e36b80a85be2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">r.darcel</div><div class="time">2021-02-05 13:01</div><div class="msg">The main point in this case (that I forgot to mention :sweat_smile:) is that this proxy only return the body content as response, I don't have any status in my spec.ts file response, where pact expect in willRespondWith. Is it mandatory ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-02-06 00:49</div><div class="msg">That should be configurable. I'll add it to the list of things to do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-05/1734360926881_a707318c5b00b5796bc5_72.jpg" /><div class="message"><div class="username">ashish.joshi</div><div class="time">2021-02-06 01:07</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-02-06 01:08</div><div class="msg">Actually, I've decided to just implement it. I've made it configurable with a default of 5s</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-05/1734360926881_a707318c5b00b5796bc5_72.jpg" /><div class="message"><div class="username">ashish.joshi</div><div class="time">2021-02-06 21:45</div><div class="msg">Hello,
I am new to the contract testing. I am trying to implement contract testing for our micro-services. I have completed the consumer side tests to upload the pact files to the pact broker now need to write provider tests for our services to verify those pacts but I have few issues before i can implement it.
As per pact?s documentation it seems like that for the provider side tests we are planning to invoke the actual service implementation to get the response. When invoking the actual implementation we would need a correct authorization token and will need to reach-out to multiple services to get the data on which the implementation depends. This adds the complexity of mocking out the calls to the multiple services on which the implementation depends in order receive the desired response. How to resolve such problem and if there is some examples I can follow?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-06-16/1186174839861_70f648e1562f2399cf6c_72.jpg" /><div class="message"><div class="username">phil.endsley</div><div class="time">2021-02-06 23:18</div><div class="msg">Have you seen the page with some suggestions on how to handle auth in the docs? <a href="https://docs.pact.io/provider/handling_auth/">https://docs.pact.io/provider/handling_auth/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-07 01:14</div><div class="msg">Howtolearn</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2021-02-07 01:14</div><div class="msg">Here are a number of useful hands-on labs that teach all of the key concepts <a href="https://docs.pact.io/implementation_guides/workshops">https://docs.pact.io/implementation_guides/workshops</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-07 01:15</div><div class="msg">The JS workshop has an example for this exact situation also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-05/1734360926881_a707318c5b00b5796bc5_72.jpg" /><div class="message"><div class="username">ashish.joshi</div><div class="time">2021-02-07 03:21</div><div class="msg">Hi @matt.fellows and @phil.endsley, Thanks for your response and these are some good resources to follow. However I am still stuck with the second half of my query i.e.
When the provider service receive a request my provider service require data from multiple other services before responding correct data back to the consumer, So, how can I mock those connections with other services which are helping provider to respond with correct data, Will middleware can be used for that or is there any good example to follow on the same?(sorry for ignorance but I am stuck here to think for a better approach)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-07 06:30</div><div class="msg">I usually stub (in process) third party services and alter the stub response using provider states</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-07 06:31</div><div class="msg">See also <a href="https://docs.pact.io/provider/#stub-calls-to-downstream-systems">https://docs.pact.io/provider/#stub-calls-to-downstream-systems</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-07 06:32</div><div class="msg">You could use stubs like mountebank also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-05/1734360926881_a707318c5b00b5796bc5_72.jpg" /><div class="message"><div class="username">ashish.joshi</div><div class="time">2021-02-08 01:27</div><div class="msg">Thanks for the resources @matt.fellows :blush:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-08 02:46</div><div class="msg">but pact and the proxy are talking about HTTP, so there must be a status code. so even the proxy is not giving the status code back to the higher levels of your app, between the proxy and pact there should be one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2a0a12bd7d7d48649723b7bc56eff15c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">alex.mccormick</div><div class="time">2021-02-08 18:33</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-09/1728605082034_fb507e6767ed040152cc_72.jpg" /><div class="message"><div class="username">przemek.sech296</div><div class="time">2021-02-08 23:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-08/1714722441495_d45d8a8ad7f42605dd57_72.jpg" /><div class="message"><div class="username">vplows</div><div class="time">2021-02-09 06:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-09 06:01</div><div class="msg">Friends, I?m looking at adding a better way of configuring pact-js.  I?ve drafted some initial thoughts here, and I?d love any feedback: <a href="https://github.com/pact-foundation/pact-js/issues/602">https://github.com/pact-foundation/pact-js/issues/602</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-09 06:02</div><div class="msg">Specifically, I?m interested in whether people have other things they?d like to have covered by common config, and whether this feature would improve your pact-js life :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-09 06:03</div><div class="msg">in particular, pinging other JS maintainers and contributors - @matt.fellows, @artur , @yousafn, @omer.moradd</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-09 06:03</div><div class="msg">(comments from anyone welcome, of course)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-09 06:12</div><div class="msg">I like it, generally . . . I don't remember how much copypasta there was last time I used it :thinking_face: having the option could only hurt maintenance, though, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-09 06:15</div><div class="msg">The option to copypasta?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-09 06:15</div><div class="msg">Or the option to put some of the config in one place?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-09 06:22</div><div class="msg">The options for places to put the config :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-09 06:22</div><div class="msg">Sorry, I meant
&gt; it wouldn't hurt anything other than (potentially) maintenance</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-09 06:22</div><div class="msg">due to the larger footprint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-21/1590248611698_a9ff06126dea1ae5590e_72.png" /><div class="message"><div class="username">omer.moradd</div><div class="time">2021-02-09 06:45</div><div class="msg">Sounds like a good idea to me
This is definitely something that is commonly done when there is a lot of boilerplate to write</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-12-21/1590248611698_a9ff06126dea1ae5590e_72.png" /><div class="message"><div class="username">omer.moradd</div><div class="time">2021-02-09 06:48</div><div class="msg">It can also be done with a <a href="https://json-schema.org/">https://json-schema.org/</a> where there is a possibility to add a live schema and use it from `.rc` files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-09 07:04</div><div class="msg">Something cool- pact is in IBM?s template for node apps:

<a href="https://github.com/IBM/template-node-typescript">https://github.com/IBM/template-node-typescript</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2021-02-09 08:16</div><div class="msg">@matt.fellows, but it would be good to do not replace logs every time when interaction run (just after suite run)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-09 10:58</div><div class="msg">Awesome Tim.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-09 10:59</div><div class="msg">My only (first) suggestion is that this should be a framework wide proposal - even if only adopted by JS initially</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-09 10:59</div><div class="msg">It?s super useful in situations like CI and general scaled setups, because you can just copy/pasta configs etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-09 12:37</div><div class="msg">There was a conversation on this a while back (lost to history, of course). I reached out and got a response back from their CTO of Cloud Architecture Kyle Brown (who then connected me to Holly Cummins, who recently-ish did a talk on it). Would love to see them here to talk more about it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-09 12:38</div><div class="msg">I found that template via the ?used by? on github, and then it got me to this very interesting piece: <a href="https://www.ibm.com/garage/method/practices/code/contract-driven-testing">https://www.ibm.com/garage/method/practices/code/contract-driven-testing</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-09 12:38</div><div class="msg">(ah, I can see that Holly?s talk is now on that page too)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-09 12:38</div><div class="msg">In any case, it?s VERY COOL YES!!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/525a288e55ed581d79ba4e56a7fd4fd2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">rodney.stromlund</div><div class="time">2021-02-09 16:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-09/1725918169478_32273f172df9ea6c64b1_72.jpg" /><div class="message"><div class="username">nada</div><div class="time">2021-02-09 19:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2dea9bd9b44080c5ecb3bc861fc50b8a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">siddhardhan</div><div class="time">2021-02-09 20:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2021-02-09 21:42</div><div class="msg">Pactrc file is good and using json schema means you can get intellisense. Cypress do this very well with thier cypress.json file.

I?m like boris and can?t remember much boilerplating, but I?m always the one setting up the initial scaffolding for lambdas with typescript and webpack, so by the time people come to start doing their general feature work the config is already there.

I?d need to open my laptop and think about what I?d actually put in there. Maybe in a mono repo it would work better and services within that could extend from a base. Like you might do with a tsconfig file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2021-02-09 21:45</div><div class="msg">For ci, our pact tooling is rolled into a set of shared build tools that is used as the build image in circleci, scripts for generating the pact mocks, tagging them and shipping them to ecr, as well as scripts for publishing and verifying </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1cf22e6c3a25a0e708ec012bcc5c4b2a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">sjdl</div><div class="time">2021-02-09 22:14</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-10 00:20</div><div class="msg">One thing I?d like to be able to do, is something like `pact-broker auth` which will do something like what Snyk/Github and other tools do. Direct you to your Pactflow (or Pact broker), get a token/credentials and save it locally. This would be a nicer authentication experience (ala the SSH idea you mentioned previously Tim)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-10/1735034523522_a5a56d1461d0a6c73c37_72.jpg" /><div class="message"><div class="username">lars.hisken916</div><div class="time">2021-02-10 08:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/37e07a4e009f8a714ca03689ca6ca921.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">pauligoe10</div><div class="time">2021-02-10 08:19</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-10/1735351062226_e5ca063ecbae62c2a3c1_72.png" /><div class="message"><div class="username">tusharvarm</div><div class="time">2021-02-10 09:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-10 10:22</div><div class="msg">to answer my question myself: its possible by Injecting values from provider states see <a href="https://pactflow.io/blog/injecting-values-from-provider-states/">https://pactflow.io/blog/injecting-values-from-provider-states/</a>
and <a href="https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/examples/v3/provider-state-injected">https://github.com/pact-foundation/pact-js/tree/feat/v3.0.0/examples/v3/provider-state-injected</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-10/1735779940115_d7df75c14ce963e8b8d4_72.jpg" /><div class="message"><div class="username">igorsharf</div><div class="time">2021-02-10 10:39</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-02-10 13:45</div><div class="msg">Hey guys, Im looking to add regex that checks for string | null, I know pact doesn't support optional fields out of the box and this is correct for a ideal world, sadly a interaction I am checking can either return a string or null, I have ran the following regex via console and works as expected</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-02-10 13:47</div><div class="msg">however when I run this regex through pact `'.+|null'` via the `term` matcher, it fails on null even tough the regex is valid for the situation, does pact have some sort of internal null checking going on?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-10 13:53</div><div class="msg">The thing is that null is not a string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-10 13:53</div><div class="msg">you can check for an empty string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-02-10 13:56</div><div class="msg">Im curious why `'.+|null'` works fine via console but doesn't check out while running through PACT, it's valid regex for checking for a string OR null, asking does PACT have any additional checks when passing in regex</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-10/1743540173076_0e2994b4e20bc8c6cfb8_72.png" /><div class="message"><div class="username">kieran</div><div class="time">2021-02-10 17:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-10 18:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-10 18:20</div><div class="msg">I'm new to using `pact`  and I have a fundamental question when writing provider verification tests using pact. Do you actually start the server to be able to run provider tests?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-10 18:29</div><div class="msg">yes, provider tests should be run against the actual server code</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-10 18:31</div><div class="msg">I understand it's actual server code.. But starting my server also requires a database to be available and that is not possible since I'd like to run pact in my CI precommit.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-10 18:59</div><div class="msg">you might consider mocking the calls out to DB code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-10/1762433145136_cde7edd23cf7c39aa67a_72.png" /><div class="message"><div class="username">ckhadilkar</div><div class="time">2021-02-10 21:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:25</div><div class="msg">~Hard to tell what's going on here, but if you use the regex `/.+/` it also tests true for `null`~</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:25</div><div class="msg">This is a JS + web browser console question :upside_down_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:27</div><div class="msg">`/.+|null/` needs the `|` escaped to work properly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:28</div><div class="msg">i.e. `/.+\|null/.test(null)`  is `false`, as you'd expect</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:28</div><div class="msg">that regex will match the string value `'null'`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:30</div><div class="msg">If the field is effectively optional, specifying it can have the value of documenting something that needs to be fixed :slightly_smiling_face: but you can also leave it out with no real consequences</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:33</div><div class="msg">There are several ways to set it up, popular ones include:
? run the provider with a real db, and seed the db with test data
? run the provider in a test mode, and mock collaborators at some level (could be anywhere from the db client, all the way up to near the endpoint handlers)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-10 23:37</div><div class="msg">Thanks Boris and Brendan..

However, in my service, there's a lot of DB/cache bootstrapping that happens right on server startup and similarly before each call to an endpoint.

Is there an example to look at that you're aware of?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:42</div><div class="msg">I don't know any specific howtoexamples, there might be something in the docs/repos :thinking_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2021-02-10 23:42</div><div class="msg"><a href="https://docs.pactflow.io/docs/examples/">https://docs.pactflow.io/docs/examples/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:44</div><div class="msg">But it sounds like you might have some refactoring to do in the provider codebase</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-10 23:45</div><div class="msg">potentially, I'm trying to see if the provider verification can be completely stateless since we'd like to run these verifications in our precommit.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-10 23:46</div><div class="msg">thanks for the examples dir. I've gone through that before and I don't think is very useful for my use case. The examples are for the basic use cases.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-10 23:47</div><div class="msg">even if not completely stateless, the DB stuff should be easy to isolate &amp; swap :slightly_smiling_face: if not, refactoring is probably a hard requirement :cry:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-10 23:48</div><div class="msg">Agreed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-11 00:33</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-11 00:33</div><div class="msg">A regex is a string matcher, it can?t regex on different _types_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-11 00:34</div><div class="msg">in your  case, you?re saying it can be a string or null - can?t do that with a regex</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-11 01:48</div><div class="msg">Yeah, this is <a href="https://docs.pact.io/faq/#should-the-database-or-any-other-part-of-the-provider-be-stubbed">https://docs.pact.io/faq/#should-the-database-or-any-other-part-of-the-provider-be-stubbed</a> I'm sure exists, I've never looked for examples.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-11 04:26</div><div class="msg">I really like that SSH idea! I should put it in as a feature request?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-11 04:29</div><div class="msg">@poward: It?s hard to answer whether the provider verification can be stateless without seeing the provider (it depends on whether your provider is stateless).

The best practice is to keep a clear boundary between the database layer so that you can easily mock it away during testing. If that?s not the case in your code, then you might have difficulty running verification as a precommit (personally I would expect verification to take too long for a reasonable precommit step).

However, if you can tell us more about your scenario, perhaps we can help with some solutions.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-02-11 16:47</div><div class="msg">cool, thanks guys!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-19/1795832347648_45f38ffa04e38eb53c0b_72.jpg" /><div class="message"><div class="username">neild</div><div class="time">2021-02-11 18:53</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bab53ba093d60629f50d1015f898dad3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">painenigowthami</div><div class="time">2021-02-11 22:32</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-11/1729161688727_b91b5899846c5577068f_72.jpg" /><div class="message"><div class="username">stephenkilbourn</div><div class="time">2021-02-11 23:02</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1594de00300e40cea1ec898e0bf63bfd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">tcarlson</div><div class="time">2021-02-11 23:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e3e1b4209293992f8617e902743968c0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">fnguyen</div><div class="time">2021-02-12 01:34</div><div class="msg">@fnguyen has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cfb5bce11f1b842e1d5b988c8b4cfff4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">r.strauch</div><div class="time">2021-02-12 10:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-12 10:37</div><div class="msg">@tjones @bethskurrie @uglyog

Just want to introduce you to FYI @stephenkilbourn who is looking into integrating MSW with Pact (see <a href="https://github.com/mswjs/msw/issues/572">https://github.com/mswjs/msw/issues/572</a>). You can probably think it of a similar proposal to something like the Cypress integration we?ve discussed and spiked. Thanks again, and looking forward to seeing how we can make this work!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-12 13:35</div><div class="msg">oh man that would be amazing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-12 14:13</div><div class="msg">Hey @tjones, our provider is a node app with a dependency on Redis and MySQL, as much so that both of these are needed when the app starts up. We have these layers modularized enough into controllers, services, repositories, etc.

Also, do you know of a code example that I can look at where the db has been stubbed out of a service during the provider verification?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-12 14:15</div><div class="msg">Another specific use case I'm trying to test is bad requests. For eg. I need to send an error response when the exact same entity (through a POST) is being created again. I care more about testing the structure of the error response returned rather than the actual functionality.. how do you recommend we approach this with pact?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-12 14:45</div><div class="msg">Sounds cool! Let me know if/how I can help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-12 14:47</div><div class="msg">Usually I would stub the repository layer. I think the provider verification examples that have provider states illustrate this. It?s late here and I am on mobile, but I can link you tomorrow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-12/1759006665313_4fb367e9ac4f306b5f94_72.png" /><div class="message"><div class="username">ztlboy05</div><div class="time">2021-02-12 14:57</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-12/1770369964864_98175c5a1733530ab991_72.jpg" /><div class="message"><div class="username">smith260194</div><div class="time">2021-02-12 15:22</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">poward</div><div class="time">2021-02-12 18:14</div><div class="msg">yea no worries. thanks for all the help thus far!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/88c3c63930a5f61767773392a3ab3762.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">dabfleming</div><div class="time">2021-02-12 20:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-12 21:46</div><div class="msg">Do you use MSW? I'd be keen for thoughts on how the integration should work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-12 21:46</div><div class="msg">Particularly if we should preserve the MSW mocking interface and generate a pact, vs using the pact interface to generate the MSW stubs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/09c4eb9aef1671cda4b0b2d997f19f56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">prasanthp</div><div class="time">2021-02-13 00:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-13 09:31</div><div class="msg">Shout out to @dany.marques90, who noticed that one of the pact-node install tests would always pass (and is now fixed).  :taco: for you!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-13 10:19</div><div class="msg">we do indeed. my gut feeling says the former would be better but i?d need to think about it a bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-13 10:49</div><div class="msg">I think the former is the best way to go, except that it will lose out on matchers etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-13 10:50</div><div class="msg">It could work nicely with our proposed provider-driven contracts feature, that will just compare the pact file with a provider schema (initially, OAS)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-13 10:50</div><div class="msg">so the matchers are sort of irrelevant (as long as the requests match the schema, you?re OK)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-03/1705265216469_40c0c4ff83d028c04f6b_72.jpg" /><div class="message"><div class="username">dany.marques90</div><div class="time">2021-02-13 10:57</div><div class="msg">Thanks a lot @tjones </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae0b3dd5cb7bbbcfc21b19c79807625c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">bhardwajdiwakar</div><div class="time">2021-02-14 22:38</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e4591f6191a1fe0b408f8223ca088bd4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">hiteshpatadia</div><div class="time">2021-02-15 06:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-15 13:31</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-15/1752761490066_0f6c13cbd653fa67146b_72.png" /><div class="message"><div class="username">lemitrou</div><div class="time">2021-02-15 14:20</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2ceaf3095600cc888b775e3dc5e0e5c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">helloraj</div><div class="time">2021-02-16 08:09</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e4cb13cf7fd46c99ce9d7769e37952b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">jamesmlucas</div><div class="time">2021-02-16 19:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-16/1764705856180_21ef98bbe766ce0dc005_72.png" /><div class="message"><div class="username">gabe707</div><div class="time">2021-02-16 20:31</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cba9f7a239c5635efe60fe46f939ae27.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">wangpei9679</div><div class="time">2021-02-16 21:29</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cba9f7a239c5635efe60fe46f939ae27.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">wangpei9679</div><div class="time">2021-02-16 21:34</div><div class="msg">Hi guys, I am a starter on Pact. Recently I am trying to setup the contract testing.
I try to verify the specific tags of consumer, but it seems that it didn't work as my expected.
I put the `  consumerVersionSelectors: [
    { tag: 'a', latest: true },
    { tag: 'b', latest: true },
    { tag: 'c', latest: true },
    { tag: 'xxxxontract_testing_setup', latest: true }
  ]` into the verifierOptions. but it still verified all version of HEAD like the screenshot. what I am expected is that it only verify the latest version of tag `xxxontract_testing_setup`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cba9f7a239c5635efe60fe46f939ae27.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">wangpei9679</div><div class="time">2021-02-16 21:37</div><div class="msg">@tjones</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-16 22:44</div><div class="msg">Hmm. At a glance, your tags look right to me, but I don?t tend to use a complex tag set up. Might be worth asking in #pact-broker</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cba9f7a239c5635efe60fe46f939ae27.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">wangpei9679</div><div class="time">2021-02-16 22:52</div><div class="msg">Cool, thanks Tim, I used the branch name as tag when I am in my feature branch.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-16 23:00</div><div class="msg">Is the contract the same though? Because if it is, the verification result will apply to _all_ of the contracts with the same content</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-16 23:01</div><div class="msg">i.e. if you make 4 separate publishes and give them different tags, but the content is the same. The verification result for *any* of the versions will apply to *all* of the versions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c91ade1877bc2202ca8ab0c2e91696a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">geir</div><div class="time">2021-02-16 23:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cba9f7a239c5635efe60fe46f939ae27.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">wangpei9679</div><div class="time">2021-02-16 23:19</div><div class="msg">Thanks @matt.fellows Oh? yes. the contract content are totally same. Does pact broker use checksum to check if the content are same?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-16 23:47</div><div class="msg">I think that implementation detail is irrelevant, but implicitly yes, if the content is the same, then a hash or checksum would also be the same :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 00:03</div><div class="msg">What @abubics said</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-02-17 00:35</div><div class="msg">This was it, thanks @matt.fellows!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">matt195</div><div class="time">2021-02-17 00:36</div><div class="msg">It turns out that mocha behaves surprisingly when an `afterEach` hook fails. Instead of just failing that example, it skips all the other examples in that suite.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 00:37</div><div class="msg">That is surprising!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 01:21</div><div class="msg">This is actually a really helpful feature that avoids the need to do unnecessary re-validation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 01:22</div><div class="msg">There are some diagrams you might find useful here: <a href="https://docs.pact.io/getting_started/versioning_in_the_pact_broker/">https://docs.pact.io/getting_started/versioning_in_the_pact_broker/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-16/1745293493847_dc36a65cce7e467aed46_72.png" /><div class="message"><div class="username">soruma.net</div><div class="time">2021-02-17 05:58</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-17 08:26</div><div class="msg">hey guys! That?s probably a silly question, but can I log out interaction which has already been added to the mock server?
If so, I need a tip on how to do it. When I print out `provider.mockService.interaction` it gives me back `undefined`, so:
A. I?m running the wrong command to print out the interaction
B. My interaction is not being added :sweat_smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:26</div><div class="msg">It?s possible, although the pact log already contains this information</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:27</div><div class="msg">What are you trying to do? We can probably help with the direct problem you?re trying to get this info to solve</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-17 08:29</div><div class="msg">Ohhh, ok, so if my metadata is equal to null in the pact log it means the interaction is not registered? :thinking_face:
```  "description": "a request for all clients",
  "providerState": "i have a list of clients",
  "request": {
    "method": "GET",
    "path": "/api/submissions?filter=[{year: 2000, \"countryCode\":\"PL\"}]"]",
    "headers": {
      "Accept": "application/json, text/plain, */*"
    }
  },
  "response": {
    "status": 200,
    "headers": {
    },
    "body": [
      {
        "state": 9
      }
    ]
  },
  "metadata": null
}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:29</div><div class="msg">The request and the response are there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:30</div><div class="msg">you should see a line like:

`Registered expected interaction GET /api/xxxxxx`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:30</div><div class="msg">Although, that path looks weird in your example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-17 08:31</div><div class="msg">Oh ok, so my function in the unit tests section is not outputting anything, correct? And therefore it didn?t get logged by the pact?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:32</div><div class="msg">I?m not sure what you mean. Could you share your test code?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:33</div><div class="msg">Pact will log when it registers an interaction,  when it receives the request from your consumer, and whether that request matched the registered interaction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-17 08:34</div><div class="msg">```      it('empty array', async () =&gt; {
        Submission.getAll.mockImplementationOnce(() =&gt;
          Promise.resolve({
            data: [],
          }),
        );
        const result = await submissions.getAllSubmissions('123', 123, 2000, 'PL');
        expect(result).toEqual([]);
      });```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:35</div><div class="msg">I don?t see where you?re setting up pact in that example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:35</div><div class="msg">usually in a pact consumer test, there wouldn?t be any mocks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:35</div><div class="msg">unless you have an unusual scenario</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-17 08:37</div><div class="msg">what that unusual scenario could be? Also, why wouldn?t be there any mocks?
I think I might have missed something fundamental here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:37</div><div class="msg">In a pact test, pact does the mocking for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:37</div><div class="msg"><a href="https://docs.pact.io/getting_started/how_pact_works">https://docs.pact.io/getting_started/how_pact_works</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:37</div><div class="msg">^ There are some diagrams here that might help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:37</div><div class="msg">This one in particular</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:38</div><div class="msg">A pact consumer test will have your actual client code sending an actual request to the mock provider that Pact sets up for you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-17 08:40</div><div class="msg">ok, I have forgotten about that in the heat of trying to make it run. Let me approach this once more time, thank you a lot!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:40</div><div class="msg">You?re welcome. Good luck!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-17 08:41</div><div class="msg">Hi All, I am new to pact and contract testing, I want to create a consumer and provider test for my existing API's , Can anyone help me with how I could setup this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:42</div><div class="msg">There are several examples in the repository here: <a href="https://github.com/pact-foundation/pact-js/tree/master/examples">https://github.com/pact-foundation/pact-js/tree/master/examples</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:42</div><div class="msg">the e2e test is a good starting point - both the consumer and the provider are in the same project, but other than that it shows what a normal pact flow would look like</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 08:43</div><div class="msg">If you are new to pact, I would start here: <a href="https://docs.pact.io/getting_started/how_pact_works">https://docs.pact.io/getting_started/how_pact_works</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 09:11</div><div class="msg">also howtolearn has a number of good tutorials/workshops</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2021-02-17 09:11</div><div class="msg">Here are a number of useful hands-on labs that teach all of the key concepts <a href="https://docs.pact.io/implementation_guides/workshops">https://docs.pact.io/implementation_guides/workshops</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 09:12</div><div class="msg">also these (even simpler) starting points: <a href="https://docs.pactflow.io/docs/tutorials/">https://docs.pactflow.io/docs/tutorials/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 09:12</div><div class="msg">note to self: add these to OSS docs!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-17 09:41</div><div class="msg">I tried creating the Consumer test but getting below error:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-17 09:41</div><div class="msg">1) Favorites API test
       get favorites by filter:

      AssertionError: expected { Object (TargetId, Created, ...) } to deeply equal { Object (TargetId, Created, ...) }
      + expected - actual

       {
      -  "Created": [undefined]
      -  "TargetId": [undefined]
      -  "TargetObjectType": [undefined]
      -  "UserId": [undefined]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 09:42</div><div class="msg">Hi Vikrant, worth also reading howtoask</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2021-02-17 09:42</div><div class="msg">Please see this page for some tips on how to ask for help to get the best response from the community <a href="https://docs.pact.io/help/how_to_ask_for_help">https://docs.pact.io/help/how_to_ask_for_help</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 09:43</div><div class="msg">it?s going to be hard for us to help you without the input code that?s getting us to that output</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 09:43</div><div class="msg">This looks like a non Pact assertion also (Jest? Mocha?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 09:44</div><div class="msg">So my guess is that your test is doing some assertions on the API response from the mock service, which is not configured to respond with the payload you want (hence the `undefined`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-17 09:52</div><div class="msg">:&lt;//favorites.services.dev.corp.lego.com/api/v1&gt;'

});

describe('Favorites API test', () =&gt; {


  // (3) Setup Pact lifecycle hooks
  before(() =&gt; mockProvider.setup());
  afterEach(() =&gt; mockProvider.verify());
  after(() =&gt; mockProvider.finalize());

  it('get favorites by filter', async () =&gt; {

        // (4) Arrange
        const expectedfavorites = {Result:[{ TargetId: '20da7438-1382-4b80-b447-6da61f34e719', Created:'2021-02-15T12:11:59+00:00', TargetObjectType: 'Application', UserId: 'b1a660d2-f23b-4f52-b04d-dc4bc8546e0e'}]}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-17 09:52</div><div class="msg">this Is what I wrote in my consumer.pact.js file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 09:53</div><div class="msg">looks familiar :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 11:24</div><div class="msg">you seemed to have truncated the file, so now it?s a little harder to debug for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 11:25</div><div class="msg">I?d recommend dumping the response body via a `console.log` in your api client class to see what structure is coming back - that will help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 11:25</div><div class="msg">also `trace` level logging will print that out for you too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-17/1754504242198_d22cfa2b029cc17b7b91_72.jpg" /><div class="message"><div class="username">therimpact</div><div class="time">2021-02-17 12:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-02-17 13:13</div><div class="msg">Hello All, I have a question on how can we manage running the provider tests when we have a `term` matcher in the API path?

the below is the sample interaction using `pact-js`
```const uuid = '497f6eca-6276-4993-bfeb-53cbbbba6f08'

    const interaction = new Interaction()
      .given('an asset exists')
      .uponReceiving('a request to return an asset')
      .withRequest({
        method: 'GET',
        path: term({
          generate: `/assets/${uuid}`,
          matcher: '/assets/[\\w]{8}(-[\\w]{4}){3}-[\\w]{12}',
        }),
      })
      .willRespondWith({
        status: 200,
        body: like({
          id: uuid,
          name: 'foo-bar',
        }),
      })
    await provider.addInteraction(interaction)```
For the above example how can we run the provider test and make it work? Does the provider always have to create an asset entry with the hardcoded `uuid` defined in the interaction? Or can we actually have a flexible way of using the provider state where any asset with an `uuid` is good enough in the provider database to pass the test?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2922b91fdaf756a7b90bc58e155e3e41.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">christopher.roberts</div><div class="time">2021-02-17 14:06</div><div class="msg">Has anyone seen the following issue?
``` FAIL  test/src/Health.pact.test.js (157 s)
  Pact between soa_translate_service and soa_translate_service
    with 30000 ms timeout for Pact
       encountered a declaration exception (2 ms)

  ? Pact between soa_translate_service and soa_translate_service ? with 30000 ms timeout for Pact ? encountered a declaration exception

    TypeError: Cannot read property 'logLevel' of undefined

       6 | const { Matchers } = require("@pact-foundation/pact");
       7 |
    &gt;  8 | pactWith(
         | ^
       9 |   {
      10 |     consumer: process.env.CI_PROJECT_NAME,
      11 |     provider: process.env.CI_PROJECT_NAME,

      at new Pact (node_modules/@pact-foundation/pact/src/httpPact.ts:59:20)
      at setupProvider (node_modules/jest-pact/index.js:23:20)
      at Suite.&lt;anonymous&gt; (node_modules/jest-pact/index.js:57:15)
      at jestPactWrapper (node_modules/jest-pact/index.js:37:5)
      at Suite.&lt;anonymous&gt; (node_modules/jest-pact/index.js:64:67)
      at Object.&lt;anonymous&gt;.exports.pactWith (node_modules/jest-pact/index.js:64:12)
      at Object.&lt;anonymous&gt; (test/src/Health.pact.test.js:8:1)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 1 total
Snapshots:   0 total
Time:        157.472 s
Ran all test suites.```
I debugged it and the code is never initializing the "serviceFactory" variable in httpPact.ts.  Does anyone know how this variable should be initialized?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-17 14:09</div><div class="msg">What you seem to want is fromProviderState, which is a new feature in Pact v3. I am also looking to use this and your use case seems to be identical</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-17 14:10</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/provider-state-injected/consumer/transaction-service.test.js">https://github.com/pact-foundation/pact-js/blob/feat/v3.0.0/examples/v3/provider-state-injected/consumer/transaction-service.test.js</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2922b91fdaf756a7b90bc58e155e3e41.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">christopher.roberts</div><div class="time">2021-02-17 14:13</div><div class="msg">I think it might have something to do with the fact that I'm loading this class as typescript instead of javascript</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-02-17 15:07</div><div class="msg">Yes, you are right, V3 feature should solve this. In my case my provider is going to use pact .net and as far I know the .net library is not catching up with v3.
It will be nice to know if there are some other work arounds which could work without the v3 spec.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2922b91fdaf756a7b90bc58e155e3e41.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">christopher.roberts</div><div class="time">2021-02-17 15:26</div><div class="msg">related question: does jest-pact have a cache and if so how can I clear it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-17 16:00</div><div class="msg">@amaljayaraj07oh? you know this channel is pact-js right :slightly_smiling_face: ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-17 16:01</div><div class="msg">ah, the *provider* is pact .net</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-02-17 16:21</div><div class="msg">Yeah.. The provider is unfortunately .net :expressionless: so I am looking for common appproch.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-17 16:28</div><div class="msg">Pact v2 doesn?t support this concept at all unfortunately (afaik)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-17 16:29</div><div class="msg">one thing i would say is i don?t know if there?s actually a rule that says you need to do the Pact verification in the same language as the provider</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2705041dab659c65997250486af91f5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">amaljayaraj07</div><div class="time">2021-02-17 16:42</div><div class="msg">Hmm.. That's interesting.. But if we want to setup provider states and if we don't use the same language/framework as the provider, one would have to do quite a bit of coding to write utility methods in the other language to create test data in the provider.
Then the whole thing becomes way too complicated.
But this is an interesting idea though :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-17 16:45</div><div class="msg">It?s certainly best practice to use the same language</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e8b20ec53f2f3b21b008afecbbb3af70.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">andrzej.igielski</div><div class="time">2021-02-17 21:41</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 23:22</div><div class="msg">usually when you get a ?cannot read property ?xxx? of undefined? it means the underlying object/class instance has disappeared or not been initialised. But I don?t know Pact Jest well enough to have a stab at guessing why that might be the case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 23:22</div><div class="msg">`logLevel` is something on the underlying Pact object, I?m guessing, so it perhaps wasn?t able to construct the Pact class properly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 23:22</div><div class="msg">so when trying to set the log level, it failed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 23:23</div><div class="msg">AH, I  missed you last statement about `serviceFactory`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 23:23</div><div class="msg">short answer from me is no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-17 23:23</div><div class="msg">But @tjones or @yousafn might know</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 23:35</div><div class="msg">This is a general pact-js problem- it happens when the mock server fails to start up. You probably have a log line further up telling you what went wrong. We should check this case and emit a more helpful error </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-17 23:37</div><div class="msg">I?d be surprised if there?s a bug causing this- I?ll have a look at the code when I?m at my desk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2922b91fdaf756a7b90bc58e155e3e41.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">christopher.roberts</div><div class="time">2021-02-17 23:39</div><div class="msg">I figured it out. I had a jest moduleNameMapper regex in the wrong order :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-18 01:30</div><div class="msg">Ah, right. Looking at the code, I guess you were accidentally stubbing pact-node</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-17/1758165960278_a0719a2c7fcf6bbc76e3_72.png" /><div class="message"><div class="username">mikewagner21</div><div class="time">2021-02-18 03:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-18 05:22</div><div class="msg">You could use the `providerStateChangeUrl`  to do provider verification in a different language</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-18 05:23</div><div class="msg">To do this, you need to spin up your provider with an extra endpoint that handles pact state information. You want to be able to only spin up this endpoint during provider verification</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-18 05:26</div><div class="msg">If you are restricted to v2 pacts, an alternative approach is to use a specific example path (this is what I do). Eg, in your case, I would say something like:

``` const interaction = new Interaction()
      .given('asset "b6bf9b18-71a9-11eb-9439-0242ac130002" exists')
      .uponReceiving('a request to return an asset')
      .withRequest({
        method: 'GET',
        path:  '/assets/b6bf9b18-71a9-11eb-9439-0242ac130002',
      }) ```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-18 05:26</div><div class="msg">Remember that a contract isn?t the same as a spec - you don?t need to describe all possible responses.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-18 05:29</div><div class="msg">Good answers above, @brendan.donegan! :taco:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-18 05:51</div><div class="msg">Hello folks I am new to Pact and Typescript/javascript
I need some help with Pact JS..
Question in thread..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-18 05:51</div><div class="msg">I am trying to generate contracts with the following pattern (stripped down code)
```
export interface SuccessResponse&lt;T&gt; extends BaseResponse {
    data: T;
}

export interface returnObj {
    id: number;
    name: string
	tags: {
        tagId: string;
    }[];
	}

const successResponse:SuccessResponse&lt;returnObj&gt; =
    {
      data:Matchers.eachLike(
        {
		 id : Matchers.decimal,
         name : Matchers.string,
		 tags: []
        }
        ,{min : 0})
    }
	```
In the generated Pact, I only see matchers for the `tags` field.
```      "body": {
          "message": {
            "data": [
              {
                "tags": [
                ],
			  }
			]
			}
		}
	
   "matchingRules": {
	  "$.body.message.data": {
		"min": 1
	  },
	  "$.body.message.data[*].*": {
		"match": "type"
	  },
    }```
I am a bit stuck on how to get the matchers for all the other fields..

When using Pact JVM, I tried something like
```DslPart body = new PactDslJsonBody();
    body.minArrayLike("data", 1)
        .stringType("id")
        .stringType("name")
        		.....```
and I see all the necessary json fields and matchers in the PACT file

What am I missing in Pact-JS?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-18 05:55</div><div class="msg">`Matchers.decimal` is a function, not a value</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-18 05:56</div><div class="msg">so the value of `id` is literally a JS function, which is not going to be serialisable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-18 05:56</div><div class="msg">so the fix should be easy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-18 05:56</div><div class="msg">```id: Matchers.decimal(42.0)```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-18 05:56</div><div class="msg">```name: Matchers.string("example string")```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-18 06:10</div><div class="msg">that help?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-18 07:21</div><div class="msg">This is a common question, so I?ve opened <a href="https://github.com/pact-foundation/pact-js/issues/611">https://github.com/pact-foundation/pact-js/issues/611</a> to make the tooling more helpful</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-18 07:41</div><div class="msg">I was able to successfully run the consumer test But I am stuck with the provider test now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-18 07:41</div><div class="msg">I want to run my actual API against the pact created by consumer test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c21e5755f69f59f62a70ae1e666e5c83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">vikrant.sarkaniya</div><div class="time">2021-02-18 07:42</div><div class="msg">and the API call takes authorization token from another endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-18 07:42</div><div class="msg">have you read <a href="https://docs.pact.io/provider/handling_auth/">https://docs.pact.io/provider/handling_auth/</a>?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-18/1750750457959_1975f6460aec6ee7d930_72.jpg" /><div class="message"><div class="username">khandelwalbhushan</div><div class="time">2021-02-18 08:10</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-18 08:10</div><div class="msg">You have a few choices in Pact JS

1. Remove auth from the provider pact test context
2. Stub authorization in your API verification (what I normally do, because it?s an external system, and I don?t want a dependency on that in my unit tests)
3. Use request filters, to dynamically replace the credentials with real ones (this is OK if the auth is internal to the service, but generally not a good idea for externalised auth)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-18/1771941779828_ae3ee2aa51255e26a178_72.png" /><div class="message"><div class="username">aniket.agarwal</div><div class="time">2021-02-18 09:21</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-18 09:32</div><div class="msg">ah darn, i just ate breakfast :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-18 09:33</div><div class="msg">_puts taco aside for lunch_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-18/1772024856836_1c2d40ad5882f266bad0_72.png" /><div class="message"><div class="username">arpit.modani</div><div class="time">2021-02-18 09:43</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-18/1759509093238_403c8bb45bc0a114277c_72.jpg" /><div class="message"><div class="username">byronth</div><div class="time">2021-02-18 11:45</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-18 14:51</div><div class="msg">Hello! I?m writing because I?ve encountered an issue with CORS when creating a consumer pact.
I?m applying Pact?s to a mobile app and cors is preventing me from properly hitting the desired GET request:
```    Missing requests:
        GET /api/submissions
    
    Unexpected requests:
        OPTIONS /api/submissions?filter=[%7B%22id%22:13548%7D]&amp;```
I?m using pact-jest and I?ve setup a `cors: false` parameter, although it didn?t help. We also have some of the ports whitelisted, so they in theory don?t use the cors, but they didn?t do trick either.
Here is the log from Pact:
```I, [2021-02-18T15:44:48.700696 #33601]  INFO -- : Received request OPTIONS /api/submissions?filter=[%7B%22id%22:13548%7D]&amp;
D, [2021-02-18T15:44:48.700850 #33601] DEBUG -- : {
  "path": "/api/submissions",
  "query": "filter=[%7B%22id%22:13548%7D]&amp;",
  "method": "options",
  "headers": {
    "Origin": "<a href="http://localhost">http://localhost</a>",
    "Access-Control-Request-Method": "GET",
    "Access-Control-Request-Headers": "Authorization",
    "User-Agent": "Mozilla/5.0 (darwin) AppleWebKit/537.36 (KHTML, like Gecko) jsdom/16.2.2",
    "Host": "localhost:1234",
    "Connection": "keep-alive",
    "Version": "HTTP/1.1"
  }
}
E, [2021-02-18T15:44:48.701346 #33601] ERROR -- : No matching interaction found for OPTIONS /api/submissions?filter=[%7B%22id%22:13548%7D]&amp;
E, [2021-02-18T15:44:48.701428 #33601] ERROR -- : Interaction diffs for that route:
E, [2021-02-18T15:44:48.701448 #33601] ERROR -- : 
W, [2021-02-18T15:44:48.718456 #33601]  WARN -- : Verifying - actual interactions do not match expected interactions. 
Missing requests:
	GET /api/submissions

Unexpected requests:
	OPTIONS /api/submissions?filter=[%7B%22id%22:13548%7D]&amp;


W, [2021-02-18T15:44:48.718517 #33601]  WARN -- : Missing requests:
	GET /api/submissions

Unexpected requests:
	OPTIONS /api/submissions?filter=[%7B%22id%22:13548%7D]&amp;


I, [2021-02-18T15:44:48.733870 #33601]  INFO -- : Cleared interactions```
Any tips/trick how to deal with this? :thinking_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-18 16:18</div><div class="msg">You probably want `cors: true`. It looks like your client is sending the cors requests, but the mock server is not expecting them. Also, it looks like your request is sending a query, but the interaction isn?t expecting it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-18 20:20</div><div class="msg">Thanks heaps for the reply @matt.fellows
That worked! Now I can see the correct matchers in my pact file :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-18/1762786256422_8ebb6ece183038de82ae_72.png" /><div class="message"><div class="username">isa.levine</div><div class="time">2021-02-18 23:37</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-19 08:50</div><div class="msg">@tjones
Do you mean the `filter=[%7B%22id%22:13548%7D]&amp;` query? It?s added automatically when fetching the CORS.
It?s also added now to the GET request (after setting `cors: true`), not sure why. The api/submissions doesn?t accept such query :thinking_face: I?m totally lost here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-19 09:13</div><div class="msg">CORS is an http thing, usually handled by the http library/ server/ api gateway. It usually isn?t explicit in the server code (maybe in the config).

Wikipedia has some fairly clear explanations if you want to learn more. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-19 09:14</div><div class="msg">Ok, I will dig into, thank you :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-01/1697862455666_e6b7f89347274c93347c_72.jpg" /><div class="message"><div class="username">victoria.kruczek</div><div class="time">2021-02-19 09:18</div><div class="msg">I also found this: <a href="https://github.com/pact-foundation/pact-mock_service/wiki/Using-the-mock-service-with-CORS">https://github.com/pact-foundation/pact-mock_service/wiki/Using-the-mock-service-with-CORS</a>, sorry that I  bothered you when it?s out there :facepalm: It was in a heat of the moment, have to admit that :sweat_smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/01c9e6ee34c548562b9daaa6b28bd9b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">brian.pfretzschner</div><div class="time">2021-02-19 10:15</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-19/1795832347648_45f38ffa04e38eb53c0b_72.jpg" /><div class="message"><div class="username">neild</div><div class="time">2021-02-19 14:34</div><div class="msg">I?m not able to modify `req.query` in the `requestFilter` function I?ve defined in my provider verification tests. Is this expected behavior or a bug? Ex/
```const opts = {
  ...options
  requestFilter: async (req, res, next) =&gt; {
    req.query.foo = 'bar';
    next();
  },
}
const verifier = new Verifier(opts)```
```// middleware
app.use((req, res, next) =&gt; {
  console.log('FOO', req.query.foo); // undefined
  next();
});```
If this is a bug, will open an issue in github with a reproducible demo. Wanted to confirm here whether this is a bug or not before I do that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-19 14:47</div><div class="msg">i think this is a feature, based on the behavior in pact-jvm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-19/1795832347648_45f38ffa04e38eb53c0b_72.jpg" /><div class="message"><div class="username">neild</div><div class="time">2021-02-19 21:33</div><div class="msg">Will look at the pact-jvm docs. Thank you!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-19 21:53</div><div class="msg">Hello ppl,
I am setting up a test for consumer and i use jest to run the tests. I have added `"@pact-foundation/pact": "^9.15.0"`  dependency . I am however getting this error when running the test . Am i missing some configuration to set in jest ?
```SyntaxError: /Users/&lt;&gt;/&lt;&gt;/graphql/package.json: Unexpected token, expected ";" (2:11)
      1 | {
    &gt; 2 |   "private": true,
        |            ^
      3 |   "name": "graphql",
      4 |   "version": "0.0.0",
      5 |   "author": "&lt;&gt;",
      at Parser._raise (node_modules/@babel/parser/src/parser/location.js:241:45)
      at Parser.raiseWithData (node_modules/@babel/parser/src/parser/location.js:236:17)
      at Parser.raise (node_modules/@babel/parser/src/parser/location.js:220:17)
      at Parser.unexpected (node_modules/@babel/parser/src/parser/util.js:149:16)
      at Parser.semicolon (node_modules/@babel/parser/src/parser/util.js:122:40)```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:08</div><div class="msg">I saw this recently actually, there's a problem with the jest/babel setup. Remove plugins until you work out which one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:08</div><div class="msg">I'd like to get to the bottom of it, please share which one as it might be something we can guard against</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-19 22:15</div><div class="msg">I only have one plugin , this is what the `babel.config.js` looks
```module.exports = {
  presets: [
    [
      '@babel/env',
      {
        targets: {
          node: 'current',
        },
      },
    ],
  ],
  plugins: [
    '@babel/plugin-proposal-optional-chaining',
  ],
};```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-19 22:16</div><div class="msg">and this is my `jest.config.js`
```module.exports = {
  collectCoverageFrom: ["packages/*/src/**/*.js"],
  coverageDirectory: "test-results/jest/coverage",
  reporters: [
    "default",
    ["jest-junit", { outputDirectory: "test-results/jest" }],
  ],
  restoreMocks: true,
  setupFiles: ["&lt;rootDir&gt;/jest.setup.js"],
  testEnvironment: "node",
  transform: {
    "^.+\\.gql$": "&lt;rootDir&gt;/transform-gql.js",
    ".*": "babel-jest",
  },
  runner: "groups",
};```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-19 22:18</div><div class="msg">removing that plugin doesnt solve it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:22</div><div class="msg">Look at the transform regex, it's going to transform all files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:22</div><div class="msg">That would include JSON which seems unlikely what you want</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:26</div><div class="msg">There may be an issue with it. It theory you should be able to modify anything but I think it actually only allows headers.

There is definitely a known issue with body</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-19 22:26</div><div class="msg">I added this to ignore package.json
```transformIgnorePatterns: ['package.json'],```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-19 22:27</div><div class="msg">When i run the tests now , I get this error
```Test suite failed to run

    SyntaxError: Unexpected token ; in JSON at position 12
        at JSON.parse (&lt;anonymous&gt;)

      at Runtime._loadModule (node_modules/jest-runtime/build/index.js:568:59)
      at Object.&lt;anonymous&gt; (node_modules/psl/index.js:14:19)
      at Object.&lt;anonymous&gt; (node_modules/request/node_modules/tough-cookie/lib/pubsuffix-psl.js:32:11)```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:35</div><div class="msg">I can't you this way I'm afraid, there are just too many variables that I can't guess in advance</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:35</div><div class="msg">You're going to need to create a minimal project and go from there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:35</div><div class="msg">I've just found the comms I had with anither customer that had the issue. It was the transform picking up too many files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:36</div><div class="msg">So ignoring just package.json may not be enough</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-19 22:36</div><div class="msg">You should make sure it only transforms JS files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-20 02:29</div><div class="msg">I agree, this looks like a babel/jest configuration issue rather than a pact issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-20 02:30</div><div class="msg">Are you using a particular pact example as a base? Perhaps we have the wrong settings in it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/04ef0ebd15380249674ea560d7332b39.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">chitra.adikesavan</div><div class="time">2021-02-20 15:50</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e8b20ec53f2f3b21b008afecbbb3af70.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">andrzej.igielski</div><div class="time">2021-02-20 19:28</div><div class="msg">@andrzej.igielski has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-21 23:56</div><div class="msg">Hello folks!
A quick question on the roadmap. Is there an ETA for Pact V3 support on Pact JS?
I understand it is on beta on a feature flag now. is there any plan to get it on master?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-21 23:57</div><div class="msg">We?re talking about that at the moment. No specific ETA, I am afraid.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-21 23:57</div><div class="msg">Thanks for the update @tjones :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-22 00:00</div><div class="msg">We are *extremely* keen to get V3 support in to master. I?d ideally like to do it with as few breaking changes as possible.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">artur</div><div class="time">2021-02-22 03:57</div><div class="msg">@francis.lobo we are using the beta for <a href="https://github.com/owncloud/owncloud-sdk">https://github.com/owncloud/owncloud-sdk</a>
it mostly works pretty well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-22 04:39</div><div class="msg">That sounds good :slightly_smiling_face:
Waiting for it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-22 04:41</div><div class="msg">Following up on that, If I have some consumer tests coming from Pact JVM with PactV3 and some from Pact JS
and my Provider tests are in Pact JVM
Do you foresee any issues with such a setup?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-22 04:41</div><div class="msg">Thanks for the info @artur :+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-22 04:42</div><div class="msg">No, that should be fine :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-22 04:42</div><div class="msg">Sweet! thanks  @tjones</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-22 04:43</div><div class="msg">To confirm, you have:

V2 pacts from pact-js
V3 pacts from pact-jvm
V2+3 verification in pact-jvm ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-22 04:47</div><div class="msg">Yes that's where we are moving. right now we have everything in JVM, adding a JS consumer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18dd35b25b0334b9c833d649a0af6c71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">tausif2909</div><div class="time">2021-02-22 06:13</div><div class="msg">Hi, How to pass value for  `pathFromProviderSide`  in nodeJS code in provider verification code? Can anyone share the example?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9765b77319ad8b72e87f6c804c0dabb4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ankita.soni</div><div class="time">2021-02-22 07:26</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/13094197a04a72cac98ef3fadcde376b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">jacek.helper</div><div class="time">2021-02-22 08:03</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-22 08:12</div><div class="msg">alright, i can check today with one of the devs about the transform. Will keep you posted here if that solves it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-22 08:42</div><div class="msg">the problem was indeed with transform in `jest.config.js`
Changing transform to
```transform: {
    '^.+\\.gql$': '&lt;rootDir&gt;/transform-gql.js',
    '^.+\\.(js|jsx)$': 'babel-jest',
  },```
did the trick :slightly_smiling_face: :thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-22 09:01</div><div class="msg">Thanks for confirming!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efc05f6b7a56427112b132e6080e6cd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">seanw122</div><div class="time">2021-02-22 15:36</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-22/1803054849504_07348d038209967dbab5_72.png" /><div class="message"><div class="username">akennedy</div><div class="time">2021-02-22 15:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a4befecbc1fc65f5394d9cf635b2cad7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">esimpson</div><div class="time">2021-02-22 16:42</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-19/1795832347648_45f38ffa04e38eb53c0b_72.jpg" /><div class="message"><div class="username">neild</div><div class="time">2021-02-22 17:02</div><div class="msg">I see. Thank you for the response. I figured out a workaround</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-22/1785889694116_a7f5aae52e1a09617b6f_72.jpg" /><div class="message"><div class="username">dagrawal</div><div class="time">2021-02-22 17:24</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/21e606938d5a3837a39a6e149c6cd5aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">venkata.pro</div><div class="time">2021-02-22 21:47</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-22 22:55</div><div class="msg">What did you do?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-05/1734360926881_a707318c5b00b5796bc5_72.jpg" /><div class="message"><div class="username">ashish.joshi</div><div class="time">2021-02-23 00:32</div><div class="msg">Hey @matt.fellows
Able to resolve authorization issues, but still stuck with second half,
We tried to use `nock` but failed while testing locally, since my docker-run and test-run are different process and `nock` does not work on different process. Can you share me some JS example which you mentioned you have worked on before with this type of situation where before verifying the pact the provider service communicate with other service to get some data which is essential for response to consumer request(triggered from mock server).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 00:37</div><div class="msg">is your provider running in docker? If so, you?re going to need to find a way to stub out the downstream endpoints for docke</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 00:38</div><div class="msg">one option is to use tools like docker compose, that startup sidecar services for each backend service with stub APIs. I usually configured endpoitns through environment variables, so this means you can replace downstream systems without actually changing any provider code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-05/1734360926881_a707318c5b00b5796bc5_72.jpg" /><div class="message"><div class="username">ashish.joshi</div><div class="time">2021-02-23 00:47</div><div class="msg">Because i don't want to complicate things, since i have 5-6 other services which my provider will communicate before responding back to consumer's request and i have to run 5-6 docker images while running this test.
is there any other option, like will `pact-stub-server` work in this case?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 00:48</div><div class="msg">You could run the stub server, of course</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 00:50</div><div class="msg">You can?t stub the provider endpoints from the outside using your test code that doesn?t have access to it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 00:51</div><div class="msg">so you only have a few options:

1. Update your setup such that the provider doesn?t talk to real endpoints (e.g. stub server)
2. Update the provider code that runs in that docker container, stubbing out with code the endpoints</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-05/1734360926881_a707318c5b00b5796bc5_72.jpg" /><div class="message"><div class="username">ashish.joshi</div><div class="time">2021-02-23 00:54</div><div class="msg">Ok we'll try option 1 for now, do you have any real time example of using `stub-server` i tried to find it, but just got the documentations on commands to use it not a real time implementation.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 00:55</div><div class="msg">I?m not sure what you mean, sorry?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-05/1734360926881_a707318c5b00b5796bc5_72.jpg" /><div class="message"><div class="username">ashish.joshi</div><div class="time">2021-02-23 00:57</div><div class="msg">Sorry, my bad i didn't explain it properly.
Do you have any real life example of using`pact-stub-server` like how we have pact-js workshop examples?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 08:52</div><div class="msg">Hi, good morning. I?m getting this error here trying to implement pact and jest and I?m not sure what I could be doing wrong. `Cannot read property 'addInteraction' of undefined`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 08:53</div><div class="msg">```import { Pact } from '@pact-foundation/pact';
import path from 'path';
import { getOwners } from '../../apis/ids';

describe('Clients Service', () =&gt; {
  const provider = new Pact({
    consumer: 'FrontendWebsite',
    provider: 'ProductService',
    log: path.resolve(process.cwd(), 'logs', 'pact.log'),
    logLevel: 'warn',
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
  });

  const GET_EXPECTED_BODY = [
    {
      firstName: 'Lisa',
      lastName: 'Simpson',
      age: 8,
      id: 1,
    },
    {
      firstName: 'Wonder',
      lastName: 'Woman',
      age: 30,
      id: 2,
    },
    {
      firstName: 'Homer',
      lastName: 'Simpson',
      age: 39,
      id: 3,
    },
  ];

  afterEach(() =&gt; provider.verify());

  describe('GET Clients', () =&gt; {
    beforeEach(() =&gt; {
      const interaction = {
        state: 'i have a list of clients',
        uponReceiving: 'a request for all clients',
        withRequest: {
          method: 'GET',
          path: '/view/states',
          headers: {
            Accept: 'application/json, text/plain, */*',
          },
        },
        willRespondWith: {
          status: 200,
          headers: {
            'Content-Type': 'application/json; charset=utf-8',
          },
          body: GET_EXPECTED_BODY,
        },
      };
      return provider.addInteraction(interaction);
    });

    test('returns correct body, header and statusCode', async () =&gt; {
      const response = await getOwners();
      expect(response.headers['content-type']).toBe(
        'application/json; charset=utf-8',
      );
      expect(response.data).toEqual(GET_EXPECTED_BODY);
      expect(response.status).toEqual(200);
    });
  });

});```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 08:54</div><div class="msg">```export const getOwners = async () =&gt; {
  return Promise.resolve({
    json: () =&gt; Promise.resolve(mockOwners),
  });
};```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 08:54</div><div class="msg">Many thanks.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:11</div><div class="msg">@francislainy.campos we have a template for Jest Pact in the Lift codebase, you can use that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:12</div><div class="msg">Thanks Brendan, that one does not allow me to run the tests individually through the IntelliJ run button.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:13</div><div class="msg">For the benefit of the group, it looks like this:
```import { Matchers } from '@pact-foundation/pact';
import { pactWith } from 'jest-pact';

... (import your API code and set up any other data)

pactWith(
  {
    consumer: '&lt;your consumer&gt;',
    provider: '&lt;your provider&gt;',
    cors: true,
    pactfileWriteMode: 'merge',
  },
  provider =&gt; {
    describe('The query you are making', () =&gt; {
      beforeEach(() =&gt; {
        await provider.addInteraction(
          // You should pass an object describing the expected request and response per the Pact JS documentation
        );
      });
      it('returns the correct response', async () =&gt; {
        // call your API and get the response
        // provider.mockService.baseUrl contains the hostname and
        // port the mock provider is running on
        //
        // assert some things about the response
      });
    });
  },
);```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:14</div><div class="msg">I?d like to be able to do this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:15</div><div class="msg">I think the way jest-pact works may break the Jest plugin for Intellij</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:15</div><div class="msg">If you really want to use it you may have to use raw jest</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:15</div><div class="msg">ahh, you aren?t using jest-pact, gotcha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:16</div><div class="msg">I didn?t notice that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:18</div><div class="msg">Yes, I?m trying to make this piece work, which I found on a tutorial on the internet, as this one would allow me to run the tests individually this way.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:19</div><div class="msg">I think the issue is you created the provider inside the other describe block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:20</div><div class="msg">I tried variations of this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:20</div><div class="msg">```import { Pact } from '@pact-foundation/pact';
import path from 'path';
import { getOwners } from '../../apis/ids';

const provider = new Pact({
  consumer: 'FrontendWebsite',
  provider: 'ProductService',
  log: path.resolve(process.cwd(), 'logs', 'pact.log'),
  logLevel: 'warn',
  dir: path.resolve(process.cwd(), 'pacts'),
  spec: 2,
});

describe('Clients Service', () =&gt; {
  const GET_EXPECTED_BODY = [
    {
      firstName: 'Lisa',
      lastName: 'Simpson',
      age: 8,
      id: 1,
    },
    {
      firstName: 'Wonder',
      lastName: 'Woman',
      age: 30,
      id: 2,
    },
    {
      firstName: 'Homer',
      lastName: 'Simpson',
      age: 39,
      id: 3,
    },
  ];
  afterEach(() =&gt; provider.verify());
  describe('GET Clients', () =&gt; {
    beforeEach(() =&gt; {
      const interaction = {
        state: 'i have a list of clients',
        uponReceiving: 'a request for all clients',
        withRequest: {
          method: 'GET',
          path: '/',
          headers: {
            Accept: 'application/json, text/plain, */*',
          },
        },
        willRespondWith: {
          status: 200,
          headers: {
            'Content-Type': 'application/json; charset=utf-8',
          },
          body: GET_EXPECTED_BODY,
        },
      };
      return provider.addInteraction(interaction);
    });
    test('returns correct body, header and statusCode', async () =&gt; {
      const response = await getOwners();
      expect(response.headers['content-type']).toBe(
        'application/json; charset=utf-8',
      );
      expect(response.data).toEqual(GET_EXPECTED_BODY);
      expect(response.status).toEqual(200);
    });
  });
});```
</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:20</div><div class="msg">Personally I think the amount of extra code and possibility for mistakes with raw jest is not worth being able to run it through the UI, but lets see if we can make it work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:21</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:21</div><div class="msg">Let me see if I can dig something out. There?s also the issue that there are Promises involved here</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:22</div><div class="msg">you?ll notice in my example, addInteraction is await?ed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:22</div><div class="msg">I used the mock promise just to try to see if it would make any difference this way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:22</div><div class="msg">But we?ll be using calls of this type instead</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:22</div><div class="msg">```export const getStudents = async ({ schoolId }) =&gt; {
  const url = `${config.idsBaseUri}/ids/v1/schools/${schoolId}/students`;

  return fetch(url, {
    headers,
  });
};```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:24</div><div class="msg">Yeah, I tried to implement that but got lost on the syntax for this on my code since the interaction is being added and returned at the same time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:25</div><div class="msg"><a href="https://github.com/gprestes/tau-pact-nodejs-course/blob/master/__tests__/contract/consumer/ClientsConsumer.spec.js">https://github.com/gprestes/tau-pact-nodejs-course/blob/master/__tests__/contract/consumer/ClientsConsumer.spec.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 09:25</div><div class="msg">This is where I?m getting the sample from</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:29</div><div class="msg">okay, i remember now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 09:29</div><div class="msg">unfortunately that example is completely wrong</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 10:06</div><div class="msg">Changed it a bit and removed the mocking api to use the real server call and I think it?s a bit closer now but with a different error, probably something on the path for the request, which I?m trying to figure out what would be the correct one here.
```import * as Pact from '@pact-foundation/pact';

import path from 'path';
import { getStates } from '../../apis/ids';

describe('Growth Report', () =&gt; {
  const provider = new Pact.Pact({
    cors: true,
    log: path.resolve(process.cwd(), 'logs', 'pact.log'),
    loglevel: 'debug',
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    pactfileWriteMode: 'update',
    consumer: 'Ed UI',
    provider: 'Wormhole',
    host: 'localhost',
  });

  const GET_EXPECTED_BODY = [
    {
      firstName: 'Lisa',
      lastName: 'Simpson',
      age: 8,
      id: 1,
    },
  ];

  beforeAll((done) =&gt; {
    provider.setup().then(() =&gt; done());
  });

  afterAll((done) =&gt; {
    provider.finalize().then(() =&gt; done());
  });

  afterEach(() =&gt; provider.verify());

  beforeEach((done) =&gt; {
    const interaction = {
      state: 'i have a list of clients',
      uponReceiving: 'a request for all clients',
      withRequest: {
        method: 'GET',
        path: '/',
        headers: {
          Accept: 'application/json, text/plain, */*',
        },
      },
      willRespondWith: {
        status: 200,
        headers: {
          'Content-Type': 'application/json; charset=utf-8',
        },
        body: GET_EXPECTED_BODY,
      },
    };
    provider.addInteraction(interaction).then(() =&gt; done());
  });

  test('returns correct body, header and statusCode', async () =&gt; {
    const response = await getStates();
    expect(response.headers['content-type']).toBe(
      'application/json; charset=utf-8',
    );
    expect(response.data).toEqual(GET_EXPECTED_BODY);
    expect(response.status).toEqual(200);
  });
});```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:15</div><div class="msg">In that last error you show, it is complaining about a ?local issuer certificate?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:16</div><div class="msg">that would indicate you?re trying to talk to an https service somewhere - have you modified your provider to not talk https, and instead just talk to the mock service?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:16</div><div class="msg">That could explain both a) why the ?missing request? is there and b) why that error is shown (i.e. you?re code is trying to talk to another place, over https)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 10:16</div><div class="msg">:point_up:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 10:16</div><div class="msg">Hi Matt, I haven?t changed my provider no, it?s the same our application talks to but we don?t own the code for it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:17</div><div class="msg">not the provider, but the api client that talks to the provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:17</div><div class="msg">(or would to, in a non-pact context)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 10:17</div><div class="msg">```export const getStates = async () =&gt; {
  const url = `${config.idsBaseUri}/ids/v1/states`;

  return fetch(url, {
    headers,
  });
};```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:17</div><div class="msg">in your code, that is whatever `getStates()` is</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 10:17</div><div class="msg">@francislainy.campos the function getStates doesn?t send the request to the mock provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:18</div><div class="msg">right, so `config.idsBaseUri` needs to be configurable, and needs to be configured to talk to the mock provider from  Pact</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 10:18</div><div class="msg">it?s sending it to IDS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 10:18</div><div class="msg">(IDS is one of our providers)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:18</div><div class="msg">```  beforeAll((done) =&gt; {
    provider.setup().then((config) =&gt; /* config contains the details of the dynamic mock service, use this to configure the api client */);
  });```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:19</div><div class="msg">also, you don?t need done anymore</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 10:19</div><div class="msg">@matt.fellows yeah, can you advice on using done :smile: I found it was necessary last year</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:20</div><div class="msg">``` afterAll((done) =&gt; {
    provider.finalize().then(() =&gt; done());
 });

can be simply:

 afterAll(() =&gt; provider.finalize());```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 10:20</div><div class="msg">oh that?s good, makes it much simpler</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 10:20</div><div class="msg">tbh we switched most of our tests to jest-pact and don?t need to worry about any of that :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:20</div><div class="msg">done is the pre-promise way of saying ?this future thing has finished?. Lots of frameworks still have it for portability</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 10:20</div><div class="msg">yeah, people keep telling me it?s good :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:02</div><div class="msg">Thank you both. It?s working now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:02</div><div class="msg">```import * as Pact from '@pact-foundation/pact';

import path from 'path';
import { getStates } from '../../apis/ids';

describe('Growth Report', () =&gt; {
  const provider = new Pact.Pact({
    cors: true,
    log: path.resolve(process.cwd(), 'logs', 'pact.log'),
    loglevel: 'debug',
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    pactfileWriteMode: 'update',
    consumer: 'Ed UI',
    provider: 'Wormhole',
    host: 'localhost',
    port: 3000,
  });

  const GET_EXPECTED_BODY = [
    {
      firstName: 'Lisa',
      lastName: 'Simpson',
      age: 8,
      id: 1,
    },
  ];

  beforeAll((done) =&gt; {
    provider.setup().then((opts) =&gt; {
      process.env.API_PORT = opts.port;
      done();
    });
  });

  afterAll(() =&gt; provider.finalize());

  afterEach(() =&gt; provider.verify());

  beforeEach((done) =&gt; {
    const interaction = {
      state: 'i have a list of clients',
      uponReceiving: 'a request for all clients',
      withRequest: {
        method: 'GET',
        path: '/ids/v1/states',
        headers: {
          Accept: '*/*',
        },
      },
      willRespondWith: {
        status: 200,
        headers: {
          'Content-Type': 'application/json; charset=utf-8',
        },
        body: GET_EXPECTED_BODY,
      },
    };
    provider.addInteraction(interaction).then(() =&gt; done());
  });

  test('returns correct body, header and statusCode', async () =&gt; {
    const response = await getStates();
    expect(response.status).toEqual(200);
  });
});```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:02</div><div class="msg">```export const getStates = async () =&gt; {
  const url = `<a href="http://localhost:3000/ids/v1/states">http://localhost:3000/ids/v1/states</a>`;

  return fetch(url, {
    headers,
  });
};```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:03</div><div class="msg">I needed to keep `done` on the beforeAll and beforeEach pieces as without it I get that same interaction error as I was initially getting.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:30</div><div class="msg">```  beforeAll(() =&gt; {
    return provider.setup().then((opts) =&gt; {
      process.env.API_PORT = opts.port;
    });
  });```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:30</div><div class="msg">that should work just fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:31</div><div class="msg">Also, you?ve currently got a hard coded port in Pact anyway (`3000`) so you  don?t even need to do it this way. But I?d suggest keeping the dynamic configuration, and dropping the hard coded  `port` from your Pact config so Pact will always find an available port - this is helpful on CI, but also locally if you have other things running on that port</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:32</div><div class="msg">glad to hear it?s going!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:33</div><div class="msg">I don?t have a real life example, but what do you actually want to see in it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:34</div><div class="msg">it takes one or more Pact files and becomes a server. You can run it in docker also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:40</div><div class="msg">Thanks. Yes, the version of the beforeAll you provided with the return piece works removes the add interaction error. However, I think I may have spoken too soon because I?m now getting a timeout error on my request and the contract is not generating although I don?t remember changing anything else there. If I remove the hardcoded port for the provider piece I then get a 500 instead talking about missing requests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:41</div><div class="msg">```import * as Pact from '@pact-foundation/pact';
import path from 'path';
import { getStates } from '../../apis/ids';

describe('Growth Report', () =&gt; {
  const provider = new Pact.Pact({
    cors: true,
    log: path.resolve(process.cwd(), 'logs', 'pact.log'),
    loglevel: 'debug',
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    pactfileWriteMode: 'update',
    consumer: 'Ed UI',
    provider: 'Wormhole',
    host: 'localhost',
  });
  const GET_EXPECTED_BODY = [
    {
      firstName: 'Lisa',
      lastName: 'Simpson',
      age: 8,
      id: 1,
    },
  ];
  beforeAll((done) =&gt; {
    provider.setup().then((opts) =&gt; {
      process.env.API_PORT = opts.port;
      done();
    });
  });
  afterAll(() =&gt; provider.finalize());
  afterEach(() =&gt; provider.verify());
  beforeEach((done) =&gt; {
    const interaction = {
      state: 'i have a list of clients',
      uponReceiving: 'a request for all clients',
      withRequest: {
        method: 'GET',
        path: '/ids/v1/states',
        headers: {
          Accept: '*/*',
        },
      },
      willRespondWith: {
        status: 200,
        headers: {
          'Content-Type': 'application/json; charset=utf-8',
        },
        body: GET_EXPECTED_BODY,
      },
    };
    provider.addInteraction(interaction).then(() =&gt; done());
  });
  test('returns correct body, header and statusCode', async () =&gt; {
    const response = await getStates();
    expect(response.status).toEqual(200);
  });
});```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:41</div><div class="msg">```export const getStates = async () =&gt; {
  const url = `<a href="http://localhost:3000/ids/v1/states">http://localhost:3000/ids/v1/states</a>`;

  return fetch(url, {
    headers,
  });
};```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:42</div><div class="msg">you didn?t copy my code correctly!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:43</div><div class="msg">look carefully - because it?s the _most common_ mistake I see people make with javascript and promises</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:43</div><div class="msg">Owh sorry, no,  I pasted the wrong version here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:43</div><div class="msg">it?s the cause of the timeout, almost certainly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:43</div><div class="msg">```import * as Pact from '@pact-foundation/pact';
import path from 'path';
import { getStates } from '../../apis/ids';

describe('Growth Report', () =&gt; {
  const provider = new Pact.Pact({
    cors: true,
    log: path.resolve(process.cwd(), 'logs', 'pact.log'),
    loglevel: 'debug',
    dir: path.resolve(process.cwd(), 'pacts'),
    spec: 2,
    pactfileWriteMode: 'update',
    consumer: 'Ed UI',
    provider: 'Wormhole',
    host: 'localhost',
  });
  const GET_EXPECTED_BODY = [
    {
      firstName: 'Lisa',
      lastName: 'Simpson',
      age: 8,
      id: 1,
    },
  ];
  beforeAll(() =&gt; {
    return provider.setup().then((opts) =&gt; {
      process.env.API_PORT = opts.port;
    });
  });
  afterAll(() =&gt; provider.finalize());
  afterEach(() =&gt; provider.verify());
  beforeEach((done) =&gt; {
    const interaction = {
      state: 'i have a list of clients',
      uponReceiving: 'a request for all clients',
      withRequest: {
        method: 'GET',
        path: '/ids/v1/states',
        headers: {
          Accept: '*/*',
        },
      },
      willRespondWith: {
        status: 200,
        headers: {
          'Content-Type': 'application/json; charset=utf-8',
        },
        body: GET_EXPECTED_BODY,
      },
    };
    provider.addInteraction(interaction).then(() =&gt; done());
  });
  test('returns correct body, header and statusCode', async () =&gt; {
    const response = await getStates();
    expect(response.status).toEqual(200);
  });
});```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:43</div><div class="msg">This is what I have with the version copied from here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:43</div><div class="msg">ok! yes that looks better.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 11:44</div><div class="msg">what?s the timeout set to? It could legitimately be taking too long</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:44</div><div class="msg">It?s localhost though, so why it would take this long?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:47</div><div class="msg">But now the error that is coming up the most is the 500 one, with the missing requests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:48</div><div class="msg">@brendan.donegan : just catching up on the thread- you mentioned jest-pact breaks a jest IntelliJ plug-in - can you tell me more about this? Maybe we can fix it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:48</div><div class="msg">It?s happening regardless of whether I hardcode the port on the provider piece or not.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:48</div><div class="msg">Also @matt.fellows@matt.fellows@matt.fellows : I want to bring `pactWith` to mocha - maybe next week :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:49</div><div class="msg">Also coming this week- `messagePactWith`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:49</div><div class="msg">Hi Tim, I think perhaps what Brendan meant was that with the jest-plugin is not possible to use the run button from intellij to run the tests individually.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:50</div><div class="msg">That being the reason why I?m trying to refactor our tests and have them work using jest only so I can make use of this functionality.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 11:51</div><div class="msg">@tjones by the way I think you tried to follow up with me about jest-pact with v3, but i can?t find the message now?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:51</div><div class="msg">There?s a beta version to match</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:51</div><div class="msg">I?ll link you, hold on</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 11:51</div><div class="msg">yeah i tried it, and it works</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:52</div><div class="msg">Oh! Awesome, yes. Sorry, I didn?t realise that was you :joy:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:52</div><div class="msg">Any pain points?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:52</div><div class="msg">I?m thinking of making it 1.0.0 soon, with a firmer interface.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:53</div><div class="msg">(since technically anything under 1 can be a breaking change with no notice)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:54</div><div class="msg">Also, it sounds like you have a lot of specs - I?d be really interested in whether you have any thoughts on this: <a href="https://github.com/pact-foundation/pact-js/issues/602">https://github.com/pact-foundation/pact-js/issues/602</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:55</div><div class="msg">(even if those thoughts are ?I wouldn?t use it?)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 11:55</div><div class="msg">yeah, i meant to respond to that. it would be really good for us</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:55</div><div class="msg">Awesome!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 11:55</div><div class="msg">The url looks fine so I?m not sure what could be wrong @matt.fellows?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 11:55</div><div class="msg">it might become slightly less useful soon since we could potentially split our application into multiple consumers :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:55</div><div class="msg">When we have this, it?ll be easier to do a module that can be given to the `globalSetup` for jest</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 11:56</div><div class="msg">but that?s fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:56</div><div class="msg">which could clear out your pact directory</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:56</div><div class="msg">At the moment, with jest you have to use `update`, which means that removing interactions doesn?t remove them from your pact file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:57</div><div class="msg">unless you?re clearing it before each test run (but I suspect most people aren?t, because none of the examples do)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 11:57</div><div class="msg">Do you know what it is about jest-pact that causes this?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 11:59</div><div class="msg">i?m really looking forward to jest-pact being released with a stable contract though as i want to switch us over but i?m reluctant to do so if it means refactoring things more than once</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 11:59</div><div class="msg">(switch us over to v3)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:01</div><div class="msg">Have a look in the body. A 500 internal server error is how the mock server tells you that it didn?t receive the interaction you promised</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:01</div><div class="msg">The detailed information will be in the pact log</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 12:02</div><div class="msg">@francislainy.campos you?re not using the generated port in the request</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:03</div><div class="msg">Yeah. I think we?ll end up with a different API to the current V3 branch, because I?d like the upgrade pathway from v2 to be very straightforward. But I also don?t want to break things for the current users of the beta.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:03</div><div class="msg">I?ll be focussing on that a bit next week.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 12:03</div><div class="msg">i was going to say, it would be great if the upgrade path was a bit simpler</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 12:04</div><div class="msg">obviously it?s worth breaking the contract to make things better while you have the chance though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:04</div><div class="msg">Yeah. Some things will naturally change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:04</div><div class="msg">It?s also an opportunity to clean up some of the other breaking things that aren?t worth releasing on their own</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:05</div><div class="msg">We can do better typescript types for pact interactions, for example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 12:05</div><div class="msg">Sorry, not really. Just something that I noticed and the reason why I?m trying to move away from it to use the raw jest instead.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:05</div><div class="msg">there?s a lot of `any` in the api surface that could be narrower</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 12:05</div><div class="msg">```I, [2021-02-23T12:03:58.387834 #12739]  INFO -- : Registered expected interaction GET /ids/v1/states
D, [2021-02-23T12:03:58.387984 #12739] DEBUG -- : {
  "description": "a request for all clients",
  "providerState": "i have a list of clients",
  "request": {
    "method": "GET",
    "path": "/ids/v1/states",
    "headers": {
      "Accept": "*/*"
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json; charset=utf-8"
    },
    "body": [
      {
        "firstName": "Lisa",
        "lastName": "Simpson",
        "age": 8,
        "id": 1
      }
    ]
  },
  "metadata": null
}
W, [2021-02-23T12:03:58.445679 #12739]  WARN -- : Verifying - actual interactions do not match expected interactions. 
Missing requests:
   GET /ids/v1/states


W, [2021-02-23T12:03:58.445727 #12739]  WARN -- : Missing requests:
   GET /ids/v1/states


I, [2021-02-23T12:03:58.474092 #12739]  INFO -- : Cleared interactions```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 12:06</div><div class="msg">This is the whole log</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:06</div><div class="msg">but introducing types where previously there weren?t will be a breaking change for typescript users</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:06</div><div class="msg">Ok. What plugin are you using? I?ll try to reproduce this when I get a chance.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 12:07</div><div class="msg">Pretty cut and dry. Your code is not calling the endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 12:08</div><div class="msg">Yep, I was just in there before to make a small change</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 12:08</div><div class="msg">The core native module (currently Rust) doesn?t have types eminating from it, so we?ll need to find a way to add types to that too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 12:08</div><div class="msg">more types, is on the whole a good thing though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:09</div><div class="msg">For that, I think we can just do `.d.ts` files. I?ve done a couple of those recently for other reasons.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 12:09</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:09</div><div class="msg">(we?re now off the original topic, though)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 12:10</div><div class="msg">yes, I?ll exit the thread (I need to sleep I think)(</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 12:11</div><div class="msg">Note that if you?re using raw jest you?ll need to provide different log file names for each `Pact` instance, otherwise they will clobber each other.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-23 12:18</div><div class="msg">sorry, i know it?s late for you guys, but one quick question. if i have a provider that is using v3 for verification, will it be able to verify v2 contracts?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-23 12:19</div><div class="msg">yes. The verification process reads the contract, determines the spec, and tests that way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 12:30</div><div class="msg">I don?t use any plugin directly, just out of the box intellij ultimate run configuration for jest.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 12:33</div><div class="msg">Sorry @matt.fellows, for needing a bit of hand holding here but I?m not sure what to do next to have this amended.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 13:05</div><div class="msg">When I right click on any jest test or describe intellij shows me the option to run then, but not for the ones done using jest-pact.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18dd35b25b0334b9c833d649a0af6c71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">tausif2909</div><div class="time">2021-02-23 13:12</div><div class="msg">I have the call at consumer side `api/assets/{assetId}`  where `assetId` is dynamic will be passed from provider side, How do I pass `{assetId}` value from provider side in `nodeJS` project.? can someone share the example ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18dd35b25b0334b9c833d649a0af6c71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">tausif2909</div><div class="time">2021-02-23 13:16</div><div class="msg">``` @State("There is a request to get the asset metadata")
    public HashMap&lt;String, Object&gt; testAssetMetadata() {

        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put("assetId", mediaAssetId);
        return map;
    }```
I was able to achieve this using hashmap in provider state in `pact-jvm`  but not sure how to do the same in `pactJS`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 15:10</div><div class="msg">It?s working now, thanks. We were missing sending the url inside the getStates call</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 15:10</div><div class="msg">```test('returns correct body, header and statusCode', async () =&gt; {
  const response = await getStates(
    `<a href="http://localhost">http://localhost</a>:${process.env.API_PORT}/ids/v1/states`,
  );
  expect(response.status).toEqual(200);
});```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 15:11</div><div class="msg">```export const getStates = async (url) =&gt; {

  return fetch(url, {
    headers,
  });
};```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 15:12</div><div class="msg">Thanks for your guys help. :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 15:40</div><div class="msg">I?ve released `jest-pact` 0.8.3, which now includes `messagePactWith` and also adds `pactWith.only` / `pactWith.skip` (alongside the already existing `fpactWith` and `xpactWith`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 15:43</div><div class="msg">Also, npm says that jest-pact was downloaded 40,341 times in the last week - which is roughly four times a minute. That?s pretty cool.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 15:48</div><div class="msg">At the moment, pact-js doesn?t support provider side parameters. We?re working on the next version which will- you can try the beta by following the instructions here: <a href="https://github.com/pact-foundation/pact-js#pact-js-v3">https://github.com/pact-foundation/pact-js#pact-js-v3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 15:51</div><div class="msg">Ah. I wonder if that?s because `pactWith` doesn?t look like a `describe` to the plugin. What happens if you wrap the `pactWith` call in a describe?

```describe("pact",() =&gt; {
   pactWith(..... , (provider) =&gt;{....})
})```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 15:58</div><div class="msg">That?s a good idea and it may work with some more thought but I tried it here now quickly and I did get the run button but then a message No tests found once it tried to run the tests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 16:04</div><div class="msg">Hm. That?s very weird. I?ll have to see if I can reproduce it with the CE version (I don?t have Ultimate)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-07-08/1214350954631_10512349130e25d54660_72.png" /><div class="message"><div class="username">francislainy.campos</div><div class="time">2021-02-23 16:05</div><div class="msg">I?m not sure you can use CE for that, but maybe the trial version for ultimate or webstorm may do?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 16:08</div><div class="msg">Glad you got it working! It?s a good idea to only inject the baseURL into the test, otherwise you might not be testing the endpoint that you actually hit in production:

```export const getStates = async (baseUrl) =&gt; {

  return fetch(`${baseUrl}/ids/v1/states`, {
    headers,
  });
};```
then in your test:

```test('returns correct body, header and statusCode', async () =&gt; {
  const response = await getStates(
    `<a href="http://localhost">http://localhost</a>:${process.env.API_PORT}`,
  );
  expect(response.status).toEqual(200);
});```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-23 16:09</div><div class="msg">you can also do `provider.mockService.baseUrl`:

```test('returns correct body, header and statusCode', async () =&gt; {
  const response = await getStates(
      provider.mockService.baseUrl
  );
  expect(response.status).toEqual(200);
});```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-02-23 18:38</div><div class="msg">Hey guys, wondering if someone can expalin this error in a bit more detail <a href="https://github.com/pact-foundation/pact-node/blob/b0765b067b354df5e41e9c5f37f3fa69e8d84738/src/publisher.ts#L130">https://github.com/pact-foundation/pact-node/blob/b0765b067b354df5e41e9c5f37f3fa69e8d84738/src/publisher.ts#L130</a> ? - its happening now in my project when I go over a certain amount of interactions for pact contract</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cdf743e8f0dae5636c6191ca6ec345bb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">jordan.levin</div><div class="time">2021-02-23 19:14</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/00109ab7cb0491e4951f1ec6492965ba.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">patrick.hendron</div><div class="time">2021-02-23 19:18</div><div class="msg">nevermind, looks like my tests where taking longer than the default timeout for pact verfy (30 sounds),  added timeout to the options and configured my timeout, working now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a334ecce7f761ba0aa2f7c0b8c33b14.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">francesco.latorre</div><div class="time">2021-02-24 05:59</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1800428157969_5fd1f2047c9a27dc0943_72.png" /><div class="message"><div class="username">aniket.g2185</div><div class="time">2021-02-24 09:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1781538221110_54153b5cba93e3ab79d9_72.jpg" /><div class="message"><div class="username">sundaresank360</div><div class="time">2021-02-24 12:12</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/11fbd1ab03f57be1a369f4401c57550b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">uladzislau_danilchyk</div><div class="time">2021-02-24 13:01</div><div class="msg">Hello there!
I'm just trying to understand how to work with `pact-jest` package.
Could anyone help me with that?
It just needed to have true logs instead of using default behaviour in pact-js. I'm talking about the issue and recommendation in <a href="https://github.com/pact-foundation/pact-js/issues/605">https://github.com/pact-foundation/pact-js/issues/605</a>
In previous version of my pact test I had a separate file with pact config of consumer, provider, mock url, etc.
But using this `pact-jest` package I have to use `withPact` method to wrap my consumer tests and put into method object with config.
Is there any possibility to load config from separate file for `withPact` as it was done before through `--setupFiles./config/pact/setup.js`? I don't want to pass and duplicate config properties every time in every consumer test.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/985ea8f3105c8d38b26dbac478f5a65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">jhawthor</div><div class="time">2021-02-24 15:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1795877813988_4754f61346d0df4bcdb4_72.png" /><div class="message"><div class="username">chris.r.thomas</div><div class="time">2021-02-24 16:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1782976077878_a8a1e5d7e2b39585eb43_72.jpg" /><div class="message"><div class="username">peter.cook</div><div class="time">2021-02-24 17:05</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/985ea8f3105c8d38b26dbac478f5a65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">jhawthor</div><div class="time">2021-02-24 18:28</div><div class="msg">Greetings!
How does one specify the length of a string property in a consumer pact.  i.e. If my body has a property "name" how do I specify a max length for the value of name?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 18:34</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1784157804742_be499ebb8de3c96caf1a_72.png" /><div class="message"><div class="username">ben.kirberger</div><div class="time">2021-02-24 19:16</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-24 19:42</div><div class="msg">Hello there!
Is there a pact-jas equivalent for `eachKeyLike`  in pact-jvm?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 19:59</div><div class="msg">Hello Team, I have just started learning more about pact as we have React repo and Python Microservice which I would like to make contract test for. I have seen jest-pact and pact-foundation in imports in many examples. I would like to understand what is the difference between two?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-24 20:09</div><div class="msg">jest-pact is a wrapper library specifically for Jest, which you are probably using as your project is React based</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-24 20:09</div><div class="msg">pact-foundation is the more general library that underpins it and can be used in any Javascript based project</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 20:10</div><div class="msg">So do you recommend me using jest-pact?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-24 20:10</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 20:10</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 20:10</div><div class="msg">thats helps</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 20:11</div><div class="msg">If there are any jest-pact examples you can point me to that would be really great</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 20:11</div><div class="msg">I can create our first jest test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-24 20:12</div><div class="msg">The example on the README is good enough - <a href="https://github.com/pact-foundation/jest-pact">https://github.com/pact-foundation/jest-pact</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 20:12</div><div class="msg">ok great thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-24 20:42</div><div class="msg">@jayeshguru81 those examples are good. I got my Jest pact tests running last week based on them.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-24 20:43</div><div class="msg">Another good one is here : <a href="https://github.com/YOU54F/jest-pact-typescript/tree/master/src/pact">https://github.com/YOU54F/jest-pact-typescript/tree/master/src/pact</a>
THis is based on typescript</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 20:49</div><div class="msg">Thanks do you have a example repo which uses jest-pact as I tried with those examples but seems not working for me yet. It seems I am missing something</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 20:49</div><div class="msg">I have added `jest-pact` and `pact-foundation/pact` in my package.json</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-24 22:05</div><div class="msg">hey Jayesh, all I did was use the above example and change the request and response to the ones that suit my needs. sorry I dont have the working code on public repo</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-24 22:05</div><div class="msg">can you run the examples out of box?  they are standalone</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 22:23</div><div class="msg">I?ve just left a long comment on that issue - the short version of the specific question about common config is that the intended approach is to pull it out into a separate file. I?d like to add first class support for common config soon - see <a href="https://github.com/pact-foundation/pact-js/issues/602">https://github.com/pact-foundation/pact-js/issues/602</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 22:24</div><div class="msg">@jayeshguru81 What specific problems are you experiencing? If you share your code we can give you a hand solving them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 22:26</div><div class="msg">```import api from 'yourCode';```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 22:26</div><div class="msg">this one specially</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 22:27</div><div class="msg">That?s about importing your own code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 22:27</div><div class="msg">Your api layer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 22:31</div><div class="msg">yeah but was not sure what to import as I have `services.js` file which makes an Api call

```import axios from 'axios';

export const fetchInitialAssets = batchId =&gt; {
  const endpoint = `${UPLOAD_API_SERVICE_URL}/get_batch_by_id/${batchId}`;
  return axios
    .get(endpoint, {
      headers: {
        authorization: `Bearer ${token}`,
      },
    })
    .then(response =&gt; response.data);
};```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 22:31</div><div class="msg">So should I be importing `import fetchInitialAssets from ../services`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 22:32</div><div class="msg">Yes, and you will need a way to inject `UPLOAD_API_SERVICE_URL` into it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 22:35</div><div class="msg">ok thanks let me try this out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 22:41</div><div class="msg">To your original question: jest-pact is a convenience wrapper for writing pact tests with jest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 22:43</div><div class="msg">There?s no need to use it, but it provides some of the boilerplate and jest-specific setup for you, so it should be a nicer experience for new users</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-24 22:44</div><div class="msg">ok nice thanks Tim..I am newbie in Javascript/React/Jest world..so pardon me for my dumb questions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 22:45</div><div class="msg">Not dumb at all. And, asking these questions here is what the channel is for :+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-24 22:58</div><div class="msg">Regex / term matcher</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-24 22:58</div><div class="msg">But think hard it that's really important for the consumer to restrict</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/985ea8f3105c8d38b26dbac478f5a65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">jhawthor</div><div class="time">2021-02-24 23:02</div><div class="msg">I feel as though if the consumer is defining the contract, they should also define the property attributes such as max length, bool, yes/no, etc.  After all it's their data that is being processed based on the customer story. I hope that makes sense.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/985ea8f3105c8d38b26dbac478f5a65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">jhawthor</div><div class="time">2021-02-24 23:03</div><div class="msg">This is especially important is data is stored in a SQL DB.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 23:10</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/example-for-jayesh/examples/jest/__tests__/index.spec.js">https://github.com/pact-foundation/pact-js/blob/example-for-jayesh/examples/jest/__tests__/index.spec.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 23:10</div><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/example-for-jayesh/examples/jest/services.js">https://github.com/pact-foundation/pact-js/blob/example-for-jayesh/examples/jest/services.js</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 23:10</div><div class="msg">^ I?ve updated the example and slightly modified your code. Apologies for the changes to the export/import style</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-24 23:11</div><div class="msg">Hopefully this will help you get going</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-24 23:30</div><div class="msg">The second point is fair</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-24 23:31</div><div class="msg">see also <a href="https://docs.pact.io/consumer/">https://docs.pact.io/consumer/</a> and specifically the section on ?Only make assertions about things that will affect the consumer if they change?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-24 23:31</div><div class="msg">there?s no absolute right/wrong here, but I just want to ensure you?re aware of the tradeoffs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 00:09</div><div class="msg">In this case, I'd push that to the interaction state, like "given: name is too long", and then it's the provider's job to know what its limit is (because it's stored in the DB).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 00:09</div><div class="msg">If it's a UI-validated constraint, then it shouldn't even make it to the API client, and it's not part of the contract.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 00:11</div><div class="msg">But if the API client wants to say "no, this response from the provider is invalid because a field is too long", then that's a contract thing . . . I guess that might want to be specified by Pact, but I've never come across that kind of situation.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 00:14</div><div class="msg">Worst case, you do it just outside the Pact bit, with regular unit-test assertions, in the same test.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/985ea8f3105c8d38b26dbac478f5a65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">jhawthor</div><div class="time">2021-02-25 04:08</div><div class="msg">It just seems to me that if I am the consumer writing the pact for a REST provider, I would want to specify the the property attributes when using JSON in order to comply with the JSONschema.  In the JSONschema, you specify the properties as well as the property attributes.  Example can be found here: <a href="https://www.jsonschema.net/home">https://www.jsonschema.net/home</a>  Otherwise, a JSONschema would be need by the provider as well as a pact stating "I send this object" and "expect this object". So can a pact work with a JSONschema?  Or is it just limited to a basic description of an object and what is expected in return leaving the other details to be covered by additional non-pact contract specifications?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/985ea8f3105c8d38b26dbac478f5a65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">jhawthor</div><div class="time">2021-02-25 04:14</div><div class="msg">The default example does not show a maxLength or enum[] property attribute, but can be added by editing the JSONschema.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 04:30</div><div class="msg">JSON Schema is great, but not trying to solve the same problems. You can use them together, to get different kinds of feedback. JSON Schema is not consumer- or provider-driven, and can be used for validation on both ends, in both requests and responses.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 04:31</div><div class="msg">JSON Schema is similar to Swagger, in that it says what the general shapes of responses can be, but doesn't describe interactions (which include variations of state).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 04:37</div><div class="msg">If you want to specify the length of strings, you can use a regex (like `.{16}`  or something). I would be wary of doing that, unless it's actually a hard requirement of the consumer.

For example, the consumer might break if a field comes back with the wrong date format, or a malformed GUID, or something, so it makes sense to be in the contract.

But if it's a display name in the response, and the database has a max length, but the UI is flexible, then that test doesn't need to live in the contract. It should definitely be tested somewhere else, and if implemented in multiple places (e.g. form validation and also API and DB client), you need to work out how to keep them in sync.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 04:37</div><div class="msg">If it's a string length in the request that you want to constrain, I would make separate test cases for it. That's a whole separate category.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/985ea8f3105c8d38b26dbac478f5a65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">jhawthor</div><div class="time">2021-02-25 04:55</div><div class="msg">True, but the same would apply to other types as well. So it would seem that passing a JSONschema would prove to be more appropriate, especially for the provider, than passing a simple pact as it would be more representative of an actual contract. Testing the interaction/inoperability would not be very different from what a pact-broker does now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e738792d9a436d7f5005a8f437dcf88a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">abubics</div><div class="time">2021-02-25 05:00</div><div class="msg">One of your points is definitely on the money: Pact isn't trying to solve all testing problems, and some tools are better for different kinds of testing.

The other side I'm not really understanding. A schema can say, for example, that a field has to be present and a certain length, or that a bunch of fields are optional. A contract (via Pact) will describe which conditions require certain fields to be present. They're both useful, and not equivalent.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/55389b45fec38f1f278d78d1af418a12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">m.stephkan</div><div class="time">2021-02-25 05:30</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-25 05:34</div><div class="msg">bump :arrow_up:
Anyone here know if there is an equivalent in pact-js to the pact-jvm matcher `eachKeyLike` ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-25 05:37</div><div class="msg">We have a use case similar to the one mentioned in <a href="https://github.com/pact-foundation/pact-specification/issues/47">https://github.com/pact-foundation/pact-specification/issues/47</a>
we are using eachKeyLike when writing DSL from pact-jvm
Now are a bit stuck generating contracts from JS.
Any insight on how to use the JS matchers in this case will be really helpful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-02-25 05:38</div><div class="msg">There isn't in the core pact-js. I'm checking the  V3 beta version to see if it supports it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-02-25 05:42</div><div class="msg">No, I didn't add it because there are issues with the implementation in Pact-JVM. See <a href="https://github.com/pact-foundation/pact-specification/issues/47">https://github.com/pact-foundation/pact-specification/issues/47</a> for a replacement</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-02-25 05:43</div><div class="msg">Can you raise an issue for this? It needs to be tagged with V3.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 06:16</div><div class="msg">There is not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 06:17</div><div class="msg">Ah sorry, I saw the notification and responded. But it didn't show Ron's response</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 06:17</div><div class="msg">What Ron said :rolling_on_the_floor_laughing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 07:01</div><div class="msg">So on the JSON schema thing, DM me offline and we talk about a feature we've just added to Pactflow around OAS and pact interop</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 07:01</div><div class="msg">But also, what everything Andras said</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 07:01</div><div class="msg">Schema != Contract</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 07:02</div><div class="msg">In fact, I may find away to make this very prominent in the docs because it's coming up a lot recently</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 07:03</div><div class="msg">See also this thread <a href="https://pact-foundation.slack.com/archives/C5F4KFKR8/p1614107829034500?thread_ts=1614107829.034500&amp;cid=C5F4KFKR8">https://pact-foundation.slack.com/archives/C5F4KFKR8/p1614107829034500?thread_ts=1614107829.034500&amp;cid=C5F4KFKR8</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-25 08:11</div><div class="msg">Thanks for the response gents. Will raise an issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-25/1798945798756_053f0edd603ce0d67206_72.png" /><div class="message"><div class="username">stephen.tjasink</div><div class="time">2021-02-25 08:23</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-25 08:32</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-25 13:40</div><div class="msg">Thanks a lot Tim you are a hero..I will do this and try</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-25 14:26</div><div class="msg">I keep on getting this error while running my test -
```Missing `pino-pretty` module: `pino-pretty` must be installed separately```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-25 14:27</div><div class="msg">I tried to include `pino-pretty` module in my `package.json` 's resolution section too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-25 14:28</div><div class="msg">We are using prettier for formatting our files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-25 18:05</div><div class="msg">```Missing `pino-pretty` module: `pino-pretty` must be installed separately

      1 | 'use strict';
      2 | 
    &gt; 3 | import {pactWith} from 'jest-pact';
        | ^
      4 | import {Matchers} from '@pact-foundation/pact';
      5 | 
      6 | import {fetchInitialAssets} from '../../services';```
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2021-02-25 19:05</div><div class="msg">Put pino-pretty and pino in your devDeps in package json or dev section if you also use pino in your app code

Passing in your endpoint url is also the best way as shown above, as it makes it far easier to test :ok_hand:

Good luck on your journey lad!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-12-13/503492480901_cb6269497f880eb1fcaf_72.jpg" /><div class="message"><div class="username">yousafn</div><div class="time">2021-02-25 19:09</div><div class="msg">Ooooh! Maybe a v1 is near </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-25 19:45</div><div class="msg">Nope we don't use `pino` and `pino-pretty` at all, that's why not able to understand why I am getting that error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-25 19:45</div><div class="msg">is it because `jest-pact` need it ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-25/1781286686919_4e451ff135e761d48f2e_72.jpg" /><div class="message"><div class="username">beatrizwaclawek</div><div class="time">2021-02-25 20:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-25/1802426119604_202b8315e2f8c70c80fe_72.png" /><div class="message"><div class="username">zhoutianli1234</div><div class="time">2021-02-25 21:09</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-19/1795832347648_45f38ffa04e38eb53c0b_72.jpg" /><div class="message"><div class="username">neild</div><div class="time">2021-02-25 21:31</div><div class="msg">My issue was that I was receiving a dynamic variable through the query string that was used in a middleware. I ended up stubbing the middleware out to return a fixed response no matter what the query string variable was</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-26 00:04</div><div class="msg">@uglyog Added issue : <a href="https://github.com/pact-foundation/pact-js/issues/618">https://github.com/pact-foundation/pact-js/issues/618</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-26 00:05</div><div class="msg">Is there any alternate recommendation/workaround to do a dynamic key matching in Pact JS right now ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 00:08</div><div class="msg">i tried to create these again but it seems to give this error again </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-02-26 00:11</div><div class="msg">I don't think there is. @matt.fellows might be able to confirm. But i will try get this implemented as a priority to help you.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/256e6ff6681c469a7fc1bcd2ab9f24b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">francis.lobo</div><div class="time">2021-02-26 00:20</div><div class="msg">If it can be prioritized, that would be awesome :star-struck:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-26 03:11</div><div class="msg">The v3 branch of Pact JS also has a ?value from provider state? function, that let?s you map this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6309dc6faed92fd6925e78330591c7d7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">travis.day</div><div class="time">2021-02-26 04:06</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-02-26 09:41</div><div class="msg">Morning, I came across an article in docs about some recommended patterns on organising your interactions in separate files and some more tips on using pact-js. Cant find that now . If someone knows the link , can you please link here ? Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-02-26 11:05</div><div class="msg">not aware of docs for it, but does <a href="https://pact-foundation.slack.com/archives/C9VBGLUM9/p1612260360097700">https://pact-foundation.slack.com/archives/C9VBGLUM9/p1612260360097700</a> help?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-26/1795533842549_0ef97bfe9c9a8a688b56_72.jpg" /><div class="message"><div class="username">andrew.cunningham</div><div class="time">2021-02-26 11:13</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 11:46</div><div class="msg">Has anyone faced below issue with jest-pact?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-26/1795533842549_0ef97bfe9c9a8a688b56_72.jpg" /><div class="message"><div class="username">andrew.cunningham</div><div class="time">2021-02-26 11:54</div><div class="msg">@andrew.cunningham has left the channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-26 15:58</div><div class="msg">Jest pact doesn?t use either of those modules. If you?re able to upload a reproducible example somewhere, we can take a look.

Does this keep happening if you delete package-lock and node_modules?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 16:00</div><div class="msg">Just now one developer suggested me to downgrade my node version to `v11` as I was using `v15` which is much recent version and it solved `missing pino-pretty` issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 16:01</div><div class="msg">I did that and deleted node_modules and reinstalled `npm install` so it passed that issue now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 16:01</div><div class="msg">now I can concentrate on real issues with my tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 16:03</div><div class="msg">Just wanted to check if I need to do some configuration for contract tests ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 16:04</div><div class="msg">like setting up the loalhost pact broker somewhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 18:19</div><div class="msg">I take my words back, pino-pretty error is still happening even after downgrading node version to `11.0.0`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 18:21</div><div class="msg">Also ripped open yarn.lock file and found `@pact-foundation/pact` has a dependency on `pino-pretty` which is where it is coming from</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-02-26 18:25</div><div class="msg">indeed it does</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 18:35</div><div class="msg">I see `pino-pretty` got installed in the `node_modules`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-26 18:35</div><div class="msg">but it is missing in `@types` , could that be the reason it is not able to find?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0611166cac5388d4384bb6d31d22adae.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">brianmasschaele</div><div class="time">2021-02-27 13:27</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-27 17:11</div><div class="msg">Its weird issue which comes after running `yarn` for installing dependencies for some node version, when I tried same thing with `npm install` it worked fine. I dont see any difference while installing deps with both commands but should be something odd</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">pedroefajardo_pactio</div><div class="time">2021-02-27 17:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:38</div><div class="msg">I don?t know, sorry. Sounds like a yarn issue, maybe?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:39</div><div class="msg">Yes seems to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:40</div><div class="msg">To your questions-  the pino-pretty types aren?t part of the exported interface of pact-js (unless you?re importing the logger from within the internals), so the `@types` isn?t a dependency</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:41</div><div class="msg">You only need `@types/xxx` if you?re using Typescript and doing development using whatever `xxx` is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:41</div><div class="msg">Oh OK thanks for clarifying</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:42</div><div class="msg">&gt; Just wanted to check if I need to do some configuration for contract tests ?
It depends what you mean. Usually you wouldn?t run the broker locally at all. If you want to spin one up to see how it all fits together it is possible</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:44</div><div class="msg">I meant mocking provider locally for doing development </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:44</div><div class="msg">which I guess we are already doing by mockService.baseUrl</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:44</div><div class="msg">No, you don?t need to mock the provider during development, pact does this for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:45</div><div class="msg"><a href="https://docs.pact.io/getting_started/how_pact_works">https://docs.pact.io/getting_started/how_pact_works</a> &lt;-- you may find this useful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:45</div><div class="msg">sure will give this a read</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:45</div><div class="msg">The config that you need for writing contract tests is in the example I sent - if you can install that example, you have everything you need</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:46</div><div class="msg">I got missing requests and unexpected requests errors while running my contract tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:46</div><div class="msg">if you want to share your contract with a provider, then you?ll want a broker (it is possible to do this without, but it is much much easier with)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:46</div><div class="msg">thats why I thought I am missing some configuration </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:46</div><div class="msg">Ok. This is usually because the expectations are not matching the actual sent</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:47</div><div class="msg">you can check the pact log file (linked in the test fail) to see the details</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:47</div><div class="msg">often it?s headers that you?re expecting that aren?t being sent or vice versa</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:48</div><div class="msg">yeah on that point I think bearer token is generated and I am not sending correct token </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:48</div><div class="msg">could that be the reason </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:48</div><div class="msg">so, if your request sent is subtly different (say you expect `X` but you sent `x`), then the error will say that it is missing `X` and it got the unexpected request `x`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:48</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:49</div><div class="msg">so do I need to send real bearer token in my requests?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:49</div><div class="msg">In the example I sent you, I had a specific bearer token generated for tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:50</div><div class="msg">There are a few different approaches for testing bearer tokens</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:50</div><div class="msg">which one makes sense for you will depend on your use cases and ecosystem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:51</div><div class="msg">I prefer the ?assume that `"TOKEN"`is a valid token? approach</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:51</div><div class="msg">then in your provider verification, you can stub your auth layer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:51</div><div class="msg">But depending on how your system works, this may not be appropriate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 22:53</div><div class="msg">If you?re still having trouble, post your code and we can take a look</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:54</div><div class="msg">yeah thats what I was wondering how could I mock the bearer token but will check if we have some examples here. As you said it varies per system, so it might be a challenge here to mock auth token</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:55</div><div class="msg">Also I do not know why Unexpected requests says `OPTIONS` when I am sending `GET` calls</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 22:55</div><div class="msg">```console.error
    Actual interactions do not match expected interactions for mock MockService.
    
    Missing requests:
        GET /get_batch_by_id/test_batch_id
    
    Unexpected requests:
        OPTIONS /get_batch_by_id/test_batch_id```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 23:03</div><div class="msg">Right, so this is because your http library is sending cors preflight checks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 23:03</div><div class="msg">add `cors: true` to your pact options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 23:03</div><div class="msg">this will tell the mock provider to expect cors preflight requests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 23:12</div><div class="msg">oh ok, cool thanks got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 23:12</div><div class="msg">I will keep you posted if it works, thanks a lot again for your big help on getting me started here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-02-28 23:21</div><div class="msg">You?re welcome! Once you?ve got it all working together, it should be much easier the second time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-02-28 23:26</div><div class="msg">yes agree :+1::skin-tone-2:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-01 00:30</div><div class="msg">FYI: We?re going to rename `pact-node` to `pact-core` to better reflect the purpose of the package. No action will be required from users (especially if you?re using `@pact-foundation/pact`).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/53ab47559ec375e050c6907ba768ae6c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">dominic_herrmann</div><div class="time">2021-03-01 06:54</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/53ab47559ec375e050c6907ba768ae6c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">dominic_herrmann</div><div class="time">2021-03-01 07:03</div><div class="msg">Hey Folks J,

we are building up a new web application using Angular 11. In our code we have got input fields getting submitted to a spring boot rest service. The service call in Angular/Typescript looks like that:

*consturl=`${environment.baseURLService}/${this.path}`;*
**
*returnthis.http.get&lt;OurResponse&gt;(url,{*
*params:search.getParamsArray()*
*})*
*.pipe(catchError(error=&gt;this.handleError(error)));*

Search.getParamsArray() delivers a Map with our search paramters from the input fields.

Beside that we are using Jasmine and PactWeb in order to generatet he Pact File, the contract between our frontend and rest service.

Here is an Example snippet out oft he Pact File:
*"description":"Personwith name Peter NotFound is found",*
*"providerState":"Person with name Peter NotFound exists",*
*"request":{*
*"method":"GET",*
*"path":"/pc/v1/service",*
*"query":"name=Peter+NotFound"*
*},*
*"response":{*
*"status":200,*
*"headers":{*
*"Content-Type":"application/json",*
*"Access-Control-Allow-Origin":"*"*
*},*
*"body":{*
*"person":[*
*{*
*"name":"Peter NotFound",*
*"birthdate":"04.07.1978"*
*}*
*]*
*}*
*}*
*}*

Our real service and our angular client are working well together. But if we start up MockServer WebRick 1.3.1 with our generated PACT File via
pact-stub-service--cors--port1234./pacts/gui-rest-service.json

For our search with name ?Peter NotFound? we get the following error:
*No interaction found for GET /pc/v1/service?name=Peter%20NotFound*
**
*The Problem is that our WebRick Mock Server can handle only request with + instead of %20. How can we get rid of that Problem?*
*We are using <mailto:pact-node@10.9.4|pact-node@10.9.4>, <mailto:npm@6.14.11|npm@6.14.11>, <mailto:node@v12.18.2|node@v12.18.2>*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-01 07:22</div><div class="msg">`%20` is space, but your expectation is looking for a plus. I think using plusses for spaces is only valid when the encoding is `application/x-www-form-urlencoded`, which I _think_ might not be valid for a get</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-03-01 07:52</div><div class="msg">Plus is valid for older browsers, because HTML 2 spec says to encode query parameters using form url encoded scheme. Later specs and RFCs only mention the percent encoding scheme.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /><div class="message"><div class="username">uglyog</div><div class="time">2021-03-01 07:56</div><div class="msg">See <a href="https://tools.ietf.org/html/rfc1866#section-8.2.2">https://tools.ietf.org/html/rfc1866#section-8.2.2</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/53ab47559ec375e050c6907ba768ae6c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">dominic_herrmann</div><div class="time">2021-03-01 07:57</div><div class="msg">Because PactWeb and Jasmine generate + for space in generated PACT File. Our question is why does this differ to Angular/Typescript behaviour generating %20. Can we get them synchronous?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-02 04:18</div><div class="msg">What does your test code look like?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5cf52852be6d02331743d8b84931c03.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ranjanayush03</div><div class="time">2021-03-02 10:31</div><div class="msg">Hi I have a query , as in java we have matchPath option to validate a regex so similarly in javascript what is the option for the same.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/53ab47559ec375e050c6907ba768ae6c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">dominic_herrmann</div><div class="time">2021-03-02 12:02</div><div class="msg">*describe('Service', () =&gt; {*
    *let provider: PactWeb;*
	
	*const expectedPerson: Person = {*
		*name: 'Peter NotFound',*
		*birthdate: '04.07.1978'*
	*}*

    *beforeAll(function (done) {*
        *provider = new PactWeb({*
            *port: 1234,*
            *host: 'localhost',*
            *spec: 3*
        *});*

        *// required for slower CI environments*
        *setTimeout(done, 2000);*
        *// Required if run with `singleRun: false`*
        *provider.removeInteractions();*
    *});*

    *afterAll(function (done) {*
        *provider.finalize()*
            *.then(function () {*
                *done();*
            *}, function (err) {*
                *done.fail(err);*
            *});*
    *});*

    *beforeEach(() =&gt; {*
        *TestBed.configureTestingModule({*
            *imports: [*
                *HttpClientModule*
            *],*
            *providers: [*
                *Service*
            *],*
        *});*
    *});*

    *afterEach((done) =&gt; {*
        *provider.verify().then(done, e =&gt; done.fail(e));*
        *TestBed.resetTestingModule();*
    *});*

    *describe("Test", () =&gt; {*


        *const expectedResponse: PersonResponse = {*
            *person: [expectedPerson]*
        *}*

        *beforeAll((done) =&gt; {*
            *provider.addInteraction({*
                *state: `Person with name Peter NotFound exists`,*
                *uponReceiving: `Person with name Peter NotFound is found`,*
                *withRequest: {*
                    *method: 'GET',*
                    *path: '/pc/v1/service',*
                    *query: { name: `Peter NotFound` }*
                *},*
                *willRespondWith: {*
                    *status: 200,*
                    *body: {*
                        *person: [expectedPerson]*
                    *},*
                    *headers: {*
                        *'Content-Type': 'application/json',*
                        *'Access-Control-Allow-Origin': '*'*
                    *}*
                *}*
            *}).then(done, error =&gt; done.fail(error));*
        *});*
        *it(`Person with name Peter NotFound is delivered`, (done) =&gt; {*
            *const service: Service = TestBed.get(Service);*
            *service.getPerson(personSearch).subscribe(response =&gt; {*
                *expect(response).toEqual(expectedResponse);*
                *done();*
            *}, error =&gt; {*
                *done.fail(error);*
            *})*
        *})*
    *});*</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/afc429b986fd2a6ede9199dbb33412ce.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">matthew.long</div><div class="time">2021-03-02 14:08</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6597310b2e30cb6520ccc8bce9dd631f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">tmoncm</div><div class="time">2021-03-02 17:17</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9f751c67ca2476318a019c60817837de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">dcorrales</div><div class="time">2021-03-02 19:48</div><div class="msg">hey folks, apologies if this has already been asked - is there a way to specify that a json attribute can be either a string or null?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-03-02 20:28</div><div class="msg">this is a very common question. short answer is ?if it can be a string or *null* and the provider returns null, how do you know that?s not a bug??</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1bc78b46e2d01c7311d205a35c4d5e18.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">brendan.donegan</div><div class="time">2021-03-02 20:29</div><div class="msg">the long answer is <a href="https://docs.pact.io/faq/#why-is-there-no-support-for-specifying-optional-attributes">https://docs.pact.io/faq/#why-is-there-no-support-for-specifying-optional-attributes</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9f751c67ca2476318a019c60817837de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">dcorrales</div><div class="time">2021-03-02 20:34</div><div class="msg">hey @brendan.donegan thanks for the info. I was leaning towards a second example with our possibly null fields, but wanted to double check just in case :sweat_smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9f751c67ca2476318a019c60817837de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">dcorrales</div><div class="time">2021-03-02 20:34</div><div class="msg">appreciate the help :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-02 21:19</div><div class="msg">You just use the regex matcher on the path property itself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-02 21:20</div><div class="msg">There is at least one example in the repo somewhere</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2c6d5b2483955e683f4e982edaee95eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">phoenixcampos01</div><div class="time">2021-03-02 21:25</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2c6d5b2483955e683f4e982edaee95eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">phoenixcampos01</div><div class="time">2021-03-02 21:58</div><div class="msg">Hey guys, I'm not sure if this is the right place for this question, but this is the language I'm using. I'm trying to just test an async message provider locally by specifying a path to a fake consumer pact json. However, I'm not sure whether this is the intention of  that feature given that there seems to be no documentation for the structure of that json. Is the intention to download the json from the broker and then run the verification against that, so really only the broker knows the structure of the json? Or is there an easy way to generate the json?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-02 22:26</div><div class="msg">Do you have a message consumer for it? You should be first writing a consumer test and then using the contract it generates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-02 22:26</div><div class="msg">It's the same as HTTP pact in that regard</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-02 22:26</div><div class="msg">Also the pact specification governs the structure of that file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-02 22:27</div><div class="msg"><a href="https://github.com/pact-foundation/pact-specification/tree/version-3">https://github.com/pact-foundation/pact-specification/tree/version-3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-02 23:00</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-02 23:04</div><div class="msg">Hey!
I'm just starting with pact and facing some issues.
I wrote a simple app and trying to cover it with contract test.
At the moment I'm getting this error while trying to run test
```Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves```
The test and function under test is in the thread.
I'd really appreciate if you could guide me through what I'm doing wrong here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-02 23:05</div><div class="msg">Here is the function that makes a call to the back end</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-02 23:07</div><div class="msg">Here is the test</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-02 23:12</div><div class="msg">Here is the function that makes a call to the back end</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-02 23:16</div><div class="msg">Here is what I'm getting upon running the tests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-02 23:55</div><div class="msg">Have you tried increasing the timeout?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-02 23:56</div><div class="msg">What does the log file say?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:31</div><div class="msg">We have been using jest pact successfully in all our pipelines for a few months now, but this dependency issue just popped up in development now:
```18:13:56  Error: Cannot find module 'jest-jasmine2'
18:13:56      at Function.Module._resolveFilename (internal/modules/cjs/loader.js:580:15)
18:13:56      at Function.resolve (internal/modules/cjs/helpers.js:30:19)
18:13:56      at normalize (/pub/jenkins/workspace/zoro.com/development/node_modules/jest-config/build/normalize.js:693:34)
18:13:56      at readConfig (/pub/jenkins/workspace/zoro.com/development/node_modules/jest-config/build/index.js:220:68)
18:13:56      at process._tickCallback (internal/process/next_tick.js:68:7)
18:13:56      at Function.Module.runMain (internal/modules/cjs/loader.js:744:11)
18:13:56      at startup (internal/bootstrap/node.js:285:19)
18:13:56      at bootstrapNodeJSCore (internal/bootstrap/node.js:739:3)```
This happens immediately after our jest command to run pact:
```18:13:55  &gt; jest web/static/scripts/ --runInBand --config jest.pact.js```
This error happened in our common development pipeline, otherwise the feature branch would not have been allowed to even merge into it in the first place. Does a dependency update need to happen? Or is it something else?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-03 00:32</div><div class="msg">Hmm. I can?t think of a reason that jest-pact is responsible for this, but that doesn?t mean it isn?t</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-03 00:32</div><div class="msg">what version of jest do you have?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:33</div><div class="msg">25.5.4</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-03 00:34</div><div class="msg">I think this might be a config issue - is there something in your jest config that shouldn?t be?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-03 00:36</div><div class="msg">or, is it a corrupt node_modules / package-lock? jest-jasmine2 is a dependency in that version of jest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-03 00:37</div><div class="msg">jest-pact doesn?t have many dependencies, and only uses the public api from jest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:39</div><div class="msg">Contents of `jest.pact.js`:
```const merge = require('lodash/merge');
const commonJest = require('./jest.common');

module.exports = merge({}, commonJest, {
  testEnvironment: 'node',
  testRegex: '/*(.pact.ts)',
});```
which is merging with `jest.common.js`, here:
```const babelConfig = require('./babel.jest');

module.exports = {
  verbose: true,
  testEnvironment: 'jsdom',
  resolver: 'jest-directory-named-resolver',
  moduleFileExtensions: [
    'js',
    'vue',
    'json',
    'ts',
    'ts.vue',
  ],
  globals: {
    'vue-jest': {
      babelConfig,
      tsConfig: './tsconfig.json',
    },
    'ts-jest': {
      babelConfig,
      isolatedModules: true,
      tsConfig: './tsconfig.json',
    },
  },
  clearMocks: true,
  transformIgnorePatterns: [
    'node_modules/(?!(zoro-component-library|vuetify/lib)/)',
  ],
  transform: {
    '^.+\\.js$': './gulp/jestTransformer.js',
    '.*\\.vue$': 'vue-jest',
    '.*\\.ts$': 'ts-jest',
  },
  moduleNameMapper: {
    '^beforeunload-request$': '&lt;rootDir&gt;/node_modules/beforeunload-request/dist/beforeunload-request.min.js',
    'cache-helper-RUN_ENV': '&lt;rootDir&gt;/web/static/scripts/base/util/cache-helper-server.ts',
    'performance-RUN_ENV': '&lt;rootDir&gt;/web/static/scripts/services/performance/performance-test-stub.ts',
    '^scripts/(.*)$': '&lt;rootDir&gt;/web/static/scripts/$1',
    '^~scripts/(.*)$': '&lt;rootDir&gt;/web/static/scripts/$1',
    '^zoro$': '&lt;rootDir&gt;/web/static/scripts/base/global/zoro.js',
    '^_gb$': '&lt;rootDir&gt;/web/static/scripts/base/global/_gb.js',
    '^_gbGlobal$': '&lt;rootDir&gt;/web/static/scripts/base/global/_gbGlobal.js',
    '^bridgeData$': '&lt;rootDir&gt;/web/static/scripts/base/global/bridgeData.js',
    '^console$': '&lt;rootDir&gt;/web/static/scripts/base/global/console.js',
    '^pageData$': '&lt;rootDir&gt;/web/static/scripts/base/global/pageData.js',
    '^fancybox$': '&lt;rootDir&gt;/node_modules/fancybox/dist/js/jquery.fancybox.js',
    '^bootstrap/(.*)$': 'bootstrap-sass/assets/javascripts/bootstrap/$1',
    '^package.json$': '&lt;rootDir&gt;/package.json',
    '^~zcl/(.*)$': '&lt;rootDir&gt;/node_modules/zoro-component-library/lib/$1',
    '^vuetify/(.*)$': '&lt;rootDir&gt;/node_modules/vuetify/$1',
    '^~vue/(.*)$': '&lt;rootDir&gt;/web/static/vue/$1',
    '^~store/(.*)$': '&lt;rootDir&gt;/web/static/vue/store/$1',
    '^~sass/(.*)$': '&lt;rootDir&gt;/web/static/styles/sass/$1',
    '^~tests/(.*)$': '&lt;rootDir&gt;/web/static/scripts/unit-tests/$1',
    '^~erp/(.*)$': '&lt;rootDir&gt;/web/erp/lib/$1',
    'zoro-RUN_ENV': '&lt;rootDir&gt;/web/static/scripts/base/global/zoro-server.js',
    '^.+\\.(c|le|sc|sa)ss$': 'identity-obj-proxy',
  },
};```
`babel.jest.js`:
```const babelConfig = require('./babel.common');

module.exports = babelConfig(
  { targets: { node: 'current' } },
  {
    babelrc: false,
    plugins: [
      ['babel-plugin-transform-imports', {
        lodash: {
          // eslint-disable-next-line no-template-curly-in-string
          transform: 'lodash/${member}',
        },
      }],
      '@babel/plugin-transform-modules-commonjs',
      ['dynamic-import-node', { noInterop: true }],
    ],
  },
);```
`babel.common.js`:
```const mergeWith = require('lodash/mergeWith');

function mergeCustomizer(objValue, srcValue) {
  if (Array.isArray(objValue) &amp;&amp; Array.isArray(srcValue)) {
    return objValue.concat(srcValue);
  }
  return undefined;
}

module.exports = (
  { targets } = {},
  additionalSettings = {},
) =&gt; mergeWith(
  {},
  {
    presets: [
      ['@babel/preset-env', {
        useBuiltIns: 'entry',
        modules: false,
        corejs: 3,
        ...(targets ? { targets } : {}),
      }],
    ],
    plugins: [
      '@babel/plugin-syntax-dynamic-import',
      '@babel/plugin-transform-runtime',
      '@babel/plugin-proposal-class-properties',
    ],
  },
  additionalSettings,
  mergeCustomizer,
);```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:41</div><div class="msg">This is the ?state of javascript in 2021? medium post right there :point_up:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:41</div><div class="msg">lmaoooo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-03 00:42</div><div class="msg">I?m wondering if it?s related to one of the module name mappers, but I can?t see anything obvious</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-03 00:42</div><div class="msg">I don?t think it?s anything pact-related, though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:44</div><div class="msg">has something recently changed? I?d be looking to bisect the issue, but with that config :scream:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:44</div><div class="msg">it looks like jest-jasmine2 is a dependency of jest, so it?s no surprise that?s coming in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:45</div><div class="msg">so if you ran `npm list jest-jasmine2` does it find the module?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:45</div><div class="msg">Right, the big tip off for me was that this error happened in our development pipeline. If one of our developers made this change, their feature branch wouldn?t have allowed this to happen.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:45</div><div class="msg">so that could mean pinning versions migth help?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:46</div><div class="msg">Jest is pinned though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-03 00:46</div><div class="msg">If you haven?t already, it might be useful to try removing things from the config to see what the cause is. If it does seem to be pact, it would be useful to get a minimal reproducible example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:46</div><div class="msg">here?s the output of `npm list jest-jasmine2`
```$ npm list jest-jasmine2
@1.0.1 /Users/xjxw304/Documents/BitBucket/environment/microservices/zoro
??? jest@25.5.4
  ??? @jest/core@25.5.4
    ??? jest-config@25.5.4
    ? ??? jest-jasmine2@25.5.4 
    ??? jest-runner@25.5.4
      ??? jest-jasmine2@25.5.4  ```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:46</div><div class="msg">so it seems to know it?s there, on my local machine at least</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:47</div><div class="msg">yeah cool. If it?s breaking only on CI, can you reproduce by clearing node modules and re-install?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:47</div><div class="msg">trying now, I?ll get back to you in 40 minutes?.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:47</div><div class="msg">?yeah this should be a medium post lol</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:48</div><div class="msg">I mean, I won?t read it, but it will probably go viral</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:48</div><div class="msg">?javascript = bad? is always good clickbait</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:49</div><div class="msg">It?s about timing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:50</div><div class="msg">It actually feels like it?s been a while since one has appeared (but also, i?ve unsubscribed from Medium because their recommendation system just kept giving me more rubbish, and the bottom was essentially reality TV in email form, and I wasn?t willing to fall that far).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:50</div><div class="msg">so, you know, maybe timing is right (get that paywall up!)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:50</div><div class="msg">right, reddit or hackernews is a better aggregate for actual good medium posts.

Either that, or the top result from google that helps me with whatever error I?m debugging</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 00:55</div><div class="msg">indeed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 00:56</div><div class="msg">npm install might be stuck, I?ll come back later with results it?s already 8pm here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-03 08:29</div><div class="msg">Here is what log file says</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-03 08:29</div><div class="msg">And yes, I tried to increase a timeout with no luck unfortunately :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 08:34</div><div class="msg">Wrong log sorry, pact should produce a log</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-03 08:38</div><div class="msg">Sorry for dumb questions, but where do I find this file?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-03 08:41</div><div class="msg">`mockserver-integration.log` is empty :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-03 08:44</div><div class="msg">Change the log level to `DEBUG`, may be this will help.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-03 08:44</div><div class="msg">After last line it just hangs and nothing happens until I abort manually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-03 08:46</div><div class="msg">Hmm timeout still seems likely. But please share the pact log file. It's in the `logs` dir according to your setup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-03 13:05</div><div class="msg">It was an timeout thing after all.
Increased it more it started to work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /><div class="message"><div class="username">andrewshtamburg</div><div class="time">2021-03-03 13:05</div><div class="msg">Thanks a lot for your help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-03-02/979913643094_2fac7eb20cac56120164_72.jpg" /><div class="message"><div class="username">joel.whalen</div><div class="time">2021-03-03 15:14</div><div class="msg">after a clean install, the tests run fine on my machine. Also there have been 3 subsequent runs of development where it passes just fine. What a strange, one-off issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-03-03/1824025383444_1ea5794221ff2e546a04_72.jpg" /><div class="message"><div class="username">hugh.paul.mcgowan</div><div class="time">2021-03-03 17:52</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2ecbe2ac7eb2600d9e3feb284f7a54a4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">normanrs</div><div class="time">2021-03-04 11:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-04 12:43</div><div class="msg">hello team,
I am getting this error when running pact tests with jest on CI . Looks like the pact startup is not completed . Has anyone faced a similar issue
```[2021-03-04 12:40:57.917 +0000] ERROR (307 on runner-2bymd9cd-project-94-concurrent-0): pact-node@10.11.8: Pact Binary Error: /gitlab/builds/2BymD9cd/0/&lt;&gt;/dev/graphql/node_modules/@pact-foundation/pact-node/standalone/linux-x64-1.88.37/pact/lib/ruby/bin/ruby: line 6: /gitlab/builds/2BymD9cd/0/&lt;&gt;/dev/graphql/node_modules/@pact-foundation/pact-node/standalone/linux-x64-1.88.37/pact/lib/ruby/bin.real/ruby: No such file or directory```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-04 12:55</div><div class="msg">Looks like the alpine issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-04 12:55</div><div class="msg">There's a page on the docs for that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-03-04 12:57</div><div class="msg">Hey Tim wanted to thank you again as my contract test was completed for the JS repo</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-04 13:43</div><div class="msg">that was a good suggestion because we are indeed creating a container from a alpine node image</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-04 13:44</div><div class="msg">I checked locally by adding the dependencies mentioned here <a href="https://docs.pact.io/docker/#reference-image">https://docs.pact.io/docker/#reference-image</a> in my Dockerfile</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-04 13:45</div><div class="msg">but now i get a different error
```[2021-03-04 13:41:03.142 +0000] DEBUG (79 on c760da961371): pact-node@10.11.8: Starting pact binary 'standalone/linux-x64-1.88.37/pact/bin/pact-mock-service', with arguments [service --consumer graphql --pact_dir /opt/project/pacts --host 127.0.0.1 --log /opt/project/var/pact/logs/pact.log --pact-file-write-mode overwrite --port 8087 --provider email-action-api --pact_specification_version 2]
[2021-03-04 13:41:03.150 +0000] DEBUG (79 on c760da961371): pact-node@10.11.8: Created 'standalone/linux-x64-1.88.37/pact/bin/pact-mock-service' process with PID: undefined
[2021-03-04 13:41:03.156 +0000] ERROR (79 on c760da961371): pact-node@10.11.8: 
    errno: "ENOENT"
    code: "ENOENT"
    syscall: "spawn standalone/linux-x64-1.88.37/pact/bin/pact-mock-service"
    path: "standalone/linux-x64-1.88.37/pact/bin/pact-mock-service"
    spawnargs: [
      "service",
      "--consumer",
      "graphql",
      "--pact_dir",
      "/opt/project/pacts",
      "--host",
      "127.0.0.1",
      "--log",
      "/opt/project/var/pact/logs/pact.log",
      "--pact-file-write-mode",
      "overwrite",
      "--port",
      "8087",
      "--provider",
      "email-action-api",
      "--pact_specification_version",
      "2"
    ]
[2021-03-04 13:41:03.165 +0000] WARN (79 on c760da961371): pact-node@10.11.8: Pact exited with code -2.
[2021-03-04 13:41:03.165 +0000] INFO (79 on c760da961371): pact-node@10.11.8: Removing Pact process with PID: undefined```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-04 13:47</div><div class="msg">Its not able to create pact mock service and assign a PID</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-04 14:17</div><div class="msg">I have used very simple images and all are getting the same error as above
? A alpine image with necessary dependency
? A full node:8 image </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-04 15:52</div><div class="msg">Hey team , do you know if there is a way to expose child process errors or logs when pact mock service startup process runs. Currently i am getting a error on pact mock service startup running on docker container but doesnt mention what went wrong in terminal
```[2021-03-04 15:49:43.634 +0000] INFO (77 on ebc7eb1bbf0e): pact-node@10.11.8: Creating Pact Server with options: 
{"consumer":"graphql","cors":false,"dir":"/opt/project/pacts","host":"127.0.0.1","log":"/opt/project/var/pact/logs/pact.log","pactFileWriteMode":"overwrite","port":8087,"provider":"email-action-api","spec":2,"ssl":false}
[2021-03-04 15:49:43.695 +0000] DEBUG (77 on ebc7eb1bbf0e): pact-node@10.11.8: Starting pact binary 'standalone/linux-x64-1.88.37/pact/bin/pact-mock-service', with arguments [service --consumer graphql --pact_dir /opt/project/pacts --host 127.0.0.1 --log /opt/project/var/pact/logs/pact.log --pact-file-write-mode overwrite --port 8087 --provider email-action-api --pact_specification_version 2]
[2021-03-04 15:49:43.703 +0000] DEBUG (77 on ebc7eb1bbf0e): pact-node@10.11.8: Created 'standalone/linux-x64-1.88.37/pact/bin/pact-mock-service' process with PID: undefined
[2021-03-04 15:49:43.709 +0000] ERROR (77 on ebc7eb1bbf0e): pact-node@10.11.8: 
    errno: "ENOENT"
    code: "ENOENT"
    syscall: "spawn standalone/linux-x64-1.88.37/pact/bin/pact-mock-service"
    path: "standalone/linux-x64-1.88.37/pact/bin/pact-mock-service"
    spawnargs: [
      "service",
      "--consumer",
      "graphql",
      "--pact_dir",
      "/opt/project/pacts",
      "--host",
      "127.0.0.1",
      "--log",
      "/opt/project/var/pact/logs/pact.log",
      "--pact-file-write-mode",
      "overwrite",
      "--port",
      "8087",
      "--provider",
      "email-action-api",
      "--pact_specification_version",
      "2"
    ]
[2021-03-04 15:49:43.718 +0000] WARN (77 on ebc7eb1bbf0e): pact-node@10.11.8: Pact exited with code -2.
[2021-03-04 15:49:43.719 +0000] INFO (77 on ebc7eb1bbf0e): pact-node@10.11.8: Removing Pact process with PID: undefined```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-03-04/1808875969319_ebe18cd144565a723b19_72.png" /><div class="message"><div class="username">jayson.bailey</div><div class="time">2021-03-04 19:18</div><div class="msg">has joined #pact-js</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-03-04 21:48</div><div class="msg">Hi Team, We have JS repo which makes call to our internal API, which does not even have baseUrl defined (meaning it calls API through proxy `<a href="http://our-intranet-proxy-url/a/cm/associate_products">http://our-intranet-proxy-url/a/cm/associate_products</a>`). In this case services layer just does this and the requested is routed through our intranet url in browser. Does anyone know how we can write pact test for such scenarios?
```export const submitAssociationData = requestData =&gt; {
  const endpoint = `/a/cm/associate_products`;
  return <a href="http://axios.post">http://axios.post</a>(
    endpoint,
    {requestData}
  );
};```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-04 22:57</div><div class="msg">are you running on alpine?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-04 22:59</div><div class="msg"><a href="https://docs.pact.io/docker/#alpine-linux">https://docs.pact.io/docker/#alpine-linux</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-04 22:59</div><div class="msg">there is a note on the Pact JS site/docs also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-04 22:59</div><div class="msg">I think that?s probably the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-04 22:59</div><div class="msg">if you can get onto the docker container and try to execute the same command you might find out more also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2021-03-04 23:18</div><div class="msg">Hi, in pact-js _verification_ (I?m using V3 beta, but seems to also apply to stable version(?)), is there a way to _filter states_ during verification debugging? Looking for something like the `--filter-state` argument to `pact_verifier_cli`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 00:08</div><div class="msg">In v2 you can (if I understand your question)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 00:09</div><div class="msg">:point_right: <a href="https://github.com/pact-foundation/pact-js#re-run-specific-verification-failures">https://github.com/pact-foundation/pact-js#re-run-specific-verification-failures</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 00:10</div><div class="msg">if it?s _just_ routing the request, I?d find a  way to ignore the intermediate layer and re-write the paths later on in a repeatable way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 00:10</div><div class="msg">but see <a href="https://docs.pact.io/getting_started/what_is_pact_good_for/#why-pact-may-not-be-the-best-tool-for-testing-pass-through-apis-like-bffs">https://docs.pact.io/getting_started/what_is_pact_good_for/#why-pact-may-not-be-the-best-tool-for-testing-pass-through-apis-like-bffs</a> for more</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2021-03-05 00:19</div><div class="msg">Ah, that was why I didn?t find it. I was page-searching for `filter` :slightly_smiling_face: So env var, I think I like that! It doesn?t work in V3 though :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 00:26</div><div class="msg">Probably worth exposing it both as a flag and an env var I reckon</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2019-04-24/606247929682_e52f292f55941b5e901a_72.jpg" /><div class="message"><div class="username">audun.halland</div><div class="time">2021-03-05 00:29</div><div class="msg">I like not having to fear of accidentally committing such a filter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 00:29</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 00:30</div><div class="msg">makes sense</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-05 01:59</div><div class="msg">Do you see any errors during install? It might not be downloading the binaries correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-05 02:24</div><div class="msg">That?s great to hear! You?re welcome :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 11:47</div><div class="msg">Are you mounting the directory from a Mac or windows host? If so, it may not have the Linux binaries installed (because they were installed on the host with the OS specific binary)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 11:47</div><div class="msg">Could please share the exact docker command?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 11:50</div><div class="msg">Also you could just try and run that command yourself to see if it works, it might give you more specific feedback</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 11:50</div><div class="msg">Frustrating error though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-05 11:53</div><div class="msg">I debugged this yesterday with one of the devs and we are also suspecting that it might be due to the linux binaries not installed  properly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2b451f9e90451bf62707eeb6c008708.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">sagupta</div><div class="time">2021-03-05 11:53</div><div class="msg">Still trying out few options locally , will keep posted as i get some fix</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-03-05 13:58</div><div class="msg">Thanks @matt.fellows you are right We are just routing the request to the internal kubernetes ingress url `<a href="http://kube-my-provider-endpoint.domain.com/api/v1/associate_products">http://kube-my-provider-endpoint.domain.com/api/v1/associate_products</a>` as our API are not public so thats why the request are routed through a proxy. This is a huge pain point because all our APIs are private, so solution to this will unblock us from writing contract tests for everything.Below is my test code for the same

CC: @tjones who helped me in creating pact test for our external APIs(which has defined baseUrl)

```'use strict';

import {pactWith} from 'jest-pact';
import {Matchers} from '@pact-foundation/pact';

import {submitAssociationData} from '../../services';

pactWith(
  {
    consumer: 'my-frontend-association-repo',
    provider: 'my-association-api',
    cors: true,
  },
  provider =&gt; {
    describe('Submit Association Data', () =&gt; {
      const requestBody = {
        associations: [
          {
            requestor_id: 'test_requestor',
            requestor_id_type: 'DSID',
            asset_id: 'test_asset_id',
            asset_id_type: 'IRE_ID',
            product_id_type: 'SKU',
            products: [
              {product_id: 'test_product_id_1', is_active: true, is_primary: false},
              {product_id: 'test_product_id_2', is_active: true, is_primary: false},
            ],
          },
        ],
      };
      const expectedBody = {
        code: 200,
        body: {
          Success: true,
        },
      };

      beforeEach(() =&gt; {
        const interaction = {
          state: 'Asset Association exists',
          uponReceiving:
            'a request for submitting asset association for assetid test_asset_id',
          withRequest: {
            method: 'POST',
            path: '/api/v1/associate_products',
          },
          willRespondWith: {
            status: 200,
            headers: {
              'Content-Type': 'application/json',
            },
            body: expectedBody,
          },
        };
        return provider.addInteraction(interaction);
      });

      // add expectations
      it('returns a successful body', () =&gt; {
        return submitAssociationData(
          requestBody,
          provider.mockService.baseUrl
        ).then(content =&gt; {
          expect(content).toEqual(Matchers.extractPayload(expectedBody));
        });
      });
    });
  }
);```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /><div class="message"><div class="username">tjones</div><div class="time">2021-03-05 14:55</div><div class="msg">Looks like in the internal case you have an empty base URL, because of kube magic? That?s fine, just inject an empty one for production, and modify it to non-empty during pact tests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-03-05 15:01</div><div class="msg">ah ok...let me try this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2021-02-24/1790895349987_1d4851b877bce594015e_72.jpg" /><div class="message"><div class="username">jayeshguru81</div><div class="time">2021-03-05 21:19</div><div class="msg">Thanks again Tim, this worked for me :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 22:04</div><div class="msg">How are you running the container and what commands are you running in it? Please share</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 22:04</div><div class="msg">I know pact js works in docker, because we do it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 23:49</div><div class="msg">that?s what i?d do too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 23:49</div><div class="msg">Probably worth us documenting that use case somewhere, it?s pretty common!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-05 23:50</div><div class="msg">Added a reminder to follow up these docs next week</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/53ab47559ec375e050c6907ba768ae6c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">dominic_herrmann</div><div class="time">2021-03-08 09:17</div><div class="msg">Hey, how can we use bigint for IDs while generating PACT File with Jasmine and PactWeb? We are getting error "Do not know how to serialize a BigInt" during "ng test"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 09:34</div><div class="msg">you can?t do that, only things that can be serialised in JSON can go into a Pact file. How is it represented over the wire? I?m going to assume a string</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 09:35</div><div class="msg">see also <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#use_within_json">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#use_within_json</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/53ab47559ec375e050c6907ba768ae6c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">dominic_herrmann</div><div class="time">2021-03-08 10:20</div><div class="msg">Thx, not good, in our Java REST Backend it is a long value. If we user a string in typescript, the value in generated pact file is in braces (like all strings), which would not be correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 10:21</div><div class="msg">so this isn?t a Pact issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 10:21</div><div class="msg">the reality is, your Angular App is using BigInt but needs to send it over the wire to Java, but JSON knows no such thing about BigInt.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 10:22</div><div class="msg">Given the JSON options are limited to just a few primitives, you have two choices (I think):

1. Serialise it as a number
2. Serialise it as a string</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 10:22</div><div class="msg">Your Java service should be able to handle how to read either of those into a long value, that?s just mapping stuff</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 10:23</div><div class="msg">Personally, I?d serialise as a string, because if you need accuracy (and if you?re using BigInt my assumption is that you do) then downcasting to a JSON number may result in a loss of fidelity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 10:24</div><div class="msg">&gt;  ? If we user a string in typescript, the value in generated pact file is in braces (like all strings), which would not be correct
I think you mean quotes? i.e. `"`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/53ab47559ec375e050c6907ba768ae6c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">dominic_herrmann</div><div class="time">2021-03-08 10:40</div><div class="msg">Yes I meant quotes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2020-11-19/1538992416944_7fd3abbd251da6d7dfc6_72.jpg" /><div class="message"><div class="username">alan.hanafy</div><div class="time">2021-03-08 20:40</div><div class="msg">probably more of a karma question, but is there a way to set the PactWeb({port:number}) based on the configured value in the karma.conf file?
What i mean is:
```//karma.conf.js
...
    // Pact Providers
    pact: [
      {
        port: 1234,
        consumer: "KarmaJasmineConsumer",
        provider: "KarmaJasmineProvider",
        logLevel: "DEBUG",
        log: path.resolve(process.cwd(), "logs", "pact.log"),
        dir: path.resolve(process.cwd(), "pacts"),
      },
      {
        port: 4321,
        consumer: "KarmaJasmineConsumer",
        provider: "SecondKarmaJasmineProvider",
        logLevel: "DEBUG",
        log: path.resolve(process.cwd(), "logs", "pact.log"),
        dir: path.resolve(process.cwd(), "pacts"),
      },
    ],
...

//

// client-spec.js
...
////
//somehow i load karmaPactProviders from the karmaconfig file
///
  describe("Client", function() {
    var provider
    var secondPactProviderPort = karmaPactProviders[1].port


    beforeAll(function(done) {
      provider = new Pact.PactWeb({ port: secondPactProviderPort })
...```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 22:00</div><div class="msg">I think you can</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 22:12</div><div class="msg">I recall looking into it a few years ago when we wrote that adapter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 22:12</div><div class="msg">I _think_ one thing that could be done, is to append to the `client` once the plugin starts, which is then made available to the `__karma__` global.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /><div class="message"><div class="username">matt.fellows</div><div class="time">2021-03-08 22:13</div><div class="msg">I?m not sure if that is accessible now, a quick google seems to not turn up much, but I don?t use Karma very often so I?m not very familiar with it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b1d83026faef858c10569eb35e894c33.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">mjsmcp</div><div class="time">2021-03-08 23:46</div><div class="msg">has joined #pact-js</div></div></div><br/>
</div></body></html>