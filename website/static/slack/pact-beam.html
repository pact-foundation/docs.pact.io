<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><a id="1628481995.000200"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1628481995.000200" ><div class="time">2021-08-09 04:06</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1628482004.000400"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1628482004.000400" ><div class="time">2021-08-09 04:06</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1628482066.001500"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1628482066.001500" ><div class="time">2021-08-09 04:07</div></a><div class="msg">I don't know anyone who can pick this up at the moment, but for coordination if/when someone wants to pick up this work, here is a channel.</div></div></div><br/>
<div><a id="1628482100.001600"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1628482100.001600" ><div class="time">2021-08-09 04:08</div></a><div class="msg">set the channel description: There is no implementation of Pact for Elixr yet, but this is a channel for those who might want to implement it.</div></div></div><br/>
<div><a id="1628482175.002100"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1628482175.002100" ><div class="time">2021-08-09 04:09</div></a><div class="msg">thanks @bethskurrie

this is the project i mentioned in the #general channel

<a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a></div></div></div><br/>
<div><a id="1628482907.003000"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1628482907.003000" ><div class="time">2021-08-09 04:21</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1628544925.003400"><img src="https://avatars.slack-edge.com/2021-02-01/1697445865237_16771aa0d3e419cb7930_72.png" /></a><div class="message"><div class="username">george.south</div><a style="text-decoration: none" href="#1628544925.003400" ><div class="time">2021-08-09 21:35</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1628698874.003800"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628698874.003800" ><div class="time">2021-08-11 16:21</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1628786076.005800"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628786076.005800" ><div class="time">2021-08-12 16:34</div></a><div class="msg">Hi folks! I?m looking into creating a new Elixir implementation with the Rust core.

The repo will live at <a href="https://github.com/andrewjensen/pact_elixir">https://github.com/andrewjensen/pact_elixir</a> for now, although I would prefer to transfer it to an organization (Pact? My employer, <a href="https://github.com/podium">https://github.com/podium</a>?) as it gets further along.</div></div></div><br/>
<div><a id="1628787219.007200"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1628787219.007200" ><div class="time">2021-08-12 16:53</div></a><div class="msg">I?m planning on copying some patterns out of this repo: <a href="https://github.com/discord/sorted_set_nif">https://github.com/discord/sorted_set_nif</a> (Discord wrote <a href="https://blog.discord.com/using-rust-to-scale-elixir-for-11-million-concurrent-users-c6f19fc029d3">https://blog.discord.com/using-rust-to-scale-elixir-for-11-million-concurrent-users-c6f19fc029d3</a> a while back introducing the repo and its performance benefits)</div></div></div><br/>
<div><a id="1629865486.000200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629865486.000200" ><div class="time">2021-08-25 04:24</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1629865567.000600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629865567.000600" ><div class="time">2021-08-25 04:26</div></a><div class="msg">@pact-slack should probably be in here!</div></div></div><br/>
<div><a id="1629865569.000800"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1629865569.000800" ><div class="time">2021-08-25 04:26</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1629865623.002000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629865623.002000" ><div class="time">2021-08-25 04:27</div></a><div class="msg">@andrew.jensen was there a reason why you created a new library? Ideally we can focus our efforts together and have two maintainers of a single repo (instead of multiple). Something we can work through here?</div></div></div><br/>
<div><a id="1629865662.002900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1629865662.002900" ><div class="time">2021-08-25 04:27</div></a><div class="msg">For reference, there is a potential client of DiUS (my empolyer, the parent company of Pactflow) that could do with this. We may be able to contribute some effort into this to move it forward also</div></div></div><br/>
<div><a id="1629908091.006400"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629908091.006400" ><div class="time">2021-08-25 16:14</div></a><div class="msg">@matt.fellows thanks for raising the question. I am now realizing that I misunderstood some messages in other channels, and incorrectly thought that <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a> was either unmaintained or implemented without bindings around the shared core. But I took some time to read through the library today and I can see that it?s looking great! I agree, let?s focus efforts on one implementation and make it the best it can be.</div></div></div><br/>
<div><a id="1629908153.007600"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629908153.007600" ><div class="time">2021-08-25 16:15</div></a><div class="msg">@pact-slack thanks for all your hard work on pact_elixir! Are you open to outside PRs and issues?</div></div></div><br/>
<div><a id="1629908211.008600"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629908211.008600" ><div class="time">2021-08-25 16:16</div></a><div class="msg">Also @mpglover, are you interested in standardizing on <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a> as well? If I?m remembering correctly, you had started an implementation of your own a while back but didn?t get too far.</div></div></div><br/>
<div><a id="1629908893.009100"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1629908893.009100" ><div class="time">2021-08-25 16:28</div></a><div class="msg">Sure, every PR and issue is welcome!
I've started pact_elixir as as side project with the goal to use it in our company. But we are still using another testing approach thus the development of this library never got good traction.</div></div></div><br/>
<div><a id="1629921644.009400"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1629921644.009400" ><div class="time">2021-08-25 20:00</div></a><div class="msg">~chro~</div></div></div><br/>
<div><a id="1629936928.000400"><img src="https://secure.gravatar.com/avatar/d2f3ac0d36081cab03f246ea62cfe388.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">sheyan.rizfee</div><a style="text-decoration: none" href="#1629936928.000400" ><div class="time">2021-08-26 00:15</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1629941392.000500"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1629941392.000500" ><div class="time">2021-08-26 01:29</div></a><div class="msg">I think you all should move forward with whatever makes sense for the folks actively involved. I don't know that I'll have a lot of time to dedicate to an Elixir integration in the near term.

I'll still keep an eye on the channel and maybe I'll try to contribute here and there. But I doubt I'll be super involved over the next year or two.

I started a project several years ago with a specific focus on supporting the spec without dependencies from outside the core Elixir ecosystem. This is why I didn't start out trying to enhance or fork the Rust-based integration. A variety of things changed shortly after starting the project and I no longer had a use case for Pact in Elixir so I left it by the wayside.</div></div></div><br/>
<div><a id="1629995531.001200"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629995531.001200" ><div class="time">2021-08-26 16:32</div></a><div class="msg">Cool, thanks for the context!</div></div></div><br/>
<div><a id="1629996144.008800"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1629996144.008800" ><div class="time">2021-08-26 16:42</div></a><div class="msg">Some updates:

? Teamed up with @pedroefajardo_pactio yesterday to check out <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a>
? The library?s tests fail intermittently on my machine - seeing Rust panics like `Os { code: 24, kind: Other, message: "Too many open files" }` that are likely the root cause, might have to do with FFI code not cleaning up properly between each test run
? We have narrowed the corrupted state down to a few specific test cases involving writing pact files and stopping the mock server
? The library currently points to `pact_mock_server@0.4.0` and `rustler@0.21.0`  so we are trying to upgrade both dependencies to see if it will resolve the errors and test failures (and because we?ll want to use spec v3, etc.)
? As we try to upgrade `pact_mock_server@0.7.20`, we are not able to compile the transitive dependency `pact_models`, and we?re seeing compile-time errors like `cannot find macro `json_internal` in this scope` and `the trait bound `serde_json::Value: Eq` is not satisfied` so we?re trying to debug those
@matt.fellows do you have any recommendations for getting past those compile errors? I can compile `pact_models` in isolation, but the fancy Elixir -&gt; Rust abstraction of Rustler might be configuring rustc differently in a way that?s causing the errors.</div></div></div><br/>
<div><a id="1630405733.001000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1630405733.001000" ><div class="time">2021-08-31 10:28</div></a><div class="msg">Apologies I missed this Andrew, will take a look next time I can</div></div></div><br/>
<div><a id="1630405746.001500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1630405746.001500" ><div class="time">2021-08-31 10:29</div></a><div class="msg">Worth join/raising in #libpact_ffi-users too</div></div></div><br/>
<div><a id="1631317810.000100"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1631317810.000100" ><div class="time">2021-09-10 23:50</div></a><div class="msg">we were able to address the ?Too many open files? by using `ulimit -n 2048`

the correct way to do it is, I think, to configure Rust to limit parallelization but I haven?t gotten to how to do that yet.</div></div></div><br/>
<div><a id="1631489334.000200"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631489334.000200" ><div class="time">2021-09-12 23:28</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1631863058.001700"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863058.001700" ><div class="time">2021-09-17 07:17</div></a><div class="msg">I've tried to use the `pact_elixir` library but not having much luck. After adding the dependency, when trying to run `mix test` for the first time I get this:

```$ mix test


The `:rustler` compiler has been deprecated since v0.22.0 and will be
removed in v1.0.

To remove this warning, please consult the CHANGELOG for v0.22.0.

==&gt; pact_elixir
Compiling 15 files (.ex)
Compiling crate pactmockserver in release mode (native/pactmockserver)
    Updating <a href="http://crates.io">http://crates.io</a> index
Compiling lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex (it's taking more than 10s)
 Downloading crates ...
  Downloaded lazy_static v1.4.0
  Downloaded quote v0.6.13
  Downloaded void v1.0.2
  Downloaded rand v0.4.3
  Downloaded unreachable v1.0.0
  Downloaded libc v0.2.66
  Downloaded proc-macro2 v0.4.30
  Downloaded semver-parser v0.7.0
  Downloaded syn v0.11.11
  Downloaded synom v0.11.3
  Downloaded safemem v0.2.0
  Downloaded typeable v0.1.2
  Downloaded uuid v0.6.5
  Downloaded utf8-ranges v1.0.0
  Downloaded url v1.7.2
  Downloaded unreachable v0.1.1
  Downloaded which v2.0.1
  Downloaded rustc-serialize v0.3.24
  Downloaded language-tags v0.2.2
  Downloaded hex v0.2.0
  Downloaded failure v0.1.6
  Downloaded unicode-bidi v0.3.4
  Downloaded unicase v1.4.2
  Downloaded unicode-xid v0.1.0
  Downloaded unicode-xid v0.0.4
  Downloaded syn v0.15.44
  Downloaded peresil v0.3.0
  Downloaded quote v0.3.15
  Downloaded mime v0.2.6
  Downloaded itoa v0.3.4
  Downloaded typed-arena v1.3.0
  Downloaded cookie v0.2.5
  Downloaded httparse v1.2.3
  Downloaded dtoa v0.4.2
  Downloaded backtrace v0.3.12
  Downloaded rustler v0.21.0
  Downloaded num-traits v0.1.40
  Downloaded aho-corasick v0.6.3
  Downloaded env_logger v0.4.3
  Downloaded rustc-demangle v0.1.16
  Downloaded memchr v1.0.2
  Downloaded thread_local v0.3.4
  Downloaded lazy_static v0.2.9
  Downloaded rustler_codegen v0.21.0
  Downloaded pact_mock_server v0.4.0
  Downloaded matches v0.1.6
  Downloaded indextree v1.3.0
  Downloaded ansi_term v0.9.0
  Downloaded percent-encoding v1.0.0
  Downloaded unicode-segmentation v1.2.1
  Downloaded num_cpus v1.7.0
  Downloaded traitobject v0.0.1
  Downloaded heck v0.3.0
  Downloaded p-macro v0.2.0
  Downloaded version_check v0.1.3
  Downloaded maplit v0.1.5
  Downloaded cfg-if v0.1.5
  Downloaded itertools v0.6.5
  Downloaded either v1.3.0
  Downloaded hpack v0.2.0
  Downloaded serde_derive v1.0.15
  Downloaded time v0.1.38
  Downloaded semver v0.7.0
  Downloaded uuid v0.5.1
  Downloaded byteorder v1.1.0
  Downloaded sxd-document v0.2.4
  Downloaded rustler_sys v2.0.0
  Downloaded pact_matching v0.4.4
  Downloaded base64 v0.7.0
  Downloaded serde_derive_internals v0.16.0
  Downloaded serde_json v1.0.3
  Downloaded solicit v0.4.4
  Downloaded itertools v0.7.8
  Downloaded rand v0.3.17
  Downloaded regex-syntax v0.4.1
  Downloaded serde v1.0.15
  Downloaded log v0.3.8
  Downloaded regex v0.2.2
  Downloaded hyper v0.9.18
  Downloaded unicode-normalization v0.1.5
  Downloaded difference v1.0.0
  Downloaded idna v0.1.4
   Compiling libc v0.2.66
   Compiling void v1.0.2
   Compiling matches v0.1.6
   Compiling log v0.3.8
   Compiling version_check v0.1.3
   Compiling cfg-if v0.1.5
   Compiling proc-macro2 v0.4.30
   Compiling rustc-demangle v0.1.16
   Compiling unicode-normalization v0.1.5
   Compiling unicode-xid v0.0.4
   Compiling unicode-xid v0.1.0
   Compiling lazy_static v0.2.9
   Compiling percent-encoding v1.0.0
   Compiling quote v0.3.15
   Compiling regex-syntax v0.4.1
   Compiling syn v0.15.44
   Compiling either v1.3.0
   Compiling utf8-ranges v1.0.0
   Compiling unicode-segmentation v1.2.1
   Compiling rustc-serialize v0.3.24
   Compiling itoa v0.3.4
   Compiling safemem v0.2.0
   Compiling lazy_static v1.4.0
   Compiling traitobject v0.0.1
   Compiling dtoa v0.4.2
   Compiling httparse v1.2.3
   Compiling language-tags v0.2.2
   Compiling typeable v0.1.2
   Compiling typed-arena v1.3.0
   Compiling byteorder v1.1.0
   Compiling peresil v0.3.0
   Compiling serde v1.0.15
   Compiling num-traits v0.1.40
   Compiling rustler_sys v2.0.0
   Compiling semver-parser v0.7.0
   Compiling p-macro v0.2.0
   Compiling ansi_term v0.9.0
   Compiling difference v1.0.0
   Compiling maplit v0.1.5
   Compiling hex v0.2.0
   Compiling indextree v1.3.0
   Compiling unicode-bidi v0.3.4
   Compiling synom v0.11.3
   Compiling unreachable v1.0.0
   Compiling unreachable v0.1.1
   Compiling itertools v0.7.8
   Compiling itertools v0.6.5
   Compiling hpack v0.2.0
   Compiling mime v0.2.6
   Compiling unicase v1.4.2
   Compiling heck v0.3.0
   Compiling sxd-document v0.2.4
   Compiling base64 v0.7.0
   Compiling semver v0.7.0
   Compiling thread_local v0.3.4
   Compiling syn v0.11.11
   Compiling idna v0.1.4
   Compiling solicit v0.4.4
   Compiling quote v0.6.13
   Compiling memchr v1.0.2
   Compiling time v0.1.38
   Compiling rand v0.3.17
   Compiling rand v0.4.3
   Compiling num_cpus v1.7.0
   Compiling backtrace v0.3.12
   Compiling url v1.7.2
error: failed to run custom build command for `rustler_sys v2.0.0`

Caused by:
  process didn't exit successfully: `/Users/erikdanielsen/work/dius/pact-workshop-elixir/consumer/_build/test/lib/pact_elixir/native/pactmockserver/release/build/rustler_sys-27d371f25823a0e2/build-script-build` (exit status: 101)
  --- stdout
  This OTP release uses the unsupported Erlang NIF version "2.16".

  Please report at <a href="https://github.com/rustlerium/rustler">https://github.com/rustlerium/rustler</a>.

  --- stderr
  thread 'main' panicked at 'gen_api.erl encountered an error.', /Users/erikdanielsen/.cargo/registry/src/github.com-1ecc6299db9ec823/rustler_sys-2.0.0/build.rs:34:18
  note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
warning: build failed, waiting for other jobs to finish...
error: build failed

== Compilation error in file lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex ==
** (RuntimeError) Rust NIF compile error (rustc exit code 101)
    (rustler 0.22.0) lib/rustler/compiler.ex:36: Rustler.Compiler.compile_crate/2
    lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex:10: (module)
    (stdlib 3.15.2) erl_eval.erl:685: :erl_eval.do_apply/6
could not compile dependency :pact_elixir, "mix compile" failed. You can recompile this dependency with "mix deps.compile pact_elixir", update it with "mix deps.update pact_elixir" or clean it with "mix deps.clean pact_elixir"```</div></div></div><br/>
<div><a id="1631863102.002200"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863102.002200" ><div class="time">2021-09-17 07:18</div></a><div class="msg">I tried again with `RUST_BACKTRACE=full mix test`

```error: failed to run custom build command for `rustler_sys v2.0.0`

Caused by:
  process didn't exit successfully: `/Users/erikdanielsen/work/dius/pact-workshop-elixir/consumer/_build/test/lib/pact_elixir/native/pactmockserver/release/build/rustler_sys-27d371f25823a0e2/build-script-build` (exit status: 101)
  --- stdout
  This OTP release uses the unsupported Erlang NIF version "2.16".

  Please report at <a href="https://github.com/rustlerium/rustler">https://github.com/rustlerium/rustler</a>.

  --- stderr
  thread 'main' panicked at 'gen_api.erl encountered an error.', /Users/erikdanielsen/.cargo/registry/src/github.com-1ecc6299db9ec823/rustler_sys-2.0.0/build.rs:34:18
  stack backtrace:
     0:        0x10cfc9ede - &lt;std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display&gt;::fmt::h0b3cb0f81eb6c032
     1:        0x10cff37ac - core::fmt::write::h01b240c0519e8c85
     2:        0x10cfc54ca - std::io::Write::write_fmt::h146f386a5b35d587
     3:        0x10cfc5daf - std::panicking::default_hook::{{closure}}::h5f8b7ffe7769db61
     4:        0x10cfc593f - std::panicking::default_hook::h9f87fc2fdf4f1125
     5:        0x10cfc6472 - std::panicking::rust_panic_with_hook::h32f3432eccbbcf03
     6:        0x10cfb9617 - std::panicking::begin_panic::{{closure}}::h39f2f6cd54707c07
     7:        0x10cfb94c8 - std::sys_common::backtrace::__rust_end_short_backtrace::h9be66abe58513ae8
     8:        0x10cff56b9 - std::panicking::begin_panic::h2352c1c97fb9a865
     9:        0x10cfb9e89 - build_script_build::main::hb625c3f24e169ba2
    10:        0x10cfb6c4a - core::ops::function::FnOnce::call_once::h30ac50f2b0695325
    11:        0x10cfb94fd - std::sys_common::backtrace::__rust_begin_short_backtrace::he563f2a24eeaafd0
    12:        0x10cfb5f90 - std::rt::lang_start::{{closure}}::h060f609a7f2cbfeb
    13:        0x10cfc7aa5 - std::rt::lang_start_internal::h6f56f13a742d6e93
    14:        0x10cfb5f62 - std::rt::lang_start::hf6ab5b518932e40e
    15:        0x10cfb9f56 - _main
warning: build failed, waiting for other jobs to finish...
error: build failed

== Compilation error in file lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex ==
** (RuntimeError) Rust NIF compile error (rustc exit code 101)
    (rustler 0.22.0) lib/rustler/compiler.ex:36: Rustler.Compiler.compile_crate/2
    lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex:10: (module)
    (stdlib 3.15.2) erl_eval.erl:685: :erl_eval.do_apply/6
could not compile dependency :pact_elixir, "mix compile" failed. You can recompile this dependency with "mix deps.compile pact_elixir", update it with "mix deps.update pact_elixir" or clean it with "mix deps.clean pact_elixir"```</div></div></div><br/>
<div><a id="1631863223.002900"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863223.002900" ><div class="time">2021-09-17 07:20</div></a><div class="msg">I assume it's a version incompatibility issue but it's hard to say as I'm not an Elixir developer</div></div></div><br/>
<div><a id="1631863245.003200"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863245.003200" ><div class="time">2021-09-17 07:20</div></a><div class="msg">```[127] $ elixir -v                                                                                                                                                                                                  ?

Erlang/OTP 24 [erts-12.0.3] [source] [64-bit] [smp:16:16] [ds:16:16:10] [async-threads:1] [jit] [dtrace]

Elixir 1.12.3 (compiled with Erlang/OTP 24)```
</div></div></div><br/>
<div><a id="1631863269.003500"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863269.003500" ><div class="time">2021-09-17 07:21</div></a><div class="msg">Rust v1.55.0 installed with homebrew

```$ rustc --version
rustc 1.55.0```</div></div></div><br/>
<div><a id="1631863331.003800"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863331.003800" ><div class="time">2021-09-17 07:22</div></a><div class="msg">Does anyone have any idea what's going on here?</div></div></div><br/>
<div><a id="1631863418.004200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863418.004200" ><div class="time">2021-09-17 07:23</div></a><div class="msg">see also <a href="https://pact-foundation.slack.com/archives/C02AG6CML5T/p1629996144008800">https://pact-foundation.slack.com/archives/C02AG6CML5T/p1629996144008800</a></div></div></div><br/>
<div><a id="1631863447.004900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863447.004900" ><div class="time">2021-09-17 07:24</div></a><div class="msg">I can see some recent updates on the repo, are you pulling in the dependency from a package manager or using the code?</div></div></div><br/>
<div><a id="1631863447.005000"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863447.005000" ><div class="time">2021-09-17 07:24</div></a><div class="msg">Yeah I saw that</div></div></div><br/>
<div><a id="1631863480.005500"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863480.005500" ><div class="time">2021-09-17 07:24</div></a><div class="msg">It's the standard elixir build tool and a dependency added through that (`mix`)</div></div></div><br/>
<div><a id="1631863487.005600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863487.005600" ><div class="time">2021-09-17 07:24</div></a><div class="msg">Yes, my recommendation would be to remove any rust code from Elixr completely, in favour of the FFI (c) interface</div></div></div><br/>
<div><a id="1631863569.006100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863569.006100" ><div class="time">2021-09-17 07:26</div></a><div class="msg">Looking at the code, this is basically replacing <a href="https://github.com/elitau/pact_elixir/blob/master/native/pactmockserver/src/lib.rs">https://github.com/elitau/pact_elixir/blob/master/native/pactmockserver/src/lib.rs</a> with calls from Elixr directly to FFI methods</div></div></div><br/>
<div><a id="1631863602.006800"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863602.006800" ><div class="time">2021-09-17 07:26</div></a><div class="msg">In `mix.exs`:

```  defp deps do
    [
      {:httpoison, "~&gt; 1.8"},
      {:jason, "~&gt; 1.2"},
      {:pact_elixir, "~&gt; 0.5.2"}
      # {:dep_from_hexpm, "~&gt; 0.3.0"},
      # {:dep_from_git, git: "<a href="https://github.com/elixir-lang/my_dep.git">https://github.com/elixir-lang/my_dep.git</a>", tag: "0.1.0"}
    ]
  end```
</div></div></div><br/>
<div><a id="1631863602.006900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863602.006900" ><div class="time">2021-09-17 07:26</div></a><div class="msg">(see also #libpact_ffi-users for clarifying questions on that interface)</div></div></div><br/>
<div><a id="1631863615.007500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863615.007500" ><div class="time">2021-09-17 07:26</div></a><div class="msg">gotcha</div></div></div><br/>
<div><a id="1631863629.007600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863629.007600" ><div class="time">2021-09-17 07:27</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_ffi">https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_ffi</a></div></div></div><br/>
<div><a id="1631863684.008300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863684.008300" ><div class="time">2021-09-17 07:28</div></a><div class="msg">For the mock server, that?s specifically this interface: <a href="https://docs.rs/pact_ffi/0.0.2/pact_ffi/mock_server/index.html">https://docs.rs/pact_ffi/0.0.2/pact_ffi/mock_server/index.html</a></div></div></div><br/>
<div><a id="1631863694.008800"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1631863694.008800" ><div class="time">2021-09-17 07:28</div></a><div class="msg">Also modified `project` according to the readme:

```  def project do
    [
      app: :consumer,
      version: "0.1.0",
      elixir: "~&gt; 1.12",
      start_permanent: Mix.env() == :prod,
      escript: [main_module: Commandline.CLI],
      compilers: [:rustler] ++ Mix.compilers(),
      rustler_crates: rustler_crates(Mix.env()),
      deps: deps()
    ]
  end```
and added these:

```  defp rustler_crates(mix_env) when mix_env in [:test, :dev] do
    [
      pactmockserver: [
        path: "deps/pact_elixir/native/pactmockserver",
        mode: (:debug),
      ]
    ]
  end

  defp rustler_crates(_prod) do
    []
  end```
Also based on readme</div></div></div><br/>
<div><a id="1631863708.008900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863708.008900" ><div class="time">2021-09-17 07:28</div></a><div class="msg">For an example of this, see Go?s native mapping: <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mock_server.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/internal/native/mock_server.go</a></div></div></div><br/>
<div><a id="1631863800.009600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863800.009600" ><div class="time">2021-09-17 07:30</div></a><div class="msg">(I?ve just added some feedback to the thread above which I stupidly missed a while ago - sorry @andrew.jensen!)</div></div></div><br/>
<div><a id="1631863902.010700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863902.010700" ><div class="time">2021-09-17 07:31</div></a><div class="msg">Trying to read the compilation error, it seems to be erroring outside of the rust code. If it was a rust failure, I could probably point to the problem. But because Elixr is built on erlang, it looks like there are 3 languages being compiled here :scream:</div></div></div><br/>
<div><a id="1631863984.011500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631863984.011500" ><div class="time">2021-09-17 07:33</div></a><div class="msg">If I can read the code correctly, it looks like if you can replace <a href="https://github.com/elitau/pact_elixir/blob/master/lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex">https://github.com/elitau/pact_elixir/blob/master/lib/pact_elixir/mock_server/rust_pact_mock_server_facade.ex</a> with calls directly to an FFI, things might start working and you could remove the Rustler stuff</div></div></div><br/>
<div><a id="1631864115.012000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631864115.012000" ><div class="time">2021-09-17 07:35</div></a><div class="msg">I think we need a NIF: <a href="https://andrealeopardi.com/posts/using-c-from-elixir-with-nifs/">https://andrealeopardi.com/posts/using-c-from-elixir-with-nifs/</a></div></div></div><br/>
<div><a id="1631903892.016700"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1631903892.016700" ><div class="time">2021-09-17 18:38</div></a><div class="msg">Hey @matt.fellows and @edanielsen!

The `rustler` library is an abstraction on top of NIFs. My vote is to keep using rustler if at all possible, since the abstraction includes some extra glue code that makes the bridge between the Rust and Elixir code much safer than raw NIFs.

&gt; This OTP release uses the unsupported Erlang NIF version ?2.16?
This error message in particular sounds like the version incompatibility might be between OTP 24.x and Rustler. My guess is that the Rustler library will ship a new version soon that supports a new range of NIFs, but in the meantime, could you try compiling with OTP 23 and see if that works? @pedroefajardo_pactio and I have been developing (for now) on Elixir 1.11.x and OTP 23.x.

(If you?re looking for a convenient way to switch between different versions of a single system dependency, you might look into <a href="https://github.com/asdf-vm/asdf">https://github.com/asdf-vm/asdf</a>. @pedroefajardo_pactio and I both run it at work for Elixir/Erlang/JS/Ruby toolchains and it works great.)</div></div></div><br/>
<div><a id="1631904136.017100"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1631904136.017100" ><div class="time">2021-09-17 18:42</div></a><div class="msg">Oh man. I?m dreading the work to rip out Rustler and do raw FFI instead. Maybe it?s a better direction in the long term though. What do you think @pedroefajardo_pactio and @pact-slack?</div></div></div><br/>
<div><a id="1631919852.018900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631919852.018900" ><div class="time">2021-09-17 23:04</div></a><div class="msg">If that's the case then you should look to use the FFI exported functions as they will have better stability guarantees and will provide consistency with the other libs</div></div></div><br/>
<div><a id="1631919872.019600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631919872.019600" ><div class="time">2021-09-17 23:04</div></a><div class="msg">Does rustler mean everyone who uses it has to have cargo/rust installed?</div></div></div><br/>
<div><a id="1631919892.019900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631919892.019900" ><div class="time">2021-09-17 23:04</div></a><div class="msg">Does it work cross platform also?</div></div></div><br/>
<div><a id="1631920020.022600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631920020.022600" ><div class="time">2021-09-17 23:07</div></a><div class="msg">For a testing tool, I feel like safety guarantees are less important if that makes the devex worse.  It may not be the case with Elixr, but we used a similar tool an JS and it's been quite complicated supporting newer node version, and all of the OS/Watch combinations (plus it's super slow because rust compilation is now part of every build)</div></div></div><br/>
<div><a id="1631920347.023600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1631920347.023600" ><div class="time">2021-09-17 23:12</div></a><div class="msg">Not saying you should drop it, but wanted to share our experience</div></div></div><br/>
<div><a id="1632064431.003400"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632064431.003400" ><div class="time">2021-09-19 15:13</div></a><div class="msg">@edanielsen You could also try to use the current <a href="https://github.com/elitau/pact_elixir/commit/90928e5666a1fdb5a73da626fb8adb97808b26e5">https://github.com/elitau/pact_elixir/commit/90928e5666a1fdb5a73da626fb8adb97808b26e5</a> of pact_elixir. @andrew.jensen and @pedroefajardo_pactio <a href="https://github.com/elitau/pact_elixir/commit/90928e5666a1fdb5a73da626fb8adb97808b26e5">https://github.com/elitau/pact_elixir/commit/90928e5666a1fdb5a73da626fb8adb97808b26e5</a> the rustler dependency so that the project config is <a href="https://github.com/rusterlium/rustler/blob/master/CHANGELOG.md#deprecations">https://github.com/rusterlium/rustler/blob/master/CHANGELOG.md#deprecations</a>. It compiles on my Mac OS machine with Erlang 24.0.5 and Elixir 1.12.1 (installed via asdf).</div></div></div><br/>
<div><a id="1632064825.003600"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632064825.003600" ><div class="time">2021-09-19 15:20</div></a><div class="msg">Hmm, I'm not quite sure what that would mean.
How can one bundle/embed the executable FFI Version of pact_mock_server if it is not compiled during the installation of pact_elixir?</div></div></div><br/>
<div><a id="1632065191.006300"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632065191.006300" ><div class="time">2021-09-19 15:26</div></a><div class="msg">@matt.fellows Yes, currently a user of pact_elixir needs a working cargo/rust installed.
As the compilation is done on the user machine it should be cross plattform - as long as rust, erlang and elixir compiles.</div></div></div><br/>
<div><a id="1632089634.000100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632089634.000100" ><div class="time">2021-09-19 22:13</div></a><div class="msg">I'm not sure how Elixr works. Can you bundle the FFI library (.so/dll/dylib) with the package?</div></div></div><br/>
<div><a id="1632089645.000300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632089645.000300" ><div class="time">2021-09-19 22:14</div></a><div class="msg">That's how others do it</div></div></div><br/>
<div><a id="1632093721.001300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632093721.001300" ><div class="time">2021-09-19 23:22</div></a><div class="msg">that doesn?t sound ideal. I?ve found the rust compilation to be fairly slow, so presumably this could dramatically increase CI build times for end users. If you look at the current Pact JS build times, they take almost 30 minutes (granted, we have other checks, but the Rust bits account for a big chunk of that)</div></div></div><br/>
<div><a id="1632093775.002300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632093775.002300" ><div class="time">2021-09-19 23:22</div></a><div class="msg">It will also mean contributors may need to know Rust, or at least enough to map to existing Rust functions, which we?ve found to be a barrier, over a well defined (but admittedly, not ideal) C interface</div></div></div><br/>
<div><a id="1632096684.002600"><img src="https://secure.gravatar.com/avatar/a68542ba58871006f35019efd2577fca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">edanielsen</div><a style="text-decoration: none" href="#1632096684.002600" ><div class="time">2021-09-20 00:11</div></a><div class="msg">Thanks guys, I'll give it a go and report back</div></div></div><br/>
<div><a id="1632129948.002800"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632129948.002800" ><div class="time">2021-09-20 09:25</div></a><div class="msg">Elixir allows to bundle any files into a package.
So the approach would be to build cross platform binaries from the rust source, include them in the elixir package and call the C FFI. Sounds doable.</div></div></div><br/>
<div><a id="1632132293.003000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632132293.003000" ><div class="time">2021-09-20 10:04</div></a><div class="msg">That's what we do already (not binaries, libraries)</div></div></div><br/>
<div><a id="1632132330.003200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632132330.003200" ><div class="time">2021-09-20 10:05</div></a><div class="msg">Despite it being less stable (perhaps), I'm pretty certain it will be a much better process for developers</div></div></div><br/>
<div><a id="1632132375.003500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632132375.003500" ><div class="time">2021-09-20 10:06</div></a><div class="msg">The kids of stability needs for a testing package is different to a runtime tho, were need designing a telephony system here :rolling_on_the_floor_laughing:</div></div></div><br/>
<div><a id="1632143696.003700"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632143696.003700" ><div class="time">2021-09-20 13:14</div></a><div class="msg">This thread was started before we finished the work of compiling the project using rustler v0.22, libc v0.2.101, and removing the Rustler warning.

the project is now compiling and all the tests are green.

take my comment below with a grain of salt and with the understanding that I am new to Elixir and to Rustler.

TL;DR - I don?t know for certain what?s impossible so at the same time I don?t know for certain what?s possible.

I meant that ^^^^ comment semi-humorously

At the moment I am familiar enough with how Rustler does things and I think we should keep going that way instead of going with straight FFI.

My plan for this week is to see if I can get the project to compile using pact_mock_server v0.7.20.

@andrew.jensen @matt.fellows @pact-slack</div></div></div><br/>
<div><a id="1632144086.003900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144086.003900" ><div class="time">2021-09-20 13:21</div></a><div class="msg">Thanks for the update Pedro, sounds like awesome progress! :clap:</div></div></div><br/>
<div><a id="1632144106.004100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144106.004100" ><div class="time">2021-09-20 13:21</div></a><div class="msg">I also just realised my update before made no sense whatsoever:

&gt;  The kids of stability needs for a testing package is different to a runtime tho, were need designing a telephony system here
?we?re _not_ designing a telephony system? was what I meant to say :stuck_out_tongue:</div></div></div><br/>
<div><a id="1632144170.004300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144170.004300" ><div class="time">2021-09-20 13:22</div></a><div class="msg">As long as Elixr can speak a c interface (which it obviously can, because that is what Rustler ultimately does) and you can add a c compatible library to your package (which it sounds like you can), I?d strongly encourage you move away from having the need for rust on a target machine</div></div></div><br/>
<div><a id="1632144183.004500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144183.004500" ><div class="time">2021-09-20 13:23</div></a><div class="msg">that need not mean you do that right away, which is understandable</div></div></div><br/>
<div><a id="1632144491.005000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632144491.005000" ><div class="time">2021-09-20 13:28</div></a><div class="msg">I think the c interface is a lot scarier than it sounds. Happy to point you at other language examples to follow if/when that time comes</div></div></div><br/>
<div><a id="1632145238.005300"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632145238.005300" ><div class="time">2021-09-20 13:40</div></a><div class="msg">@matt.fellows
please point me to other language examples.

maybe that?s something else I can focus on this week.

I?ll speak with @andrew.jensen later today about this</div></div></div><br/>
<div><a id="1632145466.005800"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632145466.005800" ><div class="time">2021-09-20 13:44</div></a><div class="msg">Matt,</div></div></div><br/>
<div><a id="1632145496.006000"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632145496.006000" ><div class="time">2021-09-20 13:44</div></a><div class="msg">Will you please elaborate a bit more on the why of

```"I'd strongly encourage you move away from having the need for rust on a target machine"```
</div></div></div><br/>
<div><a id="1632154267.006500"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1632154267.006500" ><div class="time">2021-09-20 16:11</div></a><div class="msg">I would +1 on Matts opinion. As a user of the pact_elixir library I would like to have a good and easy developer expirience.
Currently you need a working rust compiler installed and you can get Rust compiler errors/warnings during the installation of the library. And this is not what you expect if you use a elixir library.</div></div></div><br/>
<div><a id="1632154590.006700"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1632154590.006700" ><div class="time">2021-09-20 16:16</div></a><div class="msg">ok, thanks

went and searched for ?elixir ffi?
one of the projects I found is this one <a href="https://github.com/joshnuss/elixir-ffi">https://github.com/joshnuss/elixir-ffi</a>, granted it hasn?t been touched in several years, but I found reading the warning interesting.  :slightly_smiling_face:

```*** Warning: Turns out this is a really bad idea, do not use! When the BEAM calls native functions it needs to know how many reductions should be used. Otherwise calling a long running function can break the scheduling completly, because with this approach a long running function is considered 1 reduction ***```
^^^^ that is very early searching.  i am sure things are different by now.  I just thought I would share the comment in that project here.

I?ll talk with Andrew about this and come up with a plan that we will share with y?all.</div></div></div><br/>
<div><a id="1632202973.007400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632202973.007400" ><div class="time">2021-09-21 05:42</div></a><div class="msg">I saw that too</div></div></div><br/>
<div><a id="1632202980.007600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632202980.007600" ><div class="time">2021-09-21 05:43</div></a><div class="msg">I wouldn't use his abstraction</div></div></div><br/>
<div><a id="1632202998.007800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632202998.007800" ><div class="time">2021-09-21 05:43</div></a><div class="msg">FFI is inherently dangerous because you're crossing memory boundaries</div></div></div><br/>
<div><a id="1632203027.008000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203027.008000" ><div class="time">2021-09-21 05:43</div></a><div class="msg">But that's not really a concern for a test framework that is used  in small discrete runs</div></div></div><br/>
<div><a id="1632203054.008200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203054.008200" ><div class="time">2021-09-21 05:44</div></a><div class="msg">A crash indicates a bug in the tool and presumably is catchable so we can encourage bug reports</div></div></div><br/>
<div><a id="1632203061.008400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203061.008400" ><div class="time">2021-09-21 05:44</div></a><div class="msg">A crash in a runtime app is bad</div></div></div><br/>
<div><a id="1632203072.008600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203072.008600" ><div class="time">2021-09-21 05:44</div></a><div class="msg">Here are some references:

<a href="https://github.com/pact-foundation/pact-go/projects/2">https://github.com/pact-foundation/pact-go/projects/2</a></div></div></div><br/>
<div><a id="1632203120.008800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203120.008800" ><div class="time">2021-09-21 05:45</div></a><div class="msg">FFI wrapper code (provides functions for internal use - this represents your facade essentially): <a href="https://github.com/pact-foundation/pact-go/tree/2.x.x/internal/native">https://github.com/pact-foundation/pact-go/tree/2.x.x/internal/native</a></div></div></div><br/>
<div><a id="1632203158.009000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203158.009000" ><div class="time">2021-09-21 05:45</div></a><div class="msg">JS <a href="https://github.com/pact-foundation/pact-js-core/tree/master/src/ffi">https://github.com/pact-foundation/pact-js-core/tree/master/src/ffi</a></div></div></div><br/>
<div><a id="1632203192.009200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1632203192.009200" ><div class="time">2021-09-21 05:46</div></a><div class="msg">Pact .NET <a href="https://github.com/pact-foundation/pact-net/tree/feature/4.0.0">https://github.com/pact-foundation/pact-net/tree/feature/4.0.0</a></div></div></div><br/>
<div><a id="1634662722.002600"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1634662722.002600" ><div class="time">2021-10-19 16:58</div></a><div class="msg">Hi all, here is an update on the current status of Elixir bindings as of October 2021, and the next steps for developing the library.

*HIGH-LEVEL WORK TO BE DONE*

The <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a> library is a community-built implementation of Pact in Elixir. Thank you to @pact-slack for the great work on this library so far! In order to make the library fully-featured, we have these general tasks to complete:

? Change the Elixir FFI implementation (see details below)
? Re-implement consumer-side mocks with new FFI
? Implement provider verification
? Implement messaging equivalents
? Implement other workflows like publishing and downloading pacts from a broker
*FFI: PROBLEM AND CONSTRAINTS*

The pact_elixir library currently uses a Elixir+Rust library called <a href="https://github.com/rusterlium/rustler">https://github.com/rusterlium/rustler</a> to create safe bindings between the Elixir wrapper and the Rust reference implementation of Pact. Rustler is a great library for creating interop between the two languages because it minimizes the risks of FFI. However, rustler requires the app developer to have a Rust toolchain installed, and to compile the core Rust code at the same time as the app and the pact_elixir library are compiled. This leads to more system dependencies and slower build performance. The developer should not need to know that the internals of pact_elixir are actually written in a different language.

The Elixir and Erlang ecosystem has another FFI concept called NIFs, or Natively-Implemented Functions. Note that NIFs require special instrumentation of the native code in order to communicate properly with the Elixir bindings that are calling in. This does not seem like an ideal solution either, because it requires the pact_elixir library to maintain hand-written shim code in C to add this instrumentation.

*FFI: NEXT STEPS*

We intend to follow the same approach that pact-js and pact-go now follow: the pact_elixir library should download the FFI bundles for each OS architecture at library publish time, and then link to them using whatever strategy is most unobtrusive to the app developer. We can reuse the pipeline scripts from these other implementations in order to download the bundles.

We need to pick an appropriate FFI strategy from the Elixir/Erlang ecosystem to allow a good developer experience. Rustler and handwritten NIF instrumentation do not seem to be good options. Erlang Ports or Port Drivers may be viable options. We may also be able to find a library to automatically *generate NIF bindings around the FFI bundles*, and if this is possible, this may be the best option. I am not very familiar with this part of the Elixir and Erlang ecosystem, so if anyone is more familiar with what is available, please share what you know!

Once we have researched and picked the right FFI strategy, we can create the bindings and have a fully-featured Elixir implementation of Pact!

*RESOURCES*

? <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a>: Elixir bindings for Pact, let?s focus our efforts to evolve this repo!
? <a href="https://hex.pm">https://hex.pm</a>: package manager for the ecosystem
? <a href="https://erlang.org/doc/tutorial/users_guide.html">https://erlang.org/doc/tutorial/users_guide.html</a>: Erlang Interoperability Tutorial User?s Guide, explains NIFs, ports, port drivers, etc.
? <a href="https://sudonull.com/post/97911-How-to-write-your-NIF-in-Elixir">https://sudonull.com/post/97911-How-to-write-your-NIF-in-Elixir</a>: Tutorial on writing NIFs. Note that the C code requires instrumentation, so hand-writing a NIF is likely not our best option.</div></div></div><br/>
<div><a id="1634676009.003100"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1634676009.003100" ><div class="time">2021-10-19 20:40</div></a><div class="msg">Thx Andrew for the extensive description - this approach sounds good to me!
We should experiment with calling the C library via Erlang Ports and via NIFs.
Besides replacing all existing Rust calls with C calls, we could list all missing user facing features like matchers, error handling, provider side and message based communication DSL.</div></div></div><br/>
<div><a id="1635462955.000200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1635462955.000200" ><div class="time">2021-10-28 23:15</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1638047157.001600"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1638047157.001600" ><div class="time">2021-11-27 21:05</div></a><div class="msg"><a href="https://twitter.com/josevalim/status/1463605416861081602?s=21">https://twitter.com/josevalim/status/1463605416861081602?s=21</a> could become an alternative approach.

"With this work, libraries using Rustler can precompile native code and everything will continue to work transparently for users!"

What do you think?</div></div></div><br/>
<div><a id="1638048892.002200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638048892.002200" ><div class="time">2021-11-27 21:34</div></a><div class="msg">That does sound like what we want!</div></div></div><br/>
<div><a id="1638050724.002300"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1638050724.002300" ><div class="time">2021-11-27 22:05</div></a><div class="msg">One of these rare moments of the week having time for software side projects and GitHub is down :grin:</div></div></div><br/>
<div><a id="1643037352.000200"><img src="https://avatars.slack-edge.com/2022-01-21/2988263844837_7981ed8be9726b9cd5ba_72.jpg" /></a><div class="message"><div class="username">david.kormushoff</div><a style="text-decoration: none" href="#1643037352.000200" ><div class="time">2022-01-24 15:15</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1643126272.000400"><img src="https://secure.gravatar.com/avatar/ce1afdf9bbbbd83ea9d122d4abc6bafb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">austin.reifsteck</div><a style="text-decoration: none" href="#1643126272.000400" ><div class="time">2022-01-25 15:57</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1643126518.002700"><img src="https://secure.gravatar.com/avatar/ce1afdf9bbbbd83ea9d122d4abc6bafb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">austin.reifsteck</div><a style="text-decoration: none" href="#1643126518.002700" ><div class="time">2022-01-25 16:01</div></a><div class="msg">Hi! I see there's been some discussion about NIFs and FFIs for the pact-elixir project. Has there been any resolution on this front? I'm interested in using Pact at my company and we have several elixir applications, so I'm curious about the current status of the project.</div></div></div><br/>
<div><a id="1643127444.004200"><img src="https://secure.gravatar.com/avatar/ce1afdf9bbbbd83ea9d122d4abc6bafb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">austin.reifsteck</div><a style="text-decoration: none" href="#1643127444.004200" ><div class="time">2022-01-25 16:17</div></a><div class="msg">I'm interested in contributing if I can, as well.</div></div></div><br/>
<div><a id="1643147766.004300"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643147766.004300" ><div class="time">2022-01-25 21:56</div></a><div class="msg">Hi Austin, thanks for your interest in the library.
I?m currently playing with prebuilt NIFs, so that users of the library don?t need to have Rust installed - based on the work at <a href="https://github.com/rusterlium/html5ever_elixir/pull/28">https://github.com/rusterlium/html5ever_elixir/pull/28</a>. I think this could be a viable solution to the problems regarding NIFs and FFIs discussed in this channel and I?ll try to release a new version of pact_elixir in the next days.

The current solution could for sure be simplified as soon as rustler comes with support for prebuilt NIFs.</div></div></div><br/>
<div><a id="1643148083.004500"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643148083.004500" ><div class="time">2022-01-25 22:01</div></a><div class="msg">The library has basic functions but lacks a lot of the features present in more mature pact libraries.
I would suggest to give it a try, see what?s missing for your use cases and discuss your suggestions in this channel or create a PR.

Also have a look at the <a href="https://github.com/elitau/pact_elixir/issues">https://github.com/elitau/pact_elixir/issues</a> in Github.</div></div></div><br/>
<div><a id="1643149315.008100"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643149315.008100" ><div class="time">2022-01-25 22:21</div></a><div class="msg">As a note for upcoming devs of the library.
I?ve encountered the problem of `Too many open files` raised by Rust on Mac Os during when executing `mix test` and solved it with `ulimit -S -n 2048`

Full error message:
```thread '&lt;unnamed&gt;' panicked at 'called `Result::unwrap()` on an `Err` value: Os { code: 24, kind: Uncategorized, message: "Too many open files" }', /Users/runner/.cargo/registry/src/github.com-1ecc6299db9ec823/hyper-0.9.18/src/net.rs:217:41```
</div></div></div><br/>
<div><a id="1643150501.009500"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643150501.009500" ><div class="time">2022-01-25 22:41</div></a><div class="msg">Just published version 0.5.2-rc.8 to <a href="http://hex.pm">http://hex.pm</a> with prebuilt NIFs (version numbers are totally messed up for now).
Give it a try :)</div></div></div><br/>
<div><a id="1643151448.009700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643151448.009700" ><div class="time">2022-01-25 22:57</div></a><div class="msg">that?s? strange</div></div></div><br/>
<div><a id="1643151493.009900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643151493.009900" ><div class="time">2022-01-25 22:58</div></a><div class="msg">is this during compilation or executing the c code? I?ve run into a lot of different problems but never that one (I may have previously bumped my ulimit of course), but still doesn?t sound right</div></div></div><br/>
<div><a id="1643151505.010100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643151505.010100" ><div class="time">2022-01-25 22:58</div></a><div class="msg">(update: my ulimit is `unlimited` :laughing: )</div></div></div><br/>
<div><a id="1643201189.010300"><img src="https://secure.gravatar.com/avatar/ce1afdf9bbbbd83ea9d122d4abc6bafb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">austin.reifsteck</div><a style="text-decoration: none" href="#1643201189.010300" ><div class="time">2022-01-26 12:46</div></a><div class="msg">Do you have a roadmap or priority list of issues to tackle?</div></div></div><br/>
<div><a id="1643280950.010500"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643280950.010500" ><div class="time">2022-01-27 10:55</div></a><div class="msg">No.
I?m currently not using the library in the products I?m involved.

I would suggest first to update all dependencies, foremost the pactmockserver Rust library.

Also not all possible matching features are currently supported.

And the error handling is not catching all possible errors thrown by the underlying Rust pack lib.</div></div></div><br/>
<div><a id="1643281176.010800"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1643281176.010800" ><div class="time">2022-01-27 10:59</div></a><div class="msg">I was getting the errors during executing the rust code and still not sure, what exactly is causing it.</div></div></div><br/>
<div><a id="1648571409.907549"><img src="https://secure.gravatar.com/avatar/75710cb3f2347654cb08482b7a1f46e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">hassan.shaikley</div><a style="text-decoration: none" href="#1648571409.907549" ><div class="time">2022-03-29 16:30</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1648571437.760259"><img src="https://secure.gravatar.com/avatar/75710cb3f2347654cb08482b7a1f46e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">hassan.shaikley</div><a style="text-decoration: none" href="#1648571437.760259" ><div class="time">2022-03-29 16:30</div></a><div class="msg">Hey all! I noticed this library uses the old rust app. Is it still worth picking up if I get started with Pact today?</div></div></div><br/>
<div><a id="1648600549.719869"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1648600549.719869" ><div class="time">2022-03-30 00:35</div></a><div class="msg">There was some activity around this a few months back with several folks looking to update and generally revamp the Rust-based approach. Last I saw a release candidate was shipped that uses a prebuilt NIF for the Rust lib integration: <a href="https://hex.pm/packages/pact_elixir/0.5.2-rc.8">https://hex.pm/packages/pact_elixir/0.5.2-rc.8</a> so you could give that a shot. I haven't used it myself/can't speak to exactly how well it will work.

I had ideas of a native Elixir implementation years ago but have not found the time to work on it unfortunately. So I'd say give the Rust app wrapper option a shot if you're open to that. Otherwise you're likely stuck using the prepackaged tools for some degree of verification <a href="https://docs.pact.io/implementation_guides/cli">https://docs.pact.io/implementation_guides/cli</a></div></div></div><br/>
<div><a id="1649055359.644769"><img src="https://secure.gravatar.com/avatar/d2f3ac0d36081cab03f246ea62cfe388.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">sheyan.rizfee</div><a style="text-decoration: none" href="#1649055359.644769" ><div class="time">2022-04-04 06:55</div></a><div class="msg">Hi All, was wondering if pact-elixir libraries are in a working state?
cc: @pact-slack @andrew.jensen @pedroefajardo_pactio</div></div></div><br/>
<div><a id="1649094140.509569"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1649094140.509569" ><div class="time">2022-04-04 17:42</div></a><div class="msg">idk @sheyan.rizfee
I haven?t touched them in a while.  We were waiting for an implementation that was going to bypass Rustler.  I don?t know what the state of that work is.  I haven?t followed up on it.</div></div></div><br/>
<div><a id="1649340907.936659"><img src="https://secure.gravatar.com/avatar/d2f3ac0d36081cab03f246ea62cfe388.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">sheyan.rizfee</div><a style="text-decoration: none" href="#1649340907.936659" ><div class="time">2022-04-07 14:15</div></a><div class="msg">thanks for the update..</div></div></div><br/>
<div><a id="1649868003.587039"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1649868003.587039" ><div class="time">2022-04-13 16:40</div></a><div class="msg"><a href="https://github.com/philss/rustler_precompiled">https://github.com/philss/rustler_precompiled</a> was recently released.
I plan to built it into pact_elixir in the coming weeks.</div></div></div><br/>
<div><a id="1650053773.316579"><img src="https://avatars.slack-edge.com/2021-08-12/2375184816402_08eb72bc6b3a829ac239_72.jpg" /></a><div class="message"><div class="username">andrew.jensen</div><a style="text-decoration: none" href="#1650053773.316579" ><div class="time">2022-04-15 20:16</div></a><div class="msg">This is awesome! Rustler?s previous requirement of the developer having a Rust toolchain was a big blocker before, but this should resolve it</div></div></div><br/>
<div><a id="1650309126.261889"><img src="https://secure.gravatar.com/avatar/e56972270335da29ddd62580416412c4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">lewiscowles</div><a style="text-decoration: none" href="#1650309126.261889" ><div class="time">2022-04-18 19:12</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1650583678.724289"><img src="https://avatars.slack-edge.com/2022-04-12/3376295139750_f2fe93c11cdbb983a00d_72.jpg" /></a><div class="message"><div class="username">albert.pincevic</div><a style="text-decoration: none" href="#1650583678.724289" ><div class="time">2022-04-21 23:27</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1651133171.390189"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1651133171.390189" ><div class="time">2022-04-28 08:06</div></a><div class="msg">FYI we?ll be dropping a Pactflow POST very soon. Worth a shout out here for people to get involved / contribute or best to keep this a little quiet until you folks get it to a point that others will be able to build upon?</div></div></div><br/>
<div><a id="1651243115.582399"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1651243115.582399" ><div class="time">2022-04-29 14:38</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1652119033.989479"><img src="https://avatars.slack-edge.com/2023-04-05/5087525533632_e914056bfe7293057bc6_72.png" /></a><div class="message"><div class="username">orbit</div><a style="text-decoration: none" href="#1652119033.989479" ><div class="time">2022-05-09 17:57</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1654708921.485649"><img src="https://avatars.slack-edge.com/2022-10-06/4188780648804_06ad6132e8393dbb202f_72.png" /></a><div class="message"><div class="username">slacksync</div><a style="text-decoration: none" href="#1654708921.485649" ><div class="time">2022-06-08 17:22</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1656434620.672379"><img src="https://secure.gravatar.com/avatar/4a03f868d2d46a2862311449ede0534f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">pedroefajardo_pactio</div><a style="text-decoration: none" href="#1656434620.672379" ><div class="time">2022-06-28 16:43</div></a><div class="msg">How?s this effort going?</div></div></div><br/>
<div><a id="1660980306.620599"><img src="https://avatars.slack-edge.com/2022-08-20/3980240791361_a2e07b726cc933ec5455_72.png" /></a><div class="message"><div class="username">duynguyenptithcm</div><a style="text-decoration: none" href="#1660980306.620599" ><div class="time">2022-08-20 07:25</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1662280110.666239"><img src="https://avatars.slack-edge.com/2019-04-16/598047417795_e9da0dc72d754a910b9d_72.jpg" /></a><div class="message"><div class="username">pact-slack</div><a style="text-decoration: none" href="#1662280110.666239" ><div class="time">2022-09-04 08:28</div></a><div class="msg">Not good. I?m too occupied with other things.</div></div></div><br/>
<div><a id="1668116443.298369"><img src="https://secure.gravatar.com/avatar/75710cb3f2347654cb08482b7a1f46e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">hassan.shaikley</div><a style="text-decoration: none" href="#1668116443.298369" ><div class="time">2022-11-10 21:40</div></a><div class="msg">Is there official support for Elixir yet?</div></div></div><br/>
<div><a id="1669909501.762899"><img src="https://avatars.slack-edge.com/2023-04-05/5087525533632_e914056bfe7293057bc6_72.png" /></a><div class="message"><div class="username">orbit</div><a style="text-decoration: none" href="#1669909501.762899" ><div class="time">2022-12-01 15:45</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1673501322.860059"><img src="https://avatars.slack-edge.com/2023-01-11/4624664097702_9aaccf516386db903d48_72.jpg" /></a><div class="message"><div class="username">vanitha.annamalai</div><a style="text-decoration: none" href="#1673501322.860059" ><div class="time">2023-01-12 05:28</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1673501360.297289"><img src="https://avatars.slack-edge.com/2023-01-11/4624664097702_9aaccf516386db903d48_72.jpg" /></a><div class="message"><div class="username">vanitha.annamalai</div><a style="text-decoration: none" href="#1673501360.297289" ><div class="time">2023-01-12 05:29</div></a><div class="msg">hey folks! Are there any plans of supporting elixir?</div></div></div><br/>
<div><a id="1673512708.170149"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1673512708.170149" ><div class="time">2023-01-12 08:38</div></a><div class="msg">Unfortunately the history of this channel is lost to the depths of the free tier. There are no official plans, albeit there have been starts</div></div></div><br/>
<div><a id="1673512736.425669"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1673512736.425669" ><div class="time">2023-01-12 08:38</div></a><div class="msg">you can see some of that history here: <a href="https://docs.pact.io/slack/pact-elixir.html">https://docs.pact.io/slack/pact-elixir.html</a></div></div></div><br/>
<div><a id="1673512807.594509"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1673512807.594509" ><div class="time">2023-01-12 08:40</div></a><div class="msg">We (maintainers) are of course happy to support a community initiative to bring one up to speed</div></div></div><br/>
<div><a id="1673514408.289239"><img src="https://avatars.slack-edge.com/2023-01-11/4624664097702_9aaccf516386db903d48_72.jpg" /></a><div class="message"><div class="username">vanitha.annamalai</div><a style="text-decoration: none" href="#1673514408.289239" ><div class="time">2023-01-12 09:06</div></a><div class="msg">thanks @matt.fellows</div></div></div><br/>
<div><a id="1681459878.779059"><img src="https://avatars.slack-edge.com/2023-04-14/5107261568629_34803dcafcb884336954_72.png" /></a><div class="message"><div class="username">florenciaaldana.rodri</div><a style="text-decoration: none" href="#1681459878.779059" ><div class="time">2023-04-14 08:11</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1683678707.819729"><img src="https://avatars.slack-edge.com/2023-03-24/5005942592803_715b2fcdfb556bb3cab7_72.jpg" /></a><div class="message"><div class="username">srijan.c</div><a style="text-decoration: none" href="#1683678707.819729" ><div class="time">2023-05-10 00:31</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1686765980.568789"><img src="https://avatars.slack-edge.com/2023-06-14/5439648791937_97712accaf0e2798ed97_72.jpg" /></a><div class="message"><div class="username">drew.bowman</div><a style="text-decoration: none" href="#1686765980.568789" ><div class="time">2023-06-14 18:06</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1687923997.763049"><img src="https://avatars.slack-edge.com/2023-03-24/5005942592803_715b2fcdfb556bb3cab7_72.jpg" /></a><div class="message"><div class="username">srijan.c</div><a style="text-decoration: none" href="#1687923997.763049" ><div class="time">2023-06-28 03:46</div></a><div class="msg">Should we rename this to pact-beam and include discussions of the new pact_erlang library as well?</div></div></div><br/>
<div><a id="1687955047.934019"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1687955047.934019" ><div class="time">2023-06-28 12:24</div></a><div class="msg">Makes sense to me. This channel has been pretty quiet since I joined it long ago. I think discussing any beam-related stuff here makes sense.</div></div></div><br/>
<div><a id="1687955351.418839"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687955351.418839" ><div class="time">2023-06-28 12:29</div></a><div class="msg">We can rename if needed. We are working to get a paid workspace, hopefully that will be soon, and then the elixir history will be back</div></div></div><br/>
<div><a id="1687955444.192769"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687955444.192769" ><div class="time">2023-06-28 12:30</div></a><div class="msg">I?d expect (in time) that both Elixir and Erlang would have separate DSLs, specific to each language. Despite the common runtime, they are separate. I say that without knowing much. Is ?beam? the common platform that would be obvious to both languages / the ecosystem to join?</div></div></div><br/>
<div><a id="1687955499.085739"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1687955499.085739" ><div class="time">2023-06-28 12:31</div></a><div class="msg">The inaccurate but quickest approximation I can give is like the JVM for Java, Scala, Clojure, etc.</div></div></div><br/>
<div><a id="1687955513.906889"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687955513.906889" ><div class="time">2023-06-28 12:31</div></a><div class="msg">that?s what I was thinking</div></div></div><br/>
<div><a id="1687955520.184859"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687955520.184859" ><div class="time">2023-06-28 12:32</div></a><div class="msg">so `#pact-beam` would cover both Erlang and Elixir?</div></div></div><br/>
<div><a id="1687955532.716389"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1687955532.716389" ><div class="time">2023-06-28 12:32</div></a><div class="msg">So we can share/reuse stuff across the board if we choose. But yes you do end up with language-specific DSLs for stuff.</div></div></div><br/>
<div><a id="1687955560.492199"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1687955560.492199" ><div class="time">2023-06-28 12:32</div></a><div class="msg">Yeah it'd cover those among some others</div></div></div><br/>
<div><a id="1687955563.705859"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687955563.705859" ><div class="time">2023-06-28 12:32</div></a><div class="msg">has renamed the channel from "pact-elixir" to "pact-beam"</div></div></div><br/>
<div><a id="1687955706.927739"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687955706.927739" ><div class="time">2023-06-28 12:35</div></a><div class="msg">@priyaranjanmudliar - where did you land with the Erlang bindings? (and welcome :blobwave: )</div></div></div><br/>
<div><a id="1687955751.539379"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1687955751.539379" ><div class="time">2023-06-28 12:35</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1687955789.638699"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687955789.638699" ><div class="time">2023-06-28 12:36</div></a><div class="msg">set the channel description: Discuss Elixir and Erlang related Pact implementations. Work in progress for Elixir exists at <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a></div></div></div><br/>
<div><a id="1687956360.072129"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1687956360.072129" ><div class="time">2023-06-28 12:46</div></a><div class="msg">erlang bindings? Do you mean erlang to c function calls ?</div></div></div><br/>
<div><a id="1687963241.122549"><img src="https://avatars.slack-edge.com/2023-03-24/5005942592803_715b2fcdfb556bb3cab7_72.jpg" /></a><div class="message"><div class="username">srijan.c</div><a style="text-decoration: none" href="#1687963241.122549" ><div class="time">2023-06-28 14:40</div></a><div class="msg">The erlang wip is at <a href="https://github.com/greyorange-labs/pact-erlang">https://github.com/greyorange-labs/pact-erlang</a>
With the package at <a href="https://hex.pm/packages/pact_erlang">https://hex.pm/packages/pact_erlang</a></div></div></div><br/>
<div><a id="1687968501.501199"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1687968501.501199" ><div class="time">2023-06-28 16:08</div></a><div class="msg">@matt.fellows I think this can be used by Elixir apps as well</div></div></div><br/>
<div><a id="1687994366.756549"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687994366.756549" ><div class="time">2023-06-28 23:19</div></a><div class="msg">Awesome, I?ll put in the channel description so it?s obvious to newcomers</div></div></div><br/>
<div><a id="1687994395.905539"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687994395.905539" ><div class="time">2023-06-28 23:19</div></a><div class="msg">set the channel description: Discuss Elixir and Erlang related Pact implementations. Work in progress for Elixir exists at <a href="https://github.com/elitau/pact_elixir">https://github.com/elitau/pact_elixir</a>

The erlang wip is at <a href="https://github.com/greyorange-labs/pact-erlang">https://github.com/greyorange-labs/pact-erlang</a> (<a href="https://hex.pm/packages/pact_erlang">https://hex.pm/packages/pact_erlang</a>)</div></div></div><br/>
<div><a id="1687994413.685649"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687994413.685649" ><div class="time">2023-06-28 23:20</div></a><div class="msg">Are you folks using it in your org or is it still very early experimental days?</div></div></div><br/>
<div><a id="1687994490.195589"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1687994490.195589" ><div class="time">2023-06-28 23:21</div></a><div class="msg">Also, cool! <a href="https://www.greyorange.com/">https://www.greyorange.com/</a></div></div></div><br/>
<div><a id="1688003230.982209"><img src="https://avatars.slack-edge.com/2023-03-24/5005942592803_715b2fcdfb556bb3cab7_72.jpg" /></a><div class="message"><div class="username">srijan.c</div><a style="text-decoration: none" href="#1688003230.982209" ><div class="time">2023-06-29 01:47</div></a><div class="msg">just started trying to use it.. but still figuring out the right API/DSL</div></div></div><br/>
<div><a id="1688041803.159749"><img src="https://avatars.slack-edge.com/2023-03-24/5005942592803_715b2fcdfb556bb3cab7_72.jpg" /></a><div class="message"><div class="username">srijan.c</div><a style="text-decoration: none" href="#1688041803.159749" ><div class="time">2023-06-29 12:30</div></a><div class="msg">Request for comments: DSL and project structure for pact-erlang: <a href="https://github.com/greyorange-labs/pact-erlang/issues/11">https://github.com/greyorange-labs/pact-erlang/issues/11</a></div></div></div><br/>
<div><a id="1691675201.976029"><img src="https://avatars.slack-edge.com/2023-04-20/5137141632262_654b726edae4e88d4b53_72.png" /></a><div class="message"><div class="username">lluis.casals</div><a style="text-decoration: none" href="#1691675201.976029" ><div class="time">2023-08-10 13:46</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1692080800.886849"><img src="https://avatars.slack-edge.com/2023-03-24/5005942592803_715b2fcdfb556bb3cab7_72.jpg" /></a><div class="message"><div class="username">srijan.c</div><a style="text-decoration: none" href="#1692080800.886849" ><div class="time">2023-08-15 06:26</div></a><div class="msg">pact_erlang version 0.2.0 released with the new map-based DSL: <a href="https://github.com/greyorange-labs/pact_erlang">https://github.com/greyorange-labs/pact_erlang</a>
Sample usage:
```PactRef = pact:v4(&lt;&lt;"myapp"&gt;&gt;, &lt;&lt;"animal_service"&gt;&gt;),
AnimalObject = #{&lt;&lt;"name"&gt;&gt; =&gt; &lt;&lt;"Mary"&gt;&gt;, &lt;&lt;"type"&gt;&gt; =&gt; &lt;&lt;"alligator"&gt;&gt;},
{ok, Port} = pact:interaction(PactRef,
#{
    given =&gt; &lt;&lt;"an alligator with the name Mary exists"&gt;&gt;,
    upon_receiving =&gt; &lt;&lt;"a request to GET an animal: Mary"&gt;&gt;,
    with_request =&gt; #{
        method =&gt; &lt;&lt;"GET"&gt;&gt;,
        path =&gt; &lt;&lt;"/animals/Mary"&gt;&gt;
    },
    will_respond_with =&gt; #{
        status =&gt; 200,
        headers =&gt; #{
            &lt;&lt;"Content-Type"&gt;&gt; =&gt; &lt;&lt;"application/json"&gt;&gt;
        },
        body =&gt; thoas:encode(AnimalObject)
    }
}),
?assertMatch({ok, AnimalObject}, animal_service_interface:get_animal(Port, "Mary")),
{ok, matched} = pact:verify(PactRef),
pact:write(PactRef, &lt;&lt;"./pacts"&gt;&gt;),
pact:cleanup(PactRef).```</div></div></div><br/>
<div><a id="1692108768.535149"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1692108768.535149" ><div class="time">2023-08-15 14:12</div></a><div class="msg">Thanks @srijan.c for all the help, this is awesome ! :taco: for you..</div></div></div><br/>
<div><a id="1692110704.448099"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1692110704.448099" ><div class="time">2023-08-15 14:45</div></a><div class="msg">Nice stuff fella! Will make sure we get this in this months pact blog!</div></div></div><br/>
<div><a id="1695192058.253709"><img src="https://avatars.slack-edge.com/2023-09-04/5837088704774_48cff3b272aaa2c25e6b_72.jpg" /></a><div class="message"><div class="username">joshua.ellis</div><a style="text-decoration: none" href="#1695192058.253709" ><div class="time">2023-09-20 06:40</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1703068558.228099"><img src="https://secure.gravatar.com/avatar/e56972270335da29ddd62580416412c4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">lewiscowles</div><a style="text-decoration: none" href="#1703068558.228099" ><div class="time">2023-12-20 10:35</div></a><div class="msg">@lewiscowles has left the channel</div></div></div><br/>
<div><a id="1704227248.145919"><img src="https://avatars.slack-edge.com/2024-01-02/6417259796100_9db5589f10aa71587933_72.png" /></a><div class="message"><div class="username">matt.pichette</div><a style="text-decoration: none" href="#1704227248.145919" ><div class="time">2024-01-02 20:27</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1710339574.292609"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710339574.292609" ><div class="time">2024-03-13 14:19</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1710339637.703549"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710339637.703549" ><div class="time">2024-03-13 14:20</div></a><div class="msg">Hello everyone! My company has recently decided to adopt pact in order to test our different services. Please let me know if there is anything I can to do help with this effort.</div></div></div><br/>
<div><a id="1710346569.708769"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1710346569.708769" ><div class="time">2024-03-13 16:16</div></a><div class="msg">Hi @keen.dog0093 , you can try pact_erlang (<a href="https://github.com/greyorange-labs/pact_erlang">https://github.com/greyorange-labs/pact_erlang</a>) for your elixir/erlang applications. If you need help on understanding how it works, I would suggest you to go through the pact_end_to_end_SUITE.erl inside test folder which also acts as an example for how to write pact tests.

Currently it supports http based contracts using pact ffi, but since its developed on top of pact ffi lib, it can be extended easily for non-http pacts as well. We have an issue open for non-http interactions which might need a little help -&gt; <a href="https://github.com/greyorange-labs/pact_erlang/issues/7">https://github.com/greyorange-labs/pact_erlang/issues/7</a>.</div></div></div><br/>
<div><a id="1710347380.998379"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710347380.998379" ><div class="time">2024-03-13 16:29</div></a><div class="msg">Thanks. I have already started looking into the library to integrate it with our system.</div></div></div><br/>
<div><a id="1710351145.284499"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710351145.284499" ><div class="time">2024-03-13 17:32</div></a><div class="msg">I am writing my first test with pact and it seems I am running into a problem.
```(pact_erlang 0.2.2) :pactffi_nif.given(65537, %{params: %{foo: "bar"}, state: "foo"})```
I have those actual values in the given expression. I am getting an argument error. That map would be `#{params =&gt; #{foo =&gt; &lt;&lt;"bar"&gt;&gt;}, state =&gt; &lt;&lt;"foo"&gt;&gt;}` in Erlang.

Any help here would be appreciated.</div></div></div><br/>
<div><a id="1710351201.274999"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710351201.274999" ><div class="time">2024-03-13 17:33</div></a><div class="msg">Actually, it looks like I missed the step in the test suite that turns it into json.</div></div></div><br/>
<div><a id="1710351354.207139"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710351354.207139" ><div class="time">2024-03-13 17:35</div></a><div class="msg">But that didn't seem to fix my issue.</div></div></div><br/>
<div><a id="1710352006.656349"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710352006.656349" ><div class="time">2024-03-13 17:46</div></a><div class="msg">It looks like that functionality is not yet released in the hex package. I will just have my dep point to GH for now.</div></div></div><br/>
<div><a id="1710359530.766849"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710359530.766849" ><div class="time">2024-03-13 19:52</div></a><div class="msg">How am I supposed to tell pact that I am sending it a query string?</div></div></div><br/>
<div><a id="1710363630.580799"><img src="https://avatars.slack-edge.com/2023-09-04/5837088704774_48cff3b272aaa2c25e6b_72.jpg" /></a><div class="message"><div class="username">joshua.ellis</div><a style="text-decoration: none" href="#1710363630.580799" ><div class="time">2024-03-13 21:00</div></a><div class="msg">Hi :blobwave:

I'm a developer working on Pact Python, and while I may not be super familiar with the Pact Beam, the underlying FFI you would need to use is <a href="https://docs.rs/pact_ffi/0.4.18/pact_ffi/mock_server/handles/fn.pactffi_with_query_parameter_v2.html">https://docs.rs/pact_ffi/0.4.18/pact_ffi/mock_server/handles/fn.pactffi_with_query_parameter_v2.html</a>.

Searching in the Pact Erlang codebase, it looks like <a href="https://github.com/greyorange-labs/pact_erlang/blob/7aec8c8333a090b233d28b4f32e8e242a4851865/src/pact_consumer_http.erl#L116-L130">https://github.com/greyorange-labs/pact_erlang/blob/7aec8c8333a090b233d28b4f32e8e242a4851865/src/pact_consumer_http.erl#L116-L130</a>. Hope that helps a bit!</div></div></div><br/>
<div><a id="1710363778.790989"><img src="https://avatars.slack-edge.com/2023-09-04/5837088704774_48cff3b272aaa2c25e6b_72.jpg" /></a><div class="message"><div class="username">joshua.ellis</div><a style="text-decoration: none" href="#1710363778.790989" ><div class="time">2024-03-13 21:02</div></a><div class="msg">and it looks like there's an easy PR as well for a little fix :smile:</div></div></div><br/>
<div><a id="1710370598.402639"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1710370598.402639" ><div class="time">2024-03-13 22:56</div></a><div class="msg">Thank you for that!</div></div></div><br/>
<div><a id="1711135507.721409"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1711135507.721409" ><div class="time">2024-03-22 19:25</div></a><div class="msg">Do people generally use the pact verifier cli in order to verify their pacts? If so, how does that work with seeding data into the application?</div></div></div><br/>
<div><a id="1711144919.781799"><img src="https://avatars.slack-edge.com/2023-09-04/5837088704774_48cff3b272aaa2c25e6b_72.jpg" /></a><div class="message"><div class="username">joshua.ellis</div><a style="text-decoration: none" href="#1711144919.781799" ><div class="time">2024-03-22 22:01</div></a><div class="msg">It certainly is possible to use the FFI as well. The available methods can be found <a href="https://docs.rs/pact_ffi/latest/pact_ffi/?search=pactffi_verifier">https://docs.rs/pact_ffi/latest/pact_ffi/?search=pactffi_verifier</a>.

I'm not what you mean though by 'seeding data'. Pacts are consumer driven, so the consumer side would create the contract. Then on the verifier side, you point Pact to the contracts (by way of either files or a broker), and Pact will replay these contracts against the provider to verify.</div></div></div><br/>
<div><a id="1711148878.267609"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1711148878.267609" ><div class="time">2024-03-22 23:07</div></a><div class="msg">Right. But if I wanted to write a tests that searches for something, that something needs to exist within the producer application. Given this Erlang library, I can write something like <a href="https://github.com/greyorange-labs/pact_erlang/blob/develop/test/pact_end_to_end_SUITE.erl#L40-L43">https://github.com/greyorange-labs/pact_erlang/blob/develop/test/pact_end_to_end_SUITE.erl#L40-L43</a> that defines that some state needs to live on the producer side. If I am using the verifier cli, I can't really see how I am supposed to get this data. The library tests for this project <a href="https://github.com/greyorange-labs/pact_erlang/blob/develop/test/pact_end_to_end_SUITE.erl#L183C5-L187C72">https://github.com/greyorange-labs/pact_erlang/blob/develop/test/pact_end_to_end_SUITE.erl#L183C5-L187C72</a>. But I am not really seeing how that creates the data required in order to make the test pass. Presumably if there was no data in the database (or wherever this data is retrieved), the search would fail and you would return something other than the expected searched for item.</div></div></div><br/>
<div><a id="1711158184.225269"><img src="https://avatars.slack-edge.com/2020-02-14/953217781188_ecfe2ee996ffcead96b5_72.png" /></a><div class="message"><div class="username">mpglover</div><a style="text-decoration: none" href="#1711158184.225269" ><div class="time">2024-03-23 01:43</div></a><div class="msg">I vaguely remember doing something similar with the CLI tool. I want to say it was roughly like this <a href="https://docs.pact.io/implementation_guides/rust/pact_verifier_cli#state-change-requests">https://docs.pact.io/implementation_guides/rust/pact_verifier_cli#state-change-requests</a> where it can make API calls to setup state though I remember having to setup handlers for various state scenarios to manually setup the data on the provider side.

Don't know if the Rust thing I'm linking is exactly what I was using at the time though. This was many years ago.</div></div></div><br/>
<div><a id="1711213405.413069"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1711213405.413069" ><div class="time">2024-03-23 17:03</div></a><div class="msg">Okay. Test specific routes might be okay.</div></div></div><br/>
<div><a id="1711269209.205999"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1711269209.205999" ><div class="time">2024-03-24 08:33</div></a><div class="msg">@keen.dog0093 the provider has to  implement the `/pactStateChange`  api and the ?pact mock consumer? which is the pact verifier cli will call this api with the the below payload:

```{
"state": GivenInTheConsumerPact,
"params": StateJSON
}```</div></div></div><br/>
<div><a id="1711269327.643729"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1711269327.643729" ><div class="time">2024-03-24 08:35</div></a><div class="msg">although in the new PR in pact_erlang I introduced a wrapper over the pact ffi?s verifier functionality to verify the provider without the need of docker and the pact-verifier-cli tool</div></div></div><br/>
<div><a id="1711374703.365539"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1711374703.365539" ><div class="time">2024-03-25 13:51</div></a><div class="msg">That would be really helpful. Thank you for getting that implemented!</div></div></div><br/>
<div><a id="1711398801.589499"><img src="https://avatars.slack-edge.com/2023-09-04/5837088704774_48cff3b272aaa2c25e6b_72.jpg" /></a><div class="message"><div class="username">joshua.ellis</div><a style="text-decoration: none" href="#1711398801.589499" ><div class="time">2024-03-25 20:33</div></a><div class="msg">Yeah, to echo and hopefully clarify things a bit.

As you have found already, the consumer can specify provider states such as `given user 1 exists`.

On the provider side, Pact allows for the state to be changed through a callback. The callback more specifically is a dedicated API endpoint available during testing which is designed to alter the provider's internal state (e.g. `/_test/callback`). In order to avoid the need to spin up databases and actually mutate other services, it is also best practice to mock sources of data external to the provider.

There are examples of this setup on various languages, for example <a href="https://github.com/pact-foundation/pact-python/tree/master/examples">https://github.com/pact-foundation/pact-python/tree/master/examples</a>, <a href="https://github.com/pact-foundation/pact-js/tree/master/examples/v3/provider-state-injected">https://github.com/pact-foundation/pact-js/tree/master/examples/v3/provider-state-injected</a>.</div></div></div><br/>
<div><a id="1711399012.780549"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1711399012.780549" ><div class="time">2024-03-25 20:36</div></a><div class="msg">Thank you for the information!</div></div></div><br/>
<div><a id="1712600094.820799"><img src="https://avatars.slack-edge.com/2024-04-08/6942308898353_259a0e788c6b4b2efe9c_72.png" /></a><div class="message"><div class="username">fernando.caldera</div><a style="text-decoration: none" href="#1712600094.820799" ><div class="time">2024-04-08 18:14</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1714008659.483089"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1714008659.483089" ><div class="time">2024-04-25 01:30</div></a><div class="msg">I am trying to use the new `:pact_verifier` module to verify my pacts. But I can't seem to get it to work. I have tried following the test code as closely as possible, but I am getting the following error.

```escript: exception error: no match of right hand side value {error,bad_directory}
  in function  erl_eval:expr/6 (erl_eval.erl, line 498)
  in call from escript:eval_exprs/5 (escript.erl, line 869)
  in call from erl_eval:local_func/8 (erl_eval.erl, line 646)
  in call from escript:interpret/4 (escript.erl, line 780)
  in call from escript:start/1 (escript.erl, line 277)
  in call from init:start_em/1 
  in call from init:do_boot/3 
escript: exception error: no match of right hand side value {error,bad_directory}
  in function  erl_eval:expr/6 (erl_eval.erl, line 498)
  in call from escript:eval_exprs/5 (escript.erl, line 869)
  in call from erl_eval:local_func/8 (erl_eval.erl, line 646)
  in call from escript:interpret/4 (escript.erl, line 780)
  in call from escript:start/1 (escript.erl, line 277)
  in call from init:start_em/1 
  in call from init:do_boot/3 ```
I can't seem to figure out what is going wrong with this one.</div></div></div><br/>
<div><a id="1714030843.050829"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1714030843.050829" ><div class="time">2024-04-25 07:40</div></a><div class="msg">hi @keen.dog0093, are you running this outside of erlang/elixir CT/UT ?. If yes, its a known issue. Please raise an issue for this, will fix as soon as i get time for this.</div></div></div><br/>
<div><a id="1714048131.512299"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1714048131.512299" ><div class="time">2024-04-25 12:28</div></a><div class="msg">This is being run from ExUnit. I'm assuming CT is common test, but I'm not sure what UT is.</div></div></div><br/>
<div><a id="1714051129.112169"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1714051129.112169" ><div class="time">2024-04-25 13:18</div></a><div class="msg">Just for reference, <a href="https://github.com/greyorange-labs/pact_erlang/issues/32">https://github.com/greyorange-labs/pact_erlang/issues/32</a></div></div></div><br/>
<div><a id="1715800249.213559"><img src="https://secure.gravatar.com/avatar/8bc31d2172630c1d5fa190afd4eed511.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">praful.poudel</div><a style="text-decoration: none" href="#1715800249.213559" ><div class="time">2024-05-15 19:10</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1715801682.486129"><img src="https://avatars.slack-edge.com/2024-05-15/7120706830405_e604d66b02422e0cff89_72.png" /></a><div class="message"><div class="username">todd.resudek</div><a style="text-decoration: none" href="#1715801682.486129" ><div class="time">2024-05-15 19:34</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1717777068.043979"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1717777068.043979" ><div class="time">2024-06-07 16:17</div></a><div class="msg">Is this lib known to work with the pactflow broker?</div></div></div><br/>
<div><a id="1717819587.238029"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1717819587.238029" ><div class="time">2024-06-08 04:06</div></a><div class="msg">It uses the shared core or other languages, so it should. The contracts it produces definitely are. The only touch point it would have is provider verification, so it should be able to fetch pacts from Pactflow. Have you tried?</div></div></div><br/>
<div><a id="1718149391.900869"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1718149391.900869" ><div class="time">2024-06-11 23:43</div></a><div class="msg">That is what I was looking to figure out. I was able to push the pact files, but I can't really seem to find the proper configuration to give the lib in order to accept the token. <a href="https://github.com/greyorange-labs/pact_erlang/blob/develop/c_src/pactffi_nif.c#L828C5-L828C50">https://github.com/greyorange-labs/pact_erlang/blob/develop/c_src/pactffi_nif.c#L828C5-L828C50</a> -- It seems like this lib doesn't allow passing the token at the moment, which I think is needed for pactflow.</div></div></div><br/>
<div><a id="1718149575.898179"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1718149575.898179" ><div class="time">2024-06-11 23:46</div></a><div class="msg">Actually, I didn't use the lib to push the pact files. I used the github action to do it.</div></div></div><br/>
<div><a id="1718152734.306359"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1718152734.306359" ><div class="time">2024-06-12 00:38</div></a><div class="msg">You?re right, it looks like it needs an argument after the password to support token, see the C definition here: <a href="https://github.com/pact-foundation/pact-reference/blob/278f56fa57f7a4cbcf4e412dac6fb34db8ebf089/rust/pact_ffi/src/verifier/mod.rs#L555">https://github.com/pact-foundation/pact-reference/blob/278f56fa57f7a4cbcf4e412dac6fb34db8ebf089/rust/pact_ffi/src/verifier/mod.rs#L555</a>

should be easy enough to add and create a PR?</div></div></div><br/>
<div><a id="1718152744.448249"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1718152744.448249" ><div class="time">2024-06-12 00:39</div></a><div class="msg">Perfect, that?s our recommendation (CLI) anyway</div></div></div><br/>
<div><a id="1718152837.564119"><img src="https://avatars.slack-edge.com/2024-03-13/6793487596723_d77242d34d6139f7ceea_72.png" /></a><div class="message"><div class="username">keen.dog0093</div><a style="text-decoration: none" href="#1718152837.564119" ><div class="time">2024-06-12 00:40</div></a><div class="msg">Yes, it would be fairly simple. But my employer requires me to go through legal in order to contribute back to OS projects unfortunately. Last time I wanted to do something, it took over a month to get that approval.</div></div></div><br/>
<div><a id="1718153598.258139"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1718153598.258139" ><div class="time">2024-06-12 00:53</div></a><div class="msg">Can you do it from a personal computer/account?</div></div></div><br/>
<div><a id="1718284398.451599"><img src="https://avatars.slack-edge.com/2024-06-13/7293834789264_8c4e6532c384dcced9b7_72.jpg" /></a><div class="message"><div class="username">laurentipaolo</div><a style="text-decoration: none" href="#1718284398.451599" ><div class="time">2024-06-13 13:13</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1732284533.495449"><img src="https://avatars.slack-edge.com/2024-11-20/8085334633680_4ffc9fd8b97563f18f6f_72.jpg" /></a><div class="message"><div class="username">gianluca.ciccarelli</div><a style="text-decoration: none" href="#1732284533.495449" ><div class="time">2024-11-22 14:08</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1747056514.753079"><img src="https://avatars.slack-edge.com/2025-05-09/8857145431959_25f58f029f14c25fa30b_72.jpg" /></a><div class="message"><div class="username">divig93</div><a style="text-decoration: none" href="#1747056514.753079" ><div class="time">2025-05-12 13:28</div></a><div class="msg">has joined #pact-beam</div></div></div><br/>
<div><a id="1750077104.626809"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1750077104.626809" ><div class="time">2025-06-16 12:31</div></a><div class="msg">I am running into segmentation fault while trying to fix the issue - <a href="https://github.com/greyorange-labs/pact_erlang/issues/32">https://github.com/greyorange-labs/pact_erlang/issues/32</a>. This is only happening in linux and not in macos. (Specifically in the call `pactffi_verifier_execute` ).
The in progress PR is  - <a href="https://github.com/greyorange-labs/pact_erlang/pull/49">https://github.com/greyorange-labs/pact_erlang/pull/49</a>

It will be really helpful if anyone knows how to debug/fix this issue. Thanks</div></div></div><br/>
<div><a id="1750077193.456979"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1750077193.456979" ><div class="time">2025-06-16 12:33</div></a><div class="msg">which version of the ffi are you using? can you try using the latest. or if you are using the latest, move back a version and try?

which flavour of linux? musl or glibc?</div></div></div><br/>
<div><a id="1750079927.066359"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1750079927.066359" ><div class="time">2025-06-16 13:18</div></a><div class="msg">1. current ffi version - `0.4.7` , will try with latest
2.  glibc linux </div></div></div><br/>
<div><a id="1750079981.069969"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1750079981.069969" ><div class="time">2025-06-16 13:19</div></a><div class="msg">Also i tried using gdb for analysing the dump, the backtrace i got from gdb is the following:

```#0  _int_malloc(av=0x7c75a0000030, bytes=208) at ./malloc/malloc.c:4122
#1  __GI___libc_malloc(bytes=208) at ./malloc/malloc.c:3336
#2  alloc::vec::Vec&lt;T,A&gt; as core::clone::Clone&gt;::clone()
#3  reqwest::async_impl::request::Request::try_clone()
#4  reqwest::async_impl::request::RequestBuilder::try_clone()
#5  futures_util::stream::fold::Fold::poll()
#6  pact_verifier::utils::with_retries::{{closure}}()
#7  pact_verifier::pact_broker::HALClient::fetch::{{closure}}()
#8  pact_verifier::pact_broker::HALClient::navigate::{{closure}}()
#9  pact_verifier::fetch_pact::{{closure}}::{{closure}}()
#10 tracing::instrument::Instrumented&lt;T&gt;::poll()
#11 futures_util::stream::flatten::Flatten::poll_next()
#12 futures_util::stream::collect::Collect::poll()
#13 pact_verifier::fetch_pacts::{{closure}}::{{closure}}()
#14 pact_verifier::verify_provider_async::{{closure}}::{{closure}}()
#15 tracing::instrument::Instrumented&lt;T&gt;::poll()
#16 tokio::task::task_local::TaskLocalFuture&lt;T,F&gt;::poll()
#17 pact_verifier::verify_provider_async::{{closure}}()
#18 tokio::runtime::context::blocking::BlockingRegionGuard::block_on()
#19 tokio::runtime::context::runtime::enter_runtime()
#20 tokio::runtime::runtime::Runtime::block_on()
#21 pact_ffi::verifier::handle::VerifierHandle::execute()
#22 pact_ffi::error::panic::catch_panic()
#23 pactffi_verifier_execute()
#24 verify_via_broker_direct() at pactffi_nif.c:778
#25 verify_via_broker_direct() at pactffi_nif.c:713
#26 erts_call_dirty_nif() at beam/erl_nif.c:466
#27 erts_dirty_process_main() at beam/beam_common.c:280
#28 sched_dirty_io_thread_func() at beam/erl_process.c:8768
#29 thr_wrapper() at pthread/ethread.c:116
#30 start_thread() at pthread_create.c:447
#31 clone3() at clone3.S:78```</div></div></div><br/>
<div><a id="1750080026.335039"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1750080026.335039" ><div class="time">2025-06-16 13:20</div></a><div class="msg">I can?t see the tests running the on macos action runs here, is that correct?

<a href="https://github.com/greyorange-labs/pact_erlang/actions/runs/15512562131/job/43675273600">https://github.com/greyorange-labs/pact_erlang/actions/runs/15512562131/job/43675273600</a>

trying locally, is that on your mac or linux?

ty</div></div></div><br/>
<div><a id="1750080085.727269"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1750080085.727269" ><div class="time">2025-06-16 13:21</div></a><div class="msg">Yeah its running on my mac, currently the tests dont run in macos</div></div></div><br/>
<div><a id="1750080137.998689"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1750080137.998689" ><div class="time">2025-06-16 13:22</div></a><div class="msg">&gt; Also i tried using gdb for analysing the dump, the backtrace i got from gdb is the following:
Great stuff, can you isolate to the particular test? and the ffi calls made be in it?

We should be able to create a test case repro in rust and test x plat in ci :+1:</div></div></div><br/>
<div><a id="1750080292.448999"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1750080292.448999" ><div class="time">2025-06-16 13:24</div></a><div class="msg">ahh its the verifier code.

Can you say reduce the amount of variables being passed in the example, and reproduce.

I see that are broker creds, but also a file_path, which ideally you should only have one or the other.

is this for any type of pact spec, transport type, or any? Thx</div></div></div><br/>
<div><a id="1750082763.343099"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1750082763.343099" ><div class="time">2025-06-16 14:06</div></a><div class="msg">&gt; Great stuff, can you isolate to the particular test? and the ffi calls made be in it?
&gt; 
&gt; We should be able to create a test case repro in rust and test x plat in ci
Yes, i will try to reproduce this in C without using erlang and report it..</div></div></div><br/>
<div><a id="1751544596.683169"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1751544596.683169" ><div class="time">2025-07-03 12:09</div></a><div class="msg">@yousafn i think you were right, apparently its only happening with my erlang code that interacts with the rust library</div></div></div><br/>
<div><a id="1751544652.460149"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1751544652.460149" ><div class="time">2025-07-03 12:10</div></a><div class="msg">I tested my code with just hardcoding it with values and it worked fine without segmentation fault, now I have to debug whats wrong with my NIF code

FYI @srijan.c</div></div></div><br/>
<div><a id="1751552951.411619"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1751552951.411619" ><div class="time">2025-07-03 14:29</div></a><div class="msg">Update: when i am trying to verify via broker, getting segmentation fault? not when verifying via local file</div></div></div><br/>
<div><a id="1751616611.361929"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1751616611.361929" ><div class="time">2025-07-04 08:10</div></a><div class="msg">@yousafn is the pactffi library functions thread-safe ?</div></div></div><br/>
<div><a id="1751662848.188779"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1751662848.188779" ><div class="time">2025-07-04 21:00</div></a><div class="msg">@yousafn finally fixed <a href="https://github.com/greyorange-labs/pact_erlang/pull/49">https://github.com/greyorange-labs/pact_erlang/pull/49</a>, tests are passing for both mac and linux machines :smile:</div></div></div><br/>
<div><a id="1751881826.431019"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1751881826.431019" ><div class="time">2025-07-07 09:50</div></a><div class="msg">hmm i?m not sure on thread safety. glad you got it sorted dude, I can?t tell from the PR what the underlying issue was for the seg faults</div></div></div><br/>
<div><a id="1751882024.858409"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1751882024.858409" ><div class="time">2025-07-07 09:53</div></a><div class="msg">In the end, I am thinking its because of compatibility issues of pact FFI with the erlang-C interface (or atleast how pact_erlang is using the erlang NIF right now). But I may be wrong ?</div></div></div><br/>
<div><a id="1751882336.623629"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1751882336.623629" ><div class="time">2025-07-07 09:58</div></a><div class="msg">@yousafn Also now the pact_erlang is truly upgraded with a lot of new features, bug fixes and is more stable now with comprehensive documentations about API usage, architecture and how to contribute.</div></div></div><br/>
<div><a id="1751885301.992729"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1751885301.992729" ><div class="time">2025-07-07 10:48</div></a><div class="msg">Oh amazing! We should look at getting the docs on the main pact docs website, or list erlang so we can advertise the project to others.

Have you thought about transferring it into the pact-foundation organisation at some point? We have a #maintainers channel where we hang out if you want to find other pact org members :slightly_smiling_face:

I need to take it for a spin, I only had a very cursory look at erlang when going through my FFI adventure.

Have you got any sample repos of erlang and pact setup?</div></div></div><br/>
<div><a id="1751885426.632979"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1751885426.632979" ><div class="time">2025-07-07 10:50</div></a><div class="msg">&gt; In the end, I am thinking its because of compatibility issues of pact FFI with the erlang-C interface (or atleast how pact_erlang is using the erlang NIF right now). But I may be wrong
It?s definitely possible and possibly the most likely, I?ve seen issues in go, where our c interface hasn?t been quite right and it resulted in segfaults.

@uglyog do you know about the thread safety guarantees of the FFI, most specifically on the verifier side. Is there any?</div></div></div><br/>
<div><a id="1751885871.214749"><img src="https://avatars.slack-edge.com/2023-04-19/5136124493412_67a969f8253ae26fa4cd_72.png" /></a><div class="message"><div class="username">priyaranjanmudliar</div><a style="text-decoration: none" href="#1751885871.214749" ><div class="time">2025-07-07 10:57</div></a><div class="msg">&gt; I need to take it for a spin, I only had a very cursory look at erlang when going through my FFI adventure.
You can look at the test folder, it has examples and you can run the tests after cloning the repo using:
```make ct```
or if rebar3 is installed then just run:
```rebar3 ct```
PS: running the tests requires docker to be installed</div></div></div><br/>
</div></body></html>