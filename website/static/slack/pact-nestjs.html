<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><a id="1652119185.863209"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1652119185.863209" ><div class="time">2022-05-09 17:59</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1652119194.240649"><img src="https://avatars.slack-edge.com/2020-12-21/1590248611698_a9ff06126dea1ae5590e_72.png" /></a><div class="message"><div class="username">omer.moradd</div><a style="text-decoration: none" href="#1652119194.240649" ><div class="time">2022-05-09 17:59</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1652119194.302489"><img src="https://avatars.slack-edge.com/2022-04-06/3377987554448_0e67d3ca2bd1896accce_72.png" /></a><div class="message"><div class="username">danielglazer123</div><a style="text-decoration: none" href="#1652119194.302489" ><div class="time">2022-05-09 17:59</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1652119202.098509"><img src="https://avatars.slack-edge.com/2021-06-07/2129819394007_8ed3b61dfb8a1266e27e_72.png" /></a><div class="message"><div class="username">heytaco</div><a style="text-decoration: none" href="#1652119202.098509" ><div class="time">2022-05-09 18:00</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1652119215.058389"><img src="https://avatars.slack-edge.com/2023-04-05/5087525533632_e914056bfe7293057bc6_72.png" /></a><div class="message"><div class="username">orbit</div><a style="text-decoration: none" href="#1652119215.058389" ><div class="time">2022-05-09 18:00</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1652119227.058779"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1652119227.058779" ><div class="time">2022-05-09 18:00</div></a><div class="msg">:wave: Hey all! We are now public :slightly_smiling_face:</div></div></div><br/>
<div><a id="1654708921.858529"><img src="https://avatars.slack-edge.com/2022-10-06/4188780648804_06ad6132e8393dbb202f_72.png" /></a><div class="message"><div class="username">slacksync</div><a style="text-decoration: none" href="#1654708921.858529" ><div class="time">2022-06-08 17:22</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1655046182.439469"><img src="https://avatars.slack-edge.com/2022-06-12/3668751484481_024134e29a9b26bbb0b2_72.png" /></a><div class="message"><div class="username">igor.sharfman</div><a style="text-decoration: none" href="#1655046182.439469" ><div class="time">2022-06-12 15:03</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1655046379.095689"><img src="https://avatars.slack-edge.com/2022-06-12/3668751484481_024134e29a9b26bbb0b2_72.png" /></a><div class="message"><div class="username">igor.sharfman</div><a style="text-decoration: none" href="#1655046379.095689" ><div class="time">2022-06-12 15:06</div></a><div class="msg">Hey all :slightly_smiling_face:
Is there any simple example of pact with nestJS?
I work with TypeScript and Jest
Steps that are written in <a href="https://github.com/pact-foundation/nestjs-pact">https://github.com/pact-foundation/nestjs-pact</a> are not working for me</div></div></div><br/>
<div><a id="1660650717.166359"><img src="https://secure.gravatar.com/avatar/91b4e8730601c8793bc6abf06b9d4168.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">julian.schmidt</div><a style="text-decoration: none" href="#1660650717.166359" ><div class="time">2022-08-16 11:51</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1660650759.297629"><img src="https://secure.gravatar.com/avatar/91b4e8730601c8793bc6abf06b9d4168.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">julian.schmidt</div><a style="text-decoration: none" href="#1660650759.297629" ><div class="time">2022-08-16 11:52</div></a><div class="msg">Hello guys, we hope you can help us or push us into a direction :slightly_smiling_face:

*Nestjs with Google PubSub (consumer driven event architecture)*

We have multiple Nestjs applications that talk via Google PubSub via Push Configuration. Simplified, we send an event to Google PubSub and it will then send an HTTP Request to every subscriber. We want to make sure, that the provider sends the right data and thus want to create consumer driven contracts.

The Provider sends a payload and Google PubSub sends the event payload wrapped. It looks something like this:

`{`
  `messageId: '234857239457234',`
  `data: 'ewpmb286ICdiYXInCn0='`
`}`

The json payload is base64 encoded.

The nestjs controller/route uses a pipe to convert the base64 encoded payload back to json format. Theres also a validation pipe that checks if the data is valid.

`@Controller('orders')`
`export class OrdersController {`
  `public constructor(private readonly ordersService: OrdersService) {}`

  `@Post('events/order-placed')`
  `@UsePipes(new PubsubPipe&lt;OrderPlacedEvent&gt;(), new ValidationPipe())`
  `public async create(@Body() createOrderDto: OrderPlacedEvent): Promise&lt;void&gt; {`
    `await this.ordersService.create(createOrderDto);`
  `}`
`}`

The messaging approach doesn't make a request and thus the pipes are not invoked. Should we find a way to still invoke the pipes when just calling the method (With the syncronousBodyHandler)? Or should we make a request with something like supertest? But how would the verify argument look like?

Also we would like to write a typesafe test. Is there a way to use typescript to its fullest and have compilation errors when you define the expected objected and it doesn't match the Endpoint/Controller method?</div></div></div><br/>
<div><a id="1660980331.769049"><img src="https://avatars.slack-edge.com/2022-08-20/3980240791361_a2e07b726cc933ec5455_72.png" /></a><div class="message"><div class="username">duynguyenptithcm</div><a style="text-decoration: none" href="#1660980331.769049" ><div class="time">2022-08-20 07:25</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1661458363.680389"><img src="https://avatars.slack-edge.com/2022-08-17/3957718276388_c1a12717e9636d6bf408_72.jpg" /></a><div class="message"><div class="username">dekkofilms</div><a style="text-decoration: none" href="#1661458363.680389" ><div class="time">2022-08-25 20:12</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1661458494.478699"><img src="https://avatars.slack-edge.com/2022-08-17/3957718276388_c1a12717e9636d6bf408_72.jpg" /></a><div class="message"><div class="username">dekkofilms</div><a style="text-decoration: none" href="#1661458494.478699" ><div class="time">2022-08-25 20:14</div></a><div class="msg">Wanted to bump this message, to see if there were anymore support with NestJS and the support that exists there. I can possibly hack another path, but this comment still stands true with this example app not working.

Also seems like certain dependencies aren't using correct imports anymore either with the updates to pact core.</div></div></div><br/>
<div><a id="1662635721.715219"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1662635721.715219" ><div class="time">2022-09-08 11:15</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1662637366.590829"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1662637366.590829" ><div class="time">2022-09-08 11:42</div></a><div class="msg">Hello everyone :slightly_smiling_face: I am working to implement pactflow for my company, and we are using nestjs for all our providers. We use nestjs v9.x, and are looking to use the nestjs-pact. I would like to upgrade this to use the 10.x version of pact (to match my react consumers). I have created a working version locally, if you are open to it, I can clean it up and create a PR :slightly_smiling_face:</div></div></div><br/>
<div><a id="1662638023.506709"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1662638023.506709" ><div class="time">2022-09-08 11:53</div></a><div class="msg">cc: @omer.moradd @danielglazer123 you both might be keen on the above</div></div></div><br/>
<div><a id="1662818835.884669"><img src="https://avatars.slack-edge.com/2020-12-21/1590248611698_a9ff06126dea1ae5590e_72.png" /></a><div class="message"><div class="username">omer.moradd</div><a style="text-decoration: none" href="#1662818835.884669" ><div class="time">2022-09-10 14:07</div></a><div class="msg">Hi Lennart :slightly_smiling_face:
That?s awesome, and yes, I will appreciate if you can create a PR for that :slightly_smiling_face:</div></div></div><br/>
<div><a id="1662960563.900649"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1662960563.900649" ><div class="time">2022-09-12 05:29</div></a><div class="msg">Cool, I will do some testing on the consumer side, clean it up and create a PR.</div></div></div><br/>
<div><a id="1662960576.601339"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1662960576.601339" ><div class="time">2022-09-12 05:29</div></a><div class="msg">I also updates the dependencies for all npm packages, but that is giving me some problems</div></div></div><br/>
<div><a id="1665145076.646639"><img src="https://avatars.slack-edge.com/2020-12-21/1590248611698_a9ff06126dea1ae5590e_72.png" /></a><div class="message"><div class="username">omer.moradd</div><a style="text-decoration: none" href="#1665145076.646639" ><div class="time">2022-10-07 12:17</div></a><div class="msg">DMing you</div></div></div><br/>
<div><a id="1669809347.313499"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669809347.313499" ><div class="time">2022-11-30 11:55</div></a><div class="msg">@omer.moradd - @lennart.querter has managed to get the NestJS and Pact V3 updates in place and is using them at his company, the PR could do with a review, and maybe we could publish as a beta version so people can start using as well and give us feedback

Might save waiting for extra eyes on the PR</div></div></div><br/>
<div><a id="1669818071.281069"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669818071.281069" ><div class="time">2022-11-30 14:21</div></a><div class="msg">I would just need some support on the tests, as the structure is a bit different. I can't trigger the tests on github to see what goes wrong myself</div></div></div><br/>
<div><a id="1669819013.935909"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669819013.935909" ><div class="time">2022-11-30 14:36</div></a><div class="msg">It looks like it can?t checkout the git head ref for the pull on this line

<a href="https://github.com/pact-foundation/nestjs-pact/blob/58a3209671483c93e6df835dcaede1a23bf19576/.github/workflows/ci.yml#L16">https://github.com/pact-foundation/nestjs-pact/blob/58a3209671483c93e6df835dcaede1a23bf19576/.github/workflows/ci.yml#L16</a>

Seems to be ok for contribs from the repo authors. I can kick off a new branch in the repo from your changes.

Otherwise you could try removing that line. And The gh action will check out the sha associated with your commit </div></div></div><br/>
<div><a id="1669819990.716209"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669819990.716209" ><div class="time">2022-11-30 14:53</div></a><div class="msg">I think it should be fine to upgrade to v3 and remove the reference (AFAIK, will try!)</div></div></div><br/>
<div><a id="1669820104.359609"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669820104.359609" ><div class="time">2022-11-30 14:55</div></a><div class="msg">just kicked it off</div></div></div><br/>
<div><a id="1669820861.108959"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669820861.108959" ><div class="time">2022-11-30 15:07</div></a><div class="msg">hmm

<a href="https://github.com/pact-foundation/nestjs-pact/actions/runs/3584400621/jobs/6031052425#step:7:6">https://github.com/pact-foundation/nestjs-pact/actions/runs/3584400621/jobs/6031052425#step:7:6</a>

does lerna need to be installed globally?</div></div></div><br/>
<div><a id="1669820923.685319"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669820923.685319" ><div class="time">2022-11-30 15:08</div></a><div class="msg">also if you add `fail-fast: false` to the matrix, it won't hard exit if one job fails, which is good if you are testing behaviour between the diff node versions it runs</div></div></div><br/>
<div><a id="1669822978.701619"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669822978.701619" ><div class="time">2022-11-30 15:42</div></a><div class="msg">I don't have any knowledge about lerna tbh, let me check that :slightly_smiling_face:</div></div></div><br/>
<div><a id="1669823013.015489"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669823013.015489" ><div class="time">2022-11-30 15:43</div></a><div class="msg">I guess that was our company thing, I will update!</div></div></div><br/>
<div><a id="1669823098.242729"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669823098.242729" ><div class="time">2022-11-30 15:44</div></a><div class="msg">so yeah, it's also in main: <a href="https://github.com/pact-foundation/nestjs-pact/blob/master/.github/workflows/release.yml#L43">https://github.com/pact-foundation/nestjs-pact/blob/master/.github/workflows/release.yml#L43</a></div></div></div><br/>
<div><a id="1669823138.938499"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669823138.938499" ><div class="time">2022-11-30 15:45</div></a><div class="msg">should I add this as dev dep? or should I just remove this step?</div></div></div><br/>
<div><a id="1669823542.263599"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669823542.263599" ><div class="time">2022-11-30 15:52</div></a><div class="msg">Can you trigger it once again? I removed Lerna, should not be needed:

<a href="https://github.com/pact-foundation/nestjs-pact/pull/17">https://github.com/pact-foundation/nestjs-pact/pull/17</a></div></div></div><br/>
<div><a id="1669823676.225329"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669823676.225329" ><div class="time">2022-11-30 15:54</div></a><div class="msg">lerna is used for monorepos in javascript projects, and allows the subprojects to share the same deps I believe, and for nicer arrangment of multiple packages rather than having several js repos</div></div></div><br/>
<div><a id="1669823769.277639"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669823769.277639" ><div class="time">2022-11-30 15:56</div></a><div class="msg">I think it will probably be needed, the step was there for a reason :sweat_smile:

ahh lerna is in

<a href="https://github.com/pact-foundation/nestjs-pact/pull/14">https://github.com/pact-foundation/nestjs-pact/pull/14</a>

maybe there wasn't a CI pipeline before that change, for testing</div></div></div><br/>
<div><a id="1669823843.681899"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669823843.681899" ><div class="time">2022-11-30 15:57</div></a><div class="msg">There is only one successful run on that branch from the head of `next` not `master`</div></div></div><br/>
<div><a id="1669823891.108169"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669823891.108169" ><div class="time">2022-11-30 15:58</div></a><div class="msg">so yeah removing it should be fine, looks like we have the tests running now but with a failure, so at least we are somewhere :+1:</div></div></div><br/>
<div><a id="1669823896.236969"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669823896.236969" ><div class="time">2022-11-30 15:58</div></a><div class="msg">Okay, but the tests are now running, and these 2 that are failing are also the one's I just can't get to work. I think it should be something that @omer.moradd can help me with, it's some jest config</div></div></div><br/>
<div><a id="1669823916.660799"><img src="https://avatars.slack-edge.com/2022-08-30/4009437371219_a825f62750788fbf5902_72.jpg" /></a><div class="message"><div class="username">lennart.querter</div><a style="text-decoration: none" href="#1669823916.660799" ><div class="time">2022-11-30 15:58</div></a><div class="msg">(mocking out the required resource, but I just can't figure it out!)</div></div></div><br/>
<div><a id="1669823939.573379"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669823939.573379" ><div class="time">2022-11-30 15:58</div></a><div class="msg">Cheers for your efforts fella, appreciate it!</div></div></div><br/>
<div><a id="1669909502.764999"><img src="https://avatars.slack-edge.com/2023-04-05/5087525533632_e914056bfe7293057bc6_72.png" /></a><div class="message"><div class="username">orbit</div><a style="text-decoration: none" href="#1669909502.764999" ><div class="time">2022-12-01 15:45</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1672132098.454699"><img src="https://avatars.slack-edge.com/2022-04-17/3425375871104_e6df5d0af43820785cc2_72.png" /></a><div class="message"><div class="username">jithinjacob2011</div><a style="text-decoration: none" href="#1672132098.454699" ><div class="time">2022-12-27 09:08</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1673009821.566429"><img src="https://avatars.slack-edge.com/2023-01-04/4580143158999_e1d53b147938f507575a_72.jpg" /></a><div class="message"><div class="username">morin.td</div><a style="text-decoration: none" href="#1673009821.566429" ><div class="time">2023-01-06 12:57</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1681296219.801559"><img src="https://avatars.slack-edge.com/2023-04-12/5082754502663_1e8a324ea8931c299d93_72.jpg" /></a><div class="message"><div class="username">donald.robertson</div><a style="text-decoration: none" href="#1681296219.801559" ><div class="time">2023-04-12 10:43</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1693927943.172359"><img src="https://secure.gravatar.com/avatar/ffb1d9623233580223a3ee6d388092f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">kgrady</div><a style="text-decoration: none" href="#1693927943.172359" ><div class="time">2023-09-05 15:32</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
<div><a id="1701266030.519399"><img src="https://secure.gravatar.com/avatar/d5d210c59dc61a1561535f03554dec42.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /></a><div class="message"><div class="username">elaine.silva</div><a style="text-decoration: none" href="#1701266030.519399" ><div class="time">2023-11-29 13:53</div></a><div class="msg">has joined #pact-nestjs</div></div></div><br/>
</div></body></html>