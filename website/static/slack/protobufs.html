<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><a id="1544502306.000200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1544502306.000200" ><div class="time">2018-12-11 04:25</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1544502307.000400"><img src="https://avatars.slack-edge.com/2018-11-29/492850536055_34372679c584dd0d0d54_72.jpg" /></a><div class="message"><div class="username">rahul.neotech</div><a style="text-decoration: none" href="#1544502307.000400" ><div class="time">2018-12-11 04:25</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1544502307.000700"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1544502307.000700" ><div class="time">2018-12-11 04:25</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1544502307.000900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1544502307.000900" ><div class="time">2018-12-11 04:25</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1544504832.001100"><img src="https://avatars.slack-edge.com/2023-05-24/5325902656689_33eb879382b5a1ed8a50_72.jpg" /></a><div class="message"><div class="username">abubics</div><a style="text-decoration: none" href="#1544504832.001100" ><div class="time">2018-12-11 05:07</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1544506320.001300"><img src="https://avatars.slack-edge.com/2018-10-24/462692095777_bc56437be7338babaf6a_72.jpg" /></a><div class="message"><div class="username">shekharsp27</div><a style="text-decoration: none" href="#1544506320.001300" ><div class="time">2018-12-11 05:32</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1544516560.001500"><img src="https://avatars.slack-edge.com/2018-06-04/375821450838_b87a1ecf77d1341f5fa3_72.jpg" /></a><div class="message"><div class="username">hstene</div><a style="text-decoration: none" href="#1544516560.001500" ><div class="time">2018-12-11 08:22</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1544650028.001700"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1544650028.001700" ><div class="time">2018-12-12 21:27</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1544650763.004700"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1544650763.004700" ><div class="time">2018-12-12 21:39</div></a><div class="msg">Hi Matt, thanks for creating the channel for everyone to discuss protobufs in pact.
For those who haven't got any context, I've put together a quick issue and gist explaining my ideas of how we might be able to add this functionality.
<a href="https://github.com/pact-foundation/pact-specification/issues/62">https://github.com/pact-foundation/pact-specification/issues/62</a></div></div></div><br/>
<div><a id="1544650834.006300"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1544650834.006300" ><div class="time">2018-12-12 21:40</div></a><div class="msg">@rahul.neotech it sounds like you've been working on this idea too: do you have anything you're able to share at this point? </div></div></div><br/>
<div><a id="1544699900.007200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1544699900.007200" ><div class="time">2018-12-13 11:18</div></a><div class="msg">@mcon that gist is really great and thanks for the detail. It?s really positive to hear you?ve got a working prototype!</div></div></div><br/>
<div><a id="1544700048.010000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1544700048.010000" ><div class="time">2018-12-13 11:20</div></a><div class="msg">One concern/comment is that we?ve been trying to move away from having to implement protocol + transport specific concerns into the system, instead opting for finding a way to get the message to be exchanged in a consistent way. e.g. for message queues, rather than actually put messages onto, and retrieve messages from a queue, we simply have the function that generates the message (provider) invoked and capture it?s output, and on the consumer side we pass the message directly to the function. The benefit is that it bypasses all of these hassles, the downside is that  we may lose specific aspects of a technology that may still be a ?contract? (e.g. message headers)</div></div></div><br/>
<div><a id="1544700125.011400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1544700125.011400" ><div class="time">2018-12-13 11:22</div></a><div class="msg">My second comment is around the approach to overload the existing http (or synchronous)  contract file, rather than opt for a new contract file structure (see `messages` for the message pact type).  I haven?t thought too much on it, but it could be a sticking point.</div></div></div><br/>
<div><a id="1544700226.012400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1544700226.012400" ><div class="time">2018-12-13 11:23</div></a><div class="msg">I can certainly understanad the decisions, and it might provide some form of basis to do other types of protocols.</div></div></div><br/>
<div><a id="1544708256.012600"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1544708256.012600" ><div class="time">2018-12-13 13:37</div></a><div class="msg">Hi @matt.fellows thanks for getting back to me :slightly_smiling_face:</div></div></div><br/>
<div><a id="1544708361.012700"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1544708361.012700" ><div class="time">2018-12-13 13:39</div></a><div class="msg">I'm not sure we're on the same page, based on your last messages: you're talking a lot about async communication, i.e. message queues and the like. I'm not sure how that's relevant here - likely you're making a generalization that I don't have the context to understand. Could you clarify what you're trying to get across there?</div></div></div><br/>
<div><a id="1544709449.012800"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1544709449.012800" ><div class="time">2018-12-13 13:57</div></a><div class="msg">Ultimately we're looking to use the same sync transport/protocol as is encoded in the Pact Specification (i.e. HTTP), but just with a different serialization format.

If you're saying that the blessed future approach will be to define `messages` along the lines of what's included in the JS version of pact, is there a reason that's not in the V4 specification? (I wouldn't be keen to implement in another language without a spec)

Ultimately we could use the new `messages` pattern, and replicate the request / response nature of HTTP, by mocking out our HTTP client, however I'm not keen on that because proto over HTTP is still a sync thing. One of the big advantages that exists with Pact, is that you can also test your code that calls out to HTTP without the concern you've not mocked it correctly.

<a href="https://github.com/pact-foundation/pact-js#asynchronous-api-testing">https://github.com/pact-foundation/pact-js#asynchronous-api-testing</a></div></div></div><br/>
<div><a id="1544709548.013000"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1544709548.013000" ><div class="time">2018-12-13 13:59</div></a><div class="msg">Do you have any suggestions as to how best to go about adding this testing for protobuf?</div></div></div><br/>
<div><a id="1545087331.013700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1545087331.013700" ><div class="time">2018-12-17 22:55</div></a><div class="msg">Yes, making somewhat of a generalisation. I understand that Protobufs uses a synchronous pattern, however when we started to consider how to deal with messages, we realised that it would be an arms race to try and support every transport, wire protocol, every queue?</div></div></div><br/>
<div><a id="1545087456.016100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1545087456.016100" ><div class="time">2018-12-17 22:57</div></a><div class="msg">So we what we said was ?hey, all we _really_ care about, is the message that moves between the parties and if the consumer can handle it and the provider can produce it?. At this point, we removed the transport and had the framework invoke the functions directly, and asserted the result.

What this enables us to do, is test any payload, without having to implement the wire protocol.

As you note, what we gain in simplicity in the engine, we lose in fidelity of the overall test. It?s a tradeoff, but we felt that each protocol/framework usually has good ways of testing itself and that Pact could then focus in on the bit we do well</div></div></div><br/>
<div><a id="1545087663.017400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1545087663.017400" ><div class="time">2018-12-17 23:01</div></a><div class="msg">This being said, there is already significant req/res infrastructure that we can leverage, so adding a thin layer over it than enables us to encode new types of payloads could make a lot of sense</div></div></div><br/>
<div><a id="1545087675.017700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1545087675.017700" ><div class="time">2018-12-17 23:01</div></a><div class="msg">And yes, it?ll need to go in the spec eventually</div></div></div><br/>
<div><a id="1545143992.017900"><img src="https://secure.gravatar.com/avatar/ca1a3156c7e733a1775a89512c0d01e8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">nikolajs.cmihuns</div><a style="text-decoration: none" href="#1545143992.017900" ><div class="time">2018-12-18 14:39</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1545147447.018100"><img src="https://avatars.slack-edge.com/2020-02-29/964014914195_82ce0ae2a6014e63352b_72.jpg" /></a><div class="message"><div class="username">amitojduggal</div><a style="text-decoration: none" href="#1545147447.018100" ><div class="time">2018-12-18 15:37</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1546842562.000200"><img src="https://secure.gravatar.com/avatar/8bedefe271c74ff6f71e957806c7c322.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">slack1977</div><a style="text-decoration: none" href="#1546842562.000200" ><div class="time">2019-01-07 06:29</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1546910950.000200"><img src="https://secure.gravatar.com/avatar/38731557e69f5e06f8b941f53e1af34b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">thirumal.net</div><a style="text-decoration: none" href="#1546910950.000200" ><div class="time">2019-01-08 01:29</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1547108419.000200"><img src="https://secure.gravatar.com/avatar/2d36ed1fed773e5b34670ea1a364124e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">such.su</div><a style="text-decoration: none" href="#1547108419.000200" ><div class="time">2019-01-10 08:20</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1547108937.000400"><img src="https://secure.gravatar.com/avatar/e305ffe95df131c1dca4483e5051dbef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">bright.huang</div><a style="text-decoration: none" href="#1547108937.000400" ><div class="time">2019-01-10 08:28</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1547197195.000800"><img src="https://secure.gravatar.com/avatar/515e78f5363e7e2aec7c965218ef5ec2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">leslie.fung.lf</div><a style="text-decoration: none" href="#1547197195.000800" ><div class="time">2019-01-11 08:59</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1547431971.001100"><img src="https://secure.gravatar.com/avatar/758b50758b39a7532e7e5e49b8e89d43.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /></a><div class="message"><div class="username">kunwardeep</div><a style="text-decoration: none" href="#1547431971.001100" ><div class="time">2019-01-14 02:12</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1547488618.001400"><img src="https://secure.gravatar.com/avatar/497df1faed92faa47561e6da7906aa0d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">jeffm</div><a style="text-decoration: none" href="#1547488618.001400" ><div class="time">2019-01-14 17:56</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1547560388.001600"><img src="https://secure.gravatar.com/avatar/08200a764edc239f888b61e027aca04e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">makhov.alex</div><a style="text-decoration: none" href="#1547560388.001600" ><div class="time">2019-01-15 13:53</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1547724951.001800"><img src="https://secure.gravatar.com/avatar/1f2b1c240250d2e52d9ca3f973f04e9c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /></a><div class="message"><div class="username">tomo</div><a style="text-decoration: none" href="#1547724951.001800" ><div class="time">2019-01-17 11:35</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1547812088.002000"><img src="https://secure.gravatar.com/avatar/251dee1d4c635378f173136c7bf75ede.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">galvinshane</div><a style="text-decoration: none" href="#1547812088.002000" ><div class="time">2019-01-18 11:48</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1548708979.003800"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1548708979.003800" ><div class="time">2019-01-28 20:56</div></a><div class="msg">Hi Matt (sorry for the delay between responses), I've taken a look at the pending protobuf-net support for Messages, and some of the support for the JS client - it looks like that approach works well for async operations, but I'm not completely sure how it would apply to sync operations without adding additional abstractions.</div></div></div><br/>
<div><a id="1548709958.014400"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1548709958.014400" ><div class="time">2019-01-28 21:12</div></a><div class="msg">I've been thinking a bit recently about trying the following approach for sync operations that are non-JSON.
I was thinking that it would be possible to add an intermediate layer between the language-specific client and the (currently Ruby) mock server which could translate from the given transport/encoding under test to HTTP/JSON which could be understood by the mock server.

I envisage this working something like:
- Client creates test which specifies the transport / data object is expected for a particular request/response of an API.
- That data is sent as part of the interaction POST, which is sent to an intermediate (language specific) server, which would then perform the appropriate translation to JSON, which is then passed to the standard pact mock server.
*client test* ---transport/encoding---&gt; *Intermediate server* ---HTTP/JSON---&gt; *standard Pact mock server*
- Any requests that would normally go to the standard mock server in the form HTTP/JSON, are sent to the intermediate server, which forwards them on to the standard mock server.
- When the standard mock server writes the standard contract JSON, this is picked up by the language-specific server, which adds a `metadata` section for each route, including details of the transport encoding expected to be used with the corresponding verification.

Given the approach outlined above doesn't require any changes to the mock server (only language-specific implementations which would like to implement this), it remains agnostic of transport/encoding, allowing others to plug in their own encodings/transports at will for sync communications.

Does this sound like an approach which you might be amenable to? I'm happy to knock up a demonstration in pact-net if this is something you could get behind.</div></div></div><br/>
<div><a id="1549299930.015000"><img src="https://secure.gravatar.com/avatar/da84a253cd857f7f71709f7c4efe68e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">julian.jelfs</div><a style="text-decoration: none" href="#1549299930.015000" ><div class="time">2019-02-04 17:05</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1549360010.015500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1549360010.015500" ><div class="time">2019-02-05 09:46</div></a><div class="msg">Hey Matt, sorry for my tardiness. I'll review this week</div></div></div><br/>
<div><a id="1550044594.000300"><img src="https://avatars.slack-edge.com/2019-05-11/634738499207_4ea7238ce08b6467f810_72.jpg" /></a><div class="message"><div class="username">mtissot79</div><a style="text-decoration: none" href="#1550044594.000300" ><div class="time">2019-02-13 07:56</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1551173585.000300"><img src="https://secure.gravatar.com/avatar/d15e99f58daa737e02a7de47452ed1b3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /></a><div class="message"><div class="username">nboyd</div><a style="text-decoration: none" href="#1551173585.000300" ><div class="time">2019-02-26 09:33</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1551199059.000500"><img src="https://secure.gravatar.com/avatar/9c17c84ee164bee33e01d7d1b46eaa57.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /></a><div class="message"><div class="username">damien.castelltort</div><a style="text-decoration: none" href="#1551199059.000500" ><div class="time">2019-02-26 16:37</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1551305774.000700"><img src="https://avatars.slack-edge.com/2019-02-27/563061823653_df91edb2081076e4fc30_72.jpg" /></a><div class="message"><div class="username">kurst03</div><a style="text-decoration: none" href="#1551305774.000700" ><div class="time">2019-02-27 22:16</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1551394264.000200"><img src="https://secure.gravatar.com/avatar/99e1e073228717be5d233da4c544e716.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">me1</div><a style="text-decoration: none" href="#1551394264.000200" ><div class="time">2019-02-28 22:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1551644282.000300"><img src="https://secure.gravatar.com/avatar/ac2d1cf8175d6ff671bab6258cff8a59.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">ngrigoriev</div><a style="text-decoration: none" href="#1551644282.000300" ><div class="time">2019-03-03 20:18</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1551725318.000500"><img src="https://secure.gravatar.com/avatar/9891aeac50376276bc9c6893ea39d031.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">bhoyt</div><a style="text-decoration: none" href="#1551725318.000500" ><div class="time">2019-03-04 18:48</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1553522938.001300"><img src="https://secure.gravatar.com/avatar/69d26916f450019c586cf86037f848d7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">dave.carrell</div><a style="text-decoration: none" href="#1553522938.001300" ><div class="time">2019-03-25 14:08</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1554026187.000400"><img src="https://secure.gravatar.com/avatar/fedea520dfd0b4d0943d1bda8769c3bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">ots.indrek</div><a style="text-decoration: none" href="#1554026187.000400" ><div class="time">2019-03-31 09:56</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1554414715.000700"><img src="https://secure.gravatar.com/avatar/65e1793ea8494e2be04c259d3ade4fe3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">shutchin</div><a style="text-decoration: none" href="#1554414715.000700" ><div class="time">2019-04-04 21:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1555343162.005700"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1555343162.005700" ><div class="time">2019-04-15 15:46</div></a><div class="msg">Hi @matt.fellows @bethskurrie, I've been doing work where I can find time on protobufs with pact: I've got something that works with proto over http, and I've also got some encouraging results on adding proper grpc support to pact (with only one obvious caveat at this point). I'll get some code into shareable states - mainly just letting you guys know I'm still on the case.</div></div></div><br/>
<div><a id="1555361551.006100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1555361551.006100" ><div class="time">2019-04-15 20:52</div></a><div class="msg">thanks  Matt, sounds great!</div></div></div><br/>
<div><a id="1555510697.006300"><img src="https://avatars.slack-edge.com/2019-04-16/609131689844_9c5a27f95a1525344aef_72.png" /></a><div class="message"><div class="username">iruben91</div><a style="text-decoration: none" href="#1555510697.006300" ><div class="time">2019-04-17 14:18</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1555513563.006500"><img src="https://secure.gravatar.com/avatar/5c3705b9407b3ac649987f7249b7dafa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">anothonyvong</div><a style="text-decoration: none" href="#1555513563.006500" ><div class="time">2019-04-17 15:06</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1555514084.006700"><img src="https://secure.gravatar.com/avatar/54147c1a1223b425d4f4f7947c9bba46.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">ariel</div><a style="text-decoration: none" href="#1555514084.006700" ><div class="time">2019-04-17 15:14</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1555594967.006900"><img src="https://secure.gravatar.com/avatar/b8c8f5a754557aaaaeb9769086088fd3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">ylin</div><a style="text-decoration: none" href="#1555594967.006900" ><div class="time">2019-04-18 13:42</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1555664936.007100"><img src="https://secure.gravatar.com/avatar/ee0ce170889d41c0b5cd04c1d37ba604.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jadedevin13</div><a style="text-decoration: none" href="#1555664936.007100" ><div class="time">2019-04-19 09:08</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1555987824.007300"><img src="https://secure.gravatar.com/avatar/20aa96d3bc78e8ab067ee0f236169359.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">j</div><a style="text-decoration: none" href="#1555987824.007300" ><div class="time">2019-04-23 02:50</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1556665161.000200"><img src="https://secure.gravatar.com/avatar/73dce10a785d2e3074008069f5650371.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">evgone</div><a style="text-decoration: none" href="#1556665161.000200" ><div class="time">2019-04-30 22:59</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1557176352.001600"><img src="https://secure.gravatar.com/avatar/d15e99f58daa737e02a7de47452ed1b3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /></a><div class="message"><div class="username">nboyd</div><a style="text-decoration: none" href="#1557176352.001600" ><div class="time">2019-05-06 20:59</div></a><div class="msg">Hey @mcon as an FYI I'm _very_ interested in the work you're doing :slightly_smiling_face: I've been beating the "a tightly coupled contract between services != infallibility in said contract" drumfor some time to little success; nothing really to add other than if you think anything your doing is in vain, you're wrong.</div></div></div><br/>
<div><a id="1557207021.002000"><img src="https://secure.gravatar.com/avatar/7683c69674208f26c92142ae1d5dee9a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /></a><div class="message"><div class="username">vipin.gaba</div><a style="text-decoration: none" href="#1557207021.002000" ><div class="time">2019-05-07 05:30</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1557306500.002400"><img src="https://secure.gravatar.com/avatar/127524ecf6826d245a8a7858859d3637.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /></a><div class="message"><div class="username">cmcgowan-smyth</div><a style="text-decoration: none" href="#1557306500.002400" ><div class="time">2019-05-08 09:08</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1557333811.002600"><img src="https://secure.gravatar.com/avatar/d170023eab77c64cf8498b9188bc691f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /></a><div class="message"><div class="username">noel.yap_slack.pact.i</div><a style="text-decoration: none" href="#1557333811.002600" ><div class="time">2019-05-08 16:43</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1557420340.002800"><img src="https://secure.gravatar.com/avatar/25e81f4afafd09875e9f215191b0faa4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">mindy.or</div><a style="text-decoration: none" href="#1557420340.002800" ><div class="time">2019-05-09 16:45</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1557871707.003200"><img src="https://secure.gravatar.com/avatar/136a0ecd93f4300849489d57badf3334.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">eran.bergman</div><a style="text-decoration: none" href="#1557871707.003200" ><div class="time">2019-05-14 22:08</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1558713925.000200"><img src="https://secure.gravatar.com/avatar/c9b5da400fe5a7e17a019a55ee52e622.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">miiiiauu</div><a style="text-decoration: none" href="#1558713925.000200" ><div class="time">2019-05-24 16:05</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1559544657.000200"><img src="https://secure.gravatar.com/avatar/19f7f2f339ab13c0a90007997d627448.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /></a><div class="message"><div class="username">yusuke1.sato9.reg</div><a style="text-decoration: none" href="#1559544657.000200" ><div class="time">2019-06-03 06:50</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1559790392.000200"><img src="https://secure.gravatar.com/avatar/2b60da8c796f234c3c37f70d96fe229c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">perhuman</div><a style="text-decoration: none" href="#1559790392.000200" ><div class="time">2019-06-06 03:06</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1560194223.000400"><img src="https://secure.gravatar.com/avatar/d5efc60bb8772f6a73b77a38e1b0f683.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /></a><div class="message"><div class="username">trent.grover</div><a style="text-decoration: none" href="#1560194223.000400" ><div class="time">2019-06-10 19:17</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1560785291.000600"><img src="https://secure.gravatar.com/avatar/7f154c336078878e68000b84988e1304.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">drambhia</div><a style="text-decoration: none" href="#1560785291.000600" ><div class="time">2019-06-17 15:28</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1560827960.000800"><img src="https://secure.gravatar.com/avatar/fc9605fe3c702481cc6fff7a8d87a07d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">agarwalatrisha1212</div><a style="text-decoration: none" href="#1560827960.000800" ><div class="time">2019-06-18 03:19</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1561138420.001000"><img src="https://secure.gravatar.com/avatar/d286c6b140fc2c63a9dc97fb9548628e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">cristiano</div><a style="text-decoration: none" href="#1561138420.001000" ><div class="time">2019-06-21 17:33</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1561973736.001200"><img src="https://secure.gravatar.com/avatar/5d6e88991ca8e0c1516e0414ba6e5fa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">dorons</div><a style="text-decoration: none" href="#1561973736.001200" ><div class="time">2019-07-01 09:35</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1561973760.001400"><img src="https://secure.gravatar.com/avatar/5d6e88991ca8e0c1516e0414ba6e5fa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">dorons</div><a style="text-decoration: none" href="#1561973760.001400" ><div class="time">2019-07-01 09:36</div></a><div class="msg">Hi
Can I get some help with pact and protobuf?</div></div></div><br/>
<div><a id="1561974965.002100"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1561974965.002100" ><div class="time">2019-07-01 09:56</div></a><div class="msg">What do you need help with? There isn't a working implementation yet, however, it has been discussed.</div></div></div><br/>
<div><a id="1561974986.002400"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1561974986.002400" ><div class="time">2019-07-01 09:56</div></a><div class="msg">One of the many Matt's was going to give it a go.</div></div></div><br/>
<div><a id="1561975018.002800"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1561975018.002800" ><div class="time">2019-07-01 09:56</div></a><div class="msg">@mcon are you around?</div></div></div><br/>
<div><a id="1561976270.003600"><img src="https://secure.gravatar.com/avatar/5d6e88991ca8e0c1516e0414ba6e5fa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">dorons</div><a style="text-decoration: none" href="#1561976270.003600" ><div class="time">2019-07-01 10:17</div></a><div class="msg">I'm pondering on implementation of pact mechanism in my org</div></div></div><br/>
<div><a id="1561976286.003900"><img src="https://secure.gravatar.com/avatar/5d6e88991ca8e0c1516e0414ba6e5fa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">dorons</div><a style="text-decoration: none" href="#1561976286.003900" ><div class="time">2019-07-01 10:18</div></a><div class="msg">we have jvm and node project</div></div></div><br/>
<div><a id="1561976296.004200"><img src="https://secure.gravatar.com/avatar/5d6e88991ca8e0c1516e0414ba6e5fa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">dorons</div><a style="text-decoration: none" href="#1561976296.004200" ><div class="time">2019-07-01 10:18</div></a><div class="msg">but we also handle protobuf</div></div></div><br/>
<div><a id="1561976316.004900"><img src="https://secure.gravatar.com/avatar/5d6e88991ca8e0c1516e0414ba6e5fa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">dorons</div><a style="text-decoration: none" href="#1561976316.004900" ><div class="time">2019-07-01 10:18</div></a><div class="msg">just wondering if it is the right fit</div></div></div><br/>
<div><a id="1561976450.008200"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1561976450.008200" ><div class="time">2019-07-01 10:20</div></a><div class="msg">We think it's good in principle, but the implementation was going to require some fineness. I'm not a protobuf user, so I didn't fully understand the design, but it was going to require some dynamic conversions between the json and the protobuf format.</div></div></div><br/>
<div><a id="1561976491.009300"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1561976491.009300" ><div class="time">2019-07-01 10:21</div></a><div class="msg">@matt.fellows Fellows might be able to explain in more detail.</div></div></div><br/>
<div><a id="1561976516.009800"><img src="https://secure.gravatar.com/avatar/5d6e88991ca8e0c1516e0414ba6e5fa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">dorons</div><a style="text-decoration: none" href="#1561976516.009800" ><div class="time">2019-07-01 10:21</div></a><div class="msg">maybe in the broker</div></div></div><br/>
<div><a id="1561977344.010100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1561977344.010100" ><div class="time">2019-07-01 10:35</div></a><div class="msg">Happy to chat more Doron - what?s got you thinking about it?</div></div></div><br/>
<div><a id="1561978712.010300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1561978712.010300" ><div class="time">2019-07-01 10:58</div></a><div class="msg">Design proposal for Protobufs with Pact <a href="https://docs.google.com/presentation/d/13rTmXp7Gdcd_hHC_0YP5FR0fB1KIjZf9p5yrucjTlSc/edit#slide=id.gc6f9e470d_0_0">https://docs.google.com/presentation/d/13rTmXp7Gdcd_hHC_0YP5FR0fB1KIjZf9p5yrucjTlSc/edit#slide=id.gc6f9e470d_0_0</a></div></div></div><br/>
<div><a id="1561978743.010900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1561978743.010900" ><div class="time">2019-07-01 10:59</div></a><div class="msg">@dorons :point_up:</div></div></div><br/>
<div><a id="1561978745.011100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1561978745.011100" ><div class="time">2019-07-01 10:59</div></a><div class="msg">have a little read of that</div></div></div><br/>
<div><a id="1562100012.015900"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1562100012.015900" ><div class="time">2019-07-02 20:40</div></a><div class="msg">Hi folks, so I've got a vaguely working implementation of a pact encoding proxy which I have working with the C# Pact library - I've not spent much time on it as of late, and I was hoping to add some proper testing before showing where I'm up to. I have some time towards the end of the week, in that time I'll try to:
- Point to an end-to-end example of testing protobufs over HTTP
- Create a list of TODOs for the encoding proxy (mainly around testing - given the shape of the app was quite uncertain, a TDD-like approach didn't make much sense to me)
- Create a list of TODOs for the C# Pact library implementation

@dorons it sounds like there could be some scope for collaboration here - is your usecase protobuf over HTTP, or are you in GRPC-land?</div></div></div><br/>
<div><a id="1562100773.016300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1562100773.016300" ><div class="time">2019-07-02 20:52</div></a><div class="msg">That sounds awesome Matt!</div></div></div><br/>
<div><a id="1562100808.017300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1562100808.017300" ><div class="time">2019-07-02 20:53</div></a><div class="msg">Tests are great, but progress is better so others can look and provide feedback (or be inspired).</div></div></div><br/>
<div><a id="1562100812.017500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1562100812.017500" ><div class="time">2019-07-02 20:53</div></a><div class="msg">Let us know how we can help</div></div></div><br/>
<div><a id="1562241343.017900"><img src="https://secure.gravatar.com/avatar/97dde7492058597aee8ef34ee4b07608.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">conallbennett</div><a style="text-decoration: none" href="#1562241343.017900" ><div class="time">2019-07-04 11:55</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1562703352.021300"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1562703352.021300" ><div class="time">2019-07-09 20:15</div></a><div class="msg">Okay, so I've pushed my pact-net code and serialization-proxy code to GitHub:
<a href="https://github.com/mcon/pact-net/blob/protobuf-serialization/TODO.md">https://github.com/mcon/pact-net/blob/protobuf-serialization/TODO.md</a>
<a href="https://github.com/mcon/pact-serialization-proxy/blob/master/README.md">https://github.com/mcon/pact-serialization-proxy/blob/master/README.md</a>

There are a few more things on the pact-net side I need to fix up before it's easily demo-able.
My main problem at the moment is making sure the right headers are propagated through the serialization proxy, and the only way to stabilise that is by refactoring and adding tests.
Once I've refactored the go code some more, I'd be keen to get some help writing tests from anyone who's interested and has the time.</div></div></div><br/>
<div><a id="1562703464.023300"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1562703464.023300" ><div class="time">2019-07-09 20:17</div></a><div class="msg">In terms of "working example", I've got a new pact JSON here which can be verified successfully with the below tests - there are a few things on the Consumer side I need to tidy up, but that json was generated programatically and not hand-constructed (you'll have to take my word for that one)
<a href="https://github.com/mcon/pact-net/blob/protobuf-serialization/Samples/EventApi/Consumer.Tests/pacts/event_api_consumer-event_api.json">https://github.com/mcon/pact-net/blob/protobuf-serialization/Samples/EventApi/Consumer.Tests/pacts/event_api_consumer-event_api.json</a>
<a href="https://github.com/mcon/pact-net/blob/protobuf-serialization/Samples/EventApi/Provider.Api.Web.Tests/EventAPITests.cs">https://github.com/mcon/pact-net/blob/protobuf-serialization/Samples/EventApi/Provider.Api.Web.Tests/EventAPITests.cs</a></div></div></div><br/>
<div><a id="1562706539.024000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1562706539.024000" ><div class="time">2019-07-09 21:08</div></a><div class="msg">Wow - cool!</div></div></div><br/>
<div><a id="1562706726.024600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1562706726.024600" ><div class="time">2019-07-09 21:12</div></a><div class="msg">Oh right, so the proxy has been written in Go. That means I won?t be completely useless to you</div></div></div><br/>
<div><a id="1562787210.024800"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1562787210.024800" ><div class="time">2019-07-10 19:33</div></a><div class="msg">Haha, yeah I ended up taking your suggestion and doing it in go, it was either c++, Java or go - for this sort of thing I think go was an obvious choice!</div></div></div><br/>
<div><a id="1562794969.025000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1562794969.025000" ><div class="time">2019-07-10 21:42</div></a><div class="msg">:wink:</div></div></div><br/>
<div><a id="1562940914.025300"><img src="https://secure.gravatar.com/avatar/14e67722d2152cecbf8aef72c95e6a7a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /></a><div class="message"><div class="username">ninjinsky.coding</div><a style="text-decoration: none" href="#1562940914.025300" ><div class="time">2019-07-12 14:15</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1563380835.025500"><img src="https://secure.gravatar.com/avatar/7433b657c9d9d6a26ef7c40d2fed7cee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">jakub.gawryjolek</div><a style="text-decoration: none" href="#1563380835.025500" ><div class="time">2019-07-17 16:27</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1563442226.025700"><img src="https://secure.gravatar.com/avatar/8de438a3e561b17a6d845c6a260d7336.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">denis.ducansel</div><a style="text-decoration: none" href="#1563442226.025700" ><div class="time">2019-07-18 09:30</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1563864953.000200"><img src="https://secure.gravatar.com/avatar/d049f551aa71e6326c74002ac8e6788a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">p0deje</div><a style="text-decoration: none" href="#1563864953.000200" ><div class="time">2019-07-23 06:55</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1564515016.000400"><img src="https://secure.gravatar.com/avatar/5899879c88f0f30f8eaa9025b16c27ff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0003-72.png" /></a><div class="message"><div class="username">atle.rudshaug</div><a style="text-decoration: none" href="#1564515016.000400" ><div class="time">2019-07-30 19:30</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1565152090.000600"><img src="https://secure.gravatar.com/avatar/86d2385aec798ac382c8149e2ae2746c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">ivan.cherkashnev</div><a style="text-decoration: none" href="#1565152090.000600" ><div class="time">2019-08-07 04:28</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1565175114.000800"><img src="https://secure.gravatar.com/avatar/7c322573d072c98adb50d0e98c4b56e6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">antstorm</div><a style="text-decoration: none" href="#1565175114.000800" ><div class="time">2019-08-07 10:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1566299005.001000"><img src="https://secure.gravatar.com/avatar/a7b7df2c324e9b260f3c59ef44769d20.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">fil.tmb</div><a style="text-decoration: none" href="#1566299005.001000" ><div class="time">2019-08-20 11:03</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1566329486.001200"><img src="https://secure.gravatar.com/avatar/27533313d124b736678bf519c5df05d8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png" /></a><div class="message"><div class="username">lgaete.astudillo</div><a style="text-decoration: none" href="#1566329486.001200" ><div class="time">2019-08-20 19:31</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1567110834.000200"><img src="https://secure.gravatar.com/avatar/25e81f4afafd09875e9f215191b0faa4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">mindy.or</div><a style="text-decoration: none" href="#1567110834.000200" ><div class="time">2019-08-29 20:33</div></a><div class="msg">@mindy.or has left the channel</div></div></div><br/>
<div><a id="1567110852.000400"><img src="https://secure.gravatar.com/avatar/25e81f4afafd09875e9f215191b0faa4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">mindy.or</div><a style="text-decoration: none" href="#1567110852.000400" ><div class="time">2019-08-29 20:34</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1567170487.000700"><img src="https://secure.gravatar.com/avatar/227f4da5af9036bdb79b9f3a9a538935.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">apurvjpatel</div><a style="text-decoration: none" href="#1567170487.000700" ><div class="time">2019-08-30 13:08</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1568216348.001200"><img src="https://secure.gravatar.com/avatar/d497361e9df6e6b8c85be966629af028.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">german.schnyder</div><a style="text-decoration: none" href="#1568216348.001200" ><div class="time">2019-09-11 15:39</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1568233268.001400"><img src="https://secure.gravatar.com/avatar/6410ab080272a82b53528c60523d6fc8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">anthony.hayes</div><a style="text-decoration: none" href="#1568233268.001400" ><div class="time">2019-09-11 20:21</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1568542507.000200"><img src="https://secure.gravatar.com/avatar/fdc9b69429924c8d344a48edacec3b4a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">morteza.alizadeh</div><a style="text-decoration: none" href="#1568542507.000200" ><div class="time">2019-09-15 10:15</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1569367985.000400"><img src="https://avatars.slack-edge.com/2019-09-24/771167690709_998699a24bbfff769601_72.jpg" /></a><div class="message"><div class="username">george.papas</div><a style="text-decoration: none" href="#1569367985.000400" ><div class="time">2019-09-24 23:33</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1569407293.000600"><img src="https://secure.gravatar.com/avatar/2b11e06ce3d437a47e19d96d51bb3b82.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">jack</div><a style="text-decoration: none" href="#1569407293.000600" ><div class="time">2019-09-25 10:28</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1569501117.000800"><img src="https://secure.gravatar.com/avatar/b09ea7eb109e638784b24aaaf0f6224c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">liam.williams</div><a style="text-decoration: none" href="#1569501117.000800" ><div class="time">2019-09-26 12:31</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1569582058.001000"><img src="https://secure.gravatar.com/avatar/9fea1f428574f5960c825a5aa58eeeed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">schmittol</div><a style="text-decoration: none" href="#1569582058.001000" ><div class="time">2019-09-27 11:00</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1569825016.001200"><img src="https://secure.gravatar.com/avatar/6da76064b0eb00a925c69824db062954.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">srinivasan.anusha</div><a style="text-decoration: none" href="#1569825016.001200" ><div class="time">2019-09-30 06:30</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1570298492.001400"><img src="https://secure.gravatar.com/avatar/d427f0afcfff79c5aa7f55b846abae5b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">swaroopshere</div><a style="text-decoration: none" href="#1570298492.001400" ><div class="time">2019-10-05 18:01</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1570631119.000200"><img src="https://secure.gravatar.com/avatar/e05885876e65357ab398d917753d3066.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /></a><div class="message"><div class="username">grzegorz.polek</div><a style="text-decoration: none" href="#1570631119.000200" ><div class="time">2019-10-09 14:25</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1571731787.000400"><img src="https://secure.gravatar.com/avatar/9ed43a3b5f0d242a103a275ba528cf7d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">oliver.nautsch</div><a style="text-decoration: none" href="#1571731787.000400" ><div class="time">2019-10-22 08:09</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1572947579.000600"><img src="https://secure.gravatar.com/avatar/2e751e3b2d278aceed4d78acfb90f410.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">fbromley</div><a style="text-decoration: none" href="#1572947579.000600" ><div class="time">2019-11-05 09:52</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1573100607.000800"><img src="https://secure.gravatar.com/avatar/a0aceee234fd4fe1c7bc9f06edc58de1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">vivek.prahlad</div><a style="text-decoration: none" href="#1573100607.000800" ><div class="time">2019-11-07 04:23</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1573502610.001000"><img src="https://secure.gravatar.com/avatar/00d4596000d5052e7075d73e34248a7a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /></a><div class="message"><div class="username">cbergstrom</div><a style="text-decoration: none" href="#1573502610.001000" ><div class="time">2019-11-11 20:03</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1574325730.001200"><img src="https://secure.gravatar.com/avatar/d03c4c043603a977f59525285aedf918.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">samuel.hodgkinson</div><a style="text-decoration: none" href="#1574325730.001200" ><div class="time">2019-11-21 08:42</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1574760253.001400"><img src="https://secure.gravatar.com/avatar/3ca5b8bc48f4ca368c44227d12e59a65.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">johnny.nilsson83</div><a style="text-decoration: none" href="#1574760253.001400" ><div class="time">2019-11-26 09:24</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1574848686.002600"><img src="https://secure.gravatar.com/avatar/3ca5b8bc48f4ca368c44227d12e59a65.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">johnny.nilsson83</div><a style="text-decoration: none" href="#1574848686.002600" ><div class="time">2019-11-27 09:58</div></a><div class="msg">Hi all.
I am new to the pact-slack since yesterday. I joined for one specific reason and that is to get an update on how the work on the protobuf-support is moving along. Does anyone know?</div></div></div><br/>
<div><a id="1574848917.004700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1574848917.004700" ><div class="time">2019-11-27 10:01</div></a><div class="msg">Given the recent support on our issues page and the fact that this channel is the 3rd largest in the group, we're thinking about it more but don't have solid time frames. It will take quite a coordinated effort to get it across all languages so one thing we'll need to do is set a language order. What are you using?</div></div></div><br/>
<div><a id="1574853209.006500"><img src="https://secure.gravatar.com/avatar/3ca5b8bc48f4ca368c44227d12e59a65.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">johnny.nilsson83</div><a style="text-decoration: none" href="#1574853209.006500" ><div class="time">2019-11-27 11:13</div></a><div class="msg">Thank you for the response.
We are using java as our main language. Our frontend is built in javascript. Most/all of our data is accessed through SOAP-endpoints to access the mainframe systems, or a stored procedure</div></div></div><br/>
<div><a id="1575038453.006700"><img src="https://secure.gravatar.com/avatar/809d801884711036985af824a0695f34.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">kalinets</div><a style="text-decoration: none" href="#1575038453.006700" ><div class="time">2019-11-29 14:40</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1575371462.006900"><img src="https://secure.gravatar.com/avatar/8a2b6be51af77e33d613c3af555a31cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">christian.johann.eder</div><a style="text-decoration: none" href="#1575371462.006900" ><div class="time">2019-12-03 11:11</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1575903323.007300"><img src="https://secure.gravatar.com/avatar/be6aad0441551ebc5b0f26d22e8bd6f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ivangsa</div><a style="text-decoration: none" href="#1575903323.007300" ><div class="time">2019-12-09 14:55</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1575922247.008300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1575922247.008300" ><div class="time">2019-12-09 20:10</div></a><div class="msg">@christian.johann.eder we can explore non http protobufs etc here for now</div></div></div><br/>
<div><a id="1575929961.008500"><img src="https://secure.gravatar.com/avatar/21ffbec3d19b5ef6902872193e5403cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">gordo</div><a style="text-decoration: none" href="#1575929961.008500" ><div class="time">2019-12-09 22:19</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1575974951.009200"><img src="https://secure.gravatar.com/avatar/8a2b6be51af77e33d613c3af555a31cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">christian.johann.eder</div><a style="text-decoration: none" href="#1575974951.009200" ><div class="time">2019-12-10 10:49</div></a><div class="msg">@matt.fellows sure - but before we do this, I've got a question related to the planned protobug support. In the slides, I saw that you plan to include the protobuf definition in a binary format in the PACT files. What is the intention behind this? I am asking, because in the DIY contract testing approch I implemented in my last project, we just went with writing the  base64 encoded binary protobuf messages as interaction bodies, instead of serializing them as JSON into the PACT. Being able to deserialize the interaction bodies was already part of the verification process. Usually, consumer and provider already have a way of sharing their protobuf message format, i.e. they both generate code from the same .proto files. So, why add another source of truth for protobuf message formats in the PACT file?</div></div></div><br/>
<div><a id="1575975130.011200"><img src="https://secure.gravatar.com/avatar/8a2b6be51af77e33d613c3af555a31cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">christian.johann.eder</div><a style="text-decoration: none" href="#1575975130.011200" ><div class="time">2019-12-10 10:52</div></a><div class="msg">And regarding the non-HTTP question - I think we should separate between transport (e.g. HTTP, TCP...) and Serialization (e.g. JSON, Protobuf)...
For the question of transport, I couldn't find up to now any samples (or ideas in the slides) that indicate any current or future support for non-HTTP Apis. Did I miss anything?</div></div></div><br/>
<div><a id="1576259710.000100"><img src="https://secure.gravatar.com/avatar/00d4596000d5052e7075d73e34248a7a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /></a><div class="message"><div class="username">cbergstrom</div><a style="text-decoration: none" href="#1576259710.000100" ><div class="time">2019-12-13 17:55</div></a><div class="msg">Regarding the source of truth I could see this being useful for distributing the protos if you haven't already got a separate solution for that. Although it might be slightly awkward as this might be mixing test and production contexts. I just wonder if this would be abusing the PACT framework or if it makes sense to cross those feature boundaries</div></div></div><br/>
<div><a id="1576444979.001900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1576444979.001900" ><div class="time">2019-12-15 21:22</div></a><div class="msg">Please take that slide pack as an FYI-only and not how we plan to do the strategic implementation. It was created by @mcon in the community as a practical way to move forward for a use case he had. More broadly, we?re going to need to find a way to represent other contract types as first class citizens in the overall ecosystem</div></div></div><br/>
<div><a id="1576445084.003500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1576445084.003500" ><div class="time">2019-12-15 21:24</div></a><div class="msg">&gt; For the question of transport, I couldn?t find up to now any samples (or ideas in the slides) that indicate any current or future support for non-HTTP Apis. Did I miss anything?

No you are quite correct. We?ve mostly taken the view that transport is less important to test, and it?s more about the contract that is shuttled over that transport. My view on this is shifting on this position a little, because whilst it sounds nice in theory, it makes for some awkward interfaces/experiences for the test framework</div></div></div><br/>
<div><a id="1577786051.000200"><img src="https://secure.gravatar.com/avatar/9f31c839d816a65945eba13573dc9987.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">knkarthik20</div><a style="text-decoration: none" href="#1577786051.000200" ><div class="time">2019-12-31 09:54</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1578590022.000300"><img src="https://secure.gravatar.com/avatar/cea6d0936717f9c3722836852cfaca92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">david.wang3</div><a style="text-decoration: none" href="#1578590022.000300" ><div class="time">2020-01-09 17:13</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1578652479.000500"><img src="https://secure.gravatar.com/avatar/2bc0aa6ec4b019c4681d959f86959077.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /></a><div class="message"><div class="username">rikeshgohil</div><a style="text-decoration: none" href="#1578652479.000500" ><div class="time">2020-01-10 10:34</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1579515991.001800"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1579515991.001800" ><div class="time">2020-01-20 10:26</div></a><div class="msg">Protobuf people, your feedback helps us plan our roadmap. If you're interested in getting protobuf pact happening, place your votes here <a href="https://pact.canny.io/admin/board/feature-requests/p/support-protobufs">https://pact.canny.io/admin/board/feature-requests/p/support-protobufs</a></div></div></div><br/>
<div><a id="1579621902.002300"><img src="https://secure.gravatar.com/avatar/91230e4ecee920f381d33863f0ccf0de.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">anja.kammer</div><a style="text-decoration: none" href="#1579621902.002300" ><div class="time">2020-01-21 15:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1579756141.002500"><img src="https://secure.gravatar.com/avatar/68a47849b57b20e795aa75d3647287b5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">martin.schneider</div><a style="text-decoration: none" href="#1579756141.002500" ><div class="time">2020-01-23 05:09</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1579773419.000200"><img src="https://avatars.slack-edge.com/2023-02-19/4820089148422_0e722f061f1fe99a6501_72.jpg" /></a><div class="message"><div class="username">jgfarias42</div><a style="text-decoration: none" href="#1579773419.000200" ><div class="time">2020-01-23 09:56</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1579987324.006200"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1579987324.006200" ><div class="time">2020-01-25 21:22</div></a><div class="msg">Hi folks (@matt.fellows and @bethskurrie in particular),

Despite saying I wouldn't have time to continue working on protobufs for Pact (which I still don't), I *have* found time to finish the proof of concept to a level which is runnable by others (I've tried my instructions from scratch, and I seem to be able to get them working).

I've put together a gist detailing how one might go about running the proof of concept, and linking to the interesting bits of code which have changed to be protobuf-related. I don't know what architecture you guys are planning on longer term, but hopefully at the very least you might find this interesting. <a href="https://gist.github.com/mcon/2e3ae3eff0b9712d02e06ac1275b7f65">https://gist.github.com/mcon/2e3ae3eff0b9712d02e06ac1275b7f65</a>

For now at work we're using other methods to validate protobuf-over-HTTP interactions, and pursuing Pact for this isn't a priority at the moment.

I'm happy to answer any questions: I'll stick around in the Pact Foundation slack for at least a few weeks.

Thanks Matt and Beth for your support in getting this far, and for all the work you do on Pact more generally.</div></div></div><br/>
<div><a id="1579987396.006700"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1579987396.006700" ><div class="time">2020-01-25 21:23</div></a><div class="msg">Awesome work @mcon!</div></div></div><br/>
<div><a id="1579987441.007700"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1579987441.007700" ><div class="time">2020-01-25 21:24</div></a><div class="msg">I'll have a good look at it when I'm at my desktop next.</div></div></div><br/>
<div><a id="1579992463.008400"><img src="https://secure.gravatar.com/avatar/af7c8a888bd2b5bda3991d10c39023b8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">dmytro.garanzha</div><a style="text-decoration: none" href="#1579992463.008400" ><div class="time">2020-01-25 22:47</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1580001521.009600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1580001521.009600" ><div class="time">2020-01-26 01:18</div></a><div class="msg">I wonder how the modern idea of a"schema registry" afits in or competes with Pact and the broker

E.g. <a href="https://github.com/spotify/proto-registry">https://github.com/spotify/proto-registry</a></div></div></div><br/>
<div><a id="1580001589.010700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1580001589.010700" ><div class="time">2020-01-26 01:19</div></a><div class="msg"><a href="https://github.com/anemos-io/metastore">https://github.com/anemos-io/metastore</a>

AWS registry and the confluent schema registry</div></div></div><br/>
<div><a id="1580001619.011800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1580001619.011800" ><div class="time">2020-01-26 01:20</div></a><div class="msg">It feels more like an anemic broker (i.e. without the CI/CD tools) and obviously no test framework around it</div></div></div><br/>
<div><a id="1580030550.015900"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1580030550.015900" ><div class="time">2020-01-26 09:22</div></a><div class="msg">Interesting thought Matt, I guess it would be possible to, in stead of storing the `FileDescriptorSet` in the pact contract itself (as I'm doing in the PoC), in stead store it in a schama registry (e.g. metastore), and have whichever component that does the serialization conversion fetch the schema from there.
The resulting pact contracts would be more concise, but there would then be a dependency on the registry to get the protobuf definition - ultimately there would still need to be something to do the serialization conversion (e.g. the serialization proxy, or some functionality integrated into the ruby core)</div></div></div><br/>
<div><a id="1581878951.016700"><img src="https://secure.gravatar.com/avatar/b3c2827862b9819208cdd09aee9d3d8d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">reverse9</div><a style="text-decoration: none" href="#1581878951.016700" ><div class="time">2020-02-16 18:49</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1581902528.016900"><img src="https://secure.gravatar.com/avatar/388ebf0839b004684b529cae3b9a9d09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png" /></a><div class="message"><div class="username">baquinteros</div><a style="text-decoration: none" href="#1581902528.016900" ><div class="time">2020-02-17 01:22</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1582056879.018000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1582056879.018000" ><div class="time">2020-02-18 20:14</div></a><div class="msg"><!channel> want to see protobufs implemented? Vote to help us prioritise it at <a href="https://pact.canny.io/feature-requests/p/support-protobufs">https://pact.canny.io/feature-requests/p/support-protobufs</a></div></div></div><br/>
<div><a id="1582057444.018600"><img src="https://secure.gravatar.com/avatar/ac2d1cf8175d6ff671bab6258cff8a59.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">ngrigoriev</div><a style="text-decoration: none" href="#1582057444.018600" ><div class="time">2020-02-18 20:24</div></a><div class="msg">Thanks for sharing! I was thinking about using <a href="https://github.com/jnewmano/grpc-json-proxy">https://github.com/jnewmano/grpc-json-proxy</a> to deal with gRPC for Pact.</div></div></div><br/>
<div><a id="1582060613.019000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1582060613.019000" ><div class="time">2020-02-18 21:16</div></a><div class="msg">That?s awesome - I?ll add that to the list of things to look at!</div></div></div><br/>
<div><a id="1582061467.026400"><img src="https://secure.gravatar.com/avatar/10b81a01696004e0b79a0ab74cb5eb12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">mcon</div><a style="text-decoration: none" href="#1582061467.026400" ><div class="time">2020-02-18 21:31</div></a><div class="msg">I've started thinking recently whether Pact is the right way to test protobuf contracts - the `.proto` files which are used to describe a gRPC service are *almost* usable as contracts in their own right and, for me, the thing that's missing is some layer to prevent breaking changes being made to those `.proto` files. I've recently discovered Uber's Buf tool, which provides exactly that: a layer on top of `.proto` files to ensure breaking changes aren't made:
<a href="https://github.com/bufbuild/buf">https://github.com/bufbuild/buf</a>

This is obviously quite a different approach to Pact, and they may complement each other - it's not for me to say really, it depends what fits people's individual needs. Buf was a huge discovery for me, as it achieves most of the benefits I was looking to gain with protobufs and Pact, and I thought I should mention it here as folks may find it useful.</div></div></div><br/>
<div><a id="1582061634.026700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1582061634.026700" ><div class="time">2020-02-18 21:33</div></a><div class="msg">Loving these shares, thanks Matt</div></div></div><br/>
<div><a id="1583507697.000200"><img src="https://secure.gravatar.com/avatar/7c15f32af040acc7e27a9160e7adfd72.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">labardinim</div><a style="text-decoration: none" href="#1583507697.000200" ><div class="time">2020-03-06 15:14</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1585241509.000200"><img src="https://secure.gravatar.com/avatar/56efde6800f33735c67f46f9a98a4055.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">vadim.sacharow</div><a style="text-decoration: none" href="#1585241509.000200" ><div class="time">2020-03-26 16:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1585263461.000400"><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /></a><div class="message"><div class="username">rbenbolton</div><a style="text-decoration: none" href="#1585263461.000400" ><div class="time">2020-03-26 22:57</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1585298835.005000"><img src="https://secure.gravatar.com/avatar/8a2b6be51af77e33d613c3af555a31cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">christian.johann.eder</div><a style="text-decoration: none" href="#1585298835.005000" ><div class="time">2020-03-27 08:47</div></a><div class="msg">Just wanted to share that I finally managed to release my custom pact implementation with support for protobuf serialization.

It?s compatible with the pact spec v2 (I.e. makes the specs tests green), and is available for .NET Standard 2.0 

<a href="https://github.com/ChristianEder/impact">https://github.com/ChristianEder/impact</a>

The path I took allows to add custom serialization formats - such as protobuf - in addition to Json, and also to exchange the transport layer (out of the box, I support HTTP) at will.

Pleased let me know what you think!</div></div></div><br/>
<div><a id="1585299259.005300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585299259.005300" ><div class="time">2020-03-27 08:54</div></a><div class="msg">That's awesome! Well probably be in touch when there time comes to get this into pact core</div></div></div><br/>
<div><a id="1585299268.005500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585299268.005500" ><div class="time">2020-03-27 08:54</div></a><div class="msg">:clap:</div></div></div><br/>
<div><a id="1585299302.006300"><img src="https://secure.gravatar.com/avatar/8a2b6be51af77e33d613c3af555a31cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">christian.johann.eder</div><a style="text-decoration: none" href="#1585299302.006300" ><div class="time">2020-03-27 08:55</div></a><div class="msg">It?s a .net implementation- I?m not sure how this will work out?</div></div></div><br/>
<div><a id="1585299334.006900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1585299334.006900" ><div class="time">2020-03-27 08:55</div></a><div class="msg">Probably just the lessons and thinking at the very least</div></div></div><br/>
<div><a id="1585299428.009400"><img src="https://secure.gravatar.com/avatar/8a2b6be51af77e33d613c3af555a31cb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">christian.johann.eder</div><a style="text-decoration: none" href="#1585299428.009400" ><div class="time">2020-03-27 08:57</div></a><div class="msg">In terms of pact compatibility, my focus was on the generated pact file - not the api / syntax to define them. The path I took for that is somewhat similar to the one in pact-net, but still different. 

But I?m happy to exchange experiences on that one!</div></div></div><br/>
<div><a id="1585796397.009900"><img src="https://avatars.slack-edge.com/2023-05-18/5280957216389_62abb72cff6ee3137f9a_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1585796397.009900" ><div class="time">2020-04-02 02:59</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1586251572.010100"><img src="https://secure.gravatar.com/avatar/c5ffffd90b2d881c6c7004ea6297182b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">ukrainian1991</div><a style="text-decoration: none" href="#1586251572.010100" ><div class="time">2020-04-07 09:26</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1586271205.010300"><img src="https://secure.gravatar.com/avatar/cba0f83fd5c17a288debbe219f0ecfe5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">artur.mkr</div><a style="text-decoration: none" href="#1586271205.010300" ><div class="time">2020-04-07 14:53</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1586948867.010800"><img src="https://secure.gravatar.com/avatar/53aa45f144272c6b98c8058c4fa6bc33.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">nithya.ganesan</div><a style="text-decoration: none" href="#1586948867.010800" ><div class="time">2020-04-15 11:07</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1586956676.011000"><img src="https://secure.gravatar.com/avatar/35a85e8f1a1a2032129d5415bb51c6eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">safiyya</div><a style="text-decoration: none" href="#1586956676.011000" ><div class="time">2020-04-15 13:17</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1587579506.012900"><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /></a><div class="message"><div class="username">rbenbolton</div><a style="text-decoration: none" href="#1587579506.012900" ><div class="time">2020-04-22 18:18</div></a><div class="msg">Hey everyone, I?m going to be jumping into protobufs and (with some help) try to see if it?s feasible to get Pact Go working with gRPC. I?m starting with reading the backlog here, and some of the github repos I?ve seen linked. Our CTO seems a bit skeptical and wants to look at other options as well. Anyone familiar with <a href="https://buf.build/">https://buf.build/</a>?</div></div></div><br/>
<div><a id="1587587019.013200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587587019.013200" ><div class="time">2020-04-22 20:23</div></a><div class="msg">Awesome!</div></div></div><br/>
<div><a id="1587587025.013600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587587025.013600" ><div class="time">2020-04-22 20:23</div></a><div class="msg">Also read <a href="https://pact.canny.io/feature-requests/p/support-grpc">https://pact.canny.io/feature-requests/p/support-grpc</a> if you haven?t already</div></div></div><br/>
<div><a id="1587587062.014000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587587062.014000" ><div class="time">2020-04-22 20:24</div></a><div class="msg">Just confirming, you need protobufs over gRPC - right?</div></div></div><br/>
<div><a id="1587587188.014500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587587188.014500" ><div class="time">2020-04-22 20:26</div></a><div class="msg">I?ve seen buf as Matt C mentioned it above. Would definitely be interested to hear where you get to</div></div></div><br/>
<div><a id="1587587254.015800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587587254.015800" ><div class="time">2020-04-22 20:27</div></a><div class="msg">For what it?s worth, I think there is still merit in bringing it into the Pact ecosystem because of the workflows we can provide - I believe a consistent approach to polyglot microservices (languages, protocols, transports) will simplify things for a lot of folks. But it is great to see other tools tackling it from other angles (perhaps we can find a way for them to work together)</div></div></div><br/>
<div><a id="1587587288.016500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587587288.016500" ><div class="time">2020-04-22 20:28</div></a><div class="msg">There is a new version of the Golang protobuf library, which again has come out since Matt C?s awesome early work on the topic.</div></div></div><br/>
<div><a id="1587587625.022200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587587625.022200" ><div class="time">2020-04-22 20:33</div></a><div class="msg">At this stage, this is what I,m thinking at a high level, but happy to jump on a call if you want to share/bounce ideas around:

1. We?ve made the strategic decision to use Rust as the ?engine? going forward, to power other Pact supported languages - it implements all versions of our specification. This is obviously going to be a barrier to entry for some
2. Create a Golang library that will be embedded into our Rust implementation. It will spin up a transport (gRPC, or HTTP) to serve a dynamic payload (the protobuf contents). The interface for this will need some serious thinking. 
3. Serialising the Pact file is still something to be agreed on. It?s possible we embed/encode the proto file in the Pact itself, update the specification to support other types, or even _externalise_ the protobuf itself (this may have implications for other types of contracts also - e.g. kafka schema registry, Swagger definitions etc.). As a starting point, it will probably be encoded within the Pact file itself 
If you?re looking to help with a strategic contribution, this will be a lot of work and a steep learning curve - I?ll do my best to support you! If not, that?s cool with us. Let us know how we can help</div></div></div><br/>
<div><a id="1587592827.025000"><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /></a><div class="message"><div class="username">rbenbolton</div><a style="text-decoration: none" href="#1587592827.025000" ><div class="time">2020-04-22 22:00</div></a><div class="msg">Also, pulling in @jon.stevens to the conversation as he?ll be working with me.

Dang, you?re right. I should have read the channel backlog _before_ posting and I would have seen Matt C?s post! oops. As it turns out, our CTO contacted the co-founder of buf and set up a meeting on Friday. I also just learned that Jason Newman who created <a href="https://github.com/jnewmano/grpc-json-proxy">https://github.com/jnewmano/grpc-json-proxy</a> (<a href="https://pact-foundation.slack.com/archives/CEQBDD5U4/p1582057444018600">https://pact-foundation.slack.com/archives/CEQBDD5U4/p1582057444018600</a>) is the chief architect at our company.</div></div></div><br/>
<div><a id="1587592830.025400"><img src="https://secure.gravatar.com/avatar/8140ebda4d42eef5879acd01fb4e282d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">jon.stevens</div><a style="text-decoration: none" href="#1587592830.025400" ><div class="time">2020-04-22 22:00</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1587592892.025600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587592892.025600" ><div class="time">2020-04-22 22:01</div></a><div class="msg">oh cool!</div></div></div><br/>
<div><a id="1587592936.026400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587592936.026400" ><div class="time">2020-04-22 22:02</div></a><div class="msg">I don?t quite get what the proxy?s purpose is at a glance - is the idea that it would translaten a HTTP / JSON request to a gRPC/protobufs request and back again?</div></div></div><br/>
<div><a id="1587593056.027900"><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /></a><div class="message"><div class="username">rbenbolton</div><a style="text-decoration: none" href="#1587593056.027900" ><div class="time">2020-04-22 22:04</div></a><div class="msg">Essentially yeah, specifically for use with Postman, which, at the time, was the go to for API testing within the company. He wrote the tool and then open sourced it.</div></div></div><br/>
<div><a id="1587593078.028500"><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /></a><div class="message"><div class="username">rbenbolton</div><a style="text-decoration: none" href="#1587593078.028500" ><div class="time">2020-04-22 22:04</div></a><div class="msg">@jon.stevens correct me if I?m wrong</div></div></div><br/>
<div><a id="1587593089.028900"><img src="https://secure.gravatar.com/avatar/8140ebda4d42eef5879acd01fb4e282d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png" /></a><div class="message"><div class="username">jon.stevens</div><a style="text-decoration: none" href="#1587593089.028900" ><div class="time">2020-04-22 22:04</div></a><div class="msg">you are correct. you beat me to it</div></div></div><br/>
<div><a id="1587593171.030000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587593171.030000" ><div class="time">2020-04-22 22:06</div></a><div class="msg">Cool. And if I understand buf.build, it?s really about static analysis of protobuf files, and provides backwards compatibility detection, faster compile times and an improved ?image? for better reflection and analysis type tools. It may be of use to Pact actually given it?s richer API.</div></div></div><br/>
<div><a id="1587593226.031300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587593226.031300" ><div class="time">2020-04-22 22:07</div></a><div class="msg">But we?ll have to see. One of the issues with protobufs (and gRPC  also if protobufs are the payload) is that reflection and dynamic dispatch isn?t well supported acronss languages, so being able to dynamically ?mock? out an endpoint reliably can be hard. Avoiding the use of `protoc` or compile steps in tests is ideal.</div></div></div><br/>
<div><a id="1587593270.032400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587593270.032400" ><div class="time">2020-04-22 22:07</div></a><div class="msg">It looks like Go now supports this reflection use case in its latest library. (NodeJS seems to support it the most flexibly/easily, but that can?t really be properly bundled into a general library distribution unlike exporting a c interface in Go)</div></div></div><br/>
<div><a id="1587593278.032700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587593278.032700" ><div class="time">2020-04-22 22:07</div></a><div class="msg">bbl have to do the breakfast thing with kids</div></div></div><br/>
<div><a id="1587593530.035300"><img src="https://avatars.slack-edge.com/2020-03-26/1031403155351_188e31b6cb20193d8799_72.jpg" /></a><div class="message"><div class="username">rbenbolton</div><a style="text-decoration: none" href="#1587593530.035300" ><div class="time">2020-04-22 22:12</div></a><div class="msg">The backwards compatibility detection I think is what caught the CTO?s eye right away, which is a big plus. I don?t think it gives the same protection as a pact contract that prevents breakage by running tests created by the consumer, but it is a step in the right direction. The determining factor I think will be whether or not the effort and benefit to get Pact fully working with gRPC will be greater than the risk of going with something already built like buf. That?s part of what I need to determine in the next week or so.</div></div></div><br/>
<div><a id="1587594162.036200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587594162.036200" ><div class="time">2020-04-22 22:22</div></a><div class="msg">I see but as a tool like spectral or swagger linters. Complimentary tech</div></div></div><br/>
<div><a id="1587594192.037100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587594192.037100" ><div class="time">2020-04-22 22:23</div></a><div class="msg">Pact gives you the workflow around it also</div></div></div><br/>
<div><a id="1587594243.038100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1587594243.038100" ><div class="time">2020-04-22 22:24</div></a><div class="msg">Have you looked at that canny feature request? Your commentary around the issues and approaches would be appreciated</div></div></div><br/>
<div><a id="1588704055.038300"><img src="https://secure.gravatar.com/avatar/ae85a279f204cfd611a88ad0294496cc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">nhodaly</div><a style="text-decoration: none" href="#1588704055.038300" ><div class="time">2020-05-05 18:40</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1588874644.040200"><img src="https://secure.gravatar.com/avatar/ae85a279f204cfd611a88ad0294496cc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">nhodaly</div><a style="text-decoration: none" href="#1588874644.040200" ><div class="time">2020-05-07 18:04</div></a><div class="msg">Hey everyone, I am very new to contract testing and pact. Would I be able to use pact as-is to conduct testing between a consumer / provider that are both using protobufs and gRPC?</div></div></div><br/>
<div><a id="1588887728.040600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1588887728.040600" ><div class="time">2020-05-07 21:42</div></a><div class="msg">Not yet, but we are working on it (see <a href="http://pact.canny.io">http://pact.canny.io</a>)</div></div></div><br/>
<div><a id="1589906367.040900"><img src="https://secure.gravatar.com/avatar/adb1c82e4a15f62f60336d8039af1e9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">koen.roevens</div><a style="text-decoration: none" href="#1589906367.040900" ><div class="time">2020-05-19 16:39</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1590991951.041200"><img src="https://secure.gravatar.com/avatar/be6aad0441551ebc5b0f26d22e8bd6f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ivangsa</div><a style="text-decoration: none" href="#1590991951.041200" ><div class="time">2020-06-01 06:12</div></a><div class="msg">Hi

we are succesfully doing contract testing with gRPC + Pact in java and spring-boot

we have implemented an easy solution that involves no extra software, dependencies or extra open ports

our solution is tied to java and spring-boot but can inspire others in their stack

we have published all details here
<a href="https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c?sk=9693d32e83ff72a467f4c15df80c3a70">https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c?sk=9693d32e83ff72a467f4c15df80c3a70</a>

*TL;DR;*
- on consumer test we are writing a custom io.grpc.Channel that marshall/unmarshall - protobuf/json and connects via http to mocking server (very simple class)
- on provider verification, we listen to spring-boot 'grpc server started event' to collect all metadata and write a very simple SpringMVC controller (only on tests context) that does the reverse proccess as Channel did on consumer side
- we map grpc to http request via POST to url "/grpc/&lt;grpc method fullname&gt;"

nice and easy..</div></div></div><br/>
<div><a id="1590992767.041900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1590992767.041900" ><div class="time">2020-06-01 06:26</div></a><div class="msg">awesome! You prototype is perfect, because i?m doing the same with JS right now. Thanks for sharing, let me look at how you?ve done it too</div></div></div><br/>
<div><a id="1590992839.042400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1590992839.042400" ><div class="time">2020-06-01 06:27</div></a><div class="msg">so basically, you?ve added a proxy/facade on other side. Nice, that?s what Matt C did with his .NET example</div></div></div><br/>
<div><a id="1590992886.043400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1590992886.043400" ><div class="time">2020-06-01 06:28</div></a><div class="msg">For core Pact to work, we?d prefer that indirection to not have to be there, but i?ve certainly been considering creating a universal binary that can be used as a shim on either side</div></div></div><br/>
<div><a id="1590992915.044100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1590992915.044100" ><div class="time">2020-06-01 06:28</div></a><div class="msg">I?m assuming you are just doing req/res style? Not bi-directional streaming with gRPC or anything?</div></div></div><br/>
<div><a id="1591022535.044900"><img src="https://secure.gravatar.com/avatar/be6aad0441551ebc5b0f26d22e8bd6f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ivangsa</div><a style="text-decoration: none" href="#1591022535.044900" ><div class="time">2020-06-01 14:42</div></a><div class="msg">yes, we are starting doing contract testing for req/res style..</div></div></div><br/>
<div><a id="1591022710.047900"><img src="https://secure.gravatar.com/avatar/be6aad0441551ebc5b0f26d22e8bd6f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ivangsa</div><a style="text-decoration: none" href="#1591022710.047900" ><div class="time">2020-06-01 14:45</div></a><div class="msg">for us the io.grpc.Channel on the consumer side is a very clean solution, and an _http-proxy_ on the provider side is good enough...</div></div></div><br/>
<div><a id="1591022740.048100"><img src="https://secure.gravatar.com/avatar/be6aad0441551ebc5b0f26d22e8bd6f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ivangsa</div><a style="text-decoration: none" href="#1591022740.048100" ><div class="time">2020-06-01 14:45</div></a><div class="msg">I'm not sure how can a universal binary can serialize/deserialize protobuf without knowing the specific api, as serialization depends on knowing default values and field order.. :thinking_face:</div></div></div><br/>
<div><a id="1591056668.048700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591056668.048700" ><div class="time">2020-06-02 00:11</div></a><div class="msg">We?d need to pass more information into the Pact itself  - e.g. the FileDescriptorSet</div></div></div><br/>
<div><a id="1591085592.050200"><img src="https://secure.gravatar.com/avatar/be6aad0441551ebc5b0f26d22e8bd6f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ivangsa</div><a style="text-decoration: none" href="#1591085592.050200" ><div class="time">2020-06-02 08:13</div></a><div class="msg">what is that extra information you want to add to the pact itself? (what are the FileDescriptorSet?)</div></div></div><br/>
<div><a id="1591140268.050500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591140268.050500" ><div class="time">2020-06-02 23:24</div></a><div class="msg">See ?self describing messages? at <a href="https://developers.google.com/protocol-buffers/docs/techniques#self-description">https://developers.google.com/protocol-buffers/docs/techniques#self-description</a></div></div></div><br/>
<div><a id="1591140278.050900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591140278.050900" ><div class="time">2020-06-02 23:24</div></a><div class="msg">It is metadata that means a message can describe itself</div></div></div><br/>
<div><a id="1591140297.051400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591140297.051400" ><div class="time">2020-06-02 23:24</div></a><div class="msg">Alternatively, we pack the protocol buffer definition into the contract (so it can be read on framework side itself)</div></div></div><br/>
<div><a id="1591168639.051800"><img src="https://secure.gravatar.com/avatar/be6aad0441551ebc5b0f26d22e8bd6f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ivangsa</div><a style="text-decoration: none" href="#1591168639.051800" ><div class="time">2020-06-03 07:17</div></a><div class="msg">But *you don't need to store any extra information* on the pact itself to un/marshall messages, *you have every thing you need at runtime*

- on the consumer tests side you have the gprc MethodDescriptor you are about to call (with all info you need), just need to write the 'generic' grpc Channel that connects to the http mocking server
- on the provider verification tests, it's true you don't have the information on a "per request" basis but you can collect all MethodDescriptors at service startup and store them, mapping them to urls (url &lt;-&gt; method.fullname)

so you already have all information you need to do the un/marshalling and with zero modifications to pacts or pact core...

anyone can start doing contract testing with pact+grpc right now... no extra binary, no extra FileDescriptorSet, no .proto definition on pacts...

I was the first supprised to find how easy and generic this was to roll out...

We are still thinking how we are going to manage/map exceptions to http status codes, but no a technical problem, each project may want to do this in a different way..</div></div></div><br/>
<div><a id="1591171489.052500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591171489.052500" ><div class="time">2020-06-03 08:04</div></a><div class="msg">Thanks Ivan - I still haven?t fully digested your post yet so it?s more than possible you know more than I do!!</div></div></div><br/>
<div><a id="1591173944.058100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591173944.058100" ><div class="time">2020-06-03 08:45</div></a><div class="msg">&gt;  so you already have all information you need to do the un/marshalling and with zero modifications to pacts or pact core...
It?s a pretty neat approach, similar to Matt C. I?d need to study other language  APIs, but I?m aware that Java is one of those that supports better runtime reflection. Go now supports it also, but most don?t (so this might make that hard).

Regardless of those potential issues that may be completely misguided, my main concerns are that there may be some side-effects of reducing the fidelity using this strategy (i.e. downcasting gRPC+Protobufs to JSON/HTTP). Some downsides that come to mind:

? Protobuf specific contract checks (whether things for now or later)
? Sharing contracts through the Pact Broker / Pactflow: you?ll see an HTTP representation rather than the gRPC / protobuf
? Any tools (e.g. insights or quality tools like linters, coverage maps) may not appreciate that the messages aren?t actually HTTP and return false positives or bad advice.
? etc.</div></div></div><br/>
<div><a id="1591173965.058600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591173965.058600" ><div class="time">2020-06-03 08:46</div></a><div class="msg">So that was a quick response, and I owe you a proper one. Also, what you have done is AWESOME and we?ll no doubt be stealing a lot of that</div></div></div><br/>
<div><a id="1591173979.059000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591173979.059000" ><div class="time">2020-06-03 08:46</div></a><div class="msg">In fact, i?ll include it in our next Pactflow POST because people are really keen on this.</div></div></div><br/>
<div><a id="1591174006.059600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1591174006.059600" ><div class="time">2020-06-03 08:46</div></a><div class="msg">Ron may also have thoughts about stealing it for the JVM implementation, so if you?re keen to contribute your work, that would be something we?d be totally up for discussing!</div></div></div><br/>
<div><a id="1591262920.062500"><img src="https://secure.gravatar.com/avatar/be6aad0441551ebc5b0f26d22e8bd6f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ivangsa</div><a style="text-decoration: none" href="#1591262920.062500" ><div class="time">2020-06-04 09:28</div></a><div class="msg">we are going to use Pact+REST and Pact+gRPC so the best support we get "out of the box" the better for us... you can count on me to contribute and collaborate as needed..</div></div></div><br/>
<div><a id="1591344284.063100"><img src="https://secure.gravatar.com/avatar/414ff979eed774c0827e9fa4bca97264.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png" /></a><div class="message"><div class="username">alex810</div><a style="text-decoration: none" href="#1591344284.063100" ><div class="time">2020-06-05 08:04</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1591621198.063300"><img src="https://avatars.slack-edge.com/2020-06-23/1201257120739_e0b816cf265ce1b1f107_72.png" /></a><div class="message"><div class="username">rafael.espillaque</div><a style="text-decoration: none" href="#1591621198.063300" ><div class="time">2020-06-08 12:59</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1592503533.063600"><img src="https://secure.gravatar.com/avatar/b0e9630ae9bfecf18f7eb4921831b213.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">bernardoguerr</div><a style="text-decoration: none" href="#1592503533.063600" ><div class="time">2020-06-18 18:05</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1592816906.063800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1592816906.063800" ><div class="time">2020-06-22 09:08</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1592822647.064000"><img src="https://secure.gravatar.com/avatar/e8291ac5b9fea75b9652c78882a57e6c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">jacek.okrojek</div><a style="text-decoration: none" href="#1592822647.064000" ><div class="time">2020-06-22 10:44</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1592979522.064200"><img src="https://avatars.slack-edge.com/2020-04-16/1059415760998_51508573e643d1ea3b5f_72.png" /></a><div class="message"><div class="username">mkairys</div><a style="text-decoration: none" href="#1592979522.064200" ><div class="time">2020-06-24 06:18</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1596635104.064400"><img src="https://secure.gravatar.com/avatar/61175ff6dea10760f1e3ed65f7657694.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">egor.ostapenko</div><a style="text-decoration: none" href="#1596635104.064400" ><div class="time">2020-08-05 13:45</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1598327853.000200"><img src="https://avatars.slack-edge.com/2021-06-07/2129819394007_8ed3b61dfb8a1266e27e_72.png" /></a><div class="message"><div class="username">heytaco</div><a style="text-decoration: none" href="#1598327853.000200" ><div class="time">2020-08-25 03:57</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1598327853.000300"><img src="https://avatars.slack-edge.com/2021-06-07/2129819394007_8ed3b61dfb8a1266e27e_72.png" /></a><div class="message"><div class="username">heytaco</div><a style="text-decoration: none" href="#1598327853.000300" ><div class="time">2020-08-25 03:57</div></a><div class="msg">Hi there! My name is HeyTaco!, and you can use me to give people tacos to show your appreciation. My tacos will spread joy through Slack!</div></div></div><br/>
<div><a id="1600347131.000500"><img src="https://avatars.slack-edge.com/2020-08-20/1306850200998_99e551480737f7171633_72.jpg" /></a><div class="message"><div class="username">rcrodrigues39</div><a style="text-decoration: none" href="#1600347131.000500" ><div class="time">2020-09-17 12:52</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1601046392.000200"><img src="https://secure.gravatar.com/avatar/7bf40c23bffaf0b40bbadb2a85f3ac0b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" /></a><div class="message"><div class="username">jan.krejci</div><a style="text-decoration: none" href="#1601046392.000200" ><div class="time">2020-09-25 15:06</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1601659414.014800"><img src="https://avatars.slack-edge.com/2020-08-20/1306850200998_99e551480737f7171633_72.jpg" /></a><div class="message"><div class="username">rcrodrigues39</div><a style="text-decoration: none" href="#1601659414.014800" ><div class="time">2020-10-02 17:23</div></a><div class="msg">Hi everyone. I've been trying to get PACT to work with gRPC on NodeJs environment and I think I now have a satisfactory workaround based on the Java approach described by@ivangsa on <a href="https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c">https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c</a>.
The only difference tho is that on Consumer side, instead of overriding the Channel I decided to create an Interceptor that can translate gRPC calls to Rest (http+json) following a predefined standard.
On the provider side, I basically do the opposite (Rest to gRPC).
There's still some things to wrap up, but If anyone is interested, please follow the github repository <a href="https://github.com/ZupIT/pact-framework-examples/tree/node_grpc_example">https://github.com/ZupIT/pact-framework-examples/tree/node_grpc_example</a>.
I'd love to hear your thoughts and feedback on this.</div></div></div><br/>
<div><a id="1601679546.015400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1601679546.015400" ><div class="time">2020-10-02 22:59</div></a><div class="msg">Awesome stuff! I'll take a look next week :raised_hands::tada:</div></div></div><br/>
<div><a id="1601737500.015700"><img src="https://avatars.slack-edge.com/2020-10-03/1390218964407_93e699d20e45b2e8b101_72.jpg" /></a><div class="message"><div class="username">hovinen</div><a style="text-decoration: none" href="#1601737500.015700" ><div class="time">2020-10-03 15:05</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1602129937.016000"><img src="https://secure.gravatar.com/avatar/2dcbb846f86683fc72c15f7d6301b2b2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">dothetan.040490</div><a style="text-decoration: none" href="#1602129937.016000" ><div class="time">2020-10-08 04:05</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1602643492.016200"><img src="https://avatars.slack-edge.com/2020-10-12/1417374520934_dd8d3e2a0b0a6dbc55c4_72.jpg" /></a><div class="message"><div class="username">giadinhluong</div><a style="text-decoration: none" href="#1602643492.016200" ><div class="time">2020-10-14 02:44</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1602765564.016300"><img src="https://secure.gravatar.com/avatar/3ca5b8bc48f4ca368c44227d12e59a65.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">johnny.nilsson83</div><a style="text-decoration: none" href="#1602765564.016300" ><div class="time">2020-10-15 12:39</div></a><div class="msg">This is really great news! Have you gotten it up and running in a larger context?</div></div></div><br/>
<div><a id="1602838085.016600"><img src="https://secure.gravatar.com/avatar/79a4a862d4abc30b54d400e5578ce90f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /></a><div class="message"><div class="username">alik.berezovsky</div><a style="text-decoration: none" href="#1602838085.016600" ><div class="time">2020-10-16 08:48</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1602874712.016800"><img src="https://avatars.slack-edge.com/2020-10-16/1458309288704_6ce95f938ad7677a3ca2_72.jpg" /></a><div class="message"><div class="username">mario.gioiosa</div><a style="text-decoration: none" href="#1602874712.016800" ><div class="time">2020-10-16 18:58</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1603700829.017000"><img src="https://avatars.slack-edge.com/2020-10-26/1465309933377_219a1a4e995f604e177b_72.jpg" /></a><div class="message"><div class="username">andrewshtamburg</div><a style="text-decoration: none" href="#1603700829.017000" ><div class="time">2020-10-26 08:27</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1603707654.017200"><img src="https://secure.gravatar.com/avatar/0d799bc2a37854bf37c89d612e2a61db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /></a><div class="message"><div class="username">guppy0356.nakira</div><a style="text-decoration: none" href="#1603707654.017200" ><div class="time">2020-10-26 10:20</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1604155952.017400"><img src="https://secure.gravatar.com/avatar/f8de7be50bd55923af74e11ee7611f2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">blmlcu</div><a style="text-decoration: none" href="#1604155952.017400" ><div class="time">2020-10-31 14:52</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1606126607.017700"><img src="https://secure.gravatar.com/avatar/38a1b693f5bdc54c63323bfa9ec16105.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">serhatburakyildirim</div><a style="text-decoration: none" href="#1606126607.017700" ><div class="time">2020-11-23 10:16</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1608020594.017900"><img src="https://avatars.slack-edge.com/2020-11-24/1548900903328_946c45a625e703c1eb82_72.png" /></a><div class="message"><div class="username">ufuk.ozcelik</div><a style="text-decoration: none" href="#1608020594.017900" ><div class="time">2020-12-15 08:23</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1608157067.018100"><img src="https://avatars.slack-edge.com/2020-12-15/1578832485971_b689b9d2de7bddf261fb_72.png" /></a><div class="message"><div class="username">smatheson</div><a style="text-decoration: none" href="#1608157067.018100" ><div class="time">2020-12-16 22:17</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1608392910.018400"><img src="https://avatars.slack-edge.com/2020-12-20/1582086353174_181de7bb0e257a326e8a_72.jpg" /></a><div class="message"><div class="username">writetojoshma</div><a style="text-decoration: none" href="#1608392910.018400" ><div class="time">2020-12-19 15:48</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1609750766.018600"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1609750766.018600" ><div class="time">2021-01-04 08:59</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1610596147.000200"><img src="https://secure.gravatar.com/avatar/30a15c6490213813e7565780598ab7b5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">josh.ellinger</div><a style="text-decoration: none" href="#1610596147.000200" ><div class="time">2021-01-14 03:49</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1611234379.000200"><img src="https://avatars.slack-edge.com/2021-01-21/1645412883447_34d892f0307e827ffaf3_72.jpg" /></a><div class="message"><div class="username">oleg</div><a style="text-decoration: none" href="#1611234379.000200" ><div class="time">2021-01-21 13:06</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1613062280.000500"><img src="https://secure.gravatar.com/avatar/b9924a76d1f08cf45c87c4016e8d4787.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /></a><div class="message"><div class="username">poward</div><a style="text-decoration: none" href="#1613062280.000500" ><div class="time">2021-02-11 16:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1614770117.000200"><img src="https://secure.gravatar.com/avatar/afc429b986fd2a6ede9199dbb33412ce.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">matthew.long</div><a style="text-decoration: none" href="#1614770117.000200" ><div class="time">2021-03-03 11:15</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1615477947.000400"><img src="https://avatars.slack-edge.com/2021-03-10/1844128077267_0ca83dd0a7a76a0a475b_72.png" /></a><div class="message"><div class="username">tommy.mirchandani</div><a style="text-decoration: none" href="#1615477947.000400" ><div class="time">2021-03-11 15:52</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1615806849.000600"><img src="https://avatars.slack-edge.com/2021-03-11/1836696353367_6084f89cbf87e3f52d01_72.jpg" /></a><div class="message"><div class="username">andries.spies</div><a style="text-decoration: none" href="#1615806849.000600" ><div class="time">2021-03-15 11:14</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1616623642.000200"><img src="https://avatars.slack-edge.com/2021-03-24/1896050923810_fb829e63f6aa36046b08_72.jpg" /></a><div class="message"><div class="username">james522</div><a style="text-decoration: none" href="#1616623642.000200" ><div class="time">2021-03-24 22:07</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1617360441.000400"><img src="https://avatars.slack-edge.com/2020-08-24/1342222803216_3a437cb1593501a9ffff_72.png" /></a><div class="message"><div class="username">robert.strehli</div><a style="text-decoration: none" href="#1617360441.000400" ><div class="time">2021-04-02 10:47</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1617709761.000700"><img src="https://secure.gravatar.com/avatar/02cd7155116acdcd9ca378b06f6ff449.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /></a><div class="message"><div class="username">dmitry.korolev</div><a style="text-decoration: none" href="#1617709761.000700" ><div class="time">2021-04-06 11:49</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1618338205.001800"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1618338205.001800" ><div class="time">2021-04-13 18:23</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1618936358.003300"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1618936358.003300" ><div class="time">2021-04-20 16:32</div></a><div class="msg">Hi. Is there any update on gRPC/Protobuf support?</div></div></div><br/>
<div><a id="1619052528.003700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619052528.003700" ><div class="time">2021-04-22 00:48</div></a><div class="msg">Hi Jason, not yet I?m afraid</div></div></div><br/>
<div><a id="1619052539.003900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619052539.003900" ><div class="time">2021-04-22 00:48</div></a><div class="msg">You?ve probaly seen <a href="https://github.com/pact-foundation/pact-specification/issues/83">https://github.com/pact-foundation/pact-specification/issues/83</a></div></div></div><br/>
<div><a id="1619052603.004700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619052603.004700" ><div class="time">2021-04-22 00:50</div></a><div class="msg">It?s on the Pactflow roadmap, after we?ve made inroads into the initial bi-directional feature set.</div></div></div><br/>
<div><a id="1619052632.005600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619052632.005600" ><div class="time">2021-04-22 00:50</div></a><div class="msg">The dependency is creating a pact plugin famework, and we?ll implement gRPC/protobufs as the first one</div></div></div><br/>
<div><a id="1619052637.005800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619052637.005800" ><div class="time">2021-04-22 00:50</div></a><div class="msg">Which language do you use again Jason?</div></div></div><br/>
<div><a id="1619056650.006200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619056650.006200" ><div class="time">2021-04-22 01:57</div></a><div class="msg">FYI this looks realy promising: <a href="https://github.com/ZupIT/pact-framework-examples/tree/master/examples/node/gRPC">https://github.com/ZupIT/pact-framework-examples/tree/master/examples/node/gRPC</a></div></div></div><br/>
<div><a id="1619056707.006400"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1619056707.006400" ><div class="time">2021-04-22 01:58</div></a><div class="msg">olay!</div></div></div><br/>
<div><a id="1619056804.006600"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1619056804.006600" ><div class="time">2021-04-22 02:00</div></a><div class="msg">bamos!</div></div></div><br/>
<div><a id="1619056836.007200"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1619056836.007200" ><div class="time">2021-04-22 02:00</div></a><div class="msg">One of those two words is actually spanish...</div></div></div><br/>
<div><a id="1619056853.007400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619056853.007400" ><div class="time">2021-04-22 02:00</div></a><div class="msg">TL;DR - convert protobuf into an intermediate JSON structure, pop in pact file, reverse the other side</div></div></div><br/>
<div><a id="1619056871.008000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619056871.008000" ><div class="time">2021-04-22 02:01</div></a><div class="msg">I?ve seen it before (maybe it was these guys too) - but a good intermediate solution whilst we get our plugin sh*t sorted</div></div></div><br/>
<div><a id="1619057855.008300"><img src="https://avatars.slack-edge.com/2023-05-18/5280957216389_62abb72cff6ee3137f9a_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1619057855.008300" ><div class="time">2021-04-22 02:17</div></a><div class="msg">actually, none of those two words are Spanish :sweat_smile:</div></div></div><br/>
<div><a id="1619057883.008500"><img src="https://avatars.slack-edge.com/2023-05-18/5280957216389_62abb72cff6ee3137f9a_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1619057883.008500" ><div class="time">2021-04-22 02:18</div></a><div class="msg">but? they?re close :wink:</div></div></div><br/>
<div><a id="1619057895.008700"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1619057895.008700" ><div class="time">2021-04-22 02:18</div></a><div class="msg">Bamos is! I used it in my flamenco classes often.</div></div></div><br/>
<div><a id="1619057905.008900"><img src="https://avatars.slack-edge.com/2023-05-18/5280957216389_62abb72cff6ee3137f9a_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1619057905.008900" ><div class="time">2021-04-22 02:18</div></a><div class="msg">ermm? ?vamos?</div></div></div><br/>
<div><a id="1619057910.009100"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1619057910.009100" ><div class="time">2021-04-22 02:18</div></a><div class="msg">Bamos muchachas!</div></div></div><br/>
<div><a id="1619057914.009300"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1619057914.009300" ><div class="time">2021-04-22 02:18</div></a><div class="msg">HA</div></div></div><br/>
<div><a id="1619057925.009500"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1619057925.009500" ><div class="time">2021-04-22 02:18</div></a><div class="msg">of course</div></div></div><br/>
<div><a id="1619057935.009700"><img src="https://avatars.slack-edge.com/2023-05-18/5280957216389_62abb72cff6ee3137f9a_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1619057935.009700" ><div class="time">2021-04-22 02:18</div></a><div class="msg">:man-shrugging:</div></div></div><br/>
<div><a id="1619057941.009900"><img src="https://avatars.slack-edge.com/2018-03-24/334971398433_5b9e9a14ced9f82cd894_72.jpg" /></a><div class="message"><div class="username">bethskurrie</div><a style="text-decoration: none" href="#1619057941.009900" ><div class="time">2021-04-22 02:19</div></a><div class="msg">I double checked my spelling in google and it failed to correct me :|</div></div></div><br/>
<div><a id="1619057952.010100"><img src="https://avatars.slack-edge.com/2023-05-18/5280957216389_62abb72cff6ee3137f9a_72.png" /></a><div class="message"><div class="username">marko.justinek</div><a style="text-decoration: none" href="#1619057952.010100" ><div class="time">2021-04-22 02:19</div></a><div class="msg">need better tests</div></div></div><br/>
<div><a id="1619459130.010700"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1619459130.010700" ><div class="time">2021-04-26 17:45</div></a><div class="msg">We're primarily a java shop</div></div></div><br/>
<div><a id="1619519747.010900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619519747.010900" ><div class="time">2021-04-27 10:35</div></a><div class="msg">This might be interesting to you: <a href="https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c">https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c</a></div></div></div><br/>
<div><a id="1619543743.011200"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1619543743.011200" ><div class="time">2021-04-27 17:15</div></a><div class="msg">I've seen that and discussed with my team. Our initial thought was to wait for full support in pact but we may have to dabble with this approach</div></div></div><br/>
<div><a id="1619572689.011400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619572689.011400" ><div class="time">2021-04-28 01:18</div></a><div class="msg">I?d start here, because even when we add to Pact, there is going to be bedding in time etc.</div></div></div><br/>
<div><a id="1619572700.011600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619572700.011600" ><div class="time">2021-04-28 01:18</div></a><div class="msg">The strategy there I?ve actually seen before, this is just an example where it was published</div></div></div><br/>
<div><a id="1619572707.011800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1619572707.011800" ><div class="time">2021-04-28 01:18</div></a><div class="msg">see also <a href="https://github.com/ZupIT/pact-framework-examples/">https://github.com/ZupIT/pact-framework-examples/</a></div></div></div><br/>
<div><a id="1619609553.012100"><img src="https://avatars.slack-edge.com/2021-04-27/1990025551319_d03b9002e170cc7b0c25_72.png" /></a><div class="message"><div class="username">fortiss.anita</div><a style="text-decoration: none" href="#1619609553.012100" ><div class="time">2021-04-28 11:32</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1620771190.012400"><img src="https://secure.gravatar.com/avatar/88c3c63930a5f61767773392a3ab3762.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /></a><div class="message"><div class="username">dabfleming</div><a style="text-decoration: none" href="#1620771190.012400" ><div class="time">2021-05-11 22:13</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1620771206.012700"><img src="https://avatars.slack-edge.com/2021-01-25/1686560676673_cafcd73c5350e1a5f120_72.png" /></a><div class="message"><div class="username">aparnachaudhari</div><a style="text-decoration: none" href="#1620771206.012700" ><div class="time">2021-05-11 22:13</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1620788092.012900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1620788092.012900" ><div class="time">2021-05-12 02:54</div></a><div class="msg">@aparnachaudhari :point_up: here is a link to an example that might be helpful</div></div></div><br/>
<div><a id="1620790905.013100"><img src="https://avatars.slack-edge.com/2021-01-25/1686560676673_cafcd73c5350e1a5f120_72.png" /></a><div class="message"><div class="username">aparnachaudhari</div><a style="text-decoration: none" href="#1620790905.013100" ><div class="time">2021-05-12 03:41</div></a><div class="msg">@matt.fellows thx.. will take a look shortly... I am adding async tests tho... 2 services that communicate using async messages. These messages are marshalled (consumer) and unmarshalled(provider) to protobuf as they are put on the cluster and read from.</div></div></div><br/>
<div><a id="1620792285.013400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1620792285.013400" ><div class="time">2021-05-12 04:04</div></a><div class="msg">The principle I think is the same though. The key insight is hiding the actual payload within a non protobuf message structure (i.e. JSON)</div></div></div><br/>
<div><a id="1621250200.013700"><img src="https://secure.gravatar.com/avatar/54306635bc13f74c0878aacb624da99f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">keimiokamoto</div><a style="text-decoration: none" href="#1621250200.013700" ><div class="time">2021-05-17 11:16</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1621575607.000200"><img src="https://secure.gravatar.com/avatar/a2c1547d061f81b38aa8f59a948f9e09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">artur</div><a style="text-decoration: none" href="#1621575607.000200" ><div class="time">2021-05-21 05:40</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1622019119.000500"><img src="https://avatars.slack-edge.com/2021-05-25/2107464509156_af3d031c7695ea4baa7c_72.jpg" /></a><div class="message"><div class="username">vince.lee</div><a style="text-decoration: none" href="#1622019119.000500" ><div class="time">2021-05-26 08:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1622552098.000800"><img src="https://secure.gravatar.com/avatar/7f04087ef9fef487f50bc5952a387129.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">andjela.rajic</div><a style="text-decoration: none" href="#1622552098.000800" ><div class="time">2021-06-01 12:54</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1623259837.001100"><img src="https://avatars.slack-edge.com/2021-06-09/2151511192533_b05ed5ccfb936e417a9c_72.jpg" /></a><div class="message"><div class="username">torbjorn.vatn</div><a style="text-decoration: none" href="#1623259837.001100" ><div class="time">2021-06-09 17:30</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1623759103.001400"><img src="https://secure.gravatar.com/avatar/28cfc0d5cf1ec93578a077f1981bed71.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png" /></a><div class="message"><div class="username">npatil</div><a style="text-decoration: none" href="#1623759103.001400" ><div class="time">2021-06-15 12:11</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1625228832.002000"><img src="https://secure.gravatar.com/avatar/02cd7155116acdcd9ca378b06f6ff449.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /></a><div class="message"><div class="username">dmitry.korolev</div><a style="text-decoration: none" href="#1625228832.002000" ><div class="time">2021-07-02 12:27</div></a><div class="msg">Hey guys,
We use custom 'application/protobuf' type for our protobufs.
In pact there is apparently an automatic validation of the body type, which fails as Pact recognizes a binary and assigns 'application/octet-stream' type. Then contract verification fails as it expects 'application/protobuf'.
Did anyone by any chance experience such an issue with protobuf?</div></div></div><br/>
<div><a id="1625230658.002200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625230658.002200" ><div class="time">2021-07-02 12:57</div></a><div class="msg">Interesting.</div></div></div><br/>
<div><a id="1625230752.002500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625230752.002500" ><div class="time">2021-07-02 12:59</div></a><div class="msg">I haven?t seen protobufs used that way</div></div></div><br/>
<div><a id="1625230779.003200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625230779.003200" ><div class="time">2021-07-02 12:59</div></a><div class="msg">Most people seem to build a translation layer that converts to JSON (so Pact can serialise/deserialise nicely)</div></div></div><br/>
<div><a id="1625230780.003500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625230780.003500" ><div class="time">2021-07-02 12:59</div></a><div class="msg">e.g. <a href="https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c">https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c</a></div></div></div><br/>
<div><a id="1625230842.004000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1625230842.004000" ><div class="time">2021-07-02 13:00</div></a><div class="msg">also <a href="https://github.com/ZupIT/pact-framework-examples">https://github.com/ZupIT/pact-framework-examples</a> (if you speak what I believe is Portugese)</div></div></div><br/>
<div><a id="1625233323.004700"><img src="https://secure.gravatar.com/avatar/02cd7155116acdcd9ca378b06f6ff449.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /></a><div class="message"><div class="username">dmitry.korolev</div><a style="text-decoration: none" href="#1625233323.004700" ><div class="time">2021-07-02 13:42</div></a><div class="msg">Thanks Matt, I will give it a read. I hope google translate will not fail me :sweat_smile:</div></div></div><br/>
<div><a id="1625573841.005000"><img src="https://secure.gravatar.com/avatar/49fa8984f48bfe9d972c24786b9f7b83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">fjtdg</div><a style="text-decoration: none" href="#1625573841.005000" ><div class="time">2021-07-06 12:17</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1625827425.005200"><img src="https://avatars.slack-edge.com/2021-07-09/2270482797057_fc4c8d2e50981649660b_72.png" /></a><div class="message"><div class="username">marcin.baranowski953</div><a style="text-decoration: none" href="#1625827425.005200" ><div class="time">2021-07-09 10:43</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1627326336.005400"><img src="https://secure.gravatar.com/avatar/8058c5a9efe64a16b1f49480950aad08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">hazel.wright</div><a style="text-decoration: none" href="#1627326336.005400" ><div class="time">2021-07-26 19:05</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1627345650.005900"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1627345650.005900" ><div class="time">2021-07-27 00:27</div></a><div class="msg">FYI progress has started on the plugin infra to support gRPC/Protobufs: <a href="https://pact.canny.io/admin/board/feature-requests/p/support-grpc">https://pact.canny.io/admin/board/feature-requests/p/support-grpc</a></div></div></div><br/>
<div><a id="1627369516.006400"><img src="https://avatars.slack-edge.com/2020-09-17/1382397601073_81c137ecc9f7165c4341_72.png" /></a><div class="message"><div class="username">achuljyan</div><a style="text-decoration: none" href="#1627369516.006400" ><div class="time">2021-07-27 07:05</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1630305380.001200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630305380.001200" ><div class="time">2021-08-30 06:36</div></a><div class="msg"><!channel> we have a working prototype of a Pact consumer test with Protobufs. The provider verification is next, but you can see the test here: <a href="https://github.com/pact-foundation/pact-plugins/blob/main/examples/protobuf/protobuf-consumer/src/test/java/io/pact/example/protobuf/provider/PactConsumerTest.java">https://github.com/pact-foundation/pact-plugins/blob/main/examples/protobuf/protobuf-consumer/src/test/java/io/pact/example/protobuf/provider/PactConsumerTest.java</a></div></div></div><br/>
<div><a id="1630305419.001700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630305419.001700" ><div class="time">2021-08-30 06:36</div></a><div class="msg">This is the message for that test
```message InitPluginRequest {
  string implementation = 1;
  string version = 2;
}```</div></div></div><br/>
<div><a id="1630305438.001900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630305438.001900" ><div class="time">2021-08-30 06:37</div></a><div class="msg">Looking for feedback on the approach</div></div></div><br/>
<div><a id="1630305518.002200"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630305518.002200" ><div class="time">2021-08-30 06:38</div></a><div class="msg">oooh</div></div></div><br/>
<div><a id="1630305632.002400"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630305632.002400" ><div class="time">2021-08-30 06:40</div></a><div class="msg">It's a bit hard to see what the boilerplate and what the test code is</div></div></div><br/>
<div><a id="1630305642.002600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630305642.002600" ><div class="time">2021-08-30 06:40</div></a><div class="msg">If you look carefully, you may notice a new matcher as well as a language for describing matching rules</div></div></div><br/>
<div><a id="1630305692.002800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630305692.002800" ><div class="time">2021-08-30 06:41</div></a><div class="msg">This is the important bit (refer to message above):
```              "implementation", "notEmpty('pact-jvm-driver')",
              "version", "matching(semver, '0.0.0')"```</div></div></div><br/>
<div><a id="1630305730.003000"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630305730.003000" ><div class="time">2021-08-30 06:42</div></a><div class="msg">Right. Could the rest of the boilerplate be inferred from `usingPlugin("protobuf")`?</div></div></div><br/>
<div><a id="1630305781.003200"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630305781.003200" ><div class="time">2021-08-30 06:43</div></a><div class="msg">I really like the `usingPlugin(...)` pattern. I was thinking that if we can refactor the existing http pact so that it is *also* a plugin, then we'll get a lot of the rest of pact's functionality for free</div></div></div><br/>
<div><a id="1630305834.003400"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630305834.003400" ><div class="time">2021-08-30 06:43</div></a><div class="msg">`matching(semver, '0.0.0')` &lt;-- this is great. At first I didn't even notice that it was a custom matcher</div></div></div><br/>
<div><a id="1630305866.003600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630305866.003600" ><div class="time">2021-08-30 06:44</div></a><div class="msg">No, that is because with plugins we have to have a generic interface because we don't know what the structure the plugin defines. But for major plugins, I'm hoping we can define DSLs to hide the boilerplate</div></div></div><br/>
<div><a id="1630305901.003800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630305901.003800" ><div class="time">2021-08-30 06:45</div></a><div class="msg">With dynamic languages, it will be easier</div></div></div><br/>
<div><a id="1630305916.004000"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630305916.004000" ><div class="time">2021-08-30 06:45</div></a><div class="msg">right, but couldn't the `usingPlugin` define extra properties to put on the object?</div></div></div><br/>
<div><a id="1630305948.004200"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630305948.004200" ><div class="time">2021-08-30 06:45</div></a><div class="msg">it's kind of an instant-dsl</div></div></div><br/>
<div><a id="1630305952.004400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630305952.004400" ><div class="time">2021-08-30 06:45</div></a><div class="msg">Yes, I imagine that the plugin could return that data. Haven't explored that yet</div></div></div><br/>
<div><a id="1630306063.004800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306063.004800" ><div class="time">2021-08-30 06:47</div></a><div class="msg">Unless I'm missing something, this example could be shortened to:

```        return builder
          .usingPlugin("protobuf")
          .expectsToReceive("init plugin message", "core/interaction/message")
          .with(Map.of(
              "implementation", "notEmpty('pact-jvm-driver')",
              "version", "matching(semver, '0.0.0')"
          ))```</div></div></div><br/>
<div><a id="1630306100.005000"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306100.005000" ><div class="time">2021-08-30 06:48</div></a><div class="msg">(if it is valid to specify things that aren't `message.contents` for a `protobuf` pact, then you'd still need that key)</div></div></div><br/>
<div><a id="1630306108.005200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630306108.005200" ><div class="time">2021-08-30 06:48</div></a><div class="msg">No, it needs the content type to know to send it to the plugin.</div></div></div><br/>
<div><a id="1630306118.005400"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306118.005400" ><div class="time">2021-08-30 06:48</div></a><div class="msg">`usingPlugin` knows that</div></div></div><br/>
<div><a id="1630306125.005600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630306125.005600" ><div class="time">2021-08-30 06:48</div></a><div class="msg">Remember, you can load multiple plugins</div></div></div><br/>
<div><a id="1630306131.005800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306131.005800" ><div class="time">2021-08-30 06:48</div></a><div class="msg">hmm</div></div></div><br/>
<div><a id="1630306144.006000"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306144.006000" ><div class="time">2021-08-30 06:49</div></a><div class="msg">...why?</div></div></div><br/>
<div><a id="1630306163.006200"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306163.006200" ><div class="time">2021-08-30 06:49</div></a><div class="msg">in one builder, surely that's not valid</div></div></div><br/>
<div><a id="1630306202.006400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630306202.006400" ><div class="time">2021-08-30 06:50</div></a><div class="msg">For instance, you could have a plugin that matches a particular format (like CSV), and another that provides an interaction type (say HTTP/3).</div></div></div><br/>
<div><a id="1630306220.006600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630306220.006600" ><div class="time">2021-08-30 06:50</div></a><div class="msg">So a test that sends a CSV over HTTP/3 would need both</div></div></div><br/>
<div><a id="1630306282.006800"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306282.006800" ><div class="time">2021-08-30 06:51</div></a><div class="msg">right, but you don't have two plugins for sending it</div></div></div><br/>
<div><a id="1630306299.007000"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306299.007000" ><div class="time">2021-08-30 06:51</div></a><div class="msg">maybe you have multiple matcher plugins?</div></div></div><br/>
<div><a id="1630306365.007200"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306365.007200" ><div class="time">2021-08-30 06:52</div></a><div class="msg">I reckon it's possible to infer a lot of the boilerplate if we are clever about it</div></div></div><br/>
<div><a id="1630306387.007400"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306387.007400" ><div class="time">2021-08-30 06:53</div></a><div class="msg">but maybe that's because I'm thinking in dynamic types</div></div></div><br/>
<div><a id="1630306506.007600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1630306506.007600" ><div class="time">2021-08-30 06:55</div></a><div class="msg">I chose Java for the initial test, because that is a common language used with Protobufs. A dynamic language would be more fluent.</div></div></div><br/>
<div><a id="1630306557.007900"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1630306557.007900" ><div class="time">2021-08-30 06:55</div></a><div class="msg">Whatever design we go with has to work nicely in all languages, of course</div></div></div><br/>
<div><a id="1630568580.010400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1630568580.010400" ><div class="time">2021-09-02 07:43</div></a><div class="msg">:wave: Further to Ron?s awesome prototype above, here is a post that captures what I believe are some of the deficiencies of protobufs (and similar technology): <a href="https://pactflow.io/blog/is-grpc-and-protobufs-truly-backwards-compatible/">https://pactflow.io/blog/is-grpc-and-protobufs-truly-backwards-compatible/</a>

Very keen for feedback so that we can iterate on any solution!</div></div></div><br/>
<div><a id="1630580412.010700"><img src="https://avatars.slack-edge.com/2021-09-02/2472391773824_2d200a54d58b99062083_72.jpg" /></a><div class="message"><div class="username">yassine</div><a style="text-decoration: none" href="#1630580412.010700" ><div class="time">2021-09-02 11:00</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1630925667.010900"><img src="https://secure.gravatar.com/avatar/09f85c0796a2ef8527fe6248a5827e76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">varnit.garg2424</div><a style="text-decoration: none" href="#1630925667.010900" ><div class="time">2021-09-06 10:54</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1630926012.011100"><img src="https://secure.gravatar.com/avatar/63fc74bc7a450a05a099c264ff9bfedb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png" /></a><div class="message"><div class="username">abhi.nandan964</div><a style="text-decoration: none" href="#1630926012.011100" ><div class="time">2021-09-06 11:00</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1631272937.011400"><img src="https://avatars.slack-edge.com/2021-09-02/2471945964432_90977ee268303db5aa17_72.png" /></a><div class="message"><div class="username">volkan.tufekci</div><a style="text-decoration: none" href="#1631272937.011400" ><div class="time">2021-09-10 11:22</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1632074790.011800"><img src="https://avatars.slack-edge.com/2021-09-14/2515046552784_513f48e990dd95be5e6a_72.jpg" /></a><div class="message"><div class="username">samuel.sjoberg</div><a style="text-decoration: none" href="#1632074790.011800" ><div class="time">2021-09-19 18:06</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1632467329.000200"><img src="https://avatars.slack-edge.com/2021-09-24/2527816714082_d567cf27d5326cce5baf_72.png" /></a><div class="message"><div class="username">nyman.robin</div><a style="text-decoration: none" href="#1632467329.000200" ><div class="time">2021-09-24 07:08</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1632838828.000500"><img src="https://avatars.slack-edge.com/2021-09-27/2521032248615_86c03a43e067d1e6609f_72.png" /></a><div class="message"><div class="username">saurelio58</div><a style="text-decoration: none" href="#1632838828.000500" ><div class="time">2021-09-28 14:20</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1634223355.000800"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634223355.000800" ><div class="time">2021-10-14 14:55</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1634223579.000900"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634223579.000900" ><div class="time">2021-10-14 14:59</div></a><div class="msg">Hey @uglyog, that's super excited to see the protobus become true, I would like to ask :
1. maybe do you know when we can have a provider verification example?
2. can I also use it with pact-broker?
Thanks in advance</div></div></div><br/>
<div><a id="1634248860.001200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634248860.001200" ><div class="time">2021-10-14 22:01</div></a><div class="msg">Do you need the provider verification in a particular language? I've been using the stand alone verifier to verify the protobuf message against the provider.
Pact broker is supported in the same way as any other pact test.</div></div></div><br/>
<div><a id="1634281937.001400"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634281937.001400" ><div class="time">2021-10-15 07:12</div></a><div class="msg">Hey @uglyog thanks for your quick reply, I think if possible we can start from jvm&lt;-&gt;jvm also(I'm not sure what I could help there, but maybe if there are some PR, that would be cool). PS: I try to apply it for gRPC (jvm &lt;-&gt; jvm / jvm &lt;-&gt; nodjes / nodejs &lt;-&gt; nodejs)</div></div></div><br/>
<div><a id="1634282851.001600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634282851.001600" ><div class="time">2021-10-15 07:27</div></a><div class="msg">Ok, I've been doing JVM -&gt; Rust, and JVM -&gt; Go and Rust -&gt; Go</div></div></div><br/>
<div><a id="1634282881.001800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634282881.001800" ><div class="time">2021-10-15 07:28</div></a><div class="msg">We should have an initial prototype done soon (like end of next week)</div></div></div><br/>
<div><a id="1634283189.002000"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634283189.002000" ><div class="time">2021-10-15 07:33</div></a><div class="msg">that will be super cool! Thanks @uglyog</div></div></div><br/>
<div><a id="1634525501.002300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1634525501.002300" ><div class="time">2021-10-18 02:51</div></a><div class="msg">Hi @zhaopeng great to hear you?re excited about this too! Perhaps we can chat offline, but we would definitely be keen on your feedback on this as we shape the plugin and ecosystem around it.</div></div></div><br/>
<div><a id="1634757710.002500"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634757710.002500" ><div class="time">2021-10-20 19:21</div></a><div class="msg">Hey @matt.fellows , thanks a lot I think we already talked offline.

ps: I noticed we already have verifier for protobuf @uglyog :tada:</div></div></div><br/>
<div><a id="1634757860.002700"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634757860.002700" ><div class="time">2021-10-20 19:24</div></a><div class="msg">I found an interesting part in <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/helloworld-grpc">https://github.com/pact-foundation/pact-plugins/tree/main/examples/helloworld-grpc</a>

I noticed no matter consumer or provider, they both need to load "proto" folder.

so in real practice,  what we need to do? in most of cases, the proto are stored inside of "producer"'s repo. it will be always updated together with producer.

Ref:
```      .withPluginConfig("grpc", Map.of("proto", "examples/helloworld/proto"))```
May I ask what's the purpose that Consumer need to load whole `proto`  if everything are mocked?

it maybe could be an overkill which maybe indicate that we need to somehow maintain and versioning of "proto" file in the middle (not only the contract, we have different files to maintain outside of the box)</div></div></div><br/>
<div><a id="1634766906.003500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634766906.003500" ><div class="time">2021-10-20 21:55</div></a><div class="msg">Oh, sorry, I need to remove that example until we have proper gRPC support.</div></div></div><br/>
<div><a id="1634767030.003700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634767030.003700" ><div class="time">2021-10-20 21:57</div></a><div class="msg">You only need to specify the proto file in the consumer test. Look at the protobuf example in <a href="https://github.com/pact-foundation/pact-plugins/blob/main/drivers/jvm/core/src/test/groovy/io/pact/plugins/jvm/core/DriverPactTest.groovy">https://github.com/pact-foundation/pact-plugins/blob/main/drivers/jvm/core/src/test/groovy/io/pact/plugins/jvm/core/DriverPactTest.groovy</a></div></div></div><br/>
<div><a id="1634767209.004000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634767209.004000" ><div class="time">2021-10-20 22:00</div></a><div class="msg">Once that test is run, the proto file and compiled descriptor is persisted into the Pact file</div></div></div><br/>
<div><a id="1634767233.004200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634767233.004200" ><div class="time">2021-10-20 22:00</div></a><div class="msg">On the provider side, the verifier will use what is in the Pact file</div></div></div><br/>
<div><a id="1634801297.000100"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634801297.000100" ><div class="time">2021-10-21 07:28</div></a><div class="msg">Thanks a lot for quick clarification @uglyog :thumbsup:</div></div></div><br/>
<div><a id="1634801706.000300"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634801706.000300" ><div class="time">2021-10-21 07:35</div></a><div class="msg">hmm,  seems we still need to link proto file in consumer side?  (then maybe where we gonna store this proto file for development purpose? in producer side? and also in consumer side?)

it seems developer think proto file should be saved in Producer git repo.

but now it seems the proto file also need to be saved in Consumer git repo?

```        'pact:proto': filePath("../../../proto/plugin.proto"), ```
maybe I'm wrong, pls feel free to correct me</div></div></div><br/>
<div><a id="1634804887.000600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634804887.000600" ><div class="time">2021-10-21 08:28</div></a><div class="msg">You need it on the consumer side. The consumer test will persist it to the pact file, so it is available in the pact file for the provider side. This is because the proto file can change, so you need the version at the time the consumer test runs.</div></div></div><br/>
<div><a id="1634804935.000800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1634804935.000800" ><div class="time">2021-10-21 08:28</div></a><div class="msg">It doesn't need to be saved in the repo, it just needs to be available. You need it to build your consumer anyway.</div></div></div><br/>
<div><a id="1634893626.001100"><img src="https://avatars.slack-edge.com/2021-10-05/2567839860259_88a65f9528a4fdc96d08_72.jpg" /></a><div class="message"><div class="username">zhaopeng</div><a style="text-decoration: none" href="#1634893626.001100" ><div class="time">2021-10-22 09:07</div></a><div class="msg">404 I got...</div></div></div><br/>
<div><a id="1634894734.001400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1634894734.001400" ><div class="time">2021-10-22 09:25</div></a><div class="msg">apologies, this one: <a href="https://pactflow.io/blog/the-case-for-contract-testing-protobufs-grpc-avro/">https://pactflow.io/blog/the-case-for-contract-testing-protobufs-grpc-avro/</a></div></div></div><br/>
<div><a id="1635414565.001900"><img src="https://avatars.slack-edge.com/2021-05-13/2061294811778_4b1274e8e5ba3b7b2d2a_72.jpg" /></a><div class="message"><div class="username">roy_collings</div><a style="text-decoration: none" href="#1635414565.001900" ><div class="time">2021-10-28 09:49</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1635415242.002200"><img src="https://avatars.slack-edge.com/2021-10-28/2643970829191_54ec237c184292ee8bb5_72.png" /></a><div class="message"><div class="username">zsolt.vilagos</div><a style="text-decoration: none" href="#1635415242.002200" ><div class="time">2021-10-28 10:00</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1636973376.002500"><img src="https://secure.gravatar.com/avatar/24d619d95d187276b052ded757f793a4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">priyank.shah217</div><a style="text-decoration: none" href="#1636973376.002500" ><div class="time">2021-11-15 10:49</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1637826696.002800"><img src="https://secure.gravatar.com/avatar/c49985fca03acd21b67a46f6eaf499bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">mathias.duesterhoeft</div><a style="text-decoration: none" href="#1637826696.002800" ><div class="time">2021-11-25 07:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1638306556.004200"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638306556.004200" ><div class="time">2021-11-30 21:09</div></a><div class="msg">Hi. I'm starting a POC with the protobuf plugin and had a question about this:
```"pact:proto", filePath("../../../proto/plugin.proto"),            // Need to provide the proto file```
Does that file need to come from the provider?</div></div></div><br/>
<div><a id="1638310931.004400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638310931.004400" ><div class="time">2021-11-30 22:22</div></a><div class="msg">No, the proto file is what was used to generate the code used on both the provider and consumer sides.</div></div></div><br/>
<div><a id="1638311708.004600"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638311708.004600" ><div class="time">2021-11-30 22:35</div></a><div class="msg">where does that file originate from? is that something we must generate ourselves?</div></div></div><br/>
<div><a id="1638313233.004800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638313233.004800" ><div class="time">2021-11-30 23:00</div></a><div class="msg">The proto file is the IDL (interface definition language) used by Protobufs and hence gRPC. It is what is passed to the protoc compiler to generate the consumer and provider interface code. See <a href="https://developers.google.com/protocol-buffers/docs/proto3">https://developers.google.com/protocol-buffers/docs/proto3</a>

How are you using Protobufs? Is it via a shared library?</div></div></div><br/>
<div><a id="1638313648.005100"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638313648.005100" ><div class="time">2021-11-30 23:07</div></a><div class="msg">I'm not entirely sure (I sit outside of the group that develops the service). I was given an example of an endpoint they consume via gRPC:
```  public List&lt;ListenerFeedbackWrapper&gt; getFeedbackList(long listenerId, long stationId) {
    GetContextFeedbackListRequest request =
        GetContextFeedbackListRequest.newBuilder()
            .setListenerId(listenerId)
            .setContextType(com.savagebeast.remoting.api.pithos.grpc.ContextType.Station)
            .setPrimaryContextId(PandoraId.fromStationId(stationId).toString())
            .setFeedbackType(GetContextFeedbackListRequest.FeedbackType.All)
            .build();
    GetContextFeedbackListResponse response = getStub().getContextFeedbackList(request);
    return filterOutNonTracksProto(response.getFeedbackList());
  }```
which appears to map to this proto file generated by the provider service</div></div></div><br/>
<div><a id="1638313938.005500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638313938.005500" ><div class="time">2021-11-30 23:12</div></a><div class="msg">That looks like the correct file for that interface</div></div></div><br/>
<div><a id="1638314274.005700"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638314274.005700" ><div class="time">2021-11-30 23:17</div></a><div class="msg">ok, so the file _does_ come from the provider. i'm just learning about protobufs so bear with my dumb questions</div></div></div><br/>
<div><a id="1638314307.006000"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638314307.006000" ><div class="time">2021-11-30 23:18</div></a><div class="msg">does that file need to be checked into source control? I imagine it does in order for the tests to run on CI</div></div></div><br/>
<div><a id="1638314376.006200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638314376.006200" ><div class="time">2021-11-30 23:19</div></a><div class="msg">Yes, unfortunately it is the only source of the types of the fields</div></div></div><br/>
<div><a id="1638314534.006400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638314534.006400" ><div class="time">2021-11-30 23:22</div></a><div class="msg">I guess ultimately it will be from the provider. I?me keen to understand the various use-cases and workflows so this is interesting. Is the proto file readily available in the code base you?re testing? I?m assuming it must be for the consumer endpoints to work?</div></div></div><br/>
<div><a id="1638314681.006600"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638314681.006600" ><div class="time">2021-11-30 23:24</div></a><div class="msg">Matt, I'm thinking that we can drop the need of the proto file if we encode the types in the pact test</div></div></div><br/>
<div><a id="1638314717.006800"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638314717.006800" ><div class="time">2021-11-30 23:25</div></a><div class="msg">I searched for any proto files in the consumer codebase and don't see it but they must be accessing it somehow. I'll have to touch base with the developer</div></div></div><br/>
<div><a id="1638314756.007000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638314756.007000" ><div class="time">2021-11-30 23:25</div></a><div class="msg">I assume the data access classes would have been generated by the provider team</div></div></div><br/>
<div><a id="1638315125.007300"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638315125.007300" ><div class="time">2021-11-30 23:32</div></a><div class="msg">ok, the developer tells me the proto file is just a definition file that gets bundled into the .jar file produced by the provider. it's then pulled in as a dependency by the consumer service</div></div></div><br/>
<div><a id="1638316668.007700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638316668.007700" ><div class="time">2021-11-30 23:57</div></a><div class="msg">that makes sense.</div></div></div><br/>
<div><a id="1638562840.011900"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638562840.011900" ><div class="time">2021-12-03 20:20</div></a><div class="msg">How would I design a contract for this RPC protobuf call?
```    rpc GetContextFeedbackList (GetContextFeedbackListRequest) returns (GetContextFeedbackListResponse) {
    }  ```
When I try to use `"pact:message-type", "GetContextFeedbackList",` in my test, I get the following exception:
```Caused by: au.com.dius.pact.consumer.dsl.InteractionConfigurationError: Failed to set the interaction: Message 'GetContextFeedbackList' was not found in proto file '/Users/jarmy/src/git/pandora/listeners/stations/stations-service/src/test/resources/protos/pithos/FeedbackApi.proto'```
I'm probably using the wrong pact _type_ above. If clients are using RPCs then I'd think pact should support them, no?</div></div></div><br/>
<div><a id="1638838769.013600"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638838769.013600" ><div class="time">2021-12-07 00:59</div></a><div class="msg">How can I verify my protobuf contract in my provider? The <a href="https://github.com/pact-foundation/pact-plugins/blob/main/plugins/protobuf/README.md#verifying-the-provider">https://github.com/pact-foundation/pact-plugins/blob/main/plugins/protobuf/README.md#verifying-the-provider</a> says to use `pact_verifier_cli` but I'm not finding an installer anywhere. If it matters, I'm using macOS</div></div></div><br/>
<div><a id="1638839690.014100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638839690.014100" ><div class="time">2021-12-07 01:14</div></a><div class="msg">Sorry Jason, I saw this yesterday too when I was doing a demo. I?ve got a few notes to update the docs</div></div></div><br/>
<div><a id="1638839694.014300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638839694.014300" ><div class="time">2021-12-07 01:14</div></a><div class="msg">the verifier is here: <a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.9.2">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.9.2</a></div></div></div><br/>
<div><a id="1638839729.014700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638839729.014700" ><div class="time">2021-12-07 01:15</div></a><div class="msg">(see also the list of our <a href="https://docs.pact.io/implementation_guides/cli#provider-verifier">https://docs.pact.io/implementation_guides/cli#provider-verifier</a>)</div></div></div><br/>
<div><a id="1638840096.014800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638840096.014800" ><div class="time">2021-12-07 01:21</div></a><div class="msg">You can download it from <a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.9.2">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.9.2</a></div></div></div><br/>
<div><a id="1638898338.015000"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638898338.015000" ><div class="time">2021-12-07 17:32</div></a><div class="msg">I downloaded it and gzip'd it but it's not an executable
```jarmy@jarmy-m01 Downloads % ls -ltr pact_verifier*
-rw-r--r--@ 1 jarmy  staff  5762709 Dec  7 09:28 pact_verifier_cli-osx-x86_64.gz
jarmy@jarmy-m01 Downloads % gzip -d pact_verifier_cli-osx-x86_64.gz
jarmy@jarmy-m01 Downloads % ls -ltr pact_verifier*                 
-rw-r--r--  1 jarmy  staff  16169864 Dec  7 09:28 pact_verifier_cli-osx-x86_64
jarmy@jarmy-m01 Downloads % pact_verifier_cli
zsh: command not found: pact_verifier_cli
jarmy@jarmy-m01 Downloads % pact_verifier_cli-osx-x86_64 
zsh: command not found: pact_verifier_cli-osx-x86_64```</div></div></div><br/>
<div><a id="1638898365.015200"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638898365.015200" ><div class="time">2021-12-07 17:32</div></a><div class="msg">~<a href="https://pact-foundation.slack.com/archives/CEQBDD5U4/p1638898338015000?thread_ts=1638838769.013600&amp;cid=CEQBDD5U4">https://pact-foundation.slack.com/archives/CEQBDD5U4/p1638898338015000?thread_ts=1638838769.013600&amp;cid=CEQBDD5U4</a>~</div></div></div><br/>
<div><a id="1638898960.015600"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638898960.015600" ><div class="time">2021-12-07 17:42</div></a><div class="msg">@uglyog @matt.fellows?? If I use gRPCurl to execute against a protobuf, I can only call the RPC methods. If I understand protobufs correctly, clients can only access the RPC methods.</div></div></div><br/>
<div><a id="1638899731.015900"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1638899731.015900" ><div class="time">2021-12-07 17:55</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1638905188.016000"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638905188.016000" ><div class="time">2021-12-07 19:26</div></a><div class="msg">I figured it out: `cargo install pact_verifier_cli`
```pact_verifier_cli --version 
pact_verifier_cli 0.9.2
pact verifier version   : v0.9.2
pact specification      : v4.0
models version          : v0.2.2 ```
</div></div></div><br/>
<div><a id="1638905198.016200"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638905198.016200" ><div class="time">2021-12-07 19:26</div></a><div class="msg">I figured it out: `cargo install pact_verifier_cli`
```pact_verifier_cli --version 
pact_verifier_cli 0.9.2
pact verifier version   : v0.9.2
pact specification      : v4.0
models version          : v0.2.2 ```
</div></div></div><br/>
<div><a id="1638913150.016400"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638913150.016400" ><div class="time">2021-12-07 21:39</div></a><div class="msg">You probably need to `chmod +x` it to make it executable</div></div></div><br/>
<div><a id="1638913167.016600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638913167.016600" ><div class="time">2021-12-07 21:39</div></a><div class="msg">But cargo install works too, if you have rust installed</div></div></div><br/>
<div><a id="1638914098.016800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638914098.016800" ><div class="time">2021-12-07 21:54</div></a><div class="msg">Protobufs is independent of gRPC, albeit they are often paired together</div></div></div><br/>
<div><a id="1638914130.017000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638914130.017000" ><div class="time">2021-12-07 21:55</div></a><div class="msg">It?s like saying JSON can only be accessed over HTTP - you could definitely transport JSON in other ways (e.g. TCP)</div></div></div><br/>
<div><a id="1638914227.017300"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1638914227.017300" ><div class="time">2021-12-07 21:57</div></a><div class="msg">I don?t know how to answer the above question though sorry!</div></div></div><br/>
<div><a id="1638914639.017500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638914639.017500" ><div class="time">2021-12-07 22:03</div></a><div class="msg">Sorry @jarmy, I saw you question then got distracted by other things.</div></div></div><br/>
<div><a id="1638914966.017700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638914966.017700" ><div class="time">2021-12-07 22:09</div></a><div class="msg">`GetContextFeedbackList` is a service method, not a message. With a service method call, there is an input message and an output message. You can use `pact:proto-service` set to `&lt;service_name&gt;/GetContextFeedbackList` where `service_name` is the name of the service that method belongs to. You then need to provide a request message and a response message.

It gets a bit tricky to test, depending on the language you are using. With Java, I had to mock some gRPC final classes.</div></div></div><br/>
<div><a id="1638915061.017900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1638915061.017900" ><div class="time">2021-12-07 22:11</div></a><div class="msg">For an example, see <a href="https://github.com/pact-foundation/pact-plugins/blob/main/drivers/jvm/core/src/test/groovy/io/pact/plugins/jvm/core/DriverPactTest.groovy#L123">https://github.com/pact-foundation/pact-plugins/blob/main/drivers/jvm/core/src/test/groovy/io/pact/plugins/jvm/core/DriverPactTest.groovy#L123</a></div></div></div><br/>
<div><a id="1638920750.018200"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1638920750.018200" ><div class="time">2021-12-07 23:45</div></a><div class="msg">thanks for the response. let me give that a try</div></div></div><br/>
<div><a id="1639010068.018600"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1639010068.018600" ><div class="time">2021-12-09 00:34</div></a><div class="msg">I'm getting a contract produced when using this code (I have not fully implemented the `MockPlugin` class due to groovy &gt; java syntax issues:
```    @Pact(consumer = "stations")
    V4Pact getContextFeedbackList(PactBuilder builder) {
        return builder
          .usingPlugin("protobuf")
          .expectsToReceive("GetContextFeedbackList", "core/interaction/synchronous-message")
          .with(Map.of(
              "pact:proto", filePath("src/test/resources/protos/pithos/FeedbackApi.proto"),
              "pact:proto-service", "FeedbackService/GetContextFeedbackList",
              "pact:content-type", "application/protobuf",
              "request", Map.of(
                    "listenerId", "notEmpty('2')",
                    "contextType", "matching(equalTo, 'Station')",
                    "primaryContextId", "notEmpty('ST:0:4294967298')",
                    "feedbackType", "matching(equalTo, 'All')"
                          ),
                  "response", Map.of(
                          "feedback", Map.of(
                              "listenerId", "notEmpty('2')",
                              "contextType", "matching(equalTo, 'Station')",
                              "primaryContextId", "notEmpty('ST:0:4294967298')",
                              "targetId", "notEmpty('TR:91149')",
                              "positive", "notEmpty('true')",
                              "feedbackId", "notEmpty('2147483649')",
                              "secondaryContextId", "notEmpty('AR:876')",
                              "dateModified", "notEmpty('1400084172141')",
                              "dateCreated", "notEmpty('1400084172141')"
                          )
                      )
                )
            )
          .toPact();
    }

    @Test
    @PactTestFor(pactMethod = "getContextFeedbackList")
    void consumeGetContextFeedbackList(V4Interaction.SynchronousMessages message) throws InvalidProtocolBufferException {
        Plugin.InitPluginRequest requestMessage = Plugin.InitPluginRequest.parseFrom(message.getRequest().getContents().getValue());
        assertThat(requestMessage.getImplementation(), is(""));
    }```
But the contract that is produced flat out fails with a 404 error when I run the `pact_verifier_cli`</div></div></div><br/>
<div><a id="1639010095.019000"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1639010095.019000" ><div class="time">2021-12-09 00:34</div></a><div class="msg">I'm not sure what I'm doing wrong here</div></div></div><br/>
<div><a id="1639010511.019200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1639010511.019200" ><div class="time">2021-12-09 00:41</div></a><div class="msg">Side note: In your test, you are using `Plugin.InitPluginRequest`, that will not be able to parse the message (it will just have all the default field values)

Are you specifying the HTTP server/proxy when running the verifier? What it will do is send the request message to the proxy, and expect the response message back to verify. It it is getting a 404, which means that whatever it is sending the request to is not recognizing the path of the request.</div></div></div><br/>
<div><a id="1639010699.019400"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1639010699.019400" ><div class="time">2021-12-09 00:44</div></a><div class="msg">What should I be using instead of `Plugin.InitPluginRequest`?</div></div></div><br/>
<div><a id="1639010917.019600"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1639010917.019600" ><div class="time">2021-12-09 00:48</div></a><div class="msg">My provider service is running at `<a href="http://localhost:9009/pithos">http://localhost:9009/pithos</a>` and then I'm running the following command:
```pact_verifier_cli --disable-ssl-verification --enable-pending --broker-url <a href="https://pact-broker.docker.savagebeast.com">https://pact-broker.docker.savagebeast.com</a> --provider-name pithos -h localhost -p 9009 --filter-consumer stations --consumer-version-selectors '{"branch": "DEVTOOLS-1353-pact-gRPC-POC"}' --loglevel debug```
</div></div></div><br/>
<div><a id="1639010928.019800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1639010928.019800" ><div class="time">2021-12-09 00:48</div></a><div class="msg">You should be using the messages from the service. I think that is `GetContextFeedbackListRequest`</div></div></div><br/>
<div><a id="1639011435.020000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1639011435.020000" ><div class="time">2021-12-09 00:57</div></a><div class="msg">Ah, we haven't implemented gRPC support yet (it's on the roadmap after Protobufs is working). Your provider won't understand the paths that are sent because they will not be the gRPC ones.

You will need to setup either a proxy HTTP server that can get the message, and then call your provider. The format of the request is documented here: <a href="https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_verifier_cli#verifying-message-pacts">https://github.com/pact-foundation/pact-reference/tree/master/rust/pact_verifier_cli#verifying-message-pacts</a>, except in this case it needs to handle the request message.</div></div></div><br/>
<div><a id="1639011448.020200"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1639011448.020200" ><div class="time">2021-12-09 00:57</div></a><div class="msg">ah, this works
```GetContextFeedbackListRequest requestMessage = GetContextFeedbackListRequest.parseFrom(message.getRequest().getContents().getValue());```
</div></div></div><br/>
<div><a id="1639161301.020600"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1639161301.020600" ><div class="time">2021-12-10 18:35</div></a><div class="msg">@uglyog what's the point of the mocking in <a href="https://github.com/pact-foundation/pact-plugins/blob/main/drivers/jvm/core/src/test/groovy/io/pact/plugins/jvm/core/DriverPactTest.groovy#L150-L156">https://github.com/pact-foundation/pact-plugins/blob/main/drivers/jvm/core/src/test/groovy/io/pact/plugins/jvm/core/DriverPactTest.groovy#L150-L156</a>? We're having a bit of trouble getting `withGrpcStub` to work in Java</div></div></div><br/>
<div><a id="1639595259.020900"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1639595259.020900" ><div class="time">2021-12-15 19:07</div></a><div class="msg">@elliot.weiser</div></div></div><br/>
<div><a id="1639595327.021200"><img src="https://avatars.slack-edge.com/2021-12-15/2859329142913_68209e59655cd4aa4fc7_72.jpg" /></a><div class="message"><div class="username">elliot.weiser</div><a style="text-decoration: none" href="#1639595327.021200" ><div class="time">2021-12-15 19:08</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1639613199.021500"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1639613199.021500" ><div class="time">2021-12-16 00:06</div></a><div class="msg">That test is testing the interaction between the plugin driver and the plugins. The plugin driver uses a Plugin class to encapsulate the login to call the plugin. If we don't mock out the plugin class, when we call  `DefaultPluginManager.INSTANCE.initPlugin` which is the method we want to test, it will try make a real gRPC call.</div></div></div><br/>
<div><a id="1639613278.021700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1639613278.021700" ><div class="time">2021-12-16 00:07</div></a><div class="msg">Using a mock class, we can get it pretend to make the gRPC call, by validating the request and if it is ok return the response from the Pact instead.</div></div></div><br/>
<div><a id="1639686845.021900"><img src="https://avatars.slack-edge.com/2021-12-15/2859329142913_68209e59655cd4aa4fc7_72.jpg" /></a><div class="message"><div class="username">elliot.weiser</div><a style="text-decoration: none" href="#1639686845.021900" ><div class="time">2021-12-16 20:34</div></a><div class="msg">@uglyog I'm a little new to pact, so please bear with me. Can you expand on the need to setup an HTTP proxy server? I think @srinagasai.krishnasan is still a bit stuck. Sri, are you also having trouble setting up `withGrpcStub`?</div></div></div><br/>
<div><a id="1639686897.022100"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1639686897.022100" ><div class="time">2021-12-16 20:34</div></a><div class="msg">Yes. I am having trouble setting up `withGrpcStub`</div></div></div><br/>
<div><a id="1639692840.022300"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1639692840.022300" ><div class="time">2021-12-16 22:14</div></a><div class="msg">A HTTP proxy server is not needed if you are using Java. because you can mock things out</div></div></div><br/>
<div><a id="1639768088.022500"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1639768088.022500" ><div class="time">2021-12-17 19:08</div></a><div class="msg">We have done these things.
? Setup the consumer contract test for grpc and publish to pact-broker
? On the verifier side, we were able to get the service running and get the contract published in pact-broker. 
? During verification, it's giving a 404. </div></div></div><br/>
<div><a id="1640018566.022800"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640018566.022800" ><div class="time">2021-12-20 16:42</div></a><div class="msg">&gt; Using a mock class, we can get it pretend to make the gRPC call, by validating the request and if it is ok return the response from the Pact instead.
On another note, What you suggest is
? Create a class that extends PactPlugin class. Since it's an interface we will have to override the unimplemented methods. Out of which we had to deal with `getStub()` and `withGrpcStub`
? In `getStub()` we are doing this 
```@Override
public AbstractBlockingStub&lt;PactPluginGrpc.PactPluginBlockingStub&gt; getStub() {
    return PowerMockito.mock(PactPluginGrpc.PactPluginBlockingStub.class);
}```
As the `PactPluginBlockingStub.class`  is static to start with.
? Also for request and response we have our own req and resp's 
```//        Plugin.InitPluginRequest request;
//        Plugin.InitPluginResponse response;
        GetContextFeedbackListRequest request;
        GetContextFeedbackListResponse response;```
While doing this we are having problems with `withGrpcStub` . So should we use our own req and resp. Or Must we go with `Plugin.InitPluginRequest`  and `Plugin.InitPluginResponse`</div></div></div><br/>
<div><a id="1640035234.023000"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640035234.023000" ><div class="time">2021-12-20 21:20</div></a><div class="msg">&gt; Using a mock class, we can get it pretend to make the gRPC call, by validating the request and if it is ok return the response from the Pact instead.
@uglyog Can you please elaborate on this?</div></div></div><br/>
<div><a id="1640037506.023200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1640037506.023200" ><div class="time">2021-12-20 21:58</div></a><div class="msg">&gt;  Create a class that extends PactPlugin class
You shouldn't do this, you should create a class that extends your own gRPC server class. What are you calling to make the gRPC service call?</div></div></div><br/>
<div><a id="1640039656.023400"><img src="https://avatars.slack-edge.com/2021-12-15/2859329142913_68209e59655cd4aa4fc7_72.jpg" /></a><div class="message"><div class="username">elliot.weiser</div><a style="text-decoration: none" href="#1640039656.023400" ><div class="time">2021-12-20 22:34</div></a><div class="msg">@uglyog We're having some difficulty getting our footing here (or at least I am).

My current (limited) understanding is that, since gRPC is not fully supported yet, that in order to write a semi-meaningful test, the underlying gRPC interactions must be mocked out completely. The level at which that needs to happen is currently unclear to us.

&gt; create a class that extends your own gRPC server class
To clarify, are you suggesting that it is the `GetContextFeedbackListRequest` class which must be extended/mocked? Is the child class supposed to be providing a stubbed instance of `GetContextFeedbackListResponse` when the mocked request is called?</div></div></div><br/>
<div><a id="1640040348.023700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1640040348.023700" ><div class="time">2021-12-20 22:45</div></a><div class="msg">You need to be calling something, which you give the request class to (`GetContextFeedbackListRequest`), and you get the response from. In my example project, this is the PactPlugin classes which are generated from the plugin.proto file. In your project, there must be similar type of classes. With Java, the protoc compiler generates a class named &lt;name&gt;Stub, which I found was the easyest to mock out as that is what makes the actual gRPC call.</div></div></div><br/>
<div><a id="1640040565.023900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1640040565.023900" ><div class="time">2021-12-20 22:49</div></a><div class="msg">In my example project, my code uses the PactPlugin class, which in turn uses the PactPluginStub class. So I was able to create a MockPactPlugin so that the actual gRPC call is not made.</div></div></div><br/>
<div><a id="1640042645.024100"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640042645.024100" ><div class="time">2021-12-20 23:24</div></a><div class="msg">&gt; You need to be calling something, which you give the request class to (`GetContextFeedbackListRequest`), and you get the response from.
You mean the implementation classes on the side where you send the request to?</div></div></div><br/>
<div><a id="1640043607.024400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1640043607.024400" ><div class="time">2021-12-20 23:40</div></a><div class="msg">Yes, what do you call to make the gRPC call?</div></div></div><br/>
<div><a id="1640043867.024600"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640043867.024600" ><div class="time">2021-12-20 23:44</div></a><div class="msg">A service implementation class which is implemented through an interface. In this case `FeedbackService` . Cz our proto looks like this..
```service FeedbackService {


    rpc GetContextFeedbackList (GetContextFeedbackListRequest) returns (GetContextFeedbackListResponse) {
    }```</div></div></div><br/>
<div><a id="1640044245.024800"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1640044245.024800" ><div class="time">2021-12-20 23:50</div></a><div class="msg">If it is an interface, then that is easy to mock.</div></div></div><br/>
<div><a id="1640110226.025000"><img src="https://avatars.slack-edge.com/2021-12-15/2859329142913_68209e59655cd4aa4fc7_72.jpg" /></a><div class="message"><div class="username">elliot.weiser</div><a style="text-decoration: none" href="#1640110226.025000" ><div class="time">2021-12-21 18:10</div></a><div class="msg">Great. Thanks for clarifying!</div></div></div><br/>
<div><a id="1640113068.025200"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640113068.025200" ><div class="time">2021-12-21 18:57</div></a><div class="msg">Let's say we have two services. A and B.
Service A consumes endpoints provided by Service B.
Now we write a consumer contract test For Service B within Service A.
Since it's a gRPC with Protobufs. All the mocking needs to be done on the consumer contract side?

And then for verification, we need to start the server in one terminal and then verify it in another terminal using pact_verifier_cli?
I am not able to make sense of why we need to mock on consumer side.
Please clarify this.</div></div></div><br/>
<div><a id="1640132081.025400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1640132081.025400" ><div class="time">2021-12-22 00:14</div></a><div class="msg">Ok, why not try run the consumer tests without mocking anything, and see what happens. Try first stating what you expect to happen, and then what actually happens.

We can look at the provider side once you have the consumer side working.</div></div></div><br/>
<div><a id="1640140297.025600"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640140297.025600" ><div class="time">2021-12-22 02:31</div></a><div class="msg">My colleague(@jarmy) has managed to get the contract ready and push it to pact-broker. While running the verification on the provider side, we are getting a 404.

The way we were verifying is,  locally, we spin up the server and then in another terminal using `pact_verifier_cli`  we are verifying with required params/options. During that phase, we are getting 404.</div></div></div><br/>
<div><a id="1640140330.025800"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640140330.025800" ><div class="time">2021-12-22 02:32</div></a><div class="msg">However I do not know how he has achieved that.</div></div></div><br/>
<div><a id="1640140702.026000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1640140702.026000" ><div class="time">2021-12-22 02:38</div></a><div class="msg">Because I assume your provider is a gRPC server, and expecting to be communicated with via the gRPC protocol</div></div></div><br/>
<div><a id="1640141803.026200"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640141803.026200" ><div class="time">2021-12-22 02:56</div></a><div class="msg">Right. For that reason. You are saying we need to make the mock related changes on the consumer side?</div></div></div><br/>
<div><a id="1640141922.026400"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640141922.026400" ><div class="time">2021-12-22 02:58</div></a><div class="msg">Cz on the provider side. We are using `gretty` and are also have a workaround to have pact task run after the server runs and then stops after pact task is run. We end it using `terminateProviderTask`</div></div></div><br/>
<div><a id="1640142046.026600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1640142046.026600" ><div class="time">2021-12-22 03:00</div></a><div class="msg">Sri - remember, at the moment we have only implemented the protobufs plugin (the payload) and have not built a gRPC plugin (the transport)</div></div></div><br/>
<div><a id="1640142067.026800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1640142067.026800" ><div class="time">2021-12-22 03:01</div></a><div class="msg">The `pact_verifier_cli` only knows how to communicate to your provider over HTTP, not gRPC</div></div></div><br/>
<div><a id="1640142122.027100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1640142122.027100" ><div class="time">2021-12-22 03:02</div></a><div class="msg">So you can?t just start your gRPC server and point the verifier at it, they won?t be able to communicate correctly.</div></div></div><br/>
<div><a id="1640142531.027300"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1640142531.027300" ><div class="time">2021-12-22 03:08</div></a><div class="msg">ah that's why uglyog has suggested to use a proxy http server which in turn makes a grpc call to real provider service?</div></div></div><br/>
<div><a id="1640144702.027600"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1640144702.027600" ><div class="time">2021-12-22 03:45</div></a><div class="msg">exactly</div></div></div><br/>
<div><a id="1640243022.027900"><img src="https://secure.gravatar.com/avatar/3cc972750a99ccd6dd01f7ac0567d3c5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" /></a><div class="message"><div class="username">lixiaoyan68</div><a style="text-decoration: none" href="#1640243022.027900" ><div class="time">2021-12-23 07:03</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1641465357.000200"><img src="https://avatars.slack-edge.com/2022-01-06/2939560137584_364952336657f432f0c2_72.jpg" /></a><div class="message"><div class="username">marconota.mac</div><a style="text-decoration: none" href="#1641465357.000200" ><div class="time">2022-01-06 10:35</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1641690814.000500"><img src="https://secure.gravatar.com/avatar/9f8196b3226c3638b967ba586ad7484f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" /></a><div class="message"><div class="username">tien.xuan.vo</div><a style="text-decoration: none" href="#1641690814.000500" ><div class="time">2022-01-09 01:13</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1641838282.000700"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1641838282.000700" ><div class="time">2022-01-10 18:11</div></a><div class="msg">@uglyog @matt.fellows I am trying to do this with nginx running on port 80. However I am getting this..
``` pact_verifier_cli --disable-ssl-verification --enable-pending --broker-url <a href="https://pact-broker.docker.savagebeast.com">https://pact-broker.docker.savagebeast.com</a> --provider-name pithos-grpc -h localhost -p 55871 --filter-consumer stations-grpc --consumer-version-selectors '{"branch": "DEVTOOLS-1353-pact-gRPC-POC"}'```
---
```thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: reqwest::Error { kind: Builder, source: Os { code: 2, kind: NotFound, message: "No such file or directory" } }', /Users/skrishnasanka/.cargo/registry/src/github.com-1ecc6299db9ec823/pact_verifier-0.12.3/src/pact_broker.rs:534:10
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace```</div></div></div><br/>
<div><a id="1641852684.001000"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1641852684.001000" ><div class="time">2022-01-10 22:11</div></a><div class="msg">Can you run that with log level set to trace?</div></div></div><br/>
<div><a id="1641852725.001200"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1641852725.001200" ><div class="time">2022-01-10 22:12</div></a><div class="msg">It was a problem with openssl. Was able to resolve it. You can disregard this.</div></div></div><br/>
<div><a id="1641853821.001500"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1641853821.001500" ><div class="time">2022-01-10 22:30</div></a><div class="msg">Like @uglyog said. I have created a nginx forward proxy running on port 80 that forwards the requests to grpc port of my local application server.  Now in other terminal I am running the `pact_verfier_cli`  it's giving me this

```  GetContextFeedbackList

  Test Name: com.pandora.remoting.api.stations.contract.consumer.grpc.PithosConsumerContractTest.consumeGetContextFeedbackList(SynchronousMessages)

This pact is still in pending state for pithos-grpc as the successful verification results have not yet been published.

Pending Failures:

1) Verifying a pact between stations-grpc and pithos-grpc - GetContextFeedbackList - error sending request for url (<a href="http://localhost/">http://localhost/</a>): invalid HTTP version parsed```
My nginx.conf looks like this

``` server {
        listen       80 http2;
     
        location / {
	   grpc_pass   <grpc://localhost:6432>;
	   			        
}```
</div></div></div><br/>
<div><a id="1641855577.001700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1641855577.001700" ><div class="time">2022-01-10 22:59</div></a><div class="msg">Can you try with http instead of http2?</div></div></div><br/>
<div><a id="1641855797.001900"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1641855797.001900" ><div class="time">2022-01-10 23:03</div></a><div class="msg">If I don't use http2. The request won't even go through.</div></div></div><br/>
<div><a id="1641857866.002100"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1641857866.002100" ><div class="time">2022-01-10 23:37</div></a><div class="msg">Nginx (via `grpc_pass` is not taking an HTTTP request and then converting it to a gRPC request to your gRPC service - it?s actually communicating gRPC over the HTTP/2 protocol. The verifier must be able to communicate to an HTTP server. So I don?t think this approach is going to work.</div></div></div><br/>
<div><a id="1641931339.002300"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1641931339.002300" ><div class="time">2022-01-11 20:02</div></a><div class="msg">Hello @uglyog @matt.fellows Would you be able to recommend a proxy server technology that does the translation of http 1.1 to grpc or http2? We weren't able to find any.

Or When can we expect http2 support for `pact_verfier_cli`</div></div></div><br/>
<div><a id="1641945861.002500"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1641945861.002500" ><div class="time">2022-01-12 00:04</div></a><div class="msg">The simplest approach would be to write a tiny little HTTP server in whatever language you?re using (Java, I think?) and wrap your gRPC service.

@uglyog I thought you had an example of that, but can?t find it on the plugins github. Am I misremembering?</div></div></div><br/>
<div><a id="1641946139.002700"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1641946139.002700" ><div class="time">2022-01-12 00:08</div></a><div class="msg">I don't have an example of HTTP -&gt; gRPC. I have an HTTP server that returns the Protobuf message. I.e. if a service is defined:
```rpc InitPlugin(InitPluginRequest) returns (InitPluginResponse);```
I have an HTTP server that will return the encoded form of `InitPluginResponse`</div></div></div><br/>
<div><a id="1641946218.002900"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1641946218.002900" ><div class="time">2022-01-12 00:10</div></a><div class="msg">It is in Rust, so may not be easy to read for some people</div></div></div><br/>
<div><a id="1641946280.003200"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1641946280.003200" ><div class="time">2022-01-12 00:11</div></a><div class="msg">But the code is <a href="https://github.com/pactflow/pact-protobuf-plugin/blob/main/tests/pact_verify.rs#L96">https://github.com/pactflow/pact-protobuf-plugin/blob/main/tests/pact_verify.rs#L96</a></div></div></div><br/>
<div><a id="1641946486.003500"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1641946486.003500" ><div class="time">2022-01-12 00:14</div></a><div class="msg">do we think envoy would work? <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_http1_bridge_filter">https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_http1_bridge_filter</a></div></div></div><br/>
<div><a id="1641946566.003700"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1641946566.003700" ><div class="time">2022-01-12 00:16</div></a><div class="msg">looks plausible</div></div></div><br/>
<div><a id="1641946602.003900"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1641946602.003900" ><div class="time">2022-01-12 00:16</div></a><div class="msg">a lot of our services use envoy so we might be able to piggyback</div></div></div><br/>
<div><a id="1641946640.004200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1641946640.004200" ><div class="time">2022-01-12 00:17</div></a><div class="msg">could be PoC?d pretty quickly I suppose. I think nginx doesn?t work, because all it is doing is transport and (presumably) load balancing</div></div></div><br/>
<div><a id="1641946641.004400"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1641946641.004400" ><div class="time">2022-01-12 00:17</div></a><div class="msg">It is going to have 5 bytes in front of the actual message, so you will need to be able to remove those
&gt;  The body should be the serialized grpc body which is:
&gt; ? 1 byte of zero (not compressed).
&gt; ? network order 4 bytes of proto message length.
&gt; ? serialized proto message.
&gt; </div></div></div><br/>
<div><a id="1643133151.000300"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1643133151.000300" ><div class="time">2022-01-25 17:52</div></a><div class="msg">We're struggling to get the envoy proxy working with `pact_verifier_cli`. We believe we've set up the `grpc_http1_bridge` correctly. When the verifier issues the request to the proxy server, this happens:
```17:50:08 [INFO] Running provider verification for 'GetContextFeedbackList'
17:50:08 [INFO] Sending request to provider at <a href="http://localhost:10000/">http://localhost:10000/</a>
17:50:08 [DEBUG] (1) pact_verifier::provider_client: Provider details = ProviderInfo { name: "provider", protocol: "http", host: "localhost", port: Some(10000), path: "/" }
17:50:08 [DEBUG] (1) pact_verifier::provider_client: Sending request HTTP Request ( method: POST, path: /, query: None, headers: Some({"Content-Type": ["application/json"]}), body: Present(535 bytes, application/json) )
17:50:08 [DEBUG] (1) reqwest::connect: starting new connection: <a href="http://localhost:10000/">http://localhost:10000/</a>
17:50:08 [DEBUG] (18) hyper::client::connect::dns: resolving host="localhost" 
17:50:13 [DEBUG] (1) hyper::client::connect::http: connecting to 127.0.0.1:10000 
17:50:13 [DEBUG] (1) hyper::client::connect::http: connected to 127.0.0.1:10000 
17:50:13 [DEBUG] (5) hyper::proto::h1::io: flushed 675 bytes 
17:50:13 [DEBUG] (14) hyper::proto::h1::io: parsed 7 headers 
17:50:13 [DEBUG] (14) hyper::proto::h1::conn: incoming body is chunked encoding 
17:50:13 [DEBUG] (1) reqwest::async_impl::client: response '415 Unsupported Media Type' for <a href="http://localhost:10000/">http://localhost:10000/</a>
17:50:13 [DEBUG] (1) pact_verifier::provider_client: Received native response: Response { url: Url { scheme: "http", cannot_be_a_base: false, username: "", password: None, host: Some(Domain("localhost")), port: Some(10000), path: "/", query: None, fragment: None }, status: 415, headers: {"content-type": "text/plain; encoding=utf-8", "grpc-status": "13", "grpc-message": "Content-Type 'application/json' is not supported", "x-envoy-upstream-service-time": "5", "date": "Tue, 25 Jan 2022 17:50:13 GMT", "server": "envoy", "transfer-encoding": "chunked"} }
17:50:14 [DEBUG] (14) hyper::proto::h1::conn: incoming body decode error: unexpected EOF during chunk size line 

  GetContextFeedbackList

  Test Name: com.pandora.remoting.api.stations.contract.consumer.grpc.PithosConsumerContractTest.consumeGetContextFeedbackList(SynchronousMessages)


Failures:

1) Verifying a pact between stations-grpc and pithos-grpc - GetContextFeedbackList - request or response body error: error reading a body from connection: unexpected EOF during chunk size line```
? And here's the request coming into Envoy (notice it's content-type is `application/json` which doesn't satisfy the filter requirements: _When a request is sent, the filter sees if the connection is HTTP/1.1 and the request content type isapplication/grpc._
```[2022-01-25 09:50:13.213][1580445][debug][http] [source/common/http/conn_manager_impl.cc:283] [C15] new stream
[2022-01-25 09:50:13.213][1580445][debug][http] [source/common/http/conn_manager_impl.cc:873] [C15][S12515614025377970192] request headers complete (end_stream=false):
':authority', 'localhost:10000'
':path', '/'
':method', 'POST'
'content-type', 'application/json'
'accept', '*/*'
'accept-encoding', 'gzip, deflate'
'content-length', '535'

[2022-01-25 09:50:13.214][1580445][debug][router] [source/common/router/router.cc:486] [C15][S12515614025377970192] cluster 'pithos' match for URL '/'
[2022-01-25 09:50:13.215][1580445][debug][router] [source/common/router/router.cc:702] [C15][S12515614025377970192] router decoding headers:
':authority', 'localhost:10000'
':path', '/'
':method', 'POST'
':scheme', 'http'
'content-type', 'application/json'
'accept', '*/*'
'accept-encoding', 'gzip, deflate'
'content-length', '535'
'x-forwarded-proto', 'http'
'x-request-id', '0748ec38-0a40-4ce7-bcf1-cc562328a837'
'x-envoy-expected-rq-timeout-ms', '15000'

[2022-01-25 09:50:13.215][1580445][debug][pool] [source/common/conn_pool/conn_pool_base.cc:250] [C5] using existing connection
[2022-01-25 09:50:13.215][1580445][debug][pool] [source/common/conn_pool/conn_pool_base.cc:176] [C5] creating stream
[2022-01-25 09:50:13.215][1580445][debug][router] [source/common/router/upstream_request.cc:418] [C15][S12515614025377970192] pool ready
[2022-01-25 09:50:13.215][1580445][debug][http] [source/common/http/filter_manager.cc:835] [C15][S12515614025377970192] request end stream
[2022-01-25 09:50:13.220][1580445][debug][router] [source/common/router/router.cc:1320] [C15][S12515614025377970192] upstream headers complete: end_stream=false
[2022-01-25 09:50:13.220][1580445][debug][http] [source/common/http/conn_manager_impl.cc:1472] [C15][S12515614025377970192] encoding headers via codec (end_stream=false):
':status', '415'
'content-type', 'text/plain; encoding=utf-8'
'grpc-status', '13'
'grpc-message', 'Content-Type 'application/json' is not supported'
'x-envoy-upstream-service-time', '5'
'date', 'Tue, 25 Jan 2022 17:50:13 GMT'
'server', 'envoy'

[2022-01-25 09:50:13.220][1580445][debug][http2] [source/common/http/http2/codec_impl.cc:1241] [C5] stream closed: 2```
We're unfortunately unable to make any further progress.</div></div></div><br/>
<div><a id="1643218786.000500"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1643218786.000500" ><div class="time">2022-01-26 17:39</div></a><div class="msg">@uglyog @matt.fellows ^</div></div></div><br/>
<div><a id="1643251337.000800"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643251337.000800" ><div class="time">2022-01-27 02:42</div></a><div class="msg">hmmm this is above my pay grade :laughing:</div></div></div><br/>
<div><a id="1643251472.001000"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643251472.001000" ><div class="time">2022-01-27 02:44</div></a><div class="msg">I?m assuming the gRPC payload is encoded within the JSON body?</div></div></div><br/>
<div><a id="1643251513.001200"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1643251513.001200" ><div class="time">2022-01-27 02:45</div></a><div class="msg">We discussed this the other day, and feel like the next best course of action is for us to create the gRPC plugin, rather than burning your time (and more importantly, eating away at your frustrations bank balance - we all have a limit!)</div></div></div><br/>
<div><a id="1643313091.001500"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1643313091.001500" ><div class="time">2022-01-27 19:51</div></a><div class="msg">Well, it certainly has a sisyphus feel about it :sweat_smile:</div></div></div><br/>
<div><a id="1643313421.001700"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1643313421.001700" ><div class="time">2022-01-27 19:57</div></a><div class="msg">I did a little experiment by modifying this <a href="https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_verifier/src/messages.rs#L189-L192">https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_verifier/src/messages.rs#L189-L192</a> code locally to use `application/grpc`, built a new version and fired up the pact_verfier_cli, which allowed it to talk to the Envoy proxy and hit the gRPC service. It resulted in this:
```20:00:42 [DEBUG] (1) pact_matching: expected content type = 'application/protobuf;message=GetContextFeedbackListResponse', actual content type = 'application/grpc'
20:00:42 [DEBUG] (1) pact_matching: Matching message metadata
20:00:42 [DEBUG] (1) pact_matching: Matching message metadata. Expected '{}', Actual '{"contentType": String("application/grpc")}'

  GetContextFeedbackList

  Test Name: com.pandora.remoting.api.stations.contract.consumer.grpc.PithosConsumerContractTest.consumeGetContextFeedbackList(SynchronousMessages)


Failures:

1) Verifying a pact between stations-grpc and pithos-grpc - GetContextFeedbackList
    1.1) has a matching body
           expected 'application/protobuf;message=GetContextFeedbackListResponse' body but was 'application/grpc'

There were 1 pact failures```
</div></div></div><br/>
<div><a id="1644311965.205389"><img src="https://avatars.slack-edge.com/2022-02-08/3068539071333_a0da24c39c33cae5e2c0_72.png" /></a><div class="message"><div class="username">vadim</div><a style="text-decoration: none" href="#1644311965.205389" ><div class="time">2022-02-08 09:19</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1644317589.930869"><img src="https://avatars.slack-edge.com/2022-01-19/2991984440561_5f2e8e36d7faef55a0d5_72.png" /></a><div class="message"><div class="username">sandeepa.kv</div><a style="text-decoration: none" href="#1644317589.930869" ><div class="time">2022-02-08 10:53</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1644413190.285029"><img src="https://avatars.slack-edge.com/2022-02-09/3091871403105_605b41e807aa6b6ab126_72.jpg" /></a><div class="message"><div class="username">agustin.gomes</div><a style="text-decoration: none" href="#1644413190.285029" ><div class="time">2022-02-09 13:26</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1645126717.454529"><img src="https://avatars.slack-edge.com/2022-01-26/3037632645776_2b75380fa3e037c5c52e_72.jpg" /></a><div class="message"><div class="username">ingcmurcia</div><a style="text-decoration: none" href="#1645126717.454529" ><div class="time">2022-02-17 19:38</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1645524203.496539"><img src="https://avatars.slack-edge.com/2022-02-22/3125237954887_b4713c7c5ec39516c345_72.png" /></a><div class="message"><div class="username">nithyag.ganesan</div><a style="text-decoration: none" href="#1645524203.496539" ><div class="time">2022-02-22 10:03</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1646755342.508239"><img src="https://avatars.slack-edge.com/2022-02-22/3125237954887_b4713c7c5ec39516c345_72.png" /></a><div class="message"><div class="username">nithyag.ganesan</div><a style="text-decoration: none" href="#1646755342.508239" ><div class="time">2022-03-08 16:02</div></a><div class="msg">:wave: Hello, team! I am looking at using PACT to build contract tests for gRPC APIs in my organisation. Are the plugins (protobuf and grpc plugins) close to completion for me to try out a proof of concept?</div></div></div><br/>
<div><a id="1646782108.463589"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1646782108.463589" ><div class="time">2022-03-08 23:28</div></a><div class="msg">there is a protobufs plugin but not a gRPC one yet (currently being worked on)</div></div></div><br/>
<div><a id="1646782111.544059"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1646782111.544059" ><div class="time">2022-03-08 23:28</div></a><div class="msg">what language are you using?</div></div></div><br/>
<div><a id="1646821260.944459"><img src="https://avatars.slack-edge.com/2022-02-22/3125237954887_b4713c7c5ec39516c345_72.png" /></a><div class="message"><div class="username">nithyag.ganesan</div><a style="text-decoration: none" href="#1646821260.944459" ><div class="time">2022-03-09 10:21</div></a><div class="msg">Hello @matt.fellows, thanks for getting back on this, I use Golang</div></div></div><br/>
<div><a id="1646821298.404349"><img src="https://avatars.slack-edge.com/2022-02-22/3125237954887_b4713c7c5ec39516c345_72.png" /></a><div class="message"><div class="username">nithyag.ganesan</div><a style="text-decoration: none" href="#1646821298.404349" ><div class="time">2022-03-09 10:21</div></a><div class="msg">Hello @matt.fellows, thanks for getting back on this, I use Golang</div></div></div><br/>
<div><a id="1646821469.590969"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1646821469.590969" ><div class="time">2022-03-09 10:24</div></a><div class="msg">OK, so we don?t currently have plugin support for it yet</div></div></div><br/>
<div><a id="1646821493.771029"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1646821493.771029" ><div class="time">2022-03-09 10:24</div></a><div class="msg">the protobufs plugin exists, and @uglyog is making some progress on the gRPC plugin, but I?ve yet to implement the plugin interface into the new v2.x.x branch</div></div></div><br/>
<div><a id="1646821494.160019"><img src="" /></a><div class="message"><div class="username"></div><a style="text-decoration: none" href="#1646821494.160019" ><div class="time">2022-03-09 10:24</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-plugins">https://github.com/pact-foundation/pact-plugins</a></div></div></div><br/>
<div><a id="1646821548.929759"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1646821548.929759" ><div class="time">2022-03-09 10:25</div></a><div class="msg">If you?re interested in contributing, we would want to create a new interface in <a href="https://github.com/pact-foundation/pact-go/tree/2.x.x/internal/native">https://github.com/pact-foundation/pact-go/tree/2.x.x/internal/native</a> for supporting plugin based interactions.</div></div></div><br/>
<div><a id="1646821585.990879"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1646821585.990879" ><div class="time">2022-03-09 10:26</div></a><div class="msg">see the pact.h header from the latest core (e.g. <a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.2.3">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.2.3</a>)</div></div></div><br/>
<div><a id="1646821732.991529"><img src="https://avatars.slack-edge.com/2022-02-22/3125237954887_b4713c7c5ec39516c345_72.png" /></a><div class="message"><div class="username">nithyag.ganesan</div><a style="text-decoration: none" href="#1646821732.991529" ><div class="time">2022-03-09 10:28</div></a><div class="msg">Sure Matt, I can give it a go, I am new to Golang, can do it with guidance. I will start looking the links you have shared. Is this channel the right place to ask questions as I try understanding the internals?</div></div></div><br/>
<div><a id="1646821798.057719"><img src="https://avatars.slack-edge.com/2022-02-22/3125237954887_b4713c7c5ec39516c345_72.png" /></a><div class="message"><div class="username">nithyag.ganesan</div><a style="text-decoration: none" href="#1646821798.057719" ><div class="time">2022-03-09 10:29</div></a><div class="msg">or should I be asking them in #pact-go ?</div></div></div><br/>
<div><a id="1646822088.864559"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1646822088.864559" ><div class="time">2022-03-09 10:34</div></a><div class="msg">ah, if you?re new to Golang I wouldn?t attempt this - sorry!</div></div></div><br/>
<div><a id="1646822472.489489"><img src="https://avatars.slack-edge.com/2022-02-22/3125237954887_b4713c7c5ec39516c345_72.png" /></a><div class="message"><div class="username">nithyag.ganesan</div><a style="text-decoration: none" href="#1646822472.489489" ><div class="time">2022-03-09 10:41</div></a><div class="msg">Got it</div></div></div><br/>
<div><a id="1647964319.720129"><img src="https://avatars.slack-edge.com/2022-03-22/3274230497861_1ae9d472f2f5956750fd_72.jpg" /></a><div class="message"><div class="username">balazs</div><a style="text-decoration: none" href="#1647964319.720129" ><div class="time">2022-03-22 15:51</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1649371999.145909"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1649371999.145909" ><div class="time">2022-04-07 22:53</div></a><div class="msg">Hi everyone. My colleague @srinagasai.krishnasan and I have found a way to support gRPC and with pact-jvm. We are leveraging Envoy's <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_json_transcoder_filter">https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_json_transcoder_filter</a>: _This is a filter which allows a RESTful JSON API client to send requests to Envoy over HTTP and get proxied to a gRPC service_. This allows for consumer contract tests to be written for gRPC endpoints using traditional Pact consumer methods (JSON) and verified by traditional Pact verification routes.</div></div></div><br/>
<div><a id="1649379033.146439"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1649379033.146439" ><div class="time">2022-04-08 00:50</div></a><div class="msg">makes sense!</div></div></div><br/>
<div><a id="1649667595.307239"><img src="https://secure.gravatar.com/avatar/24e62dfe04d96cf0950afdc05900d0a5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" /></a><div class="message"><div class="username">paul.stapleton</div><a style="text-decoration: none" href="#1649667595.307239" ><div class="time">2022-04-11 08:59</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1650366005.493259"><img src="https://secure.gravatar.com/avatar/c49985fca03acd21b67a46f6eaf499bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">mathias.duesterhoeft</div><a style="text-decoration: none" href="#1650366005.493259" ><div class="time">2022-04-19 11:00</div></a><div class="msg">Hi there :wave:  - while waiting for the pact js plugin driver to use the protobuf plugin I started wondering if one could also get things to work without the language support. I saw that on the provider side I could just let the CLI fire request against a provider server which returns messages in response. Is something similar also possible on the consumer side. It would be perfect if you could point me to a sample for this.</div></div></div><br/>
<div><a id="1650420082.104869"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1650420082.104869" ><div class="time">2022-04-20 02:01</div></a><div class="msg">I don?t think there is a consumer side for it, but I did spike the new plugins in Pact JS recently.</div></div></div><br/>
<div><a id="1650420089.388309"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1650420089.388309" ><div class="time">2022-04-20 02:01</div></a><div class="msg">Do you need gRPC as well, or just protobufs?</div></div></div><br/>
<div><a id="1650426011.477009"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1650426011.477009" ><div class="time">2022-04-20 03:40</div></a><div class="msg">FYI plugins are support in the node js core: <a href="https://github.com/pact-foundation/pact-js-core/blob/master/test/consumer.integration.spec.ts#L256-L327">https://github.com/pact-foundation/pact-js-core/blob/master/test/consumer.integration.spec.ts#L256-L327</a> (example test using protobufs, using one of the core Plugin protobuf message types to test it out :stuck_out_tongue: )</div></div></div><br/>
<div><a id="1650437622.598089"><img src="https://secure.gravatar.com/avatar/c49985fca03acd21b67a46f6eaf499bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">mathias.duesterhoeft</div><a style="text-decoration: none" href="#1650437622.598089" ><div class="time">2022-04-20 06:53</div></a><div class="msg">I just need the plain protobuf support for now.</div></div></div><br/>
<div><a id="1650437684.947179"><img src="https://secure.gravatar.com/avatar/c49985fca03acd21b67a46f6eaf499bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">mathias.duesterhoeft</div><a style="text-decoration: none" href="#1650437684.947179" ><div class="time">2022-04-20 06:54</div></a><div class="msg">Interesting - thanks a lot for the hint. Is it advisable to just start with pact-js-core for now?</div></div></div><br/>
<div><a id="1650437976.935939"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1650437976.935939" ><div class="time">2022-04-20 06:59</div></a><div class="msg">You could definitely give it a go!</div></div></div><br/>
<div><a id="1650437996.914579"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1650437996.914579" ><div class="time">2022-04-20 06:59</div></a><div class="msg">It?s not intended for use outside of Pact JS, but no reason you couldn?t at least try it</div></div></div><br/>
<div><a id="1650438018.537729"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1650438018.537729" ><div class="time">2022-04-20 07:00</div></a><div class="msg">I?m in the process of thinking about the API that we would expose to Pact JS, so perhaps after having a play with the core you?ll have some ideas too</div></div></div><br/>
<div><a id="1650638396.361449"><img src="https://avatars.slack-edge.com/2020-06-23/1201257120739_e0b816cf265ce1b1f107_72.png" /></a><div class="message"><div class="username">rafael.espillaque</div><a style="text-decoration: none" href="#1650638396.361449" ><div class="time">2022-04-22 14:39</div></a><div class="msg">@rafael.espillaque has left the channel</div></div></div><br/>
<div><a id="1651243145.375459"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1651243145.375459" ><div class="time">2022-04-29 14:39</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1651381122.381799"><img src="https://secure.gravatar.com/avatar/f452d53bfd8daed367d3a4212c691a54.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">v-ratngupta</div><a style="text-decoration: none" href="#1651381122.381799" ><div class="time">2022-05-01 04:58</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1651639403.282299"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1651639403.282299" ><div class="time">2022-05-04 04:43</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1652055827.960579"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652055827.960579" ><div class="time">2022-05-09 00:23</div></a><div class="msg">*Announcement: Pact gRPC/Protobuf Developer Preview 2*

The second developer preview of our gRPC/Protobuf support for Pact is now available. This update brings support for
using gRPC directly with Pact tests, using a gRPC mock server in consumer tests and the Pact verifier supporting gRPC
for provider verification tests.

Documentation can be found at <a href="https://github.com/pactflow/pact-protobuf-plugin#testing-a-grpc-service-method-interaction">https://github.com/pactflow/pact-protobuf-plugin#testing-a-grpc-service-method-interaction</a>

gRPC is supported with:
* Pact-JVM 4.4.0-beta.1 and JUnit 5 (<a href="https://github.com/pact-foundation/pact-jvm/tree/master/consumer/junit5">https://github.com/pact-foundation/pact-jvm/tree/master/consumer/junit5</a> and <a href="https://github.com/pact-foundation/pact-jvm/tree/master/provider/junit5">https://github.com/pact-foundation/pact-jvm/tree/master/provider/junit5</a>)
* Pact-Rust consumer crate 0.9.2 (<a href="https://crates.io/crates/pact_consumer">https://crates.io/crates/pact_consumer</a>)
* Pact Verifier CLI 0.9.10 (<a href="https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.9.10">https://github.com/pact-foundation/pact-reference/releases/tag/pact_verifier_cli-v0.9.10</a>)

The Pactflow gRPC/Protobuf plugin can be downloaded from: <a href="https://github.com/pactflow/pact-protobuf-plugin/releases">https://github.com/pactflow/pact-protobuf-plugin/releases</a>

For examples of Pact tests using gRPC:
* <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/consumer-jvm">https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/consumer-jvm</a>
* <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/consumer-rust">https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/consumer-rust</a>
* <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/provider-jvm">https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/provider-jvm</a>

*What is coming next:*

We want to bring gRPC support to more languages (see <a href="https://github.com/pact-foundation/pact-plugins/projects/1">https://github.com/pact-foundation/pact-plugins/projects/1</a>).
We will be updating the Pact Rust FFI with support for plugins, and then updating Pact-Go and Pact-JS with gRPC support.</div></div></div><br/>
<div><a id="1652119384.611339"><img src="https://avatars.slack-edge.com/2023-04-05/5087525533632_e914056bfe7293057bc6_72.png" /></a><div class="message"><div class="username">orbit</div><a style="text-decoration: none" href="#1652119384.611339" ><div class="time">2022-05-09 18:03</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1652406729.785639"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652406729.785639" ><div class="time">2022-05-13 01:52</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1652433590.734259"><img src="https://avatars.slack-edge.com/2022-05-13/3523717750692_5b17aee9e8c47a6aeb10_72.jpg" /></a><div class="message"><div class="username">luis.garcia</div><a style="text-decoration: none" href="#1652433590.734259" ><div class="time">2022-05-13 09:19</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1652667343.648129"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652667343.648129" ><div class="time">2022-05-16 02:15</div></a><div class="msg">Is the consumer-jvm tests supposed to be working? I installed the plugin following the instructions but the test is still failing</div></div></div><br/>
<div><a id="1652668057.122059"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652668057.122059" ><div class="time">2022-05-16 02:27</div></a><div class="msg">Yes, check the plugin binary is executable</div></div></div><br/>
<div><a id="1652668071.061169"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652668071.061169" ><div class="time">2022-05-16 02:27</div></a><div class="msg">how to check?</div></div></div><br/>
<div><a id="1652668125.419799"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652668125.419799" ><div class="time">2022-05-16 02:28</div></a><div class="msg">i used this 3 commands as per read me (downloading json and then the ziped plugin and then extracting it) looks ok?

wget <a href="https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/pact-plugin.json">https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/pact-plugin.json</a> -O ~/.pact/plugins/protobuf-0.1.5/pact-plugin.json

wget <a href="https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/">https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/</a><a href="https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/pact-protobuf-plugin-osx-x86_64.gz">https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/pact-protobuf-plugin-osx-x86_64.gz</a> -O ~/.pact/plugins/protobuf-0.1.5/<a href="https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/pact-protobuf-plugin-osx-x86_64.gz">https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/pact-protobuf-plugin-osx-x86_64.gz</a>

gunzip -N ~/.pact/plugins/protobuf-0.1.5/<a href="https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/pact-protobuf-plugin-osx-x86_64.gz">https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.5/pact-protobuf-plugin-osx-x86_64.gz</a></div></div></div><br/>
<div><a id="1652668298.961369"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652668298.961369" ><div class="time">2022-05-16 02:31</div></a><div class="msg">The gunzip does not make the binary for the plugin executable, leading to <a href="https://github.com/pact-foundation/pact-plugins/issues/3">https://github.com/pact-foundation/pact-plugins/issues/3</a></div></div></div><br/>
<div><a id="1652668343.168849"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652668343.168849" ><div class="time">2022-05-16 02:32</div></a><div class="msg">check with
```? ls -la ~/.pact/plugins/protobuf-0.1.5/
total 311140
drwxr-xr-x 5 ronald ronald      4096 May 10 11:43 .
drwxr-xr-x 4 ronald ronald      4096 May 11 14:12 ..
drwxr-xr-x 2 ronald ronald      4096 May 12 10:58 log
-rw-r--r-- 1 ronald ronald       309 Apr 29 10:08 pact-plugin.json
-rwxr-xr-x 1 ronald ronald 316877496 May 10 11:43 pact-protobuf-plugin
drwxr-xr-x 4 ronald ronald      4096 May  5 13:10 protoc
-rw-r--r-- 1 ronald ronald   1699854 May  5 13:10 protoc-3.19.1-linux-x86_64.zip
drwxr-xr-x 2 ronald ronald      4096 May 12 10:58 tmp```</div></div></div><br/>
<div><a id="1652668391.454309"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652668391.454309" ><div class="time">2022-05-16 02:33</div></a><div class="msg">It should have `x` set on `pact-protobuf-plugin`</div></div></div><br/>
<div><a id="1652668481.463429"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652668481.463429" ><div class="time">2022-05-16 02:34</div></a><div class="msg">its all read. how do i install the plugin then? could u advise</div></div></div><br/>
<div><a id="1652668582.200369"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652668582.200369" ><div class="time">2022-05-16 02:36</div></a><div class="msg">`chmod +x  ~/.pact/plugins/protobuf-0.1.5/pact-protobuf-plugin` will make it executable</div></div></div><br/>
<div><a id="1652668756.000259"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652668756.000259" ><div class="time">2022-05-16 02:39</div></a><div class="msg">sorry im very new to PACT im just wondering why this plugin cant be built it part of a  library which you can import just like the PACT core module?</div></div></div><br/>
<div><a id="1652668770.737899"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652668770.737899" ><div class="time">2022-05-16 02:39</div></a><div class="msg">just finding the installation and setup of plugin rather troublesome</div></div></div><br/>
<div><a id="1652668916.109509"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652668916.109509" ><div class="time">2022-05-16 02:41</div></a><div class="msg">this looks like the test passed? :party_parrot:</div></div></div><br/>
<div><a id="1652668919.636289"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652668919.636289" ><div class="time">2022-05-16 02:41</div></a><div class="msg">It's new. It will improve.

We can't add direct support for every new protocol because there are so many languages we need to add the support to (there are 10+ Pact supported languages).</div></div></div><br/>
<div><a id="1652668938.768869"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652668938.768869" ><div class="time">2022-05-16 02:42</div></a><div class="msg">and for provider how can i run it?</div></div></div><br/>
<div><a id="1652668960.652079"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652668960.652079" ><div class="time">2022-05-16 02:42</div></a><div class="msg">for provider-jvm also just run the test? do i need to explicitly copy the pact?</div></div></div><br/>
<div><a id="1652669112.194669"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652669112.194669" ><div class="time">2022-05-16 02:45</div></a><div class="msg">You will need to either copy the pact file, or change the test to point to the file in the consumer build</div></div></div><br/>
<div><a id="1652670241.715409"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1652670241.715409" ><div class="time">2022-05-16 03:04</div></a><div class="msg">&gt;  sorry im very new to PACT im just wondering why this plugin cant be built it part of a library which you can import just like the PACT core module?
As Ron said, we need a language independent way to create extension points into the system.

For example, you could (if you wanted) write a Pact plugin in whatever language you were comfortable in to support some new feature. Because you don?t need to add it to Pact JS or Pact JVM, you could also choose not to make it a public plugin as well, if that were desired</div></div></div><br/>
<div><a id="1652670251.532869"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1652670251.532869" ><div class="time">2022-05-16 03:04</div></a><div class="msg">see also the design objectives here: <a href="https://github.com/pact-foundation/pact-plugins">https://github.com/pact-foundation/pact-plugins</a></div></div></div><br/>
<div><a id="1652670333.249219"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652670333.249219" ><div class="time">2022-05-16 03:05</div></a><div class="msg">Thanks for the background. :thumbsup:  so if we need it running in the remote server[for CI/CD purposes] we need one of the steps to install the plugin before running the build?</div></div></div><br/>
<div><a id="1652671295.851929"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652671295.851929" ><div class="time">2022-05-16 03:21</div></a><div class="msg">Yes, in the future we will have a CLI command to install the plugins, but for now you can just use a script</div></div></div><br/>
<div><a id="1652690865.558279"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1652690865.558279" ><div class="time">2022-05-16 08:47</div></a><div class="msg">@tjones has left the channel</div></div></div><br/>
<div><a id="1652936526.609159"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652936526.609159" ><div class="time">2022-05-19 05:02</div></a><div class="msg">Are we able to use this protobuf plugin with pactflow broker?</div></div></div><br/>
<div><a id="1652936624.028759"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1652936624.028759" ><div class="time">2022-05-19 05:03</div></a><div class="msg">Yes</div></div></div><br/>
<div><a id="1652936638.390699"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1652936638.390699" ><div class="time">2022-05-19 05:03</div></a><div class="msg">okie let me give it a try. thanks!</div></div></div><br/>
<div><a id="1653029647.369189"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653029647.369189" ><div class="time">2022-05-20 06:54</div></a><div class="msg">hi @rholshausen i was able to publish my consumer for grpc but when i tried publishing my provider it didnt give error but i didnt see the corresponding verification in pactflow.



I added
```import au.com.dius.pact.provider.junitsupport.loader.PactBroker;
import au.com.dius.pact.provider.junitsupport.loader.PactBrokerAuth;

......
......


@PactBroker(host = "<a href="http://airwallex.pactflow.io">http://airwallex.pactflow.io</a>", scheme = "https",
        authentication = @PactBrokerAuth( token = "xxxxx"))```
in the pact verification for the areacalculator example you all provided

and was using this gradle command
./gradlew -DpactPublishResults=true provider:test --tests *Pact*Test

Could you please kindly advise</div></div></div><br/>
<div><a id="1653029726.592129"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653029726.592129" ><div class="time">2022-05-20 06:55</div></a><div class="msg">i was hoping to see a verified contract</div></div></div><br/>
<div><a id="1653044367.447919"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1653044367.447919" ><div class="time">2022-05-20 10:59</div></a><div class="msg">according to <a href="https://docs.pact.io/implementation_guides/jvm/provider/gradle">https://docs.pact.io/implementation_guides/jvm/provider/gradle</a> should it be `-P pact.verifier.publishResults=true` ?</div></div></div><br/>
<div><a id="1653274880.445159"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653274880.445159" ><div class="time">2022-05-23 03:01</div></a><div class="msg">Hey Matt still no joy. I was initially trying to integrate w Junit. Then i tried with gradle it still did not seem to publish

I added these lines in the gradle files as per docu. Am i missing something?

```plugins {
    id "au.com.dius.pact" version '4.1.0'
}```
```
pact {

    broker {
        pactBrokerUrl = '<a href="https://airwallex.pactflow.io">https://airwallex.pactflow.io</a>'
        pactBrokerToken = 'xxxx-xxxx"'
    }

}```
</div></div></div><br/>
<div><a id="1653274963.981649"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653274963.981649" ><div class="time">2022-05-23 03:02</div></a><div class="msg">What i see in the console when i run the test with publish results for provider ^^</div></div></div><br/>
<div><a id="1653275385.734909"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653275385.734909" ><div class="time">2022-05-23 03:09</div></a><div class="msg">You need to have the property set on the test environment.</div></div></div><br/>
<div><a id="1653275389.713269"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653275389.713269" ><div class="time">2022-05-23 03:09</div></a><div class="msg">See <a href="https://github.com/pact-foundation/pact-jvm/tree/master/provider/junit5#important-note-jvm-system-properties-needs-to-be-set-on-the-test-jvm-if-your-build-is-running-with-gradle-or-maven">https://github.com/pact-foundation/pact-jvm/tree/master/provider/junit5#important-note-jvm-system-properties-needs-to-be-set-on-the-test-jvm-if-your-build-is-running-with-gradle-or-maven</a></div></div></div><br/>
<div><a id="1653276128.733279"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653276128.733279" ><div class="time">2022-05-23 03:22</div></a><div class="msg">sorry do u mind elaborating which property and whether i have an example to refer to what i should add in gradle</div></div></div><br/>
<div><a id="1653276307.507719"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276307.507719" ><div class="time">2022-05-23 03:25</div></a><div class="msg">Ok, when you run tests with Gradle, Gradle starts a new JVM environment to runs the tests. By passing the system property on the command line, you are setting it in the Gradle environment, but not in the test one. You need to tell Gradle to set it on the test environment.</div></div></div><br/>
<div><a id="1653276322.300279"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276322.300279" ><div class="time">2022-05-23 03:25</div></a><div class="msg">See the example at <a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html</a></div></div></div><br/>
<div><a id="1653276359.093229"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276359.093229" ><div class="time">2022-05-23 03:25</div></a><div class="msg">You need to add a test block in your Gradle build file, and set the property there using `systemProperty`</div></div></div><br/>
<div><a id="1653276528.449329"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653276528.449329" ><div class="time">2022-05-23 03:28</div></a><div class="msg">something like this?


```test {
    useJUnitPlatform()

    systemProperty 'pact.verifier.publishResults', 'true'
}```
</div></div></div><br/>
<div><a id="1653276545.202149"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276545.202149" ><div class="time">2022-05-23 03:29</div></a><div class="msg">Yes</div></div></div><br/>
<div><a id="1653276623.055549"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653276623.055549" ><div class="time">2022-05-23 03:30</div></a><div class="msg">Finally . This shows it works?</div></div></div><br/>
<div><a id="1653276667.545129"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653276667.545129" ><div class="time">2022-05-23 03:31</div></a><div class="msg">what is the difference between environments and tags?</div></div></div><br/>
<div><a id="1653276685.326849"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653276685.326849" ><div class="time">2022-05-23 03:31</div></a><div class="msg">and is there any docu showing me how i can pass these variables?</div></div></div><br/>
<div><a id="1653276705.847729"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276705.847729" ><div class="time">2022-05-23 03:31</div></a><div class="msg">Pass them in what way?</div></div></div><br/>
<div><a id="1653276774.973809"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653276774.973809" ><div class="time">2022-05-23 03:32</div></a><div class="msg">eg during CI/CD during a pr i want to tag it as a dev environment run , and then down the track staging , demo environment</div></div></div><br/>
<div><a id="1653276851.897039"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276851.897039" ><div class="time">2022-05-23 03:34</div></a><div class="msg">All the properties can be found at <a href="https://github.com/pact-foundation/pact-jvm/blob/master/docs/system-properties.md">https://github.com/pact-foundation/pact-jvm/blob/master/docs/system-properties.md</a></div></div></div><br/>
<div><a id="1653276882.424809"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276882.424809" ><div class="time">2022-05-23 03:34</div></a><div class="msg">Tags are just generic labels. Environments are label specific for an environment</div></div></div><br/>
<div><a id="1653276974.570419"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276974.570419" ><div class="time">2022-05-23 03:36</div></a><div class="msg">Pact JVM doesn't support environments yet, but you can set the tags or git branch</div></div></div><br/>
<div><a id="1653276987.373279"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653276987.373279" ><div class="time">2022-05-23 03:36</div></a><div class="msg">got it</div></div></div><br/>
<div><a id="1653276990.020469"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653276990.020469" ><div class="time">2022-05-23 03:36</div></a><div class="msg">`pact.provider.tag`</div></div></div><br/>
<div><a id="1653277000.798019"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653277000.798019" ><div class="time">2022-05-23 03:36</div></a><div class="msg">or `pact.provider.branch`</div></div></div><br/>
<div><a id="1653277199.482069"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1653277199.482069" ><div class="time">2022-05-23 03:39</div></a><div class="msg">See also <a href="https://docs.pact.io/getting_started/conceptual_overview#branches--environments">https://docs.pact.io/getting_started/conceptual_overview#branches--environments</a></div></div></div><br/>
<div><a id="1653277207.179039"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1653277207.179039" ><div class="time">2022-05-23 03:40</div></a><div class="msg">the search in the OSS docs is quite good</div></div></div><br/>
<div><a id="1653277253.012959"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653277253.012959" ><div class="time">2022-05-23 03:40</div></a><div class="msg">Thank you. I will give it a read!</div></div></div><br/>
<div><a id="1653277658.651599"><img src="https://avatars.slack-edge.com/2022-05-02/3494351005936_28626b09c35740bcb863_72.png" /></a><div class="message"><div class="username">james.weng</div><a style="text-decoration: none" href="#1653277658.651599" ><div class="time">2022-05-23 03:47</div></a><div class="msg">is it necessary to put provider version in consumer files or it should be dynamically generated by PACT?</div></div></div><br/>
<div><a id="1653277694.278419"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1653277694.278419" ><div class="time">2022-05-23 03:48</div></a><div class="msg">The provider version should be specified when verifying the provider</div></div></div><br/>
<div><a id="1653428546.085809"><img src="https://avatars.slack-edge.com/2022-05-24/3575003179924_6a8aaf418f225aff2252_72.jpg" /></a><div class="message"><div class="username">marti92</div><a style="text-decoration: none" href="#1653428546.085809" ><div class="time">2022-05-24 21:42</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1653429429.139129"><img src="https://avatars.slack-edge.com/2022-05-24/3575003179924_6a8aaf418f225aff2252_72.jpg" /></a><div class="message"><div class="username">marti92</div><a style="text-decoration: none" href="#1653429429.139129" ><div class="time">2022-05-24 21:57</div></a><div class="msg">Are there plans to support gRPC in the Ruby library?</div></div></div><br/>
<div><a id="1653430553.860819"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1653430553.860819" ><div class="time">2022-05-24 22:15</div></a><div class="msg">Eventually, yes</div></div></div><br/>
<div><a id="1653430698.586199"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1653430698.586199" ><div class="time">2022-05-24 22:18</div></a><div class="msg">Right now the plan is to:

1. Finish gRPC / protobufs plugins (work in progress now)
2. Improve the documentation and visibility of the plugin ecosystem - make examples, tutorials, workshops etc. so that maintainers and contributors can use and create them
3. Get the rust core into all key languages (JVM, JS, Golang, .NET, Python)
4. Add plugin support to all key languages 
Ruby is not on that list, but after (2) it could be done with community support</div></div></div><br/>
<div><a id="1653431129.824519"><img src="https://avatars.slack-edge.com/2022-05-24/3575003179924_6a8aaf418f225aff2252_72.jpg" /></a><div class="message"><div class="username">marti92</div><a style="text-decoration: none" href="#1653431129.824519" ><div class="time">2022-05-24 22:25</div></a><div class="msg">Sounds great, thanks Matt!</div></div></div><br/>
<div><a id="1653431169.016099"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1653431169.016099" ><div class="time">2022-05-24 22:26</div></a><div class="msg">If you?re interested in picking up (3) for Ruby, there?s nothing stopping you now. See #libpact_ffi-users if you?d like to get involved! (and also probably pop your hand up in #pact-ruby)</div></div></div><br/>
<div><a id="1653510941.506529"><img src="https://avatars.slack-edge.com/2022-05-24/3575003179924_6a8aaf418f225aff2252_72.jpg" /></a><div class="message"><div class="username">marti92</div><a style="text-decoration: none" href="#1653510941.506529" ><div class="time">2022-05-25 20:35</div></a><div class="msg">Thanks Matt, will look into it</div></div></div><br/>
<div><a id="1654563859.342139"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1654563859.342139" ><div class="time">2022-06-07 01:04</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1654580211.943089"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1654580211.943089" ><div class="time">2022-06-07 05:36</div></a><div class="msg">To answer your <a href="https://pact-foundation.slack.com/archives/C5F4KFKR8/p1654563602737729">https://pact-foundation.slack.com/archives/C5F4KFKR8/p1654563602737729</a> Tim:

The current protobuf (and gRPC) plugin is here: <a href="https://github.com/pactflow/pact-protobuf-plugin/#unsupported-features">https://github.com/pactflow/pact-protobuf-plugin/#unsupported-features</a> and is only supported in Pact JVM and Rust at the moment.

We will be adding support into Golang in the next little while, and then seeking feedback from the early adopters before rolling out widely</div></div></div><br/>
<div><a id="1654590582.378479"><img src="https://avatars.slack-edge.com/2021-06-18/2183517667893_4aa6885a86eced2ccef0_72.jpg" /></a><div class="message"><div class="username">tomknee1</div><a style="text-decoration: none" href="#1654590582.378479" ><div class="time">2022-06-07 08:29</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1654592033.673729"><img src="https://secure.gravatar.com/avatar/5f4d8c61452278d7d5d5f6b5d80a3cf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scott.riley111</div><a style="text-decoration: none" href="#1654592033.673729" ><div class="time">2022-06-07 08:53</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1654683524.868379"><img src="https://secure.gravatar.com/avatar/24d619d95d187276b052ded757f793a4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" /></a><div class="message"><div class="username">priyank.shah217</div><a style="text-decoration: none" href="#1654683524.868379" ><div class="time">2022-06-08 10:18</div></a><div class="msg">@matt.fellows have one question, we have client(Android/IOS) basically sent protobuf over HTTP. does pact support protobuf + http along with json?</div></div></div><br/>
<div><a id="1654684183.825899"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1654684183.825899" ><div class="time">2022-06-08 10:29</div></a><div class="msg">See <a href="https://pact-foundation.slack.com/archives/CEQBDD5U4/p1652055827960579">https://pact-foundation.slack.com/archives/CEQBDD5U4/p1652055827960579</a></div></div></div><br/>
<div><a id="1654684215.545029"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1654684215.545029" ><div class="time">2022-06-08 10:30</div></a><div class="msg">No swift package support that I?m aware of  yet, but you could plausibly test it out for your android (JVM) project</div></div></div><br/>
<div><a id="1654708919.382349"><img src="https://avatars.slack-edge.com/2022-10-06/4188780648804_06ad6132e8393dbb202f_72.png" /></a><div class="message"><div class="username">slacksync</div><a style="text-decoration: none" href="#1654708919.382349" ><div class="time">2022-06-08 17:21</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1655146012.813599"><img src="https://secure.gravatar.com/avatar/b7ee251313f03b7b016862fed0b57674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">cody</div><a style="text-decoration: none" href="#1655146012.813599" ><div class="time">2022-06-13 18:46</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1655146063.641669"><img src="https://secure.gravatar.com/avatar/b7ee251313f03b7b016862fed0b57674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">cody</div><a style="text-decoration: none" href="#1655146063.641669" ><div class="time">2022-06-13 18:47</div></a><div class="msg">You don?t happen to have a rough ETA on GRPC for pact-go, do you? :pray:</div></div></div><br/>
<div><a id="1655264169.919869"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655264169.919869" ><div class="time">2022-06-15 03:36</div></a><div class="msg">Hey Cody! It?s in a branch, let me get it merged and you can have a play with the next beta release.</div></div></div><br/>
<div><a id="1655264207.368899"><img src="https://secure.gravatar.com/avatar/b7ee251313f03b7b016862fed0b57674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">cody</div><a style="text-decoration: none" href="#1655264207.368899" ><div class="time">2022-06-15 03:36</div></a><div class="msg">Momma always said ?just ask nicely, you never know? :joy:

Thanks!</div></div></div><br/>
<div><a id="1655264222.450109"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655264222.450109" ><div class="time">2022-06-15 03:37</div></a><div class="msg">What do you plan on testing, btw? If you can give us some idea of your use case that would be great to know</div></div></div><br/>
<div><a id="1655264230.149419"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655264230.149419" ><div class="time">2022-06-15 03:37</div></a><div class="msg">also see the supported/unsupported features here: <a href="https://github.com/pactflow/pact-protobuf-plugin/#supported-features">https://github.com/pactflow/pact-protobuf-plugin/#supported-features</a></div></div></div><br/>
<div><a id="1655264252.587799"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655264252.587799" ><div class="time">2022-06-15 03:37</div></a><div class="msg">When do you think you?d have the headspace/capacity to play? Right away?</div></div></div><br/>
<div><a id="1655264450.945119"><img src="https://secure.gravatar.com/avatar/b7ee251313f03b7b016862fed0b57674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">cody</div><a style="text-decoration: none" href="#1655264450.945119" ><div class="time">2022-06-15 03:40</div></a><div class="msg">Yeah, we have an intern (Runlin) digging into all of this right now. I think day 2 of his internship he had a pact broker running (locally) already and has been writing tests on the HTTP side of the house.

Happy to setup a zoom at some point to chat through everything. It definitely feels like right now we?re seeing what all ways we can abuse your tools :joy:

We have a bunch of weird requirements we?re trying to balance that leads use quite a few of your tools together.
? Ex: bidirectional contract testing looks pretty exciting, and I assume it?ll work better than the swagger-mock-validator we use today ? unless that?s what is used under the hood. But we?re using the OSS broker, so this isn?t supported (yet?).
? Using the wiremock-pact-generator to try to reduce the work on consumer teams. Runlin already has a POC using this too. But then we expect we?ll want BDCT to validate these much quicker, since my understanding is that a bunch of duplicative tests like we?d generate would be too slow to validate normally. But trying to see if this theory is true
? And now we get to add GRPC into the mix, because a lot of our API calls are over GRPC and ?faking? our contracts using grpcgateway seems? fallible.</div></div></div><br/>
<div><a id="1655264810.217799"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655264810.217799" ><div class="time">2022-06-15 03:46</div></a><div class="msg">&gt;  Ex: bidirectional contract testing looks pretty exciting, and I assume it?ll work better than the swagger-mock-validator we use today ? unless that?s what is used under the hood. But we?re using the OSS broker, so this isn?t supported (yet?).
It is, but we have customised it to address a few things.</div></div></div><br/>
<div><a id="1655264849.220409"><img src="https://secure.gravatar.com/avatar/b7ee251313f03b7b016862fed0b57674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">cody</div><a style="text-decoration: none" href="#1655264849.220409" ><div class="time">2022-06-15 03:47</div></a><div class="msg">Yeah, I heard from a couple of our teams that tested that it has? issues. :see_no_evil:</div></div></div><br/>
<div><a id="1655264870.746799"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655264870.746799" ><div class="time">2022-06-15 03:47</div></a><div class="msg">&gt;  Using the wiremock-pact-generator to try to reduce the work on consumer teams. Runlin already has a POC using this too. But then we expect we?ll want BDCT to validate these much quicker, since my understanding is that a bunch of duplicative tests like we?d generate would be too slow to validate normally. But trying to see if this theory is true
:100: do not use the standard pact verification here. It won?t just be duplicative, but likely very flakey and hard for the provider team to verify reliably.</div></div></div><br/>
<div><a id="1655264932.361559"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655264932.361559" ><div class="time">2022-06-15 03:48</div></a><div class="msg">&gt;  And now we get to add GRPC into the mix, because a lot of our API calls are over GRPC and ?faking? our contracts using grpcgateway seems? fallible.
got it. The plugin stuff is still very new and the authoring interface is still a level below where we?ll want to be (you?ll see what I mean), so I expect us to get through the beta phase and get to DX improvements on that. But conceptually we want to get that working first</div></div></div><br/>
<div><a id="1655264933.112059"><img src="https://secure.gravatar.com/avatar/b7ee251313f03b7b016862fed0b57674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">cody</div><a style="text-decoration: none" href="#1655264933.112059" ><div class="time">2022-06-15 03:48</div></a><div class="msg">Interesting. What would make them flakey? I assumed the main challenge on the providers (besides speed) would be handling a million different provider states.</div></div></div><br/>
<div><a id="1655265001.154289"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655265001.154289" ><div class="time">2022-06-15 03:50</div></a><div class="msg">&gt;  Interesting. What would make them flakey? I assumed the main challenge on the providers (besides speed) would be handling a million different provider states.
yes, that?s one. Because the wiremock pact generator doesn?t care for states (unless I?m mistaken), the provider won?t know how to deal with all of the scenarios.</div></div></div><br/>
<div><a id="1655265036.232669"><img src="https://secure.gravatar.com/avatar/b7ee251313f03b7b016862fed0b57674.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">cody</div><a style="text-decoration: none" href="#1655265036.232669" ><div class="time">2022-06-15 03:50</div></a><div class="msg">wiremock itself has pretty solid state/scenario support, but yeah no idea how that translates into the pact.json</div></div></div><br/>
<div><a id="1655265068.673249"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655265068.673249" ><div class="time">2022-06-15 03:51</div></a><div class="msg">to my knowledge it doesn?t. But that would be an obvious addition to the tool</div></div></div><br/>
<div><a id="1655266156.860359"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655266156.860359" ><div class="time">2022-06-15 04:09</div></a><div class="msg">(sorry, had a phone call)</div></div></div><br/>
<div><a id="1655266185.641599"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1655266185.641599" ><div class="time">2022-06-15 04:09</div></a><div class="msg">let me know how the research goes on the supported features. I?m keen to know if the protobufs/gRPC features we support initially will cover the majority of use cases</div></div></div><br/>
<div><a id="1655826293.100949"><img src="https://avatars.slack-edge.com/2022-06-05/3647553383056_12ff3f61cdda01fefc7c_72.jpg" /></a><div class="message"><div class="username">rchord23</div><a style="text-decoration: none" href="#1655826293.100949" ><div class="time">2022-06-21 15:44</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1656332314.562229"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1656332314.562229" ><div class="time">2022-06-27 12:18</div></a><div class="msg">@matt.fellows hello, any progress on Pact-Go + GRPC we could leverage at this very moment?</div></div></div><br/>
<div><a id="1656335652.714119"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656335652.714119" ><div class="time">2022-06-27 13:14</div></a><div class="msg">Yes, albeit it?s very much alpha and I?d expect the API to change. Given the introduction of the new V4 spec and plugins, it has (positively) impacted the vision for the API, which might take a few goes/feedback to get right</div></div></div><br/>
<div><a id="1656335671.513749"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656335671.513749" ><div class="time">2022-06-27 13:14</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-go/compare/2.x.x...feat/v3-type-system">https://github.com/pact-foundation/pact-go/compare/2.x.x...feat/v3-type-system</a> is the branch, which will merge back into 2.x.x once it?s clean and then a new beta version released</div></div></div><br/>
<div><a id="1656335784.836469"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656335784.836469" ><div class="time">2022-06-27 13:16</div></a><div class="msg">I haven?t yet put together a proper running gRPC example using the new interface, but this is an internal test that uses the public API: <a href="https://github.com/pact-foundation/pact-go/compare/2.x.x...feat/v3-type-system">https://github.com/pact-foundation/pact-go/compare/2.x.x...feat/v3-type-system</a></div></div></div><br/>
<div><a id="1656335892.157419"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656335892.157419" ><div class="time">2022-06-27 13:18</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-go/blob/feat/v3-type-system/internal/native/message_server_test.go#L159">https://github.com/pact-foundation/pact-go/blob/feat/v3-type-system/internal/native/message_server_test.go#L159</a>is a working gRPC example using the FFI methods. Those methods aren?t exposed publicly but you can probably glean what it enables, and how you?d translate that into the actual API above</div></div></div><br/>
<div><a id="1656335916.926229"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656335916.926229" ><div class="time">2022-06-27 13:18</div></a><div class="msg">I plan to spend a bit more time on it tomorrow, if I?m up to it (have been unwell with The Rona??.)</div></div></div><br/>
<div><a id="1656335931.824719"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656335931.824719" ><div class="time">2022-06-27 13:18</div></a><div class="msg">Speaking of - off to bed :face_with_thermometer:</div></div></div><br/>
<div><a id="1656335947.265779"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1656335947.265779" ><div class="time">2022-06-27 13:19</div></a><div class="msg">Take care!!</div></div></div><br/>
<div><a id="1656368772.998049"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656368772.998049" ><div class="time">2022-06-27 22:26</div></a><div class="msg">Thanks :pray:</div></div></div><br/>
<div><a id="1656384144.853209"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656384144.853209" ><div class="time">2022-06-28 02:42</div></a><div class="msg">grpc example in go: <a href="https://github.com/pact-foundation/pact-go/blob/feat/v3-type-system/examples/grpc/grpc_consumer_test.go">https://github.com/pact-foundation/pact-go/blob/feat/v3-type-system/examples/grpc/grpc_consumer_test.go</a></div></div></div><br/>
<div><a id="1656408226.723329"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1656408226.723329" ><div class="time">2022-06-28 09:23</div></a><div class="msg">@matt.fellows FYI <a href="https://github.com/pact-foundation/pact-plugins/issues/4">https://github.com/pact-foundation/pact-plugins/issues/4</a></div></div></div><br/>
<div><a id="1656411482.706979"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656411482.706979" ><div class="time">2022-06-28 10:18</div></a><div class="msg">Thanks! Easily fixed I think, good pickup</div></div></div><br/>
<div><a id="1656418230.174169"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656418230.174169" ><div class="time">2022-06-28 12:10</div></a><div class="msg">A new 2.x.x package should be out shortly.</div></div></div><br/>
<div><a id="1656420235.265819"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1656420235.265819" ><div class="time">2022-06-28 12:43</div></a><div class="msg">New Golang release out with plugins support: <a href="https://pact-foundation.slack.com/archives/C9UTHTFFB/p1656420217055019">https://pact-foundation.slack.com/archives/C9UTHTFFB/p1656420217055019</a>

cc: @cody @ringo</div></div></div><br/>
<div><a id="1656426196.069899"><img src="https://avatars.slack-edge.com/2022-04-21/3405541289751_27bffad63882f6753738_72.jpg" /></a><div class="message"><div class="username">jackbwheatley</div><a style="text-decoration: none" href="#1656426196.069899" ><div class="time">2022-06-28 14:23</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1656932940.840409"><img src="https://secure.gravatar.com/avatar/bfad43005caefe0b2a717b1d5753e8c0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">bangn</div><a style="text-decoration: none" href="#1656932940.840409" ><div class="time">2022-07-04 11:09</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1656945240.806979"><img src="https://avatars.slack-edge.com/2022-06-29/3736828463538_cd72339c1cc7ca320749_72.png" /></a><div class="message"><div class="username">andrevpuc</div><a style="text-decoration: none" href="#1656945240.806979" ><div class="time">2022-07-04 14:34</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1656947178.136329"><img src="https://avatars.slack-edge.com/2022-06-29/3736828463538_cd72339c1cc7ca320749_72.png" /></a><div class="message"><div class="username">andrevpuc</div><a style="text-decoration: none" href="#1656947178.136329" ><div class="time">2022-07-04 15:06</div></a><div class="msg">Hello there,

I am totally new to Pact (and contract testing) but I am trying to implement a POC using Pact to make contract tests using the protobuf plugin. I already managed to right tests on the consumer side using the example <a href="https://github.com/pact-foundation/pact-plugins/blob/main/examples/gRPC/area_calculator/consumer-jvm/src/test/java/io/pact/example/grpc/consumer/PactConsumerTest.java">https://github.com/pact-foundation/pact-plugins/blob/main/examples/gRPC/area_calculator/consumer-jvm/src/test/java/io/pact/example/grpc/consumer/PactConsumerTest.java</a> as a guide. I am now trying to figure out how to make the tests on the provider side, but without much success so far. I have a few questions about it:

- I am trying to run the tests as a gradle task, in a similar way to what is done <a href="https://github.com/uglyog/pact-maven-amqp-test/tree/master/provider/src/test/java/com/github/uglyog/mavenamqp">https://github.com/uglyog/pact-maven-amqp-test/tree/master/provider/src/test/java/com/github/uglyog/mavenamqp</a> (I am, of course, using the V4 pact spec, not the one used in that example), without a mock server or anything. All I am doing is annotating a method with `@PactVerifyProvider` which then returns an instance of the protobuf message that I want to test against the one in the pact (generated by the consumer). Is that possible or even a correct approach?
- My provider sets the target to a MessageTestTarget like so

```@BeforeEach
  void before(PactVerificationContext context) {
    context.setTarget(new MessageTestTarget());
}```
Is that the right way to do it? Or should I used the PluginTestTarget instead? When I tried to use it, I got an exception about not providing a transport (which, as far as I could understand, can only be gRPC, which I am not using).</div></div></div><br/>
<div><a id="1657206147.251829"><img src="https://avatars.slack-edge.com/2022-06-29/3736828463538_cd72339c1cc7ca320749_72.png" /></a><div class="message"><div class="username">andrevpuc</div><a style="text-decoration: none" href="#1657206147.251829" ><div class="time">2022-07-07 15:02</div></a><div class="msg">Sorry for bumping this :point_up: but I cannot find an example in Java that explains how a test on the provider side, using the protobuf plugin, is used.</div></div></div><br/>
<div><a id="1657241214.071969"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1657241214.071969" ><div class="time">2022-07-08 00:46</div></a><div class="msg">Have a look at <a href="https://github.com/pact-foundation/pact-plugins/blob/main/examples/gRPC/area_calculator/provider-jvm/server/src/test/java/io/pact/example/grpc/provider/PactVerificationTest.java#L46">https://github.com/pact-foundation/pact-plugins/blob/main/examples/gRPC/area_calculator/provider-jvm/server/src/test/java/io/pact/example/grpc/provider/PactVerificationTest.java#L46</a></div></div></div><br/>
<div><a id="1657265080.422059"><img src="https://avatars.slack-edge.com/2022-06-29/3736828463538_cd72339c1cc7ca320749_72.png" /></a><div class="message"><div class="username">andrevpuc</div><a style="text-decoration: none" href="#1657265080.422059" ><div class="time">2022-07-08 07:24</div></a><div class="msg">Thanks for the reply @uglyog. I am going to give it a try, but does it mean that I must use gRPC in order to use the protobuf plugin? In my POC I am trying to use an asynchronous message without gRPC. Is it possible?</div></div></div><br/>
<div><a id="1657272650.859129"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1657272650.859129" ><div class="time">2022-07-08 09:30</div></a><div class="msg">No, you can use normal message interactions with protobuf</div></div></div><br/>
<div><a id="1657272750.385709"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1657272750.385709" ><div class="time">2022-07-08 09:32</div></a><div class="msg">Make sure you set the content type to `application/protobuf`</div></div></div><br/>
<div><a id="1657992699.872509"><img src="https://secure.gravatar.com/avatar/05b9ed79be943bffe92b41b2181e0740.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" /></a><div class="message"><div class="username">mahidasp</div><a style="text-decoration: none" href="#1657992699.872509" ><div class="time">2022-07-16 17:31</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1658319358.311899"><img src="https://avatars.slack-edge.com/2021-10-25/2648384271700_5cc74b77a72e2c59f37c_72.jpg" /></a><div class="message"><div class="username">gravis54</div><a style="text-decoration: none" href="#1658319358.311899" ><div class="time">2022-07-20 12:15</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1658319800.694749"><img src="https://avatars.slack-edge.com/2022-07-19/3823118683011_93a399468de98f83dddf_72.png" /></a><div class="message"><div class="username">jkaur</div><a style="text-decoration: none" href="#1658319800.694749" ><div class="time">2022-07-20 12:23</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1658319836.780599"><img src="https://avatars.slack-edge.com/2022-07-19/3823118683011_93a399468de98f83dddf_72.png" /></a><div class="message"><div class="username">jkaur</div><a style="text-decoration: none" href="#1658319836.780599" ><div class="time">2022-07-20 12:23</div></a><div class="msg">Cross Posting
<a href="https://pact-foundation.slack.com/archives/C5F4KFKR8/p1658299715045689">https://pact-foundation.slack.com/archives/C5F4KFKR8/p1658299715045689</a>

Do we have some good documentation around using Pact for writing contract tests for gRPC services ? Wondering if there are explained examples , before I try out things myself</div></div></div><br/>
<div><a id="1658320491.609529"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1658320491.609529" ><div class="time">2022-07-20 12:34</div></a><div class="msg">Hey,

See <a href="https://pact-foundation.slack.com/archives/CEQBDD5U4/p1652055827960579">https://pact-foundation.slack.com/archives/CEQBDD5U4/p1652055827960579</a> for current details and links to the relevant docs/examples</div></div></div><br/>
<div><a id="1658351327.440809"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1658351327.440809" ><div class="time">2022-07-20 21:08</div></a><div class="msg">What language support do you need? Pact JVM and Go have support as of today</div></div></div><br/>
<div><a id="1658381510.730779"><img src="https://avatars.slack-edge.com/2022-07-19/3814555566502_9ada24519d8ab589b150_72.png" /></a><div class="message"><div class="username">tarun.gulati1988</div><a style="text-decoration: none" href="#1658381510.730779" ><div class="time">2022-07-21 05:31</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1658384011.066069"><img src="https://avatars.slack-edge.com/2022-07-19/3823118683011_93a399468de98f83dddf_72.png" /></a><div class="message"><div class="username">jkaur</div><a style="text-decoration: none" href="#1658384011.066069" ><div class="time">2022-07-21 06:13</div></a><div class="msg">Pact-Go is what I am looking for , I am glad that the support exists :slightly_smiling_face:
I see that the current support is kind of a tech preview , when do we plan to take this GA</div></div></div><br/>
<div><a id="1658390417.549649"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1658390417.549649" ><div class="time">2022-07-21 08:00</div></a><div class="msg">It?s pretty close to GA. Mostly I?m actively seeking user feedback on the API from real world usage. So it?s a bit of a chicken-and-egg situation. I don?t expect the API to change significantly, but there might be a few name changes to cleanup</div></div></div><br/>
<div><a id="1658390455.585459"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1658390455.585459" ><div class="time">2022-07-21 08:00</div></a><div class="msg">Also, I think the verifier will unify into a single one - currently we have different ones for HTTP, Message and Plugins - but in V4 you can have multiple - so it makes sense to combine into a single one.

But that can potentially be managed in other ways</div></div></div><br/>
<div><a id="1658393720.916449"><img src="https://avatars.slack-edge.com/2022-07-19/3823118683011_93a399468de98f83dddf_72.png" /></a><div class="message"><div class="username">jkaur</div><a style="text-decoration: none" href="#1658393720.916449" ><div class="time">2022-07-21 08:55</div></a><div class="msg">Sure , thanks @matt.fellows for the insights.
I am still trying to convince myself if we really need contract tests for grpc interactions . I did go through this nice article  <a href="https://pactflow.io/blog/the-case-for-contract-testing-protobufs-grpc-avro/">https://pactflow.io/blog/the-case-for-contract-testing-protobufs-grpc-avro/</a>
Hence looking forward to atleast give this a try , it will be hard time convincing dev if I am not convinced myself</div></div></div><br/>
<div><a id="1659036685.473629"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1659036685.473629" ><div class="time">2022-07-28 19:31</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1659549373.151289"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659549373.151289" ><div class="time">2022-08-03 17:56</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1659549429.363489"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659549429.363489" ><div class="time">2022-08-03 17:57</div></a><div class="msg">How to run pact-go@v.2.x.x with plugin in a container</div></div></div><br/>
<div><a id="1659549441.213449"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659549441.213449" ><div class="time">2022-08-03 17:57</div></a><div class="msg">the plugins asks for bunch of files.</div></div></div><br/>
<div><a id="1659556386.901939"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1659556386.901939" ><div class="time">2022-08-03 19:53</div></a><div class="msg">Posting for others benefits :-

This was cross-posted in pact-go

<a href="https://pact-foundation.slack.com/archives/C9UTHTFFB/p1659556214160889?thread_ts=1659548848.877339&amp;cid=C9UTHTFFB">https://pact-foundation.slack.com/archives/C9UTHTFFB/p1659556214160889?thread_ts=1659548848.877339&amp;cid=C9UTHTFFB</a>

TL;DR - Alpine containers are not supported for language implementations using the Rust Core. :slightly_smiling_face:</div></div></div><br/>
<div><a id="1659604246.501649"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659604246.501649" ><div class="time">2022-08-04 09:10</div></a><div class="msg">Is there a way to resolve imports in proto. When I define grpcInteraction a put a path to protofile with service. When this protofile imports another file the test fails.</div></div></div><br/>
<div><a id="1659604305.236919"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659604305.236919" ><div class="time">2022-08-04 09:11</div></a><div class="msg">However, if I remove all imports from the service protofile. The test passes. It looks like the protoc binary does not have acces to the imports defined inside the service protofile.</div></div></div><br/>
<div><a id="1659604780.166449"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659604780.166449" ><div class="time">2022-08-04 09:19</div></a><div class="msg">My try to put multiple protofiles paths into interaction. path1 - service file, path2 - message definitions.</div></div></div><br/>
<div><a id="1659609223.774249"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659609223.774249" ><div class="time">2022-08-04 10:33</div></a><div class="msg">Maybe with `pact-plugin.json`? Can I define a paths where `protoc`  will find imports?</div></div></div><br/>
<div><a id="1659620077.097809"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1659620077.097809" ><div class="time">2022-08-04 13:34</div></a><div class="msg">at the moment I believe the full inclined proto must be provided. Is that right @uglyog?</div></div></div><br/>
<div><a id="1659620188.309419"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1659620188.309419" ><div class="time">2022-08-04 13:36</div></a><div class="msg">It looks like you're running in docker on alpine. We don't support Alpine, or at least it's likely to be fraught with incompatibilities. I'd suggest using debian/Ubuntu</div></div></div><br/>
<div><a id="1659621411.887819"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659621411.887819" ><div class="time">2022-08-04 13:56</div></a><div class="msg">I see that it includes a parent_dir I can copy the imports there but don't know where it is.</div></div></div><br/>
<div><a id="1659624961.364149"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659624961.364149" ><div class="time">2022-08-04 14:56</div></a><div class="msg">if the import path is
```import "<a href="http://gitlab.com/elon/musk/hela/module/secure/pb/definition_modulerule.proto">http://gitlab.com/elon/musk/hela/module/secure/pb/definition_modulerule.proto</a>";```
what will be parent_dir?</div></div></div><br/>
<div><a id="1659638514.216719"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659638514.216719" ><div class="time">2022-08-04 18:41</div></a><div class="msg">Ok, I succeeded. If any1 have similar problem, ping me. Basically you have to copy all the imported proto files into `~/.pact/plugins/protobuf-0.1.8/protoc`  or into directory where the service.proto is (
```"pact:proto": "` + service.proto + `", ```
Remeber when the import look like this
```import "<a href="http://gitlab.com/group/project/definitions.proto">http://gitlab.com/group/project/definitions.proto</a>";```
then you have to copy it under
`~/.pact/plugins/protobuf-0.1.8/protoc/gitlab.com/group/project/definitions.proto`  or
`./gitlab.com/group/project/definitions.proto`</div></div></div><br/>
<div><a id="1659711745.807919"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659711745.807919" ><div class="time">2022-08-05 15:02</div></a><div class="msg">Do you know what can be the cause of this error? It is inside a docker.</div></div></div><br/>
<div><a id="1659711810.513899"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659711810.513899" ><div class="time">2022-08-05 15:03</div></a><div class="msg">It looks like it cannot spawn a child process? protoc compiler is not downloaded to ~/.pact/plugins/protobuf-0.1.8 so I copied it from my local machine
```root@e3116ee8672e:~/.pact/plugins/protobuf-0.1.8# ls -la
total 29040
drwxr-xr-x 1 root root     4096 Aug  5 15:12 .
drwxr-xr-x 1 root root     4096 Aug  5 14:11 ..
drwxr-xr-x 2 root root     4096 Aug  5 14:14 log
-rw-r--r-- 1 root root      309 Jul 15 14:13 pact-plugin.json
-rwxr-xr-x 1 root root 28004704 Jul 15 14:13 pact-protobuf-plugin
drwxr-xr-x 4 root root     4096 Aug  5 15:12 protoc
-rw-r--r-- 1 root root  1699854 Aug  5 15:12 protoc-3.19.1-linux-x86_64.zip
root@e3116ee8672e:~/.pact/plugins/protobuf-0.1.8# ^C
root@e3116ee8672e:~/.pact/plugins/protobuf-0.1.8# ```</div></div></div><br/>
<div><a id="1659712525.395799"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659712525.395799" ><div class="time">2022-08-05 15:15</div></a><div class="msg">But the plugin still cannot spawn child process.</div></div></div><br/>
<div><a id="1659722280.880439"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1659722280.880439" ><div class="time">2022-08-05 17:58</div></a><div class="msg">@ssomepalli fyi</div></div></div><br/>
<div><a id="1659918913.625219"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1659918913.625219" ><div class="time">2022-08-08 00:35</div></a><div class="msg">Ok, that is surprising, but then it is just shelling out to protoc, so I guess that is how that behaves.</div></div></div><br/>
<div><a id="1659918971.634069"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1659918971.634069" ><div class="time">2022-08-08 00:36</div></a><div class="msg">Can you raise a GitHub issue for this? It would be a good option to add.</div></div></div><br/>
<div><a id="1659919074.091409"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1659919074.091409" ><div class="time">2022-08-08 00:37</div></a><div class="msg">That looks like the test can't start the plugin. Can you try start the same docker container and try run `pact-protobuf-plugin`</div></div></div><br/>
<div><a id="1659921499.639869"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1659921499.639869" ><div class="time">2022-08-08 01:18</div></a><div class="msg">Should we document this somewhere Ron?</div></div></div><br/>
<div><a id="1659921506.560659"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1659921506.560659" ><div class="time">2022-08-08 01:18</div></a><div class="msg">maybe a troubleshooting/FAQ or something?</div></div></div><br/>
<div><a id="1659921729.674109"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1659921729.674109" ><div class="time">2022-08-08 01:22</div></a><div class="msg">Ideally, it should behave without people needing to know that protoc is being used</div></div></div><br/>
<div><a id="1659922460.459609"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1659922460.459609" ><div class="time">2022-08-08 01:34</div></a><div class="msg">I more meant documenting the behaviour Robert mentioned above.</div></div></div><br/>
<div><a id="1659944574.151879"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1659944574.151879" ><div class="time">2022-08-08 07:42</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1659948122.727189"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659948122.727189" ><div class="time">2022-08-08 08:42</div></a><div class="msg">Ideally it would be great if we could just provide a custom import path config file : `/home/robert/.pact/plugins/protobuf-0.1.8/pact_plugin.json`
Something like that:
```{
  "pluginInterfaceVersion": 1,
  "name": "protobuf",
  "version": "0.1.8",
  "executableType": "exec",
  "minimumRequiredVersion": null,
  "entryPoint": "pact-protobuf-plugin",
  "entryPoints": {},
  "dependencies": null,
  "pluginConfig": {
    "protocVersion": "3.19.1",
    "downloadUrl": "<a href="https://github.com/protocolbuffers/protobuf/releases/download">https://github.com/protocolbuffers/protobuf/releases/download</a>",
    "imports": [
      "/home/robert/go/src"
    ]
  }
}```
Then the protoc binary would execute with
```protoc -I /home/robert/go/src ... service.proto```
That would simplify a lot the process cause right now I have to copy all the imports in this one path where service.proto is.
@uglyog</div></div></div><br/>
<div><a id="1659948370.959989"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1659948370.959989" ><div class="time">2022-08-08 08:46</div></a><div class="msg">Hello All,
I am trying to write tests for Grpc api's (Java, Maven) using pact protobuf plugin. I installed plugin and trying to write tests using the example and I am getting this error while using Mockserver annotation.

`java.lang.NoSuchFieldError: TRANSPORT`
any help please?</div></div></div><br/>
<div><a id="1659949718.711829"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659949718.711829" ><div class="time">2022-08-08 09:08</div></a><div class="msg">I'm sorry but there was no problem. I just forgot to add
```"hostToBindTo": "127.0.0.1"```
So the `protoc` binary could not be invoked inside docker.
But the import parts still holds true.</div></div></div><br/>
<div><a id="1659949766.236989"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1659949766.236989" ><div class="time">2022-08-08 09:09</div></a><div class="msg">I forgot to add
```"hostToBindTo": "127.0.0.1"```
into 'pact-plugin.json`
{
  "manifestVersion": 1,
  "pluginInterfaceVersion": 1,
  "name": "protobuf",
  "version": "0.1.8",
  "executableType": "exec",
  "entryPoint": "pact-protobuf-plugin",
  "pluginConfig": {
    "protocVersion": "3.19.1",
    "downloadUrl": "<a href="https://github.com/protocolbuffers/protobuf/releases/download">https://github.com/protocolbuffers/protobuf/releases/download</a>",
    "hostToBindTo": "127.0.0.1"
  }
}</div></div></div><br/>
<div><a id="1659955432.989779"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1659955432.989779" ><div class="time">2022-08-08 10:43</div></a><div class="msg">```import au.com.dius.pact.consumer.MockServer;
import au.com.dius.pact.consumer.dsl.PactBuilder;
import au.com.dius.pact.consumer.junit.MockServerConfig;
import au.com.dius.pact.consumer.junit5.PactConsumerTestExt;
import au.com.dius.pact.consumer.junit5.PactTestFor;
import au.com.dius.pact.consumer.junit5.ProviderType;
import au.com.dius.pact.consumer.model.MockServerImplementation;
import au.com.dius.pact.core.model.PactSpecVersion;
import au.com.dius.pact.core.model.V4Interaction;
import au.com.dius.pact.core.model.V4Pact;
import au.com.dius.pact.core.model.annotations.Pact;
import com.atoss.template.servicetemplate.adapter.handler.grpc.employee.v1.EmployeeServiceGrpc;
import com.atoss.template.servicetemplate.adapter.handler.grpc.employee.v1.Message;
import com.atoss.template.servicetemplate.adapter.handler.grpc.employee.v1.MessageRequest;
import com.google.protobuf.InvalidProtocolBufferException;
import io.grpc.ManagedChannel;
import io.grpc.ManagedChannelBuilder;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;

import java.util.List;
import java.util.Map;

import static org.hamcrest.MatcherAssert.assertThat;
import static <a href="http://org.hamcrest.Matchers.is">http://org.hamcrest.Matchers.is</a>;

@ExtendWith(PactConsumerTestExt.class)
@PactTestFor(providerName = "adapter-handler-grpc", providerType = ProviderType.SYNCH_MESSAGE, pactVersion = PactSpecVersion.V4)
public class PactConsumerTest {

    @Pact(consumer = "adapter-client-grpc")
    V4Pact testMsg(PactBuilder builder) {
        return builder
                // Tell Pact we need the Protobuf plugin
                .usingPlugin("protobuf", "0.1.8")
                // We will use a V4 synchronous message interaction for the test
                .expectsToReceive("message", "core/interaction/synchronous-message")
                // We need to pass all the details for the interaction over to the plugin
                .with(Map.of(
                        // Configure the proto file, the content type and the service we expect to invoke
                        "pact:proto", builder.filePath("../adapter-handler-grpc-proto/src/main/resources/proto/EmployeeService.proto"),
                        "pact:content-type", "application/grpc",
                        "pact:proto-service", "EmployeeService/getEmployee",

                        // Details on the request message (ShapeMessage) we will send
                        "request", Map.of("id", 1),

                        // Details on the response message we expect to get back (AreaResponse)
                        "response", List.of(
                                Map.of(
                                        "msg", "Hello Grpc"
                                )
                        )
                ))
                .toPact();
    }

    @Test
    @PactTestFor(pactMethod = "testMsg")
    @MockServerConfig(implementation = MockServerImplementation.Plugin, registryEntry = "protobuf/transport/grpc")
    void readMessage(MockServer mockServer, V4Interaction.SynchronousMessages interaction) throws InvalidProtocolBufferException {
        ManagedChannel channel = ManagedChannelBuilder.forTarget("[::1]:" + mockServer.getPort())
                .usePlaintext()
                .build();
        EmployeeServiceGrpc.EmployeeServiceBlockingStub clientStub = EmployeeServiceGrpc
                .newBlockingStub(channel);

        Message response = clientStub.getMessage(MessageRequest.newBuilder().setId(1).build());
        System.out.println("after response");
        assertThat(response.getMsg(), is("{\"msg\":\"Hello Grpc\"}"));
    }

}```</div></div></div><br/>
<div><a id="1659955484.124549"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1659955484.124549" ><div class="time">2022-08-08 10:44</div></a><div class="msg">This is the provider consumer test I that is causing issue</div></div></div><br/>
<div><a id="1659980311.588749"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1659980311.588749" ><div class="time">2022-08-08 17:38</div></a><div class="msg">Hi, Copied the protofiles into directory where the service.proto is (
```"pact:proto": "` + service.proto + `", ```
But, faced the below error</div></div></div><br/>
<div><a id="1660001148.450939"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660001148.450939" ><div class="time">2022-08-08 23:25</div></a><div class="msg">Ah! I've set that as the default now</div></div></div><br/>
<div><a id="1660017684.873819"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660017684.873819" ><div class="time">2022-08-09 04:01</div></a><div class="msg">Can you provide debug logs?</div></div></div><br/>
<div><a id="1660028937.510879"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660028937.510879" ><div class="time">2022-08-09 07:08</div></a><div class="msg">`Pact file does not contain any Protobuf descriptors` can you check the generated Pact file. That means there are no descriptors stored in the file.</div></div></div><br/>
<div><a id="1660029064.570509"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660029064.570509" ><div class="time">2022-08-09 07:11</div></a><div class="msg">I have just released 0.1.10 which allows additional imports. See <a href="https://github.com/pactflow/pact-protobuf-plugin#additionalincludes-string-or-liststring">https://github.com/pactflow/pact-protobuf-plugin#additionalincludes-string-or-liststring</a></div></div></div><br/>
<div><a id="1660029495.665479"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660029495.665479" ><div class="time">2022-08-09 07:18</div></a><div class="msg">Hello sure,

`[INFO] Running com.atoss.template.servicetemplate.adapter.client.grpc.employee.pact.PactConsumerTest`
09:15:46.174 [main] DEBUG <a href="http://au.com">http://au.com</a>.dius.pact.consumer.junit5.PactConsumerTestExt - Found @PactTestFor annotation on test method void com.atoss.template.servicetemplate.adapter.client.grpc.employee.pact.PactConsumerTest.readMessage() throws com.google.protobuf.InvalidProtocolBufferException
09:15:46.175 [main] DEBUG <a href="http://au.com">http://au.com</a>.dius.pact.consumer.junit5.PactConsumerTestExt - Found @PactTestFor annotation on test class com.atoss.template.servicetemplate.adapter.client.grpc.employee.pact.PactConsumerTest
09:15:46.324 [main] DEBUG <a href="http://au.com">http://au.com</a>.dius.pact.consumer.junit5.PactConsumerTestExt - providerInfo = ProviderInfo(providerName=adapter-handler-grpc, hostInterface=, port=, pactVersion=V4, providerType=SYNCH_MESSAGE, https=false, mockServerImplementation=Default, keyStorePath=, keyStoreAlias=, keyStorePassword=, privateKeyPassword=)
09:15:46.333 [main] DEBUG <a href="http://au.com">http://au.com</a>.dius.pact.consumer.junit5.PactConsumerTestExt - Looking for @Pact method named 'testMsg' for provider 'adapter-handler-grpc'
09:15:46.345 [main] DEBUG <a href="http://au.com">http://au.com</a>.dius.pact.consumer.junit5.PactConsumerTestExt - Invoking method 'testMsg' to get Pact for the test 'readMessage'
09:15:46.911 [Thread-1] WARN <a href="http://au.com">http://au.com</a>.dius.pact.core.support.Metrics -
            Please note: we are tracking events anonymously to gather important usage statistics like JVM version
            and operating system. To disable tracking, set the 'pact_do_not_track' system property or environment
            variable to 'true'.
09:15:46.949 [main] INFO <a href="http://au.com">http://au.com</a>.dius.pact.consumer.junit5.PactConsumerTestExt - Writing pacts out to default directory
[ERROR] Tests run: 2, Failures: 1, Errors: 1, Skipped: 0, Time elapsed: 0.801 s &lt;&lt;&lt; FAILURE! - in com.atoss.template.servicetemplate.adapter.client.grpc.employee.pact.PactConsumerTest
[ERROR] readMessage  Time elapsed: 0.772 s  &lt;&lt;&lt; ERROR!
java.lang.NoSuchFieldError: TRANSPORT
[ERROR] com.atoss.template.servicetemplate.adapter.client.grpc.employee.pact.PactConsumerTest  Time elapsed: 0.799 s  &lt;&lt;&lt; FAILURE!
java.lang.AssertionError:
The following methods annotated with @Pact were not executed during the test: PactConsumerTest.testMsg
If these are currently a work in progress, add a @Disabled annotation to the method
[INFO]
[INFO] Results:
[INFO]
[ERROR] Failures:
[ERROR]   PactConsumerTest The following methods annotated with @Pact were not executed during the test: PactConsumerTest.testMsg
If these are currently a work in progress, add a @Disabled annotation to the method
[ERROR] Errors:
[ERROR]   PactConsumerTest.readMessage  NoSuchField TRANSPORT
[INFO]
[ERROR] Tests run: 16, Failures: 1, Errors: 1, Skipped: 0
[INFO]</div></div></div><br/>
<div><a id="1660037993.101519"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660037993.101519" ><div class="time">2022-08-09 09:39</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1660038398.235479"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660038398.235479" ><div class="time">2022-08-09 09:46</div></a><div class="msg">Hello there :lightsaber:

I am trying to run the *grpc example* and my code fails here
```return builder
      .usingPlugin("protobuf", "0.1.10")```
with
```java.lang.NoSuchMethodError: 'java.lang.String au.com.dius.pact.core.support.Utils.lookupEnvironmentValue$default(au.com.dius.pact.core.support.Utils, java.lang.String, kotlin.jvm.functions.Function1, kotlin.jvm.functions.Function1, int, java.lang.Object)'
at io.pact.plugins.jvm.core.DefaultPluginManager.pluginInstallDirectory(PluginManager.kt:854)
	at io.pact.plugins.jvm.core.DefaultPluginManager.loadPluginManifest(PluginManager.kt:812)
	at io.pact.plugins.jvm.core.DefaultPluginManager.loadPlugin(PluginManager.kt:341)
	at au.com.dius.pact.consumer.dsl.PactBuilder.usingPlugin(PactBuilder.kt:96)
	at io.pact.example.grpc.consumer.PactConsumerTest.calculateRectangleArea(PactConsumerTest.java:45)```
I have the plugin binary and  in `/.pact/plugins/protobuf-0.1.10`  with both *pact-plugin.json* and *pact-protobuf-plugin*
I am not very good with java - its complaining it doesn't have the `default`  method for some reason?
```cat pact-plugin.json
{
  "manifestVersion": 1,
  "pluginInterfaceVersion": 1,
  "name": "protobuf",
  "version": "0.1.10",
  "executableType": "exec",
  "entryPoint": "pact-protobuf-plugin",
  "pluginConfig": {
    "protocVersion": "3.19.1",
    "downloadUrl": "<a href="https://github.com/protocolbuffers/protobuf/releases/download">https://github.com/protocolbuffers/protobuf/releases/download</a>",
    "hostToBindTo": "127.0.0.1"
  }
}```</div></div></div><br/>
<div><a id="1660067252.055649"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1660067252.055649" ><div class="time">2022-08-09 17:47</div></a><div class="msg">Hi Team,
I followed pact plugin example and tried to implement the consumer test case Chronos project.
Initially I faced the following issues.
1)Issue with wrapper types
-&gt;It is not able to load the google.protobuf.StringValue
  To fix this, I changed to ?string?.
2)Issue with import statements
-&gt;It is not able to import ?delivery/dispatch/common.proto?
  To fix this merged the whole common.proto file content into current Proto file(ad_break_api.proto)
With the above two fixes I am able execute the consumer test case properly.

Now, I am trying to execute the consumer test case without merging the common.proto file content
-&gt;To resolve the import statement (?delivery/dispatch/common.proto?). I copied all import files into Chronos project.
  Hi, Copied the protofiles into directory where the service.proto is (
"pact:proto": "` + service.proto + `",
But, faced the below error:</div></div></div><br/>
<div><a id="1660067956.516459"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1660067956.516459" ><div class="time">2022-08-09 17:59</div></a><div class="msg">I verified, It has not generated the pact file.</div></div></div><br/>
<div><a id="1660089011.965849"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660089011.965849" ><div class="time">2022-08-09 23:50</div></a><div class="msg">Can you check that you are using the same version for all the Pact-JVM libraries</div></div></div><br/>
<div><a id="1660089057.314369"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660089057.314369" ><div class="time">2022-08-09 23:50</div></a><div class="msg">Can you check you are using the same version of all the Pact-JVM libraries</div></div></div><br/>
<div><a id="1660089125.464989"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660089125.464989" ><div class="time">2022-08-09 23:52</div></a><div class="msg">The latest version of the gRPC plugin now allows you to configure additional import directories.</div></div></div><br/>
<div><a id="1660116799.510189"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660116799.510189" ><div class="time">2022-08-10 07:33</div></a><div class="msg">I am using below dependencies</div></div></div><br/>
<div><a id="1660116834.889829"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660116834.889829" ><div class="time">2022-08-10 07:33</div></a><div class="msg">```&lt;dependency&gt;
    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;
    &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;
    &lt;version&gt;3.21.4&lt;/version&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.pact.plugin.driver&lt;/groupId&gt;
    &lt;artifactId&gt;core&lt;/artifactId&gt;
    &lt;version&gt;0.0.7&lt;/version&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;
     &lt;artifactId&gt;junit5&lt;/artifactId&gt;
      &lt;version&gt;4.4.0-beta.3&lt;/version&gt;
 &lt;/dependency&gt;```
</div></div></div><br/>
<div><a id="1660116870.154539"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660116870.154539" ><div class="time">2022-08-10 07:34</div></a><div class="msg">Remove this one: io.pact.plugin.driver</div></div></div><br/>
<div><a id="1660116871.816799"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660116871.816799" ><div class="time">2022-08-10 07:34</div></a><div class="msg">and protobuf plugin 0.1.10 , do I need any other dependencies? Is there an example with maven java?</div></div></div><br/>
<div><a id="1660116967.264959"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660116967.264959" ><div class="time">2022-08-10 07:36</div></a><div class="msg">If I do not use io.pact.plugin.driver, I get the error</div></div></div><br/>
<div><a id="1660116987.175789"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660116987.175789" ><div class="time">2022-08-10 07:36</div></a><div class="msg">`[main] INFO <a href="http://au.com">http://au.com</a>.dius.pact.consumer.junit5.PactConsumerTestExt - Writing pacts out to default directory`
[ERROR] Tests run: 2, Failures: 1, Errors: 1, Skipped: 0, Time elapsed: 0.564 s &lt;&lt;&lt; FAILURE! - in com.atoss.template.servicetemplate.adapter.client.grpc.employee.pact.PactConsumerTest
[ERROR] readMessage{MockServer, SynchronousMessages}  Time elapsed: 0.541 s  &lt;&lt;&lt; ERROR!
java.lang.NoSuchMethodError: <a href="http://au.com">http://au.com</a>.dius.pact.core.support.Utils.lookupEnvironmentValue$default(Lau/com/dius/pact/core/support/Utils;Ljava/lang/String;Lkotlin/jvm/functions/Function1;Lkotlin/jvm/functions/Function1;ILjava/lang/Object;)Ljava/lang/String;
	at com.atoss.template.servicetemplate.adapter.client.grpc.employee.pact.PactConsumerTest.MessageTest(PactConsumerTest.java:36)
[ERROR] com.atoss.template.servicetemplate.adapter.client.grpc.employee.pact.PactConsumerTest  Time elapsed: 0.562 s  &lt;&lt;&lt; FAILURE!
java.lang.AssertionError:
The following methods annotated with @Pact were not executed during the test: PactConsumerTest.MessageTest
If these are currently a work in progress, add a @Disabled annotation to the method
09:35:24.510 [Thread-1] DEBUG io.pact.plugins.jvm.core.DefaultPluginManager - SHUTDOWN - shutting down all plugins
[INFO]
[INFO] Results:
[INFO]
[ERROR] Failures:
[ERROR]   PactConsumerTest The following methods annotated with @Pact were not executed during the test: PactConsumerTest.MessageTest
If these are currently a work in progress, add a @Disabled annotation to the method
[ERROR] Errors:
[ERROR]   PactConsumerTest.MessageTest:36  NoSuchMethod <a href="http://au.com">http://au.com</a>.dius.pact.core.support.U...
[INFO]
[ERROR] Tests run: 16, Failures: 1, Errors: 1, Skipped: 0
[INFO]</div></div></div><br/>
<div><a id="1660117138.507379"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660117138.507379" ><div class="time">2022-08-10 07:38</div></a><div class="msg">Then use the latest version, which is 0.1.3</div></div></div><br/>
<div><a id="1660117177.996089"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660117177.996089" ><div class="time">2022-08-10 07:39</div></a><div class="msg">There is something wrong with your dependencies, you shouldn't need to add that library, it should be automatically added from the Pact-JVM ones</div></div></div><br/>
<div><a id="1660117296.473059"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660117296.473059" ><div class="time">2022-08-10 07:41</div></a><div class="msg">0.1.3 for which dependency? I only have one Pact dependency consumer.
I am using latest from maven
```&lt;dependency&gt;
    &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;
    &lt;artifactId&gt;junit5&lt;/artifactId&gt;
    &lt;version&gt;4.4.0-beta.3&lt;/version&gt;
&lt;/dependency&gt;```
</div></div></div><br/>
<div><a id="1660117305.602439"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660117305.602439" ><div class="time">2022-08-10 07:41</div></a><div class="msg">is this not the latest one ?</div></div></div><br/>
<div><a id="1660117320.382499"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660117320.382499" ><div class="time">2022-08-10 07:42</div></a><div class="msg">For `io.pact.plugin.driver`</div></div></div><br/>
<div><a id="1660117516.820199"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660117516.820199" ><div class="time">2022-08-10 07:45</div></a><div class="msg">ok, I will try with this</div></div></div><br/>
<div><a id="1660119345.744759"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660119345.744759" ><div class="time">2022-08-10 08:15</div></a><div class="msg">Thank you ,It was solved after upgrading dependency, I have installed plugin as per readme in $Home/.pact/plugins/protobuf-0.1.10
but I am getting PluginNotFoundException , are there any additional steps required?</div></div></div><br/>
<div><a id="1660161880.708899"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660161880.708899" ><div class="time">2022-08-10 20:04</div></a><div class="msg">Hi Team,
I am trying protobuf plugin for Grpc tests with Java, maven.
I am getting this error while startup
 `ERROR <a href="http://au.com">http://au.com</a>.dius.pact.consumer.dsl.PactBuilder - Init call to plugin protobuf failed: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception`
`io.pact.plugins.jvm.core.DefaultPluginManager - Init call to plugin protobuf failed`</div></div></div><br/>
<div><a id="1660161914.731039"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660161914.731039" ><div class="time">2022-08-10 20:05</div></a><div class="msg">Full logs in the attached file</div></div></div><br/>
<div><a id="1660162969.590249"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660162969.590249" ><div class="time">2022-08-10 20:22</div></a><div class="msg">How do you define a  `google.protobuf.Timestamp` struct in grpcInteraction,  which is
```/ In JSON format, the Timestamp type is encoded as a string in the
// [RFC 3339](<a href="https://www.ietf.org/rfc/rfc3339.txt">https://www.ietf.org/rfc/rfc3339.txt</a>) format. That is, the
// format is "{year}-{month}-{day}T{hour}:{min}:{sec}[.{frac_sec}]Z"
// where {year} is always expressed using four digits while {month}, {day},
// {hour}, {min}, and {sec} are zero-padded to two digits each. The fractional
// seconds, which can go up to 9 digits (i.e. up to 1 nanosecond resolution),
// are optional. The "Z" suffix indicates the timezone ("UTC"); the timezone
// is required. A proto3 JSON serializer should always use UTC (as indicated by
// "Z") when printing the Timestamp type and a proto3 JSON parser should be
// able to accept both UTC and other timezones (as indicated by an offset).
//
// For example, "2017-01-15T01:30:15.01Z" encodes 15.01 seconds past
// 01:30 UTC on January 15, 2017.
//
// In JavaScript, one can convert a Date object to this format using the
// standard
// [toISOString()](<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString</a>)
// method. In Python, a standard `datetime.datetime` object can be converted
// to this format using
// [`strftime`](<a href="https://docs.python.org/2/library/time.html#time.strftime">https://docs.python.org/2/library/time.html#time.strftime</a>) with
// the time format spec '%Y-%m-%dT%H:%M:%S.%fZ'. Likewise, in Java, one can use
// the Joda Time's [`ISODateTimeFormat.dateTime()`](
// <a href="http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime%2D%2D">http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime%2D%2D</a>
// ) to obtain a formatter capable of generating timestamps in this format.
//
//
message Timestamp {
  // Represents seconds of UTC time since Unix epoch
  // 1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
  // 9999-12-31T23:59:59Z inclusive.
  int64 seconds = 1;

  // Non-negative fractions of a second at nanosecond resolution. Negative
  // second values with fractions must still have non-negative nanos values
  // that count forward in time. Must be from 0 to 999,999,999
  // inclusive.
  int32 nanos = 2;
}```
This approach does not work
```grpcInteraction := `{
		"pact:proto": "` + path1 + `",
		"pact:proto-service": "Service/Method",
		"pact:content-type": "application/protobuf",
		"request": {
		"id": "matching(type, '00000000-0000-0000-0000-000000000001')"
		},
		"response": {
			"id": "matching(type, '00000000-0000-0000-0000-000000000001')",
			"card_manufacture_last_send" : {
				"seconds":"matching(number, 1)",
				"nanos":"matching(number, 1)"
			}
		}
	}````
This too, does not work

```grpcInteraction := `{
		"pact:proto": "` + path1 + `",
		"pact:proto-service": "Service/Method",
		"pact:content-type": "application/protobuf",
		"request": {
		"id": "matching(type, '00000000-0000-0000-0000-000000000001')"
		},
		"response": {
			"id": "matching(type, '00000000-0000-0000-0000-000000000001')",
			"card_manufacture_last_send": "matching(type,'2022-08-10T20:25:04.835478326Z')"
		}
	}````
The rest of nested fields work.</div></div></div><br/>
<div><a id="1660165858.638689"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660165858.638689" ><div class="time">2022-08-10 21:10</div></a><div class="msg">message is defined like that:
```message GetCardConfigManufacturerResponse {
  string id = 1;
  google.protobuf.Timestamp card_manufacture_last_send = 2;
}```</div></div></div><br/>
<div><a id="1660203662.151309"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660203662.151309" ><div class="time">2022-08-11 07:41</div></a><div class="msg">@uglyog Could you please help ?</div></div></div><br/>
<div><a id="1660204364.944619"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660204364.944619" ><div class="time">2022-08-11 07:52</div></a><div class="msg">Timestamp is just a message, there is nothing special about it. What doesn't work?</div></div></div><br/>
<div><a id="1660204452.529439"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660204452.529439" ><div class="time">2022-08-11 07:54</div></a><div class="msg">It' very hard to tell cause I don't get any error feedback. The test just fails. It goes throught buy the response is empty.</div></div></div><br/>
<div><a id="1660204496.721539"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660204496.721539" ><div class="time">2022-08-11 07:54</div></a><div class="msg">Without this field. Field is ommited in grpcIinteraction.</div></div></div><br/>
<div><a id="1660204602.055209"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660204602.055209" ><div class="time">2022-08-11 07:56</div></a><div class="msg">When I add it</div></div></div><br/>
<div><a id="1660204621.860689"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660204621.860689" ><div class="time">2022-08-11 07:57</div></a><div class="msg">The resp is empty</div></div></div><br/>
<div><a id="1660204729.094769"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660204729.094769" ><div class="time">2022-08-11 07:58</div></a><div class="msg">Maybe try a number bigger than 1. Current epoc timestamp is 1660204683. Also, set the nanos to 0, you don't need that precision.</div></div></div><br/>
<div><a id="1660204818.297689"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660204818.297689" ><div class="time">2022-08-11 08:00</div></a><div class="msg">Where are you seeing this error? From your test code?</div></div></div><br/>
<div><a id="1660204926.943569"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660204926.943569" ><div class="time">2022-08-11 08:02</div></a><div class="msg">Same error with :confused:</div></div></div><br/>
<div><a id="1660205051.925379"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660205051.925379" ><div class="time">2022-08-11 08:04</div></a><div class="msg">When I start tests, yes. It says plugin started and then this error</div></div></div><br/>
<div><a id="1660205056.753479"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660205056.753479" ><div class="time">2022-08-11 08:04</div></a><div class="msg">Look how the pact differs:
Fail:</div></div></div><br/>
<div><a id="1660205071.739979"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660205071.739979" ><div class="time">2022-08-11 08:04</div></a><div class="msg">Pass:</div></div></div><br/>
<div><a id="1660205117.901689"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660205117.901689" ><div class="time">2022-08-11 08:05</div></a><div class="msg">@uglyog Full logs is here</div></div></div><br/>
<div><a id="1660205128.697009"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205128.697009" ><div class="time">2022-08-11 08:05</div></a><div class="msg">The call to the plugin is not working, it  is getting connection refused</div></div></div><br/>
<div><a id="1660205154.187829"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205154.187829" ><div class="time">2022-08-11 08:05</div></a><div class="msg">How are you running the tests? Inside a docker container?</div></div></div><br/>
<div><a id="1660205157.455299"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660205157.455299" ><div class="time">2022-08-11 08:05</div></a><div class="msg">what could the problem</div></div></div><br/>
<div><a id="1660205271.587729"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205271.587729" ><div class="time">2022-08-11 08:07</div></a><div class="msg">```Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /[0:0:0:0:0:0:0:1]:50052
Caused by: java.net.ConnectException: Connection refused```</div></div></div><br/>
<div><a id="1660205290.888449"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205290.888449" ><div class="time">2022-08-11 08:08</div></a><div class="msg">:point_up: That is in your logs.</div></div></div><br/>
<div><a id="1660205295.914099"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660205295.914099" ><div class="time">2022-08-11 08:08</div></a><div class="msg">Can you point where in pact-protobuf-plugin source code should I set log print so I can debugg it. Some functions?</div></div></div><br/>
<div><a id="1660205307.988009"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205307.988009" ><div class="time">2022-08-11 08:08</div></a><div class="msg">For some reason, the Pact framework can't talk to the plugin.</div></div></div><br/>
<div><a id="1660205329.136049"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205329.136049" ><div class="time">2022-08-11 08:08</div></a><div class="msg">Do you have any type of firewall software running?</div></div></div><br/>
<div><a id="1660205419.148209"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660205419.148209" ><div class="time">2022-08-11 08:10</div></a><div class="msg">I am running using maven install and It runs tests as well. It is from local ide not from container</div></div></div><br/>
<div><a id="1660205577.262499"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205577.262499" ><div class="time">2022-08-11 08:12</div></a><div class="msg">This would probably be the functions: <a href="https://github.com/pactflow/pact-protobuf-plugin/blob/main/src/message_builder.rs#L119">https://github.com/pactflow/pact-protobuf-plugin/blob/main/src/message_builder.rs#L119</a></div></div></div><br/>
<div><a id="1660205593.061669"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205593.061669" ><div class="time">2022-08-11 08:13</div></a><div class="msg">You can also enable trace logs.</div></div></div><br/>
<div><a id="1660205612.417659"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205612.417659" ><div class="time">2022-08-11 08:13</div></a><div class="msg">They will be very verbose, but will have lots of info</div></div></div><br/>
<div><a id="1660205639.673119"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660205639.673119" ><div class="time">2022-08-11 08:13</div></a><div class="msg">This?</div></div></div><br/>
<div><a id="1660205656.862509"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660205656.862509" ><div class="time">2022-08-11 08:14</div></a><div class="msg">I have this set but see no difference in test output.</div></div></div><br/>
<div><a id="1660205690.661809"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205690.661809" ><div class="time">2022-08-11 08:14</div></a><div class="msg">It will log to a file in the plugin directory</div></div></div><br/>
<div><a id="1660205702.396029"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205702.396029" ><div class="time">2022-08-11 08:15</div></a><div class="msg">as well as to the test output</div></div></div><br/>
<div><a id="1660205720.798329"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205720.798329" ><div class="time">2022-08-11 08:15</div></a><div class="msg">Maybe the log level is not being set properly</div></div></div><br/>
<div><a id="1660205729.858569"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660205729.858569" ><div class="time">2022-08-11 08:15</div></a><div class="msg">Test still logs ojlt DEBUG</div></div></div><br/>
<div><a id="1660205746.157359"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205746.157359" ><div class="time">2022-08-11 08:15</div></a><div class="msg">Something is blocking the call to the plugin</div></div></div><br/>
<div><a id="1660205878.249179"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660205878.249179" ><div class="time">2022-08-11 08:17</div></a><div class="msg">I'll need to chat to @matt.fellows because the log level is not being passed through to the plugin</div></div></div><br/>
<div><a id="1660205992.668479"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660205992.668479" ><div class="time">2022-08-11 08:19</div></a><div class="msg">in logs the field exist</div></div></div><br/>
<div><a id="1660205993.942619"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1660205993.942619" ><div class="time">2022-08-11 08:19</div></a><div class="msg">Interesting. I thought the plugin logs went to a separate log file? How do I get them into the main one?</div></div></div><br/>
<div><a id="1660206296.738509"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660206296.738509" ><div class="time">2022-08-11 08:24</div></a><div class="msg">I installed the plugin as per read me, what could block the call ?</div></div></div><br/>
<div><a id="1660206842.776749"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660206842.776749" ><div class="time">2022-08-11 08:34</div></a><div class="msg">They go to both, but they are staying as DEBUG so the trace level is not being passed through</div></div></div><br/>
<div><a id="1660206917.483249"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660206917.483249" ><div class="time">2022-08-11 08:35</div></a><div class="msg">What mac are you using? Do you know what version of OSX it has?</div></div></div><br/>
<div><a id="1660207046.771269"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1660207046.771269" ><div class="time">2022-08-11 08:37</div></a><div class="msg">Ok cool. I think the issue is that setloglevel needs to panic if used like the above. As you know, the log level can't be changed after the runtime is established</div></div></div><br/>
<div><a id="1660207056.018379"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1660207056.018379" ><div class="time">2022-08-11 08:37</div></a><div class="msg">I have some ideas for that.</div></div></div><br/>
<div><a id="1660207127.653939"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1660207127.653939" ><div class="time">2022-08-11 08:38</div></a><div class="msg">When I'm back at my desk Robert I'll show you how to address that. I think it's just a matter of setting the log level before creating the NewSyncPact...</div></div></div><br/>
<div><a id="1660207164.093079"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660207164.093079" ><div class="time">2022-08-11 08:39</div></a><div class="msg">Firewall software, or you mac doesn't support IP6 addreses</div></div></div><br/>
<div><a id="1660207315.254989"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660207315.254989" ><div class="time">2022-08-11 08:41</div></a><div class="msg">NewSyncPact :confused: I've set it like in your example.
<a href="https://github.com/pact-foundation/pact-go/blob/feat/v3-type-system/examples/grpc/grpc_consumer_test.go">https://github.com/pact-foundation/pact-go/blob/feat/v3-type-system/examples/grpc/grpc_consumer_test.go</a></div></div></div><br/>
<div><a id="1660207370.214359"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660207370.214359" ><div class="time">2022-08-11 08:42</div></a><div class="msg">And thanks for your help guys.</div></div></div><br/>
<div><a id="1660208460.599649"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660208460.599649" ><div class="time">2022-08-11 09:01</div></a><div class="msg">how to make the plugin use IP4 ?</div></div></div><br/>
<div><a id="1660208832.204859"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660208832.204859" ><div class="time">2022-08-11 09:07</div></a><div class="msg">I checked and the mac I am using supports IP6</div></div></div><br/>
<div><a id="1660209941.769549"><img src="https://avatars.slack-edge.com/2022-08-08/3901841562470_c00cdad024b5da8a3841_72.jpg" /></a><div class="message"><div class="username">prapurna.manda3</div><a style="text-decoration: none" href="#1660209941.769549" ><div class="time">2022-08-11 09:25</div></a><div class="msg">I have MAcbook Pro with  macos monterey currently</div></div></div><br/>
<div><a id="1660228191.109989"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660228191.109989" ><div class="time">2022-08-11 14:29</div></a><div class="msg">*FYI*
by trial and error I checked that the example project
<a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/consumer-jvm">https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/consumer-jvm</a>

works only up until `pact-protobuf-plugin`  version *0.1.8*
*0.1.9 and 0.1.10* are failing to run</div></div></div><br/>
<div><a id="1660259188.152029"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660259188.152029" ><div class="time">2022-08-11 23:06</div></a><div class="msg">Ok, let me check that</div></div></div><br/>
<div><a id="1660259244.257029"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660259244.257029" ><div class="time">2022-08-11 23:07</div></a><div class="msg">I think I know what it is. See <a href="https://pact-foundation.slack.com/archives/CEQBDD5U4/p1660228191109989">https://pact-foundation.slack.com/archives/CEQBDD5U4/p1660228191109989</a></div></div></div><br/>
<div><a id="1660259334.641549"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660259334.641549" ><div class="time">2022-08-11 23:08</div></a><div class="msg">In the manifest file, there is a `"hostToBindTo"` field. Try change that from `"127.0.0.1"` to `"::1"`</div></div></div><br/>
<div><a id="1660260616.616799"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660260616.616799" ><div class="time">2022-08-11 23:30</div></a><div class="msg">Oh, we now default the plugin to IP4 addresses to be able to run from within docker containers. In the manifest file, there is a `"hostToBindTo"` field. Try change that from `"127.0.0.1"` to `"::1"`</div></div></div><br/>
<div><a id="1660284336.503919"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660284336.503919" ><div class="time">2022-08-12 06:05</div></a><div class="msg">there is a change in behaviour for sure, now it fails with
```08:03:26.959 [Test worker] ERROR a.c.d.pact.consumer.dsl.PactBuilder - Plugin process did not output the correct startup message in 10000 ms - got null```</div></div></div><br/>
<div><a id="1660284420.762529"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660284420.762529" ><div class="time">2022-08-12 06:07</div></a><div class="msg">with `127.0.0.1`
it fails with
```Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:58408 ```
I saw it in some other thread here as well</div></div></div><br/>
<div><a id="1660284442.312609"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660284442.312609" ><div class="time">2022-08-12 06:07</div></a><div class="msg">Ok, maybe just remove that field. I'm rolling out a fix to Pact-JVM now as well</div></div></div><br/>
<div><a id="1660284515.013499"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660284515.013499" ><div class="time">2022-08-12 06:08</div></a><div class="msg">yea that works :wink: thanks!</div></div></div><br/>
<div><a id="1660292670.137809"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660292670.137809" ><div class="time">2022-08-12 08:24</div></a><div class="msg">on plugin *0.1.10*
having
```"request", StringValue.of("aaa"),
"response", Map.of("id", "bbb")```
Maybe I am not calling it correct but
```interaction.getRequest().getContents().getValue()```
*is empty*
(with `Map.of("email", "aaa")` it works fine)</div></div></div><br/>
<div><a id="1660293786.695099"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660293786.695099" ><div class="time">2022-08-12 08:43</div></a><div class="msg">When I set it before NewSyncPact. and it switches between DEBUG and INFO. But TRACE has no impacto on logs in terminal.</div></div></div><br/>
<div><a id="1660294032.525669"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660294032.525669" ><div class="time">2022-08-12 08:47</div></a><div class="msg">```Map.of("email", StringValue.of("<mailto:a@a.com|a@a.com>"))```
also returns the MISSING body</div></div></div><br/>
<div><a id="1660294479.643809"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660294479.643809" ><div class="time">2022-08-12 08:54</div></a><div class="msg">Something is wrong with parsing a table in grpcInteraction. The provider test always passes.
Example grpcInteraction:
```"bulk_addresses": [
				{
					"id": "matching(type, '00000000-0000-0000-0000-000000000004')",
					"title": "matching(type, 'resTitle')",
					"first_name": "matching(type, 'resFirstName')",
					"middle_name": "matching(type, 'resMiddleName')",
					"address_line1": "matching(type, 'resAddressLie1')"
				}
]```
When a field is  set as `repeated`  in proto file, the changes in consumer grpcInteraction does not have a impact on provider test.  As soon as I remove the `[]` the test behaves as it should.</div></div></div><br/>
<div><a id="1660303417.538119"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1660303417.538119" ><div class="time">2022-08-12 11:23</div></a><div class="msg">:thinking_face:</div></div></div><br/>
<div><a id="1660526736.257909"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660526736.257909" ><div class="time">2022-08-15 01:25</div></a><div class="msg">Ok, will have a look and see if I can replicate the issue</div></div></div><br/>
<div><a id="1660531373.115229"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660531373.115229" ><div class="time">2022-08-15 02:42</div></a><div class="msg">How do you define a service that just has a string as the message? I get an error from protoc that it requires a message type.</div></div></div><br/>
<div><a id="1660531645.193469"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660531645.193469" ><div class="time">2022-08-15 02:47</div></a><div class="msg">What is your expectation on the provider side? That the provider is not returning any examples, and it should fail?</div></div></div><br/>
<div><a id="1660543921.116449"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660543921.116449" ><div class="time">2022-08-15 06:12</div></a><div class="msg">```syntax = "proto3";

import "google/protobuf/wrappers.proto";

package area_calculator;

option php_generic_services = true;
option go_package = "io.pact/area_calculator";

service Calculator {
  rpc getUserByEmail(UserEmail) returns (User) {}
  rpc getUserByEmailGoogle(google.protobuf.StringValue) returns (User) {}
  rpc getUserByEmailGoogleMessage(UserEmailGoogle) returns (User) {}
}

message UserEmailGoogle {
  google.protobuf.StringValue email = 1;
}

message UserEmail {
  string email = 1;
}

message User {
  string id = 1;
}```</div></div></div><br/>
<div><a id="1660543945.548509"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660543945.548509" ><div class="time">2022-08-15 06:12</div></a><div class="msg">at which point do you get error with such proto file?</div></div></div><br/>
<div><a id="1660544059.101879"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660544059.101879" ><div class="time">2022-08-15 06:14</div></a><div class="msg">Uh! You're using a `google.protobuf.StringValue`, ok I'll give that a go</div></div></div><br/>
<div><a id="1660544152.996489"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660544152.996489" ><div class="time">2022-08-15 06:15</div></a><div class="msg">ah right its not visible from the first example as its imported `StringValue.of`  is from `google.protobuf`
I am also planning to ask my devs why do they use it instead of `string`  today :thinking_face:</div></div></div><br/>
<div><a id="1660544206.302819"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660544206.302819" ><div class="time">2022-08-15 06:16</div></a><div class="msg">`string` won't work (that is what I tried), it has to be a message type and that is a primitive</div></div></div><br/>
<div><a id="1660550728.324439"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660550728.324439" ><div class="time">2022-08-15 08:05</div></a><div class="msg">I expect the provider to fail.
Let me explain further. When I deliberately make the provider response with a data that is not matching data in the grpcInteraction then the provider fails only when in grpcInteraction the repeated field is defined without the the square brackets. e.g.
```"bulk_addresses": 
				{
					"id": "matching(type, '00000000-0000-0000-0000-000000000004')",
					"title": "matching(type, 'resTitle')",
					"first_name": "matching(type, 'resFirstName')",
					"middle_name": "matching(type, 'resMiddleName')",
					"address_line1": "matching(type, 'resAddressLie1')"
				}```
But if  I add the brackets, no matter how is the provider response data defined the test always passes.</div></div></div><br/>
<div><a id="1660570023.862809"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660570023.862809" ><div class="time">2022-08-15 13:27</div></a><div class="msg">you probably already know, but just in case, this is how the `StringValue`  looks like
```message StringValue {
  // The string value.
  string value = 1;
}```</div></div></div><br/>
<div><a id="1660570270.273669"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660570270.273669" ><div class="time">2022-08-15 13:31</div></a><div class="msg">when trying to use
```import "google/api/annotations.proto";```
I am getting
`pact_protobuf_plugin::protoc: Protoc stderr: google/api/annotations.proto: File not found.`
The *annotations.proto* is in
``` consumer-jvm/build/extracted-include-protos/main/google/api/annotations.proto```
*on the other hand*
```import "google/protobuf/wrappers.proto";```
gets found at
```consumer-jvm/build/extracted-include-protos/main/google/protobuf/wrappers.proto```</div></div></div><br/>
<div><a id="1660611209.451609"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660611209.451609" ><div class="time">2022-08-16 00:53</div></a><div class="msg">The protoc bundle does not include those files. You can see what is there in `~/.pact/plugins/protobuf-0.1.10/protoc/include/`</div></div></div><br/>
<div><a id="1660611263.237939"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660611263.237939" ><div class="time">2022-08-16 00:54</div></a><div class="msg">If you have the files somewhere, you can configure an additional import directory for the plugin</div></div></div><br/>
<div><a id="1660611813.356009"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660611813.356009" ><div class="time">2022-08-16 01:03</div></a><div class="msg">Just an aside, wouldn't `google/api` be internal files? They are not art of the released bundle</div></div></div><br/>
<div><a id="1660634161.791209"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660634161.791209" ><div class="time">2022-08-16 07:16</div></a><div class="msg">Thanks, it works fine now :slightly_smiling_face: should have searched the slack channel better

The google/api are here <a href="https://github.com/googleapis/googleapis/blob/master/google/api/annotations.proto">https://github.com/googleapis/googleapis/blob/master/google/api/annotations.proto</a></div></div></div><br/>
<div><a id="1660646828.971569"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660646828.971569" ><div class="time">2022-08-16 10:47</div></a><div class="msg">is there a way to include *Authorization header in provider verification?*
I found example which is not using this plugin
```@TestTemplate
  @ExtendWith(PactVerificationInvocationContextProvider.class)
  void pactVerificationTestTemplate(PactVerificationContext context, HttpRequest request) {
    request.addHeader("Authorization", "Bearer ...");
    context.verifyInteraction();
  }```
Unfortunately it fails with
`No ParameterResolver registered for parameter [org.apache.http.HttpRequest arg1] in method [void io.pact.example.grpc.consumer.PactProviderTest.pactVerificationTestTemplate(<a href="http://au.com">http://au.com</a>.dius.pact.provider.junit5.PactVerificationContext,org.apache.http.HttpRequest)].`</div></div></div><br/>
<div><a id="1660673548.992819"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1660673548.992819" ><div class="time">2022-08-16 18:12</div></a><div class="msg">Hi, Can you please share me the link or documentation supporting this?</div></div></div><br/>
<div><a id="1660687495.605039"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660687495.605039" ><div class="time">2022-08-16 22:04</div></a><div class="msg"><a href="https://github.com/pactflow/pact-protobuf-plugin#additionalincludes-string-or-liststring">https://github.com/pactflow/pact-protobuf-plugin#additionalincludes-string-or-liststring</a></div></div></div><br/>
<div><a id="1660708569.429879"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660708569.429879" ><div class="time">2022-08-17 03:56</div></a><div class="msg">I've updated the plugin (version 0.1.11) which supports StringValue now. You can use a normal string in the setup for it. I.e.
```"request", "aaa",
"response", Map.of("id", "bbb")```</div></div></div><br/>
<div><a id="1660708644.553289"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660708644.553289" ><div class="time">2022-08-17 03:57</div></a><div class="msg">Can you try plugin version 0.1.11, I put a fix in for using arrays to configure repeated fields.</div></div></div><br/>
<div><a id="1660708745.278499"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660708745.278499" ><div class="time">2022-08-17 03:59</div></a><div class="msg">Because it's using the plugin, there is no HTTP request to inject into the test.</div></div></div><br/>
<div><a id="1660708777.063999"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660708777.063999" ><div class="time">2022-08-17 03:59</div></a><div class="msg">I'll need to investigate how to do this</div></div></div><br/>
<div><a id="1660716095.087889"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1660716095.087889" ><div class="time">2022-08-17 06:01</div></a><div class="msg">Thanks a lot :slightly_smiling_face: This is last step missing to be able to demo this plugin to our engineering here at Pure Storage :wink:</div></div></div><br/>
<div><a id="1660737123.262729"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660737123.262729" ><div class="time">2022-08-17 11:52</div></a><div class="msg">Still the same.
When I remove the brackets the test does return an error:</div></div></div><br/>
<div><a id="1660737285.268209"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660737285.268209" ><div class="time">2022-08-17 11:54</div></a><div class="msg">After adding the brackets:
The test passes. There is only one instance of bulkaddress. And I know it is different than pact.json expect. Nevertheless the test passes.</div></div></div><br/>
<div><a id="1660778523.530359"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1660778523.530359" ><div class="time">2022-08-17 23:22</div></a><div class="msg">Ok, are you using Pact-JS to run the test?</div></div></div><br/>
<div><a id="1660810279.893669"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1660810279.893669" ><div class="time">2022-08-18 08:11</div></a><div class="msg">Pact-go@2.x.x</div></div></div><br/>
<div><a id="1660980357.187769"><img src="https://avatars.slack-edge.com/2022-08-20/3980240791361_a2e07b726cc933ec5455_72.png" /></a><div class="message"><div class="username">duynguyenptithcm</div><a style="text-decoration: none" href="#1660980357.187769" ><div class="time">2022-08-20 07:25</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1661124641.832819"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1661124641.832819" ><div class="time">2022-08-21 23:30</div></a><div class="msg">You mentioned it does not work. Can you share the updated manifest file and debug logs?</div></div></div><br/>
<div><a id="1661148735.695229"><img src="https://avatars.slack-edge.com/2021-09-23/2523676844547_2d6f9ad86ca42e768d9b_72.jpg" /></a><div class="message"><div class="username">sujithsukumaranm</div><a style="text-decoration: none" href="#1661148735.695229" ><div class="time">2022-08-22 06:12</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1661184577.165859"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661184577.165859" ><div class="time">2022-08-22 16:09</div></a><div class="msg">FYI
When I run the tests like
```LOG_LEVEL=debug go test ./...```
It does show the debugging informaton. I wonder if there can be some conflict between `logrus` and `hashicorp/logutils`  and this variable `LOG_LEVEL` sets it for both of them.</div></div></div><br/>
<div><a id="1661205814.285159"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661205814.285159" ><div class="time">2022-08-22 22:03</div></a><div class="msg">`LOG_LEVEL` is a pretty standard environment variable. Are you suggesting we default to a different one for Pact to avoid conflict with logrus?</div></div></div><br/>
<div><a id="1661313256.978319"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1661313256.978319" ><div class="time">2022-08-24 03:54</div></a><div class="msg">I'm having trouble replicating this. I always get an error if something is not correct.
```grpcInteraction := `{
		"pact:proto": "` + path + `",
		"pact:proto-service": "Calculator/calculateMulti",
		"pact:content-type": "application/protobuf",
		"request": {
			"shapes": [
				{
					"rectangle": {
						"length": "matching(number, 3)",
						"width": "matching(number, 4)"
					}
				},
				{
					"square": {
						"edge_length": "matching(number, 3)"
					}
				}
			]
		},
		"response": {
			"value": [
				{
					"id": "matching(regex, '\\d+', '1234')",
					"shape": "matching(type, 'rectangle')",
					"value": "matching(number, 12)"
				},
				{
					"id": "matching(type, '4')",
					"shape": "matching(type, 'square')",
					"value": "matching(number, 9)"
				}
			]
		}
	}````</div></div></div><br/>
<div><a id="1661313276.570689"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1661313276.570689" ><div class="time">2022-08-24 03:54</div></a><div class="msg">On the provider side:
```Verifying a pact between grpc-consumer-go and area-calculator-provider

  calculate rectangle area request

  Given a Calculator/calculateMulti request
      with an input .area_calculator.AreaRequest message
      will return an output .area_calculator.AreaResponse message [FAILED]
    generates a message which
      has a matching body (FAILED)


Failures:

1) Verifying a pact between grpc-consumer-go and area-calculator-provider - calculate rectangle area request
    1.1) has a matching body
           $.value[0].id -&gt; Expected '0abc' to match '\d+'

There were 1 pact failures```</div></div></div><br/>
<div><a id="1661313334.597129"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1661313334.597129" ><div class="time">2022-08-24 03:55</div></a><div class="msg">If I remove the square brackets, then I did notice that the paths for the matchers are not correct, but then I still get an error on the provider, just a different one</div></div></div><br/>
<div><a id="1661313427.809849"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1661313427.809849" ><div class="time">2022-08-24 03:57</div></a><div class="msg">I.e.
```Failures:

1) Verifying a pact between grpc-consumer-go and area-calculator-provider - calculate rectangle area request
    1.1) has a matching body
           $.value[0].id -&gt; Expected '1234' to be equal to '0abc'
           $.value -&gt; Expected repeated field 'value' to have 1 values but received 2 values
           $.value[0].shape -&gt; Expected 'rectangle' to be equal to 'box'```</div></div></div><br/>
<div><a id="1661313460.648249"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1661313460.648249" ><div class="time">2022-08-24 03:57</div></a><div class="msg">None of the matching rules are now applied</div></div></div><br/>
<div><a id="1661314251.834789"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1661314251.834789" ><div class="time">2022-08-24 04:10</div></a><div class="msg">However, if I use a each value matcher, I do get the issue you have mentioned:
```"value": {
				"pact:match": "eachValue(matching($'area'))",
				"area": {
					"id": "matching(regex, '\\d+', '1234')",
					"shape": "matching(type, 'rectangle')",
					"value": "matching(number, 12)"
				}
			}```</div></div></div><br/>
<div><a id="1661407950.065599"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661407950.065599" ><div class="time">2022-08-25 06:12</div></a><div class="msg">D you know why I get this 2 value error. Also this error is not consistent, one time it is password another user.
```2022/08/24 17:38:41 [DEBUG] initialising rust mock server interface
2022/08/24 17:38:41 [DEBUG] log_to_stdout res 0
2022/08/24 17:38:41 [DEBUG] waiting for port 8222 to become available
2022/08/24 17:38:41 [DEBUG] executing verifier FFI with args [--hostname localhost --port 8222 --user admin --password 3@Gqd4Z7MkcLqD --broker-url <a href="https://pact.internal.apps-broker.io/">https://pact.internal.apps-broker.io/</a> --provider-version dev --provider-name module-producer --loglevel info]
2022-08-24T15:38:41.195073Z TRACE ThreadId(01) mio::poll: registering event source with poller: token=Token(0), interests=READABLE | WRITABLE    
2022-08-24T15:38:41.195726Z ERROR ThreadId(01) pact_ffi::verifier::verifier: error verifying Pact: "error: The argument '--user &lt;user&gt;' requires 1 values, but 2 were provided\n\nUSAGE:\n    pact_verifier_cli --broker-url &lt;broker-url&gt; --dir &lt;dir&gt;... --file &lt;file&gt;... --hostname &lt;hostname&gt; --loglevel &lt;loglevel&gt; --password &lt;password&gt; --port &lt;port&gt; --provider-name &lt;provider-name&gt; --provider-version &lt;provider-version&gt; --scheme &lt;scheme&gt; --url &lt;url&gt;... --user &lt;user&gt;\n\nFor more information try --help" Error { message: "error: The argument '--user &lt;user&gt;' requires 1 values, but 2 were provided\n\nUSAGE:\n    pact_verifier_cli --broker-url &lt;broker-url&gt; --dir &lt;dir&gt;... --file &lt;file&gt;... --hostname &lt;hostname&gt; --loglevel &lt;loglevel&gt; --password &lt;password&gt; --port &lt;port&gt; --provider-name &lt;provider-name&gt; --provider-version &lt;provider-version&gt; --scheme &lt;scheme&gt; --url &lt;url&gt;... --user &lt;user&gt;\n\nFor more information try --help", kind: WrongNumberOfValues, info: Some(["user"]) }    
=== RUN   TestGrpcProvider/Provider_pact_verification
    plugin_verifier.go:56: an unknown error ocurred when verifying the provider (this indicates a defect in the framework
=== CONT  TestGrpcProvider
    provider_test.go:166: 
                Error Trace:    provider_test.go:166
                Error:          Received unexpected error:
                                an unknown error ocurred when verifying the provider (this indicates a defect in the framework
                Test:           TestGrpcProvider
--- FAIL: TestGrpcProvider (0.06s)
    --- FAIL: TestGrpcProvider/Provider_pact_verification (0.00s)
FAIL
FAIL    command-line-arguments  2.891s
FAIL```
I think it has something to do with parsing the variables and calling ffi from library.
I use *Pact-go*</div></div></div><br/>
<div><a id="1661408351.332409"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661408351.332409" ><div class="time">2022-08-25 06:19</div></a><div class="msg">Can you please check if you have any `PACT_BROKER_` variables in your shell? I think it might be that</div></div></div><br/>
<div><a id="1661408430.275159"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661408430.275159" ><div class="time">2022-08-25 06:20</div></a><div class="msg">I need to migrate the verifier code to use the newer handles interface, which would improve this (just created a quick <a href="https://github.com/pact-foundation/pact-go/issues/237">https://github.com/pact-foundation/pact-go/issues/237</a> for this)</div></div></div><br/>
<div><a id="1661408431.628459"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661408431.628459" ><div class="time">2022-08-25 06:20</div></a><div class="msg">Yes I have as you can see them in my output.</div></div></div><br/>
<div><a id="1661408451.139919"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661408451.139919" ><div class="time">2022-08-25 06:20</div></a><div class="msg">```?  producer git:(ROSI-145) ? echo $PACT_BROKER_PASSWORD 
3GX6u4sa7MdsacLqD```</div></div></div><br/>
<div><a id="1661408498.664779"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661408498.664779" ><div class="time">2022-08-25 06:21</div></a><div class="msg">OK thanks. If you set the environment variables, you don?t need to set them in code (and vice versa). That?s why it thinks it?s getting 2 values instead of one</div></div></div><br/>
<div><a id="1661408635.392159"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661408635.392159" ><div class="time">2022-08-25 06:23</div></a><div class="msg">hmm maybe my program sees them but the pact_verifier_cli not?</div></div></div><br/>
<div><a id="1661408854.576719"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661408854.576719" ><div class="time">2022-08-25 06:27</div></a><div class="msg">I wrote the variables to .zshrc but the output is the same ;/</div></div></div><br/>
<div><a id="1661408951.438029"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661408951.438029" ><div class="time">2022-08-25 06:29</div></a><div class="msg">have you sourced them from your IDE?</div></div></div><br/>
<div><a id="1661408957.448599"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661408957.448599" ><div class="time">2022-08-25 06:29</div></a><div class="msg">e.g. `source ~/.zshrc`</div></div></div><br/>
<div><a id="1661408965.711299"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661408965.711299" ><div class="time">2022-08-25 06:29</div></a><div class="msg">(or `reload!`)</div></div></div><br/>
<div><a id="1661409052.822769"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661409052.822769" ><div class="time">2022-08-25 06:30</div></a><div class="msg">I've restarted zsh. Now trying putting right in the code withoud envs.</div></div></div><br/>
<div><a id="1661409100.160569"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661409100.160569" ><div class="time">2022-08-25 06:31</div></a><div class="msg">I have it</div></div></div><br/>
<div><a id="1661409342.126369"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661409342.126369" ><div class="time">2022-08-25 06:35</div></a><div class="msg">For any1 concerned:
SOLUTION:
```In ~/.zshrc or ~/.bashrc:
export PACT_BROKER_BASE_URL=<a href="https://pact.internal.apps-apps.com/">https://pact.internal.apps-apps.com/</a>
export PACT_BROKER_USERNAME=admin
export PACT_BROKER_PASSWORD=3GX6udsadsacLqD```
In code
```err = verifier.VerifyProvider(t, provider.VerifyPluginRequest{
		ProviderAddress: "<a href="http://localhost:8222">http://localhost:8222</a>",
		Provider:        "module-producer",
		BrokerURL:       os.Getenv("PACT_BROKER_BASE_URL"),
		ProviderVersion: "dev",
	})
	assert.NoError(t, err)```
*Don't fill the username and password VerifyPluginRequest fields. They will be taken from enviroment vars.*</div></div></div><br/>
<div><a id="1661409358.310289"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661409358.310289" ><div class="time">2022-08-25 06:35</div></a><div class="msg">Thanks @matt.fellows</div></div></div><br/>
<div><a id="1661409654.512129"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661409654.512129" ><div class="time">2022-08-25 06:40</div></a><div class="msg">I?m going to fix this Robert. The implementation under the hood essentially wraps the CLI verifier. There is a newer FFI set of methods that I can use in Pact Go which will improve this experience. I?ll aim to get this added in the next week or so</div></div></div><br/>
<div><a id="1661410447.283559"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661410447.283559" ><div class="time">2022-08-25 06:54</div></a><div class="msg">Ok no problem. I just wonder if I should put my solutinons in form of github issue so more people can find the answer? Plus for me it is a github activity :slightly_smiling_face:.</div></div></div><br/>
<div><a id="1661411075.872039"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1661411075.872039" ><div class="time">2022-08-25 07:04</div></a><div class="msg">haha you can raise it, and i?ll close it when I get the above issue done (and you?ll get the kudos!)</div></div></div><br/>
<div><a id="1661477411.130829"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1661477411.130829" ><div class="time">2022-08-26 01:30</div></a><div class="msg">@robert.henzel Ok, I think I have have fixed this issue. Updated plugin released 0.1.12</div></div></div><br/>
<div><a id="1661497687.554709"><img src="https://avatars.slack-edge.com/2022-07-28/3859408756438_728818d745011d5bd6a9_72.png" /></a><div class="message"><div class="username">robert.henzel</div><a style="text-decoration: none" href="#1661497687.554709" ><div class="time">2022-08-26 07:08</div></a><div class="msg">Omg, Thank your work, I did not notice you were writing here. Please feel free to mention me with @. Cause I was talking with Matt but totally missed your messages. I'll update to v 0.1.12 and will return with feedback.</div></div></div><br/>
<div><a id="1661878606.075569"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1661878606.075569" ><div class="time">2022-08-30 16:56</div></a><div class="msg">Below is the file which has logs</div></div></div><br/>
<div><a id="1661884786.592099"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1661884786.592099" ><div class="time">2022-08-30 18:39</div></a><div class="msg">```Plugin protobuf failed to start a mock server: Failed to start gRPC mock server: Pact file does not contain any Protobuf descriptors
io.pact.plugins.jvm.core.PactPluginMockServerErrorException: Plugin protobuf failed to start a mock server: Failed to start gRPC mock server: Pact file does not contain any Protobuf descriptors
	at app//io.pact.plugins.jvm.core.DefaultPluginManager.startMockServer(PluginManager.kt:604)
	at app//au.com.dius.pact.consumer.PluginMockServer.start(PluginMockServer.kt:45)
	at app//au.com.dius.pact.consumer.junit5.PactConsumerTestExt.beforeTestExecution(PactConsumerTestExt.kt:220)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeTestExecutionCallbacks$5(TestMethodTestDescriptor.java:188)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeTestExecutionCallbacks(TestMethodTestDescriptor.java:187)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base@11.0.16/java.util.ArrayList.forEach(ArrayList.java:1541)
	at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base@11.0.16/java.util.ArrayList.forEach(ArrayList.java:1541)
	at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)
	at java.base@11.0.16/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base@11.0.16/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base@11.0.16/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base@11.0.16/java.lang.reflect.Method.invoke(Method.java:566)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at com.sun.proxy.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
	Suppressed: java.lang.RuntimeException: Mock server is not running
		at au.com.dius.pact.consumer.PluginMockServer.stop(PluginMockServer.kt:59)
		at au.com.dius.pact.consumer.junit5.JUnit5MockServerSupport.close(JUnit5MockServerSupport.kt:14)
		at au.com.dius.pact.consumer.junit5.PactConsumerTestExt.afterTestExecution(PactConsumerTestExt.kt:489)
		at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterTestExecutionCallbacks$9(TestMethodTestDescriptor.java:233)
		at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:273)
		at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
		at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:273)
		at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
		at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:272)
		at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterTestExecutionCallbacks(TestMethodTestDescriptor.java:232)
		at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
		... 61 more
	Suppressed: java.lang.RuntimeException: Mock server is not running
		at au.com.dius.pact.consumer.PluginMockServer.stop(PluginMockServer.kt:59)
		at au.com.dius.pact.consumer.junit5.JUnit5MockServerSupport.close(JUnit5MockServerSupport.kt:14)
		at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
		at org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$closeAllStoredCloseableValues$3(ExtensionValuesStore.java:68)```</div></div></div><br/>
<div><a id="1661970877.989939"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1661970877.989939" ><div class="time">2022-08-31 18:34</div></a><div class="msg">Here is the Manifest:
```{
  "manifestVersion": 1,
  "pluginInterfaceVersion": 1,
  "name": "protobuf",
  "version": "0.1.10",
  "executableType": "exec",
  "entryPoint": "pact-protobuf-plugin",
  "pluginConfig": {
    "protocVersion": "3.19.1",
    "downloadUrl": "<a href="https://github.com/protocolbuffers/protobuf/releases/download">https://github.com/protocolbuffers/protobuf/releases/download</a>",
    "hostToBindTo": "127.0.0.1",
    "additionalIncludes":["//Users/ssomepalli/Documents/chronos/ad-break-chronos/src/test/resources/grpc"]
  }
}```</div></div></div><br/>
<div><a id="1661972648.381369"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1661972648.381369" ><div class="time">2022-08-31 19:04</div></a><div class="msg">@uglyog I don't believe the `additionalIncludes` is working. Here's my manifest:
```{
  "manifestVersion": 1,
  "pluginInterfaceVersion": 1,
  "name": "protobuf",
  "version": "0.1.12",
  "executableType": "exec",
  "entryPoint": "pact-protobuf-plugin",
  "pluginConfig": {
    "protocVersion": "3.19.1",
    "downloadUrl": "<a href="https://github.com/protocolbuffers/protobuf/releases/download">https://github.com/protocolbuffers/protobuf/releases/download</a>",
    "hostToBindTo": "127.0.0.1",
    "additionalIncludes":["/Users/jarmy/src/git/pandora/delivery/ad-break-chronos/src/test/resources/delivery/dispatch/common.proto", "/Users/jarmy/src/git/pandora/delivery/ad-break-chronos/src/test/resources/delivery/dispatch/display_ad_api.proto"]
  }
}```
As you can see from the attached log, the `common.proto` is not found:
```11:58:58.612 [Thread-6] DEBUG io.pact.plugins.jvm.core.ChildProcess - Plugin protobuf [20011] || 2022-08-31T18:58:58.612323Z DEBUG tokio-runtime-worker request{method=POST uri=<a href="http://127.0.0.1:52364/io.pact.plugin.PactPlugin/ConfigureInteraction">http://127.0.0.1:52364/io.pact.plugin.PactPlugin/ConfigureInteraction</a> version=HTTP/2.0 headers={"content-type": "application/grpc", "te": "trailers", "user-agent": "grpc-java-netty/1.43.2", "grpc-accept-encoding": "gzip", "authorization": Sensitive}}: pact_protobuf_plugin::protoc: Protoc stderr: delivery/dispatch/common.proto: File not found.
11:58:58.612 [Thread-6] DEBUG io.pact.plugins.jvm.core.ChildProcess - Plugin protobuf [20011] || ad_break_api.proto:6:1: Import "delivery/dispatch/common.proto" was not found or had errors.```
</div></div></div><br/>
<div><a id="1662001115.500629"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1662001115.500629" ><div class="time">2022-09-01 02:58</div></a><div class="msg">@jarmy I have just checked the protoc docs, and the additional includes should only be directories
&gt;  `IMPORT_PATH` specifies a directory in which to look for `.proto` files when resolving `import` directives. If omitted, the current directory is used. Multiple import directories can be specified by passing the `--proto_path` option multiple times; they will be searched in order. `-I=_IMPORT_PATH_` can be used as a short form of `--proto_path`</div></div></div><br/>
<div><a id="1662002991.827179"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1662002991.827179" ><div class="time">2022-09-01 03:29</div></a><div class="msg">@ssomepalli I can't see the problem in those logs. Can you delete any Pact files you have and try rerun it, but with only directories configured in the additional includes.</div></div></div><br/>
<div><a id="1662050639.582229"><img src="https://secure.gravatar.com/avatar/a6cfef19b291d70398ca99c207218fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">ssomepalli</div><a style="text-decoration: none" href="#1662050639.582229" ><div class="time">2022-09-01 16:43</div></a><div class="msg">When I tried with the directories it is not displaying any error log. But, the test case is not passing.</div></div></div><br/>
<div><a id="1662470863.671849"><img src="https://avatars.slack-edge.com/2022-09-06/4043848611252_48fb646b644ff94dfc84_72.jpg" /></a><div class="message"><div class="username">patrickbadley</div><a style="text-decoration: none" href="#1662470863.671849" ><div class="time">2022-09-06 13:27</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1662471088.858779"><img src="https://avatars.slack-edge.com/2022-09-06/4043848611252_48fb646b644ff94dfc84_72.jpg" /></a><div class="message"><div class="username">patrickbadley</div><a style="text-decoration: none" href="#1662471088.858779" ><div class="time">2022-09-06 13:31</div></a><div class="msg">Hi @marti92!  I am also interested in ruby grpc support and am just joining the pact slack party.  Do you know of any updates or community members working on this support? Or have you found some other solution?</div></div></div><br/>
<div><a id="1662497978.269679"><img src="https://avatars.slack-edge.com/2022-09-06/4043611072114_34ec9765816e527158a3_72.png" /></a><div class="message"><div class="username">james.grubb</div><a style="text-decoration: none" href="#1662497978.269679" ><div class="time">2022-09-06 20:59</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1662499672.518529"><img src="https://avatars.slack-edge.com/2022-09-06/4043611072114_34ec9765816e527158a3_72.png" /></a><div class="message"><div class="username">james.grubb</div><a style="text-decoration: none" href="#1662499672.518529" ><div class="time">2022-09-06 21:27</div></a><div class="msg">Hello, team! I am working in an enterprise environment with many teams, communicating over Kafka, using extensive and deeply nested protobufs and am trying to evaluate how difficult it would be to get Pact working with the existing stack. So I installed the <a href="https://github.com/pactflow/pact-protobuf-plugin">https://github.com/pactflow/pact-protobuf-plugin</a> using the pact-plugin-cli, and can confirm that the plugin `protobuf-0.1.12` was added to my `.pact/plugins` folder. However, running the <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf/protobuf-consumer-jvm">https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf/protobuf-consumer-jvm</a> from the `pact-plugins` repo results in the following error (for the test consumeInitPluginMessage):
```Failed to resolve parameter [au.com.dius.pact.core.model.V4Interaction$AsynchronousMessage arg0] in method [void io.pact.example.protobuf.provider.PactConsumerTest.consumeInitPluginMessage(au.com.dius.pact.core.model.V4Interaction$AsynchronousMessage) throws com.google.protobuf.InvalidProtocolBufferException]: Plugin protobuf with version any was not found```
Is the protobuf plugin from pactflow incompatible with the tests in the pact-foundation pact-plugins examples? The Readme in pact-protobuf-plugin lists it as its JVM example.

Apologies in advance if I've missed some critical setup step. Any help is appreciated.</div></div></div><br/>
<div><a id="1662506099.214409"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1662506099.214409" ><div class="time">2022-09-06 23:14</div></a><div class="msg">Let me check. They were working for me a few weeks ago.</div></div></div><br/>
<div><a id="1662506140.266229"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1662506140.266229" ><div class="time">2022-09-06 23:15</div></a><div class="msg">Ah, those are the older Protobuf examples, not the gRPC ones. Let me fix them for you.</div></div></div><br/>
<div><a id="1662575064.271559"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1662575064.271559" ><div class="time">2022-09-07 18:24</div></a><div class="msg">@uglyog We got the additional includes to work via the following
```"additionalIncludes":["/Users/jarmy/src/git/pandora/delivery/ad-break-chronos/src/test/resources"]```
proto file is set in the test as such:
```"pact:proto", filePath("src/test/resources/delivery/dispatch/ad_break_api.proto")```
</div></div></div><br/>
<div><a id="1662679877.486659"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1662679877.486659" ><div class="time">2022-09-08 23:31</div></a><div class="msg">That example works fine for me with 0.1.12. What OS are you running? And can you run the plugin executable from a terminal?</div></div></div><br/>
<div><a id="1662680114.404949"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1662680114.404949" ><div class="time">2022-09-08 23:35</div></a><div class="msg">Oh, wait, it could be that I upgraded the dependencies in that project</div></div></div><br/>
<div><a id="1663250552.818919"><img src="https://avatars.slack-edge.com/2022-02-04/3058095837602_52dcff1e3f863108107b_72.jpg" /></a><div class="message"><div class="username">norway.martin</div><a style="text-decoration: none" href="#1663250552.818919" ><div class="time">2022-09-15 14:02</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1663250564.427589"><img src="https://avatars.slack-edge.com/2022-08-29/4005495671780_86ef7a4d9d8b1d2af758_72.png" /></a><div class="message"><div class="username">mvliannoi</div><a style="text-decoration: none" href="#1663250564.427589" ><div class="time">2022-09-15 14:02</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1663342624.747939"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1663342624.747939" ><div class="time">2022-09-16 15:37</div></a><div class="msg">Hello. My colleagues @ssomepalli, @srinagasai.krishnasan, and I have been looking into the gRPC plugin but cannot find a way to get the pact libraries to build requests from imported .proto files.  Basically, any request that contains portions included in another proto file don't end up in the contract. Here's how I illustrated this in my <a href="https://github.com/pact-foundation/pact-plugins/pull/7/files">https://github.com/pact-foundation/pact-plugins/pull/7/files</a> of `pact-plugins`:
1. Add `common.proto` into `examples/gRPC/area_calculator/proto`
2. Add `import "common.proto"` into `area_calculator.proto` and add `DeviceContext` and `ListenerContext`
3. Modify the `request` in `PactConsumerTest.calculateRectangleArea` as follows:
```        "request", Map.of(
          "device_context", Map.of(
              "device_id", "matching(number, 4)",
              "carrier_name", "matching(type, 'foo')"
          )),
          "listener_context", Map.of(
              "listener_id", "matching(number, 1)"
          ),```
Now when you run the `PactConsumerTest` the generated `grpc-consumer-jvm-area-calculator-provider.json` does _not_ contain the `listener_context.listener_id`. I'll attach the generated pact along with _plugin.log_ in the thread</div></div></div><br/>
<div><a id="1663543715.543189"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1663543715.543189" ><div class="time">2022-09-18 23:28</div></a><div class="msg">Ok, let me look into this for you.</div></div></div><br/>
<div><a id="1663616539.124209"><img src="https://avatars.slack-edge.com/2022-09-06/4043848611252_48fb646b644ff94dfc84_72.jpg" /></a><div class="message"><div class="username">patrickbadley</div><a style="text-decoration: none" href="#1663616539.124209" ><div class="time">2022-09-19 19:42</div></a><div class="msg">Hello!  I was wondering if there is any updated guidance on using Pact with gRPC services (and their consumers) written in Ruby?</div></div></div><br/>
<div><a id="1663632645.657809"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1663632645.657809" ><div class="time">2022-09-20 00:10</div></a><div class="msg">Pact Ruby is still using the old implementation, so it doesn't support using the gRPC plugin. However, if you can write your tests in another language that does, and use the verifier CLI, you could us it, but it will require a fair amount of work to get going.</div></div></div><br/>
<div><a id="1663655769.887789"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1663655769.887789" ><div class="time">2022-09-20 06:36</div></a><div class="msg">I've released 0.1.14 of the plugin with a fix for fields from imports</div></div></div><br/>
<div><a id="1663655805.979099"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1663655805.979099" ><div class="time">2022-09-20 06:36</div></a><div class="msg">oh, does this mean the protobuf plugin can resolve relative file imports?</div></div></div><br/>
<div><a id="1663655926.157139"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1663655926.157139" ><div class="time">2022-09-20 06:38</div></a><div class="msg">The plugin just delegates to protoc, so it's whatever protoc does</div></div></div><br/>
<div><a id="1663680136.302309"><img src="https://avatars.slack-edge.com/2022-09-06/4043848611252_48fb646b644ff94dfc84_72.jpg" /></a><div class="message"><div class="username">patrickbadley</div><a style="text-decoration: none" href="#1663680136.302309" ><div class="time">2022-09-20 13:22</div></a><div class="msg">ok, thank you @uglyog!</div></div></div><br/>
<div><a id="1663680353.780189"><img src="https://avatars.slack-edge.com/2022-09-06/4043848611252_48fb646b644ff94dfc84_72.jpg" /></a><div class="message"><div class="username">patrickbadley</div><a style="text-decoration: none" href="#1663680353.780189" ><div class="time">2022-09-20 13:25</div></a><div class="msg">We are looking into taking an approach similar to this one that was used for java, do you see any challenges to this approach? <a href="https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c">https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c</a></div></div></div><br/>
<div><a id="1663687583.795649"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1663687583.795649" ><div class="time">2022-09-20 15:26</div></a><div class="msg">We tried the 0.1.14, it is currently working as desired. However, we are having stub generation problems, if we comment it out, it?s working out fine.  Will let you know more.
Thank you!</div></div></div><br/>
<div><a id="1663715317.395779"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1663715317.395779" ><div class="time">2022-09-20 23:08</div></a><div class="msg">No, I think people managed to get that to work. I haven't heard any bad things about that approach</div></div></div><br/>
<div><a id="1663775024.968759"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1663775024.968759" ><div class="time">2022-09-21 15:43</div></a><div class="msg">Hello guys, we are currently experiencing `InvalidProtocolBufferException: Protobuf message had a invalid wire type` .

We are not very big on protobufs. Upon trying the example you?ve provided, it?s going through. With our example, it?s not.

The error is specifically happening at `parseFrom`  line in the pact test. Any help is appreciated. TIA</div></div></div><br/>
<div><a id="1663798792.442699"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1663798792.442699" ><div class="time">2022-09-21 22:19</div></a><div class="msg">We've solved the `invalid wire type` issue. The .proto we were using in the test did not match the version in the proto library so they were encoded differently</div></div></div><br/>
<div><a id="1663803023.391479"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1663803023.391479" ><div class="time">2022-09-21 23:30</div></a><div class="msg">I'm facing an issue with the latest `pact-protobuf-plugin` and `junit5:4.4.0-beta.4` library and enum field. The proto contains the following:
```message AdBreakRequest {
  delivery.dispatch.DeviceContext device_context = 1;
  delivery.dispatch.ListenerContext listener_context = 2;
  delivery.dispatch.StationContext station_context = 3;
  AdBreakAdType ad_break_type = 5;

enum AdBreakAdType {
  MISSING_AD_BREAK_AD_TYPE = 0;
  AUDIO_AD_BREAK = 1;
  VIDEO_AD_BREAK = 2;
}```
When I try to use this in the request `"ad_break_type", "AUDIO_AD_BREAK"` I get the following error:
```Failed to set the interaction: Failed to process protobuf: Protobuf enum value .delivery.dispatch.AdBreakAdType has no value AUDIO_AD_BREAK
au.com.dius.pact.consumer.dsl.InteractionConfigurationError: Failed to set the interaction: Failed to process protobuf: Protobuf enum value .delivery.dispatch.AdBreakAdType has no value AUDIO_AD_BREAK
	at app//au.com.dius.pact.consumer.dsl.PactBuilder.setupMessageContents(PactBuilder.kt:266)
	at app//au.com.dius.pact.consumer.dsl.PactBuilder.with(PactBuilder.kt:190)```
I've tried a bunch of combinations using matchers to no avail.</div></div></div><br/>
<div><a id="1663803073.632439"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1663803073.632439" ><div class="time">2022-09-21 23:31</div></a><div class="msg">Another issue I'm facing is pact doesn't seem to support message fields _within_ message fields. Here's the proto snippet:
```message AdBreakRequest {
  repeated AdBreakContext ad_break_context = 1; 

  message AdBreakContext {
    google.protobuf.StringValue forced_line_id = 1;
    google.protobuf.StringValue forced_creative_id = 2;
    google.protobuf.StringValue ad_break_id = 3;
    google.protobuf.StringValue sessionId = 4;
    AdBreakAdType ad_break_type = 5;
    google.protobuf.StringValue cached_source_id = 6;
    google.protobuf.Int32Value number_of_ads = 7;
    google.protobuf.Int32Value pod_duration_seconds = 8;
  }
}```
When I try to build the request with this code:
```						"request", Map.of(
								"ad_break_context", List.of(Map.of(
										"ad_break_id", Map.of("value", "matching(type, 'VldOSV9W')"),
										"sessionId", Map.of("value", "matching(type, 'wJwZIZNX')"),
										"number_of_ads", Map.of("value", "matching(number, 2)")
								))),```
I get the following exception:
```Failed to set the interaction: Failed to process protobuf: Did not find a message type 'AdBreakContext' in any of file descriptors
au.com.dius.pact.consumer.dsl.InteractionConfigurationError: Failed to set the interaction: Failed to process protobuf: Did not find a message type 'AdBreakContext' in any of file descriptors
	at app//au.com.dius.pact.consumer.dsl.PactBuilder.setupMessageContents(PactBuilder.kt:266)
	at app//au.com.dius.pact.consumer.dsl.PactBuilder.with(PactBuilder.kt:190```
</div></div></div><br/>
<div><a id="1663809950.281329"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1663809950.281329" ><div class="time">2022-09-22 01:25</div></a><div class="msg">Ok, I'll need to look into these. I haven't tried messages within messages, so the descriptors may be encoded differently.</div></div></div><br/>
<div><a id="1664372072.977349"><img src="https://avatars.slack-edge.com/2021-11-25/2768879963618_27040dac91927faeef73_72.png" /></a><div class="message"><div class="username">edouard.lopez</div><a style="text-decoration: none" href="#1664372072.977349" ><div class="time">2022-09-28 13:34</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1664372148.345549"><img src="https://avatars.slack-edge.com/2021-11-25/2768879963618_27040dac91927faeef73_72.png" /></a><div class="message"><div class="username">edouard.lopez</div><a style="text-decoration: none" href="#1664372148.345549" ><div class="time">2022-09-28 13:35</div></a><div class="msg">Hello, is protobuff/gRPC plugin working in the open-source ecosystem or solely on pactflow?</div></div></div><br/>
<div><a id="1664374472.892449"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1664374472.892449" ><div class="time">2022-09-28 14:14</div></a><div class="msg">It forms part of the open source ecosystem

<a href="https://github.com/pact-foundation/pact-plugins">https://github.com/pact-foundation/pact-plugins</a>

so you can work with an up to date Pact broker or Pactflow as the plugin mechanism is agnostic of your broker (you can create, share and consumer pacts without a Broker )</div></div></div><br/>
<div><a id="1664463605.401529"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1664463605.401529" ><div class="time">2022-09-29 15:00</div></a><div class="msg">hello @uglyog, any progress or updates?</div></div></div><br/>
<div><a id="1664515388.495569"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1664515388.495569" ><div class="time">2022-09-30 05:23</div></a><div class="msg">Sorry, didn't get a chance to look into this, I'll see if I can do it next week</div></div></div><br/>
<div><a id="1664906461.579269"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1664906461.579269" ><div class="time">2022-10-04 18:01</div></a><div class="msg">Sure!</div></div></div><br/>
<div><a id="1664940494.550409"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1664940494.550409" ><div class="time">2022-10-05 03:28</div></a><div class="msg">`0.1.15` has been released with fixes for the enums and embedded messages types</div></div></div><br/>
<div><a id="1664958431.525999"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1664958431.525999" ><div class="time">2022-10-05 08:27</div></a><div class="msg">Hello, any news on gRPC auth header support? :slightly_smiling_face:</div></div></div><br/>
<div><a id="1665005696.176779"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1665005696.176779" ><div class="time">2022-10-05 21:34</div></a><div class="msg">embedded message types is working. having a bit of difficulty getting enums working. I'll need to consult with @srinagasai.krishnasan</div></div></div><br/>
<div><a id="1665019593.128369"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1665019593.128369" ><div class="time">2022-10-06 01:26</div></a><div class="msg">Sorry, we haven't had a chance to address this yet</div></div></div><br/>
<div><a id="1665042897.015869"><img src="https://secure.gravatar.com/avatar/09f85c0796a2ef8527fe6248a5827e76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">varnit.garg2424</div><a style="text-decoration: none" href="#1665042897.015869" ><div class="time">2022-10-06 07:54</div></a><div class="msg">Hello, does anyone have experience with using protobuf plugin in case of http endpoint takes request in protobuf format instead of json?</div></div></div><br/>
<div><a id="1665043618.927149"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1665043618.927149" ><div class="time">2022-10-06 08:06</div></a><div class="msg">What language are you using?</div></div></div><br/>
<div><a id="1665044318.614449"><img src="https://secure.gravatar.com/avatar/09f85c0796a2ef8527fe6248a5827e76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">varnit.garg2424</div><a style="text-decoration: none" href="#1665044318.614449" ><div class="time">2022-10-06 08:18</div></a><div class="msg">Go on provider side and Ruby on consumer side</div></div></div><br/>
<div><a id="1665051347.386959"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1665051347.386959" ><div class="time">2022-10-06 10:15</div></a><div class="msg">Unfortunately Ruby doesn?t have support for plugins. It might be a while before it does, to be honest. We need to update it to use the newer Rust core, as per JS, Golang and .NET.</div></div></div><br/>
<div><a id="1665051673.712589"><img src="https://secure.gravatar.com/avatar/09f85c0796a2ef8527fe6248a5827e76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">varnit.garg2424</div><a style="text-decoration: none" href="#1665051673.712589" ><div class="time">2022-10-06 10:21</div></a><div class="msg">I see. 
Do you see any limitation using the workaround suggested by you? I mean would it work out of the box using the custom marshaller as mentioned in this blog ? :slightly_smiling_face: 
<a href="https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c">https://medium.com/@ivangsa/consumer-driven-contract-testing-for-grpc-pact-io-d60155d21c4c</a></div></div></div><br/>
<div><a id="1665056463.960749"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1665056463.960749" ><div class="time">2022-10-06 11:41</div></a><div class="msg">I haven?t tried it personally, but the strategy seems workable.</div></div></div><br/>
<div><a id="1665056472.655329"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1665056472.655329" ><div class="time">2022-10-06 11:41</div></a><div class="msg">The issue for you is you?ll need to do it in both Ruby and Golang</div></div></div><br/>
<div><a id="1665083994.383809"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1665083994.383809" ><div class="time">2022-10-06 19:19</div></a><div class="msg">Ok, we figured out the proper syntax for enums is to use the _actual_ enum: `"ad_break_type", AdBreakAdType.AUDIO_AD_BREAK`</div></div></div><br/>
<div><a id="1665088161.303449"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1665088161.303449" ><div class="time">2022-10-06 20:29</div></a><div class="msg">However, the contract that is produced doesn't have anything in the request body for `ad_break_type` and when I run the `pact_verifier_cli`, the provider complains with this error: `com.pandora.delivery.dispatch.api.exception.InvalidRequestParameterException: Invalid Request Parameter: AdBreakAdType is missing or invalid`

I've attached the generated contract</div></div></div><br/>
<div><a id="1665093703.627989"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1665093703.627989" ><div class="time">2022-10-06 22:01</div></a><div class="msg">I didn't have to use the actual enum, just the string value, but that was in Java, so maybe Go is different</div></div></div><br/>
<div><a id="1665157001.665279"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1665157001.665279" ><div class="time">2022-10-07 15:36</div></a><div class="msg">If I try the string value `"ad_break_type", "matching(type, 'AUDIO_AD_BREAK')"` I get this error: `Failed to process protobuf: Protobuf enum value .delivery.dispatch.AdBreakAdType has no value AUDIO_AD_BREAK`</div></div></div><br/>
<div><a id="1665157020.888059"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1665157020.888059" ><div class="time">2022-10-07 15:37</div></a><div class="msg">we're using Java too :shrug:</div></div></div><br/>
<div><a id="1665352669.627149"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1665352669.627149" ><div class="time">2022-10-09 21:57</div></a><div class="msg">That was the old error, have you upgraded the plugin version?</div></div></div><br/>
<div><a id="1665355071.223189"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1665355071.223189" ><div class="time">2022-10-09 22:37</div></a><div class="msg">yep the upgraded plugin version is being used. You can verify that in the `.json`  file @jarmy has provided</div></div></div><br/>
<div><a id="1665370289.091939"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1665370289.091939" ><div class="time">2022-10-10 02:51</div></a><div class="msg">Ok, let me look into that, when you are using a matcher. Maybe I missed something.</div></div></div><br/>
<div><a id="1665398018.995209"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1665398018.995209" ><div class="time">2022-10-10 10:33</div></a><div class="msg">If you could please add additional details to <a href="https://github.com/pactflow/pact-protobuf-plugin/issues/14">https://github.com/pactflow/pact-protobuf-plugin/issues/14</a> that would help :slightly_smiling_face:</div></div></div><br/>
<div><a id="1665418418.198619"><img src="https://avatars.slack-edge.com/2021-06-22/2205088317700_cd512627bbffed0f682d_72.png" /></a><div class="message"><div class="username">srinagasai.krishnasan</div><a style="text-decoration: none" href="#1665418418.198619" ><div class="time">2022-10-10 16:13</div></a><div class="msg">With or without matcher, the plain string isn?t working.</div></div></div><br/>
<div><a id="1665451041.219529"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1665451041.219529" ><div class="time">2022-10-11 01:17</div></a><div class="msg">Can you make sure you don't have multiple versions of the plugin installed? There is an issue where it will load the first plugin it finds.</div></div></div><br/>
<div><a id="1665470955.328339"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1665470955.328339" ><div class="time">2022-10-11 06:49</div></a><div class="msg">posted :slightly_smiling_face:</div></div></div><br/>
<div><a id="1665507391.648079"><img src="https://avatars.slack-edge.com/2021-04-28/2023668943409_86c75f86cb7f9742c065_72.jpg" /></a><div class="message"><div class="username">jarmy</div><a style="text-decoration: none" href="#1665507391.648079" ><div class="time">2022-10-11 16:56</div></a><div class="msg">I removed the other plugins but I'm still facing the same issue with `0.1.15`</div></div></div><br/>
<div><a id="1667234278.561069"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667234278.561069" ><div class="time">2022-10-31 16:37</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1667235470.765999"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667235470.765999" ><div class="time">2022-10-31 16:57</div></a><div class="msg">@jarmy did the enum issue get sorted out? also having trouble getting enum to work in go</div></div></div><br/>
<div><a id="1667247355.663529"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1667247355.663529" ><div class="time">2022-10-31 20:15</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1667311870.993529"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667311870.993529" ><div class="time">2022-11-01 14:11</div></a><div class="msg">@uglyog any thoughts? trying to get an enum working based off the go gRPC example and having similar issue trying to sort out a valid enum value. on 0.1.17
<a href="https://github.com/pact-foundation/pact-go/blob/3bb31bcc34a19e984bea58117cadb72b9856a8df/examples/grpc/grpc_consumer_test.go#L44">https://github.com/pact-foundation/pact-go/blob/3bb31bcc34a19e984bea58117cadb72b9856a8df/examples/grpc/grpc_consumer_test.go#L44</a>
```Protobuf enum value .authz.v2.EnforceEffect has no value ENFORCE_EFFECT_ALLOW```</div></div></div><br/>
<div><a id="1667314464.557569"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667314464.557569" ><div class="time">2022-11-01 14:54</div></a><div class="msg">meant 0.1.15</div></div></div><br/>
<div><a id="1667318701.601869"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1667318701.601869" ><div class="time">2022-11-01 16:05</div></a><div class="msg">Appreciate if we could get any help on this!</div></div></div><br/>
<div><a id="1667339522.999779"><img src="https://avatars.slack-edge.com/2020-08-26/1308388645431_529f332e33f3286bd00b_72.jpg" /></a><div class="message"><div class="username">aforeman</div><a style="text-decoration: none" href="#1667339522.999779" ><div class="time">2022-11-01 21:52</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1667339730.655379"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1667339730.655379" ><div class="time">2022-11-01 21:55</div></a><div class="msg">*Feature Preview: Pact Plugins*

Hey all, we have an exclusive early briefing of our new Pact Plugin Framework

Plugins enable you to extend the capabilities of Pact, without having to make changes to the Pact framework itself. For example, you could create a plugin to handle the Avro or GraphQL content types, or create a websockets transport.

We know you live on the bleeding edge and want to have a chance to create a  plugin for a key technology before it is unveiled to the wider community - this is your chance to get ahead!

*Agenda*

? An overview of the framework - the problem it solves and how it works
? Demonstration of the capability in a gRPC and Protobufs use case
? How to author your own plugin
*Q&amp;A*

After the session, if you have indicated you would like to create your own plugin, we will follow up with you to ensure you have the support you need.


*Register*

There will be two 60 minute briefing sessions scheduled:
1. 9 PM GMT / 5 PM ET / 2 PM PT Wednesday 2nd November (<a href="https://smartbear.zoom.us/meeting/register/tJwpcuGsrzkrG9EoxnV2G00xN5xPgKblZZ_k?utm_source=hs_email&amp;utm_medium=email&amp;utm_content=2&amp;_hsenc=p2ANqtz-_EE0admLqgn_a3QSiyHkedGcqvvs69wiPiNIGYzO5V59AGjWOIQAsQ9ejFSIsHRtikJ9v3XniB1TYQgn9H2IbFZ3E2Bw&amp;_hsmi=2">https://smartbear.zoom.us/meeting/register/tJwpcuGsrzkrG9EoxnV2G00xN5xPgKblZZ_k?utm_source=hs_email&amp;utm_medium=email&amp;utm_content=2&amp;_hsenc=p2ANqtz-_EE0admLqgn_a3QSiyHkedGcqvvs69wiPiNIGYzO5V59AGjWOIQAsQ9ejFSIsHRtikJ9v3XniB1TYQgn9H2IbFZ3E2Bw&amp;_hsmi=2</a>)
2. 10 AM GMT / 11 AM CET Thursday 3rd November (<a href="https://smartbear.zoom.us/meeting/register/tJApcO-prz8rH9FumdJZ3XhcB1kdnwNa7wNT?utm_source=hs_email&amp;utm_medium=email&amp;utm_content=2&amp;_hsenc=p2ANqtz-_EE0admLqgn_a3QSiyHkedGcqvvs69wiPiNIGYzO5V59AGjWOIQAsQ9ejFSIsHRtikJ9v3XniB1TYQgn9H2IbFZ3E2Bw&amp;_hsmi=2">https://smartbear.zoom.us/meeting/register/tJApcO-prz8rH9FumdJZ3XhcB1kdnwNa7wNT?utm_source=hs_email&amp;utm_medium=email&amp;utm_content=2&amp;_hsenc=p2ANqtz-_EE0admLqgn_a3QSiyHkedGcqvvs69wiPiNIGYzO5V59AGjWOIQAsQ9ejFSIsHRtikJ9v3XniB1TYQgn9H2IbFZ3E2Bw&amp;_hsmi=2</a>)
</div></div></div><br/>
<div><a id="1667379579.993639"><img src="https://avatars.slack-edge.com/2022-08-08/3903854088342_f3a0d79815b37fa58569_72.png" /></a><div class="message"><div class="username">jaroslavburi</div><a style="text-decoration: none" href="#1667379579.993639" ><div class="time">2022-11-02 08:59</div></a><div class="msg">wow this is super last minute invite to be honest :smile: did I miss this in some other channel?</div></div></div><br/>
<div><a id="1667389403.531829"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1667389403.531829" ><div class="time">2022-11-02 11:43</div></a><div class="msg">Hey hey, 

The above message was sent to our developer preview programme members for Pactflow, as it?s a smaller session, with the bigger launch event in 2 weeks

<a href="https://docs.pact.io/events/plugins-framework-launch">https://docs.pact.io/events/plugins-framework-launch</a>

We popped a message on twitter and in slack too

<a href="https://pact-foundation.slack.com/archives/C5F4KFKR8/p1666870369011319">https://pact-foundation.slack.com/archives/C5F4KFKR8/p1666870369011319</a>

We don?t have huge numbers for today and tomorrows early preview session, so thought I would throw it out on here! 

Fine edged sword between trying to get people hyped and itching to use the tool and spamming people to death :)</div></div></div><br/>
<div><a id="1667453578.988149"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1667453578.988149" ><div class="time">2022-11-03 05:32</div></a><div class="msg">I'll look into this now</div></div></div><br/>
<div><a id="1667456782.886009"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1667456782.886009" ><div class="time">2022-11-03 06:26</div></a><div class="msg">I can't replicate this issue. With the latest plugin (0.1.15), enums work fine for me. I tried using direct values, matching them by type and also include the enum from another proto file. They all seem to work.

Could someone kindly create an example project that displays the issue you are having?</div></div></div><br/>
<div><a id="1667484332.284869"><img src="https://avatars.slack-edge.com/2022-09-06/4043848611252_48fb646b644ff94dfc84_72.jpg" /></a><div class="message"><div class="username">patrickbadley</div><a style="text-decoration: none" href="#1667484332.284869" ><div class="time">2022-11-03 14:05</div></a><div class="msg">Hello!  We are just getting started with contact tests and Pact and primarily use gRPC apis.  I was wondering if anyone has guidance on what the development workflow would look like for consumer driven contract testing with pact for gRPC/protobuf defined apis since the provider would typically (I assume) own the protobuf definition?  For example:
1. Consumer engineer creates a protobuf file describing the api they would like to be implemented
2. Consumer engineer builds any tooling to make requests to said protobuf file
3. Consumer engineer writes pact unit tests against the protobuf file
4. Consumer engineer publishes pactfile generated from said unit tests
5. Provider engineer is notified of new pactfile (I'm curious about how this would work for a new api, but I assume an existing API this could be automatically discovered during the provider's verify step)
6. Provider engineer copies/creates matching protobuf file (and potentially publishes it)
7. Provider engineer implements api that satisfies contract defined in pactfile
8. Provider publishes new version of api and notifies consumer
There are a couple of potential issues I see with this process:
1. The consumer may have to make some assumptions about the proto file like namespacing/endpoint name or other organizational concerns
2. We currently have our provider publish ruby and python grpc libraries to consume our grpc apis, fi the consumer is starting the process, presumably they are responsible for generating this on their own until the provider publishes an official library
Please let me know your thoughts from anyone with experience in this area so we can get off on the right foot.  Thank you in advance!</div></div></div><br/>
<div><a id="1667508783.138769"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667508783.138769" ><div class="time">2022-11-03 20:53</div></a><div class="msg">do you have the syntax you are using for go to do the enum match?</div></div></div><br/>
<div><a id="1667509244.319349"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667509244.319349" ><div class="time">2022-11-03 21:00</div></a><div class="msg">am using this for match:
```"result": "TEST_TWO"```
it works if i put the enum def inside the message. but if enum is outside it fails
```enum TestEnum {
     TEST_ONE = 0;
     TEST_TWO = 1;
     TEST_THREE = 2;
}

message TestResponse {
    TestEnum result = 1;
}```</div></div></div><br/>
<div><a id="1667513606.762119"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1667513606.762119" ><div class="time">2022-11-03 22:13</div></a><div class="msg">Is this in the consumer test or provider verification?</div></div></div><br/>
<div><a id="1667513623.319029"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667513623.319029" ><div class="time">2022-11-03 22:13</div></a><div class="msg">in the consumer test</div></div></div><br/>
<div><a id="1667513657.205329"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1667513657.205329" ><div class="time">2022-11-03 22:14</div></a><div class="msg">I used both `"result": "TEST_TWO"` and `"result": "matching(type, 'TEST_TWO')"`</div></div></div><br/>
<div><a id="1667515973.934519"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667515973.934519" ><div class="time">2022-11-03 22:52</div></a><div class="msg">ok - both of those work if i have the enum in the message but not if enum is outside</div></div></div><br/>
<div><a id="1667517847.986759"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667517847.986759" ><div class="time">2022-11-03 23:24</div></a><div class="msg">will try to narrow it down further with a minimal example next week</div></div></div><br/>
<div><a id="1667575086.533539"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1667575086.533539" ><div class="time">2022-11-04 15:18</div></a><div class="msg">A modified route_guide.proto to exhibit the behavior. Seemed tied to the package name having `.v2`, but then was also seeing additional odd behavior when I transferred the enum to route_guide. The file below is not hitting the enum issue with`"pact:proto-service": "RouteGuide/GetFeature"` but fails with `"pact:proto-service": "Test/GetFeature2"`. Dropping the `.v2` or moving the enum into the message makes the second case work.
```// Copyright 2015 gRPC authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

syntax = "proto3";


package routeguide.v2;


enum TestEnum {
  VALUE_ZERO = 0;
  VALUE_ONE = 1;
  VALUE_TWO = 2;
}

// Points are represented as latitude-longitude pairs in the E7 representation
// (degrees multiplied by 10**7 and rounded to the nearest integer).
// Latitudes should be in the range +/- 90 degrees and longitude should be in
// the range +/- 180 degrees (inclusive).
message Point {
  int32 latitude = 1;
  int32 longitude = 2;
}

// A latitude-longitude rectangle, represented as two diagonally opposite
// points "lo" and "hi".
message Rectangle {
  // One corner of the rectangle.
  Point lo = 1;

  // The other corner of the rectangle.
  Point hi = 2;
}

// A feature names something at a given point.
//
// If a feature could not be named, the name is empty.
message Feature {
  TestEnum result = 1;
}

// A RouteNote is a message sent while at a given point.
message RouteNote {
  // The location from which the message is sent.
  Point location = 1;

  // The message to be sent.
  string message = 2;
}

// A RouteSummary is received in response to a RecordRoute rpc.
//
// It contains the number of individual points received, the number of
// detected features, and the total distance covered as the cumulative sum of
// the distance between each point.
message RouteSummary {
  // The number of points received.
  int32 point_count = 1;

  // The number of known features passed while traversing the route.
  int32 feature_count = 2;

  // The distance covered in metres.
  int32 distance = 3;

  // The duration of the traversal in seconds.
  int32 elapsed_time = 4;
}

// Interface exported by the server.
service Test {
  // A simple RPC.
  //
  // Obtains the feature at a given position.
  //
  // A feature with an empty name is returned if there's no feature at the given
  // position.
  rpc GetFeature2(Point) returns (Feature) {}

  // A server-to-client streaming RPC.
  //
  // Obtains the Features available within the given Rectangle.  Results are
  // streamed rather than returned at once (e.g. in a response message with a
  // repeated field), as the rectangle may cover a large area and contain a
  // huge number of features.
  rpc ListFeatures(Rectangle) returns (stream Feature) {}

  // A client-to-server streaming RPC.
  //
  // Accepts a stream of Points on a route being traversed, returning a
  // RouteSummary when traversal is completed.
  rpc RecordRoute(stream Point) returns (RouteSummary) {}

  // A Bidirectional streaming RPC.
  //
  // Accepts a stream of RouteNotes sent while a route is being traversed,
  // while receiving other RouteNotes (e.g. from other users).
  rpc RouteChat(stream RouteNote) returns (stream RouteNote) {}
}```</div></div></div><br/>
<div><a id="1668037572.666359"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1668037572.666359" ><div class="time">2022-11-09 23:46</div></a><div class="msg">I would assume the provider team would first create the protobuf file, or maybe, a solution architect. And distribute this to all parties.</div></div></div><br/>
<div><a id="1668055816.438129"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1668055816.438129" ><div class="time">2022-11-10 04:50</div></a><div class="msg">Thanks for that. 0.1.16 released with the fix</div></div></div><br/>
<div><a id="1668544549.462119"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1668544549.462119" ><div class="time">2022-11-15 20:35</div></a><div class="msg">@uglyog trying to verify the protobuf enum fix in 0.1.16 and hitting a non-obvious transport issue when i update to that version of the plugin. any tips on where to look or additional debug params to get more info on this?
```2022-11-15T19:24:42.769373Z ERROR ThreadId(01) pact_plugin_driver::content: Call to plugin failed - status: Unknown, message: "transport error", details: [], metadata: MetadataMap { headers: {} }
2022-11-15T19:24:42.769568Z ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - Call to plugin failed - status: Unknown, message: "transport error", details: [], metadata: MetadataMap { headers: {} }```</div></div></div><br/>
<div><a id="1668548822.921349"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1668548822.921349" ><div class="time">2022-11-15 21:47</div></a><div class="msg">Oh, damn. Someone else is also having some issues with that version. There may have been some updates to dependent libraries, let me investigate that.</div></div></div><br/>
<div><a id="1668554884.539849"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1668554884.539849" ><div class="time">2022-11-15 23:28</div></a><div class="msg">Hey @jason.taylor2 are you seeing this via Pact-Go? otherwise which client library are you using?

I've been seeing the same issue in Go, and got the same issue in spike Ruby FFI application, if I have my logger enabled,

<a href="https://github.com/pact-foundation/pact-reference/issues/230">https://github.com/pact-foundation/pact-reference/issues/230</a></div></div></div><br/>
<div><a id="1668603950.297559"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1668603950.297559" ><div class="time">2022-11-16 13:05</div></a><div class="msg">@yousafn yes - seeing in pact-go/v2/examples/grpc if using 0.1.16</div></div></div><br/>
<div><a id="1668650067.536579"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1668650067.536579" ><div class="time">2022-11-17 01:54</div></a><div class="msg">Released 0.1.17 with a fix for the hanging plugin issue</div></div></div><br/>
<div><a id="1668654126.494239"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1668654126.494239" ><div class="time">2022-11-17 03:02</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1668699291.646759"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1668699291.646759" ><div class="time">2022-11-17 15:34</div></a><div class="msg">looks good - tx!</div></div></div><br/>
<div><a id="1668776088.355679"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1668776088.355679" ><div class="time">2022-11-18 12:54</div></a><div class="msg">:wave: It has been awesome seeing so many of you try out our Protobuf plugin.

As we gear up for an official launch of the Pact Plugin framework, I wondered if anyone would be happy to spare a few comments, either about what the new framework means to you, the potential possibilities you see going forward?</div></div></div><br/>
<div><a id="1669221969.668229"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669221969.668229" ><div class="time">2022-11-23 16:46</div></a><div class="msg">Hello, team! I am working in an enterprise environment with many teams, communicating over Kafka, using extensive and deeply nested protobufs and am trying to evaluate how difficult it would be to get Pact working with the existing stack. So I installed the <a href="https://github.com/pactflow/pact-protobuf-plugin">https://github.com/pactflow/pact-protobuf-plugin</a> using the pact-plugin-cli, and can confirm that the plugin `protobuf-0.1.17` was added to my `.pact/plugins` folder. However, running the <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf/protobuf-consumer-jvm">https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf/protobuf-consumer-jvm</a> from the `pact-plugins` repo results in the following error (for the test consumeInitPluginMessage):
```Failed to resolve parameter [au.com.dius.pact.core.model.V4Interaction$AsynchronousMessage arg0] in method [void io.pact.example.protobuf.provider.PactConsumerTest.consumeInitPluginMessage(au.com.dius.pact.core.model.V4Interaction$AsynchronousMessage) throws com.google.protobuf.InvalidProtocolBufferException]: Plugin protobuf with version any was not found```
Is the protobuf plugin from pactflow incompatible with the tests in the pact-foundation pact-plugins examples? The Readme in pact-protobuf-plugin lists it as its JVM example.

Apologies in advance if I?ve missed some critical setup step. Any help is appreciated.</div></div></div><br/>
<div><a id="1669224583.455309"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669224583.455309" ><div class="time">2022-11-23 17:29</div></a><div class="msg">Hey @elluru.kri.mohan,

It should work fine with the examples in the pact-plugin repo, there are some tests there, which are tested cross platform.

Which OS are you running?

is there any more logs from your consumer test, if you set it to debug level, as to the directory the plugins are expected to be loaded from.

I assume they were installed to your home folder, when installed with the pact-plugin-cli</div></div></div><br/>
<div><a id="1669224622.542429"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669224622.542429" ><div class="time">2022-11-23 17:30</div></a><div class="msg">It is probably something simple, or something we need to fix, probably the former, so no need to apologise :slightly_smiling_face:</div></div></div><br/>
<div><a id="1669224710.876269"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669224710.876269" ><div class="time">2022-11-23 17:31</div></a><div class="msg">I am using MAC with Intellij</div></div></div><br/>
<div><a id="1669224747.691629"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669224747.691629" ><div class="time">2022-11-23 17:32</div></a><div class="msg">I am just using the example script given in pact-protobuf-plugin to test if I can integrate my tests yet Yousaf.</div></div></div><br/>
<div><a id="1669224797.898799"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669224797.898799" ><div class="time">2022-11-23 17:33</div></a><div class="msg">[INFO]
[INFO] Results:
[INFO]
[ERROR] Failures:
[ERROR]   MessageTransformerProducerPactProtoCTest The following methods annotated with @Pact were not executed during the test: MessageTransformerProducerPactProtoCTest.initPluginMessage
If these are currently a work in progress, add a @Disabled annotation to the method
[ERROR] Errors:
[ERROR]   MessageTransformerProducerPactProtoCTest.consumeConfigureInteractionResponseMessage:101  InvalidWireType Protocol message tag had invalid wire type.
[ERROR]   MessageTransformerProducerPactProtoCTest.consumeInitPluginMessage(V4Interaction$AsynchronousMessage)  ParameterResolution Failed to resolve parameter [<a href="http://au.com">http://au.com</a>.dius.pact.core.model.V4Interaction$AsynchronousMessage arg0] in method [void <a href="http://com.hpe.gravity.cx">http://com.hpe.gravity.cx</a>.ctests.MessageTransformerProducerPactProtoCTest.consumeInitPluginMessage(<a href="http://au.com">http://au.com</a>.dius.pact.core.model.V4Interaction$AsynchronousMessage) throws com.google.protobuf.InvalidProtocolBufferException]: Plugin protobuf with version any was not found</div></div></div><br/>
<div><a id="1669224802.659919"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669224802.659919" ><div class="time">2022-11-23 17:33</div></a><div class="msg">np, I am running on a mac m1 too, I didn't use an editor to run the tests, just ran the example with `./gradle check`</div></div></div><br/>
<div><a id="1669224817.819849"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669224817.819849" ><div class="time">2022-11-23 17:33</div></a><div class="msg">I am using maven, FYI.</div></div></div><br/>
<div><a id="1669224875.706799"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669224875.706799" ><div class="time">2022-11-23 17:34</div></a><div class="msg">are you able to run this example on your machine ?

<a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf">https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf</a>

it uses gradle, just to confirm that the plugin can load, and run the example on your machine. If that does, then we narrow down to maven and look at the setup</div></div></div><br/>
<div><a id="1669224898.396369"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669224898.396369" ><div class="time">2022-11-23 17:34</div></a><div class="msg">have added
```&lt;plugin&gt;
    &lt;groupId&gt;au.com.dius.pact.provider&lt;/groupId&gt;
    &lt;artifactId&gt;maven&lt;/artifactId&gt;
    &lt;version&gt;4.1.11&lt;/version&gt;
&lt;/plugin&gt;```
as per the steps mentioned in the link and using it</div></div></div><br/>
<div><a id="1669225014.689349"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669225014.689349" ><div class="time">2022-11-23 17:36</div></a><div class="msg">Can you check if the repo works as is though</div></div></div><br/>
<div><a id="1669225154.822629"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669225154.822629" ><div class="time">2022-11-23 17:39</div></a><div class="msg">installing gradle now. i didn?t had it till now.</div></div></div><br/>
<div><a id="1669225278.144559"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669225278.144559" ><div class="time">2022-11-23 17:41</div></a><div class="msg">no worries buddy! I am not sure how to convert from a gradle to a maven project, been so long since I have created java apps from scratch, but happy to help get a maven example rocking for you and others benefit.

At least this will hopefully rule out communicating with the plugin as per the example with gradle, and then we can look at creating a maven example in the repo to test out.

If you could share a fork with the changes to the project too, I can happily pull it down and take a look :slightly_smiling_face:</div></div></div><br/>
<div><a id="1669225641.421739"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669225641.421739" ><div class="time">2022-11-23 17:47</div></a><div class="msg">Thanks for considering the same Yousaf. I am quickly checking with gradle compilation now. Will upload changes tomorrow as it is already 11PM for me :slightly_smiling_face:.</div></div></div><br/>
<div><a id="1669226292.967169"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669226292.967169" ><div class="time">2022-11-23 17:58</div></a><div class="msg">`krishnamohanelluru@Krishnas-MacBook-Pro protobuf-consumer-jvm % ./gradlew check`    

FAILURE: Build failed with an exception.

* Where:
Settings file ?/Users/krishnamohanelluru/pact/pact-plugins/examples/protobuf/protobuf-consumer-jvm/settings.gradle?

* What went wrong:
Could not compile settings file ?/Users/krishnamohanelluru/pact/pact-plugins/examples/protobuf/protobuf-consumer-jvm/settings.gradle?.
&gt; startup failed:
 General error during semantic analysis: Unsupported class file major version 62

 java.lang.IllegalArgumentException: Unsupported class file major version 62
    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)
    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)
    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)
    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)
    at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)
    at org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)</div></div></div><br/>
<div><a id="1669226647.625749"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669226647.625749" ><div class="time">2022-11-23 18:04</div></a><div class="msg">gradle --version

------------------------------------------------------------
Gradle 7.5.1
------------------------------------------------------------

Build time:  2022-08-05 21:17:56 UTC
Revision:   d1daa0cbf1a0103000b71484e1dbfe096e095918

Kotlin:    1.6.21
Groovy:    3.0.10
Ant:     Apache Ant(TM) version 1.10.11 compiled on July 10 2021
JVM:     17.0.5 (Homebrew 17.0.5+0)
OS:      Mac OS X 12.6.1 x86_64

krishnamohanelluru@Krishnas-MacBook-Pro protobuf-consumer-jvm %</div></div></div><br/>
<div><a id="1669227270.267689"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669227270.267689" ><div class="time">2022-11-23 18:14</div></a><div class="msg">@yousafn are these settings okay? Am I missing any element here to compile?</div></div></div><br/>
<div><a id="1669229087.934819"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669229087.934819" ><div class="time">2022-11-23 18:44</div></a><div class="msg">I get that if I am on the wrong java version, believe that example runs with java 11, which I am running on my machine, and it pulls down in CI

<a href="https://github.com/pact-foundation/pact-plugins/blob/main/.github/workflows/examples.yml#L82">https://github.com/pact-foundation/pact-plugins/blob/main/.github/workflows/examples.yml#L82</a></div></div></div><br/>
<div><a id="1669242497.298129"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1669242497.298129" ><div class="time">2022-11-23 22:28</div></a><div class="msg">No problem, has a great night Krishna. I think setting Java 11 will cure your gradle issue.

We will see if we can sort you out a maven example. And check if we are hard restricted to Java 11 or if you can run later versions. What version is the app you wish to target using?

</div></div></div><br/>
<div><a id="1669252882.399039"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669252882.399039" ><div class="time">2022-11-24 01:21</div></a><div class="msg">I have added Maven examples for both gRPC and plain Protobufs. See <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/consumer-maven">https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/consumer-maven</a> and <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf/protobuf-consumer-maven">https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf/protobuf-consumer-maven</a></div></div></div><br/>
<div><a id="1669264888.949379"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669264888.949379" ><div class="time">2022-11-24 04:41</div></a><div class="msg">we are planning to use java17 or java18 Yousaf.</div></div></div><br/>
<div><a id="1669264926.079529"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669264926.079529" ><div class="time">2022-11-24 04:42</div></a><div class="msg">Thank you Uglyog., Will there be any hard dependency on java version? I will check anyways.</div></div></div><br/>
<div><a id="1669265411.659449"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669265411.659449" ><div class="time">2022-11-24 04:50</div></a><div class="msg">Should work with any Java version 11+</div></div></div><br/>
<div><a id="1669285330.103029"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669285330.103029" ><div class="time">2022-11-24 10:22</div></a><div class="msg">```Getting the same error like before Uglyog. 

trace_id= span_id= 2022-11-24 02:20:00.744 GMT-08:00 [main] [ERROR] i.p.p.jvm.core.DefaultPluginManager [PluginManager.kt:525] [] - Init call to plugin protobuf failed
java.lang.RuntimeException: java.lang.NoClassDefFoundError: io/netty/channel/ChannelFactory
	at io.pact.plugins.jvm.core.Utils.handleWith(Util.kt:46)
	at io.pact.plugins.jvm.core.DefaultPluginManager.initialisePlugin(PluginManager.kt:513)
	at io.pact.plugins.jvm.core.DefaultPluginManager.loadPlugin(PluginManager.kt:290)
	at au.com.dius.pact.consumer.dsl.PactBuilder.usingPlugin(PactBuilder.kt:96)
	at au.com.dius.pact.consumer.dsl.PactBuilder.usingPlugin$default(PactBuilder.kt:93)
	at au.com.dius.pact.consumer.dsl.PactBuilder.usingPlugin(PactBuilder.kt)
	at com.hpe.gravity.cx.ctests.MessageTransformerConsumerPactProtoCTest.initPluginMessage(MessageTransformerConsumerPactProtoCTest.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)


trace_id= span_id= 2022-11-24 02:20:00.747 GMT-08:00 [main] [ERROR] a.c.d.pact.consumer.dsl.PactBuilder [PactBuilder.kt:99] [] - Init call to plugin protobuf failed: java.lang.RuntimeException: java.lang.NoClassDefFoundError: io/netty/channel/ChannelFactory
trace_id= span_id= 2022-11-24 02:20:00.753 GMT-08:00 [Thread-4] [WARN] a.com.dius.pact.core.support.Metrics [Metrics.kt:88] [] - 
            Please note: we are tracking events anonymously to gather important usage statistics like JVM version
            and operating system. To disable tracking, set the 'pact_do_not_track' system property or environment
            variable to 'true'.
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:198)
	at au.com.dius.pact.consumer.junit5.PactConsumerTestExt.lookupPact(PactConsumerTestExt.kt:387)```</div></div></div><br/>
<div><a id="1669308383.543169"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669308383.543169" ><div class="time">2022-11-24 16:46</div></a><div class="msg">if I run using mvn test is passing. I think the issue is with intellij app from my MAC..</div></div></div><br/>
<div><a id="1669347963.192489"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669347963.192489" ><div class="time">2022-11-25 03:46</div></a><div class="msg">HI @uglyog @yousafn tried creating a fresh project with the settings given in maven example, facing the error with java17..
consumeConfigureInteractionResponseMessage{AsynchronousMessage}  Time elapsed: 0.124 s  &lt;&lt;&lt; ERROR!
org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter [<a href="http://au.com">http://au.com</a>.dius.pact.core.model.V4Interaction$AsynchronousMessage message] in method [void com.pact.maven.MavenContractTests.consumeConfigureInteractionResponseMessage(<a href="http://au.com">http://au.com</a>.dius.pact.core.model.V4Interaction$AsynchronousMessage) throws com.google.protobuf.InvalidProtocolBufferException]: Failed to set the interaction: Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1
        at com.pact.maven.MavenContractTests.configureInteractionResponseMessage(MavenContractTests.java:57)</div></div></div><br/>
<div><a id="1669348204.995129"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669348204.995129" ><div class="time">2022-11-25 03:50</div></a><div class="msg">`Failed to invoke protoc binary: exit code exit status: 1` means it can't run the Protobuf compiler. What OS are you running with? Is it running within docker with Alpine Linux?</div></div></div><br/>
<div><a id="1669348237.741989"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669348237.741989" ><div class="time">2022-11-25 03:50</div></a><div class="msg">mac</div></div></div><br/>
<div><a id="1669348260.477339"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669348260.477339" ><div class="time">2022-11-25 03:51</div></a><div class="msg">mac M1 or Intel?</div></div></div><br/>
<div><a id="1669348268.677539"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669348268.677539" ><div class="time">2022-11-25 03:51</div></a><div class="msg">intel</div></div></div><br/>
<div><a id="1669348348.409009"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669348348.409009" ><div class="time">2022-11-25 03:52</div></a><div class="msg">what plugin version are you using?</div></div></div><br/>
<div><a id="1669348445.436729"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669348445.436729" ><div class="time">2022-11-25 03:54</div></a><div class="msg">you mean protobuf plugin or protoc?</div></div></div><br/>
<div><a id="1669348452.682899"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669348452.682899" ><div class="time">2022-11-25 03:54</div></a><div class="msg">protobuf plugin</div></div></div><br/>
<div><a id="1669348460.957979"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669348460.957979" ><div class="time">2022-11-25 03:54</div></a><div class="msg">0.1.17</div></div></div><br/>
<div><a id="1669348485.931749"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669348485.931749" ><div class="time">2022-11-25 03:54</div></a><div class="msg">What do you get if you run `~/.pact/plugins/protobuf-0.1.17/protoc/bin/protoc --version`</div></div></div><br/>
<div><a id="1669348491.694739"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669348491.694739" ><div class="time">2022-11-25 03:54</div></a><div class="msg">~/.pact/plugins/protobuf-0.1.17/protoc/bin/protoc --version
libprotoc 3.19.1
krishnamohanelluru@Krishnas-MacBook-Pro protobuf-provider %</div></div></div><br/>
<div><a id="1669348511.402989"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669348511.402989" ><div class="time">2022-11-25 03:55</div></a><div class="msg">Hmm, that is working ok</div></div></div><br/>
<div><a id="1669348532.824639"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669348532.824639" ><div class="time">2022-11-25 03:55</div></a><div class="msg">can you provide the plugin logs? You may need to enable debug logs in the test</div></div></div><br/>
<div><a id="1669348585.968089"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669348585.968089" ><div class="time">2022-11-25 03:56</div></a><div class="msg">okay..</div></div></div><br/>
<div><a id="1669349918.791469"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669349918.791469" ><div class="time">2022-11-25 04:18</div></a><div class="msg">2022-11-25T09:47:04.997+05:30  WARN 9816 --- [           main] i.p.p.j.core.DefaultPactPluginManifest   : args field in plugin manifest is invalid

this error rings any bell Uglyog?</div></div></div><br/>
<div><a id="1669350090.036389"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669350090.036389" ><div class="time">2022-11-25 04:21</div></a><div class="msg">No. Have you edited the plugin manifest?</div></div></div><br/>
<div><a id="1669350099.429329"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669350099.429329" ><div class="time">2022-11-25 04:21</div></a><div class="msg">no. I didn?t.</div></div></div><br/>
<div><a id="1669350168.926139"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669350168.926139" ><div class="time">2022-11-25 04:22</div></a><div class="msg">What is in the plugin manifest?</div></div></div><br/>
<div><a id="1669350484.838409"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669350484.838409" ><div class="time">2022-11-25 04:28</div></a><div class="msg">I don?t think I have seen any manifest file</div></div></div><br/>
<div><a id="1669350504.891689"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669350504.891689" ><div class="time">2022-11-25 04:28</div></a><div class="msg">09:54:32.431 [grpc-nio-worker-ELG-1-5] DEBUG io.grpc.netty.NettyClientHandler - [id: 0xfc6f1942, L:/127.0.0.1:51654 - R:/127.0.0.1:51651] OUTBOUND PING: ack=false bytes=1234
09:54:32.431 [grpc-nio-worker-ELG-1-5] DEBUG io.grpc.netty.NettyClientHandler - [id: 0xfc6f1942, L:/127.0.0.1:51654 - R:/127.0.0.1:51651] INBOUND HEADERS: streamId=9 headers=GrpcHttp2ResponseHeaders[grpc-status: 0] padding=0 endStream=true
09:54:32.432 [main] DEBUG io.pact.plugins.jvm.core.DefaultPluginManager - Got response: error: ?Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1?</div></div></div><br/>
<div><a id="1669350637.235069"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669350637.235069" ><div class="time">2022-11-25 04:30</div></a><div class="msg">what is in `~/.pact/plugins/protobuf-0.1.17/pact-plugin.json`</div></div></div><br/>
<div><a id="1669350730.876529"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669350730.876529" ><div class="time">2022-11-25 04:32</div></a><div class="msg">{?pluginInterfaceVersion?:1,?name?:?protobuf?,?version?:?0.1.17?,?executableType?:?exec?,?minimumRequiredVersion?:null,?entryPoint?:?pact-protobuf-plugin?,?entryPoints?:{},?args?:null,?dependencies?:null,?pluginConfig?:{?protocVersion?:?3.19.1",?hostToBindTo?:?127.0.0.1",?downloadUrl?:?<a href="https://github.com/protocolbuffers/protobuf/releases/download">https://github.com/protocolbuffers/protobuf/releases/download</a>?}}*%*</div></div></div><br/>
<div><a id="1669350815.128099"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669350815.128099" ><div class="time">2022-11-25 04:33</div></a><div class="msg">That has extra fields in it, compare it to <a href="https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.17/pact-plugin.json">https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.1.17/pact-plugin.json</a></div></div></div><br/>
<div><a id="1669350971.812699"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669350971.812699" ><div class="time">2022-11-25 04:36</div></a><div class="msg">I think, I found the problem for the error. I had made incorrect path reference to proto, found it from logs and fixed it. now able to compile. Sorry for the false Alarm Uglyog..</div></div></div><br/>
<div><a id="1669351513.817099"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669351513.817099" ><div class="time">2022-11-25 04:45</div></a><div class="msg">do we need to fix the error message, as it is mis-directing?</div></div></div><br/>
<div><a id="1669353232.289779"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669353232.289779" ><div class="time">2022-11-25 05:13</div></a><div class="msg">Which error are you referring to?</div></div></div><br/>
<div><a id="1669353284.483359"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669353284.483359" ><div class="time">2022-11-25 05:14</div></a><div class="msg">This one? `Got response: error: "Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1"`</div></div></div><br/>
<div><a id="1669353600.850509"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669353600.850509" ><div class="time">2022-11-25 05:20</div></a><div class="msg">yes.</div></div></div><br/>
<div><a id="1669353618.845819"><img src="https://secure.gravatar.com/avatar/aff7d118cbd91647ff74d64fa0961c7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">elluru.kri.mohan</div><a style="text-decoration: none" href="#1669353618.845819" ><div class="time">2022-11-25 05:20</div></a><div class="msg">it should probably highlight that file not found?</div></div></div><br/>
<div><a id="1669353664.576739"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1669353664.576739" ><div class="time">2022-11-25 05:21</div></a><div class="msg">Makes sense</div></div></div><br/>
<div><a id="1669909504.895379"><img src="https://avatars.slack-edge.com/2023-04-05/5087525533632_e914056bfe7293057bc6_72.png" /></a><div class="message"><div class="username">orbit</div><a style="text-decoration: none" href="#1669909504.895379" ><div class="time">2022-12-01 15:45</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1670355387.440839"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670355387.440839" ><div class="time">2022-12-06 19:36</div></a><div class="msg">Can I find a working example of Go `testing` with `pact-go` and the `pact-protobuf-plugin` somewhere?</div></div></div><br/>
<div><a id="1670359608.928889"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670359608.928889" ><div class="time">2022-12-06 20:46</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator">https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator</a>

You can run it in a killercoda here

Along with the other examples in that repo

<a href="https://killercoda.com/safdotdev/course/safacoda/grpc_quick_start">https://killercoda.com/safdotdev/course/safacoda/grpc_quick_start</a></div></div></div><br/>
<div><a id="1670359672.967319"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670359672.967319" ><div class="time">2022-12-06 20:47</div></a><div class="msg">Demos are all listed on the site in the new Pact plugins directory page 

<a href="https://docs.pact.io/plugins/directory#demos">https://docs.pact.io/plugins/directory#demos</a></div></div></div><br/>
<div><a id="1670359764.194999"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670359764.194999" ><div class="time">2022-12-06 20:49</div></a><div class="msg">Thanks a lot.</div></div></div><br/>
<div><a id="1670362190.232249"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670362190.232249" ><div class="time">2022-12-06 21:29</div></a><div class="msg">and also <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/grpc/grpc_consumer_test.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/grpc/grpc_consumer_test.go</a></div></div></div><br/>
<div><a id="1670362429.287409"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670362429.287409" ><div class="time">2022-12-06 21:33</div></a><div class="msg">The current state of my POC can be found here: <a href="https://github.com/ringods/pulumi-pact-poc">https://github.com/ringods/pulumi-pact-poc</a>
But when running `go test -v .`, I get this output:
```$ go test -v .
# <a href="http://github.com/ringods/pulumi-pact-poc.test">http://github.com/ringods/pulumi-pact-poc.test</a>
/usr/local/Cellar/go/1.19.3/libexec/pkg/tool/darwin_amd64/link: running clang failed: exit status 1
ld: warning: -no_pie is deprecated when targeting new OS versions
Undefined symbols for architecture x86_64:
  "_pactffi_verifier_add_provider_transport", referenced from:
      __cgo_6fba9656f5d3_Cfunc_pactffi_verifier_add_provider_transport in 000004.o
     (maybe you meant: __cgo_6fba9656f5d3_Cfunc_pactffi_verifier_add_provider_transport)
  "_pactffi_verifier_set_no_pacts_is_error", referenced from:
      __cgo_6fba9656f5d3_Cfunc_pactffi_verifier_set_no_pacts_is_error in 000004.o
     (maybe you meant: __cgo_6fba9656f5d3_Cfunc_pactffi_verifier_set_no_pacts_is_error)
  "_pactffi_with_header_v2", referenced from:
      __cgo_6fba9656f5d3_Cfunc_pactffi_with_header_v2 in 000003.o
     (maybe you meant: __cgo_6fba9656f5d3_Cfunc_pactffi_with_header_v2)
  "_pactffi_with_query_parameter_v2", referenced from:
      __cgo_6fba9656f5d3_Cfunc_pactffi_with_query_parameter_v2 in 000003.o
     (maybe you meant: __cgo_6fba9656f5d3_Cfunc_pactffi_with_query_parameter_v2)
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)

FAIL    <a href="http://github.com/ringods/pulumi-pact-poc">http://github.com/ringods/pulumi-pact-poc</a> [build failed]
FAIL```
I don?t really have a test yet. I?m trying to get our language host started. (FYI, language host is a Pulumi concept, see the readme of my repo)
But does this error tell you something whether I?m missing something in my setup?</div></div></div><br/>
<div><a id="1670364753.917339"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670364753.917339" ><div class="time">2022-12-06 22:12</div></a><div class="msg">Have you ran the go install command for pact to install the pre req libs? I should be in the readme on the v2 branch

Assume you are on an m1 mac? are you in rosetta mode? You prob need to be in darwin m1 mode `uname -sm` should be `arm64` i think.

You get different results using the x86_64 libs on an m1 machine</div></div></div><br/>
<div><a id="1670364817.662629"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670364817.662629" ><div class="time">2022-12-06 22:13</div></a><div class="msg">ty for sharing the link to the POC, look forward to getting the chance to glance over it

<a href="https://github.com/pact-foundation/pact-go/tree/2.x.x#installation">https://github.com/pact-foundation/pact-go/tree/2.x.x#installation</a></div></div></div><br/>
<div><a id="1670365815.123179"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670365815.123179" ><div class="time">2022-12-06 22:30</div></a><div class="msg">it should work in rosetta mode and in pure M1 mode.

But that does look like maybe you have an old library</div></div></div><br/>
<div><a id="1670365830.163699"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670365830.163699" ><div class="time">2022-12-06 22:30</div></a><div class="msg">running `pact-go install -f` should force install the latest version</div></div></div><br/>
<div><a id="1670421888.021239"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670421888.021239" ><div class="time">2022-12-07 14:04</div></a><div class="msg">@yousafn I?m still on an Intel Mac.</div></div></div><br/>
<div><a id="1670422041.920909"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670422041.920909" ><div class="time">2022-12-07 14:07</div></a><div class="msg">Doesn?t help. I ran these 2 commands directly one after the other:
```$ pact-go -l DEBUG install -f
2022/12/07 15:04:09 [INFO] downloading library from <a href="https://github.com/pact-foundation/pact-reference/releases/download/libpact_ffi-v0.3.2/libpact_ffi-osx-x86_64.dylib.gz">https://github.com/pact-foundation/pact-reference/releases/download/libpact_ffi-v0.3.2/libpact_ffi-osx-x86_64.dylib.gz</a> to /usr/local/lib/libpact_ffi.dylib
&amp;{}
2022/12/07 15:04:11 [DEBUG] obtaining hash for file /usr/local/lib/libpact_ffi.dylib
2022/12/07 15:04:11 [DEBUG] writing config {map[libpact_ffi:{libpact_ffi 0.3.2 d6503769896eecbc027815d20aff19c3}]}
2022/12/07 15:04:11 [DEBUG] writing yaml config to file libraries:
  libpact_ffi:
    libname: libpact_ffi
    version: 0.3.2
    hash: d6503769896eecbc027815d20aff19c3

2022/12/07 15:04:11 [INFO] setting install_name on library libpact_ffi for osx
2022/12/07 15:04:16 [DEBUG] output from command []
2022/12/07 15:04:16 [INFO] package libpact_ffi found
2022/12/07 15:04:16 [INFO] checking version 0.3.2 of libpact_ffi against semver constraint &gt;= 0.3.0, &lt; 1.0.0
2022/12/07 15:04:16 [DEBUG] 0.3.2 satisfies constraints 0.3.2 &gt;= 0.3.0, &lt; 1.0.0
2022/12/07 15:04:16 [INFO] package libpact_ffi is correctly installed
2022/12/07 15:04:16 [DEBUG] skip checking ffi version() call because FFI not loaded. This is expected when running the 'pact-go' command.
Time: 0h:00m:07s                                                                                                                                                                                                                                                                                       

$ go test -v .
# <a href="http://github.com/ringods/pulumi-pact-poc.test">http://github.com/ringods/pulumi-pact-poc.test</a>
/usr/local/Cellar/go/1.19.3/libexec/pkg/tool/darwin_amd64/link: running clang failed: exit status 1
ld: warning: -no_pie is deprecated when targeting new OS versions
Undefined symbols for architecture x86_64:
  "_pactffi_verifier_add_provider_transport", referenced from:
      __cgo_6fba9656f5d3_Cfunc_pactffi_verifier_add_provider_transport in 000004.o
     (maybe you meant: __cgo_6fba9656f5d3_Cfunc_pactffi_verifier_add_provider_transport)
  "_pactffi_verifier_set_no_pacts_is_error", referenced from:
      __cgo_6fba9656f5d3_Cfunc_pactffi_verifier_set_no_pacts_is_error in 000004.o
     (maybe you meant: __cgo_6fba9656f5d3_Cfunc_pactffi_verifier_set_no_pacts_is_error)
  "_pactffi_with_header_v2", referenced from:
      __cgo_6fba9656f5d3_Cfunc_pactffi_with_header_v2 in 000003.o
     (maybe you meant: __cgo_6fba9656f5d3_Cfunc_pactffi_with_header_v2)
  "_pactffi_with_query_parameter_v2", referenced from:
      __cgo_6fba9656f5d3_Cfunc_pactffi_with_query_parameter_v2 in 000003.o
     (maybe you meant: __cgo_6fba9656f5d3_Cfunc_pactffi_with_query_parameter_v2)
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)

FAIL    <a href="http://github.com/ringods/pulumi-pact-poc">http://github.com/ringods/pulumi-pact-poc</a> [build failed]
FAIL
Time: 0h:00m:05s                                                                                                                                                                                                                                                                                       ```
For your information:
```$ ls -lsa /usr/local/lib/libpact_ffi.dylib
43392 -rw-------  1 ringods  staff  22214200  7 Dec 15:04 /usr/local/lib/libpact_ffi.dylib```</div></div></div><br/>
<div><a id="1670424424.846449"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670424424.846449" ><div class="time">2022-12-07 14:47</div></a><div class="msg">:thinking_face: hmmm weird! It has downloaded the correct x86_64 binary for the intel platform, but this line here

`/usr/local/Cellar/go/1.19.3/libexec/pkg/tool/darwin_amd64/link` shows `darwin_amd64`

I've had it running on my m1 mac, I've got an intel mac (although it's a hackintosh) will test on there today at some point (might take a little while, as I haven't used the machine in quite a while)

Which version of `pact-go` are you using?

The pact ffi version is `0.3.2` - Pact-go on v2.0.0-beta.16 <a href="https://github.com/pact-foundation/pact-go/releases/tag/v2.0.0-beta.16">https://github.com/pact-foundation/pact-go/releases/tag/v2.0.0-beta.16</a> is using `0.3.15`</div></div></div><br/>
<div><a id="1670424750.867059"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670424750.867059" ><div class="time">2022-12-07 14:52</div></a><div class="msg">```? go version
go version go1.19.3 darwin/arm64```
Just pulled the latest pact-go to install the latest binary on my m1, had to sudo as install doesn't have perms to write to `/usr/local/lib`</div></div></div><br/>
<div><a id="1670424913.513429"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670424913.513429" ><div class="time">2022-12-07 14:55</div></a><div class="msg">Running your POC on the m1 :+1:</div></div></div><br/>
<div><a id="1670425376.390759"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670425376.390759" ><div class="time">2022-12-07 15:02</div></a><div class="msg">So I think the issue is your FFI lib is too old

<a href="https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.3.2">https://github.com/pact-foundation/pact-reference/releases/tag/libpact_ffi-v0.3.2</a>

latest is <a href="https://github.com/pact-foundation/pact-reference/releases?q=%22Pact+FFI+Library%22&amp;expanded=true">https://github.com/pact-foundation/pact-reference/releases?q=%22Pact+FFI+Library%22&amp;expanded=true</a>

quite a few changes, not sure these should have all gone under patch tho :thinking_face:</div></div></div><br/>
<div><a id="1670426348.651939"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670426348.651939" ><div class="time">2022-12-07 15:19</div></a><div class="msg">```$ pact-go version
Pact Go CLI v2.0.0-beta.11%```</div></div></div><br/>
<div><a id="1670426888.293559"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670426888.293559" ><div class="time">2022-12-07 15:28</div></a><div class="msg">with pact-go on beta17, reinstalling the ffi lib, it indeed gives a better outcome! Tnx for the help!</div></div></div><br/>
<div><a id="1670430923.914839"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1670430923.914839" ><div class="time">2022-12-07 16:35</div></a><div class="msg">awesome good news buddy, best of luck!</div></div></div><br/>
<div><a id="1670447683.751109"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670447683.751109" ><div class="time">2022-12-07 21:14</div></a><div class="msg">If I get this error, where do I have to look for that control character?
```2022-12-07T21:11:27.659360Z ERROR ThreadId(01) pact_ffi::plugins: Contents is not a valid JSON - control character (\u0000-\u001F) found while parsing a string at line 7 column 0
2022-12-07T21:11:27.659383Z ERROR ThreadId(01) pact_ffi::plugins: contents='{
                "pact:proto": "/Users/ringods/Projects/pulumi/pulumi-pact-poc/proto/pulumi/resource.proto",
                "pact:proto-service": "ResourceMonitor/RegisterResource",
                "pact:content-type": "application/protobuf",
                "request": {
                        "type": "matching(string),
                        "name": "matching(string),
                        "parent": "matching(string),
                        "custom": "matching(boolean),
                },
                "response": {
                        "urn": "matching(string)",
                }
        }'```
</div></div></div><br/>
<div><a id="1670447752.469669"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670447752.469669" ><div class="time">2022-12-07 21:15</div></a><div class="msg">Ouch? after posting I see I didn?t close the double quotes on the request matchers.</div></div></div><br/>
<div><a id="1670447952.025529"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670447952.025529" ><div class="time">2022-12-07 21:19</div></a><div class="msg">Any idea on this?
```2022-12-07T21:16:20.081180Z ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - Request to configure interaction failed: Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1```
It is available:
```$ which protoc
/usr/local/bin/protoc```</div></div></div><br/>
<div><a id="1670448115.767519"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670448115.767519" ><div class="time">2022-12-07 21:21</div></a><div class="msg">Could this be because I made an error in my grpc interaction and it might not comply to the spec?</div></div></div><br/>
<div><a id="1670448823.832189"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1670448823.832189" ><div class="time">2022-12-07 21:33</div></a><div class="msg">The protoc binary exited with an error code. It should have printed out an error message, which will be in the logs</div></div></div><br/>
<div><a id="1670448954.805199"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670448954.805199" ><div class="time">2022-12-07 21:35</div></a><div class="msg">Here is the full output I have on my console:
```$ go test -v .
=== RUN   TestUserAPIClient
2022/12/07 22:32:54 [DEBUG] pact synchronous message validate config
2022/12/07 22:32:54 [DEBUG] initialising native interface
2022/12/07 22:32:54 [DEBUG] log_to_stdout res 0
2022/12/07 22:32:54 [DEBUG] add sync message
2022-12-07T21:32:54.911626Z  WARN tokio-runtime-worker pact_plugin_driver::metrics: 

Please note:
We are tracking this plugin load anonymously to gather important usage statistics.
To disable tracking, set the 'pact_do_not_track' environment variable to 'true'.


2022-12-07T21:32:55.485108Z ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - Request to configure interaction failed: Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1
2022/12/07 22:32:55 [DEBUG] mock server starting on address: 127.0.0.1 0
2022-12-07T21:32:55.487658Z ERROR ThreadId(01) pactffi_create_mock_server_for_transport{pact=PactHandle { pact_ref: 1 } addr=0x101708190 port=0 transport=0x1017043c0 transport_config=0x101706330}: pact_ffi::mock_server: Failed to start mock server - Mock server failed to start: Failed to start gRPC mock server: Pact file does not contain any Protobuf descriptors
2022/12/07 22:32:55 unable to start plugin transport: unable to start the mock server
FAIL    <a href="http://github.com/ringods/pulumi-pact-poc">http://github.com/ringods/pulumi-pact-poc</a>      0.934s
FAIL
Time: 0h:00m:03s                                                                                                                                                                              ```</div></div></div><br/>
<div><a id="1670449008.589819"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670449008.589819" ><div class="time">2022-12-07 21:36</div></a><div class="msg">Repo is here: <a href="https://github.com/ringods/pulumi-pact-poc">https://github.com/ringods/pulumi-pact-poc</a></div></div></div><br/>
<div><a id="1670449783.839159"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1670449783.839159" ><div class="time">2022-12-07 21:49</div></a><div class="msg">Ok, what OS are you running? Is this running in Docker?</div></div></div><br/>
<div><a id="1670456506.765359"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670456506.765359" ><div class="time">2022-12-07 23:41</div></a><div class="msg">Yes, I need to improve the validation on this Ringo, thanks for reminding me</div></div></div><br/>
<div><a id="1670456547.815839"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670456547.815839" ><div class="time">2022-12-07 23:42</div></a><div class="msg">Oh, Ron did actually create the issue for me: <a href="https://github.com/pact-foundation/pact-go/issues/250">https://github.com/pact-foundation/pact-go/issues/250</a>.</div></div></div><br/>
<div><a id="1670456618.062679"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670456618.062679" ><div class="time">2022-12-07 23:43</div></a><div class="msg">Ringo - could please check the logs of the protobuf plugin to see if anything else is in there?

It should be `~/.pact/plugins/protobuf-0.1.xxx/log/plugin.log.*`</div></div></div><br/>
<div><a id="1670456736.607229"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670456736.607229" ><div class="time">2022-12-07 23:45</div></a><div class="msg">Thanks for your help Yousaf, and sorry for the pain Ringo - when in doubt, upgrade :stuck_out_tongue:</div></div></div><br/>
<div><a id="1670484024.325209"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670484024.325209" ><div class="time">2022-12-08 07:20</div></a><div class="msg">@matt.fellows only two lines in the log file:
```2022-12-08T07:19:42.612162Z ERROR tokio-runtime-worker pact_protobuf_plugin::server: Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1
2022-12-08T07:19:42.623750Z ERROR tokio-runtime-worker pact_protobuf_plugin::server: Failed to start gRPC mock server: Pact file does not contain any Protobuf descriptors```</div></div></div><br/>
<div><a id="1670535650.337119"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1670535650.337119" ><div class="time">2022-12-08 21:40</div></a><div class="msg">If you enable TRACE level logging, it will print out the command it is trying to execute</div></div></div><br/>
<div><a id="1670565486.207619"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670565486.207619" ><div class="time">2022-12-09 05:58</div></a><div class="msg">I?ve noticed a bug in the way logging is handled in Go - having to set an env var and use `SetLogLevel` is not the intention, I?ll fix that shortly.</div></div></div><br/>
<div><a id="1670571850.804199"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670571850.804199" ><div class="time">2022-12-09 07:44</div></a><div class="msg">Where/how should I configure the TRACE level logging? Any pointer to a doc page describing that?</div></div></div><br/>
<div><a id="1670576614.035459"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1670576614.035459" ><div class="time">2022-12-09 09:03</div></a><div class="msg">Just on the go but I'll push up a fix tonight. Exporting the following should work though: `export LOG_LEVEL=trace`

(I think it's currently mentioned in the troubleshooting guide)</div></div></div><br/>
<div><a id="1670580729.993219"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670580729.993219" ><div class="time">2022-12-09 10:12</div></a><div class="msg">Found the problem:
```2022-12-09T10:06:12.991143Z TRACE tokio-runtime-worker request{method=POST uri=<a href="http://127.0.0.1:52887/io.pact.plugin.PactPlugin/ConfigureInteraction">http://127.0.0.1:52887/io.pact.plugin.PactPlugin/ConfigureInteraction</a> version=HTTP/2.0 headers={"te": "trailers", "content-type": "application/grpc", "authorization": Sensitive, "user-agent": "tonic/0.8.2"}}: pact_protobuf_plugin::protoc: Invoking protoc: Command { std: "./protoc/bin/protoc" "-o/Users/ringods/.pact/plugins/protobuf-0.2.0/tmp/.tmpN76QN0" "-I/Users/ringods/Projects/pulumi/pulumi-pact-poc/proto/pulumi" "--include_imports" "/Users/ringods/Projects/pulumi/pulumi-pact-poc/proto/pulumi/language.proto" "-Iprotoc/include", kill_on_drop: false }
2022-12-09T10:06:13.024890Z DEBUG tokio-runtime-worker request{method=POST uri=<a href="http://127.0.0.1:52887/io.pact.plugin.PactPlugin/ConfigureInteraction">http://127.0.0.1:52887/io.pact.plugin.PactPlugin/ConfigureInteraction</a> version=HTTP/2.0 headers={"te": "trailers", "content-type": "application/grpc", "authorization": Sensitive, "user-agent": "tonic/0.8.2"}}: pact_protobuf_plugin::protoc: Protoc output: 
2022-12-09T10:06:13.024927Z DEBUG tokio-runtime-worker request{method=POST uri=<a href="http://127.0.0.1:52887/io.pact.plugin.PactPlugin/ConfigureInteraction">http://127.0.0.1:52887/io.pact.plugin.PactPlugin/ConfigureInteraction</a> version=HTTP/2.0 headers={"te": "trailers", "content-type": "application/grpc", "authorization": Sensitive, "user-agent": "tonic/0.8.2"}}: pact_protobuf_plugin::protoc: Protoc stderr: pulumi/plugin.proto: File not found.```
The main protobuf file in `./proto/pulumi/language.go` imports `pulumi/plugin.proto`, but to resolve this correctly, I need to be able to configure the include path from `"-I/Users/ringods/Projects/pulumi/pulumi-pact-poc/proto/pulumi"` to just `"-I/Users/ringods/Projects/pulumi/pulumi-pact-poc/proto"`  (e.g. drop the last part `pulumi` from the path.
Can I do that?</div></div></div><br/>
<div><a id="1670795617.067119"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1670795617.067119" ><div class="time">2022-12-11 21:53</div></a><div class="msg">You can add additional includes in the plugin manifest file, under `pluginConfig`, see <a href="https://github.com/pactflow/pact-protobuf-plugin#configuration">https://github.com/pactflow/pact-protobuf-plugin#configuration</a></div></div></div><br/>
<div><a id="1670941902.422599"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670941902.422599" ><div class="time">2022-12-13 14:31</div></a><div class="msg">@uglyog that?s good for now. IMO this should be a project-level configuration though.</div></div></div><br/>
<div><a id="1670943348.057869"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670943348.057869" ><div class="time">2022-12-13 14:55</div></a><div class="msg">I?m struggling to express the correct grpc interaction message in my test. With a proto file containing this:
```service LanguageRuntime {
    // About returns information about the runtime for this language.
    rpc About(google.protobuf.Empty) returns (AboutResponse) {}
}

// AboutResponse returns runtime information about the language.
message AboutResponse {
    string executable = 1; // the primary executable for the runtime of this language.
    string version = 2; // the version of the runtime for this language.
    map&lt;string, string&gt; metadata = 3; // other information about this language.
}```
I have this as my `grpcInteration` object so far:
```	grpcInteraction := `{
		"pact:proto": "` + filepath.ToSlash(dir) + `",
		"pact:proto-service": "LanguageRuntime/About",
		"pact:content-type": "application/protobuf",
		"request": {
		},
		"response": {
			"executable": "matching(type, 'pulumi')",
			"version": "matching(type, '3.48.0')",
			"metadata": {
				"matching(type, 'someKey')": "matching(type, 'somevalue')"
			}
		}
	}````
The error I get is this, and I get head nor tail to it:
```2022-12-13T14:51:19.060937Z ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - Request to configure interaction failed: Failed to process protobuf: For message fields, you need to define a Map of expected fields, got String("matching(type, 'somevalue')")```
I tried various things already for the free form `metadata` field so far, but to no avail. I haven?t found any example which has a `map` in the proto file that I can copy from. What is the correct way to write this?</div></div></div><br/>
<div><a id="1670945071.175569"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1670945071.175569" ><div class="time">2022-12-13 15:24</div></a><div class="msg">Or is this one of the unsupported features for now?
&gt; ? Map fields with scalar keys.
<a href="https://github.com/pactflow/pact-protobuf-plugin#unsupported-features">https://github.com/pactflow/pact-protobuf-plugin#unsupported-features</a></div></div></div><br/>
<div><a id="1670968628.297869"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1670968628.297869" ><div class="time">2022-12-13 21:57</div></a><div class="msg">I'll play around with it, see what is going on</div></div></div><br/>
<div><a id="1671402579.629379"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1671402579.629379" ><div class="time">2022-12-18 22:29</div></a><div class="msg">FYI have created <a href="https://github.com/pactflow/pact-protobuf-plugin/issues/17">https://github.com/pactflow/pact-protobuf-plugin/issues/17</a> to track this. I got a similar feedback from another user via a DM last week</div></div></div><br/>
<div><a id="1671442895.745029"><img src="https://secure.gravatar.com/avatar/1a55bb139469d64b279f19065c7b4062.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">nathan.deamer</div><a style="text-decoration: none" href="#1671442895.745029" ><div class="time">2022-12-19 09:41</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1671487947.628759"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1671487947.628759" ><div class="time">2022-12-19 22:12</div></a><div class="msg">The correct form would be something like:
`"metadata": "eachKey(matching(type, 'someKey')), eachValue(matching(type, 'somevalue'))"`</div></div></div><br/>
<div><a id="1671792852.737059"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1671792852.737059" ><div class="time">2022-12-23 10:54</div></a><div class="msg">Thanks for this. I upgraded to pact-protobuf-plugin v0.2.4.</div></div></div><br/>
<div><a id="1671792884.457589"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1671792884.457589" ><div class="time">2022-12-23 10:54</div></a><div class="msg">Code updated.</div></div></div><br/>
<div><a id="1671799890.860909"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1671799890.860909" ><div class="time">2022-12-23 12:51</div></a><div class="msg">When writing <a href="https://github.com/ringods/pulumi-pact-poc/blob/50edb90931a6e71129530480a4632d42f12f82d0/single_resource_test.go#L29-L47">https://github.com/ringods/pulumi-pact-poc/blob/50edb90931a6e71129530480a4632d42f12f82d0/single_resource_test.go#L29-L47</a>, what format am I actually using? This doesn?t seem to be according the <a href="https://github.com/pact-foundation/pact-specification/tree/version-3">https://github.com/pact-foundation/pact-specification/tree/version-3</a> or <a href="https://github.com/pact-foundation/pact-specification/tree/version-4">https://github.com/pact-foundation/pact-specification/tree/version-4</a>. Is there any documentation on what I have to write in my Go pact test for protobufs? Still struggling to get something working. :pray:</div></div></div><br/>
<div><a id="1671799951.289129"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1671799951.289129" ><div class="time">2022-12-23 12:52</div></a><div class="msg">My current problem is finding out how to get resolve this:
```2022-12-23T12:39:38.876907Z ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - Request to configure interaction failed: Failed to process protobuf: Error: Expected a comma, got ')'
   ??[expression:1:17]
   ?
 1 ? matching(boolean)
                    ?  
                    ??? Expected a comma before this
????```</div></div></div><br/>
<div><a id="1671805978.098989"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1671805978.098989" ><div class="time">2022-12-23 14:32</div></a><div class="msg">Should be matching(boolean, true)</div></div></div><br/>
<div><a id="1671805993.298839"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1671805993.298839" ><div class="time">2022-12-23 14:33</div></a><div class="msg"><a href="https://docs.pact.io/implementation_guides/pact_plugins/docs/matching-rule-definition-expressions#expressions">https://docs.pact.io/implementation_guides/pact_plugins/docs/matching-rule-definition-expressions#expressions</a></div></div></div><br/>
<div><a id="1671806009.427199"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1671806009.427199" ><div class="time">2022-12-23 14:33</div></a><div class="msg">Or false depending on what val you want :)</div></div></div><br/>
<div><a id="1671811235.528469"><img src="https://secure.gravatar.com/avatar/d8e1c13e4abc601309eba4dd2ee3bc4c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">ringo</div><a style="text-decoration: none" href="#1671811235.528469" ><div class="time">2022-12-23 16:00</div></a><div class="msg">Thanks @yousafn, that seemed to be the documentation page I didn?t find.</div></div></div><br/>
<div><a id="1671825534.555529"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1671825534.555529" ><div class="time">2022-12-23 19:58</div></a><div class="msg">My pleasure Ringo, yeah it probably needs to be more prominent and linked to example uses in code. </div></div></div><br/>
<div><a id="1671844880.283649"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1671844880.283649" ><div class="time">2022-12-24 01:21</div></a><div class="msg">I wonder if we could link to the expression guide in that error @uglyog?

or it might just be simpler to improve the plugin getting started guide for users (not authors which we spent a little more the on recently)

I think the error message is really good, but obviously if you didn't know the language in the first place that doesn't help!</div></div></div><br/>
<div><a id="1672105076.021459"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1672105076.021459" ><div class="time">2022-12-27 01:37</div></a><div class="msg">That's a good idea</div></div></div><br/>
<div><a id="1673341666.874819"><img src="https://avatars.slack-edge.com/2022-02-21/3129880168582_1a2255b131c9376b2951_72.jpg" /></a><div class="message"><div class="username">jeroen.vandijk</div><a style="text-decoration: none" href="#1673341666.874819" ><div class="time">2023-01-10 09:07</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1673825762.156209"><img src="https://secure.gravatar.com/avatar/d3bf5021a6760e047fb5d13333c81caa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">sandy.oberoi</div><a style="text-decoration: none" href="#1673825762.156209" ><div class="time">2023-01-15 23:36</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1674004434.027879"><img src="https://secure.gravatar.com/avatar/d3bf5021a6760e047fb5d13333c81caa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">sandy.oberoi</div><a style="text-decoration: none" href="#1674004434.027879" ><div class="time">2023-01-18 01:13</div></a><div class="msg">*Context*
I am trying to write pact test for a producer/consumer setup where messages are consumed from a kinesis stream. The messages are defined in protobuf schema

*Current State*
I have the consumer side of the test working which is generating a pact json

*Issue*
I am struggling to write a test for the provider as am not sure how to setup it up. I tried following some examples provided in github but could not set it up for protobuf messages. Any help/pointers would be appriciated

I am uisng pact-go (v2.0.0-beta.17) and protobuf plugin (0.2.4)</div></div></div><br/>
<div><a id="1674004881.584859"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1674004881.584859" ><div class="time">2023-01-18 01:21</div></a><div class="msg">Have a look at this example: <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf/protobuf-provider">https://github.com/pact-foundation/pact-plugins/tree/main/examples/protobuf/protobuf-provider</a></div></div></div><br/>
<div><a id="1674013496.006959"><img src="https://secure.gravatar.com/avatar/d3bf5021a6760e047fb5d13333c81caa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">sandy.oberoi</div><a style="text-decoration: none" href="#1674013496.006959" ><div class="time">2023-01-18 03:44</div></a><div class="msg">thank I will try this out. But as I understand this will require a call to cli to verify the message. I was hoping to be able to setup the test similar to <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/provider_test.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/provider_test.go</a> where the verification could be done in the test itself.</div></div></div><br/>
<div><a id="1674014148.200209"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1674014148.200209" ><div class="time">2023-01-18 03:55</div></a><div class="msg">@matt.fellows may be able to help here. But you'll need to provide the errors you are getting.</div></div></div><br/>
<div><a id="1674024887.778649"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1674024887.778649" ><div class="time">2023-01-18 06:54</div></a><div class="msg">Yes please. I think the standard message interface is the way to go, but it?s possible the types are not going to allow an `[]byte` , which is probably going to be needed for that</div></div></div><br/>
<div><a id="1674057574.492529"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1674057574.492529" ><div class="time">2023-01-18 15:59</div></a><div class="msg">I have a grpc interaction which validates token. The token gets passed in header and hence request is empty. Looks like when request is empty, pact plugin is not working. I am getting an error as below. Can someone please help ?

```Error:      	Received unexpected error:
        	    retreived an empty message```
```UsingPlugin(message.PluginConfig{
			Plugin:  "protobuf",
			Version: "0.2.4",
		}).```</div></div></div><br/>
<div><a id="1674076690.896359"><img src="https://avatars.slack-edge.com/2022-06-08/3641985330595_c13084492ddd51522418_72.jpg" /></a><div class="message"><div class="username">hazem</div><a style="text-decoration: none" href="#1674076690.896359" ><div class="time">2023-01-18 21:18</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1674080402.566349"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1674080402.566349" ><div class="time">2023-01-18 22:20</div></a><div class="msg">Is the token being pass in gRPC metadata, or as an HTTP header?</div></div></div><br/>
<div><a id="1674084108.085719"><img src="https://secure.gravatar.com/avatar/d3bf5021a6760e047fb5d13333c81caa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">sandy.oberoi</div><a style="text-decoration: none" href="#1674084108.085719" ><div class="time">2023-01-18 23:21</div></a><div class="msg">I have the provider test setup using the `VerifyProvider`, and defined a `MessageHandler` that returns back a constructed event and the required `contentType` in `Metadata`
when I run the test I get below error
```1) Verifying a pact between Consumer and Provider Given event processing for transaction - an event for transaction processing
    1.1) has a matching body
           expected 'application/protobuf;message=Event' body but was 'application/json;charset=utf-8' ```</div></div></div><br/>
<div><a id="1674133226.512789"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1674133226.512789" ><div class="time">2023-01-19 13:00</div></a><div class="msg">It gets passed in metadata</div></div></div><br/>
<div><a id="1674145965.231629"><img src="https://secure.gravatar.com/avatar/aeb46ae1f1a26bc0b940535421d9f7d8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /></a><div class="message"><div class="username">anhtvuong</div><a style="text-decoration: none" href="#1674145965.231629" ><div class="time">2023-01-19 16:32</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1674455286.404899"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1674455286.404899" ><div class="time">2023-01-23 06:28</div></a><div class="msg">Thanks. Looks like we need to support the correct content type.

Could you please raise a bug for us to fix?</div></div></div><br/>
<div><a id="1674483118.946529"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1674483118.946529" ><div class="time">2023-01-23 14:11</div></a><div class="msg">@uglyog can you help me with this ? Our team is looking to use grpc contract testing and we are stuck with  this issue.</div></div></div><br/>
<div><a id="1674484313.672209"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1674484313.672209" ><div class="time">2023-01-23 14:31</div></a><div class="msg">I think this is an issue i brought up with @matt.fellows and he pointed me to this existing issue: <a href="https://github.com/pact-foundation/pact-go/issues/250">https://github.com/pact-foundation/pact-go/issues/250</a>  I added a comment on the issue with a bit of detail</div></div></div><br/>
<div><a id="1674569833.661779"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1674569833.661779" ><div class="time">2023-01-24 14:17</div></a><div class="msg">Thanks @jason.taylor2 for pointing out the issue. @uglyog @matt.fellows Could you please let us know when can we expect a fix for this ?</div></div></div><br/>
<div><a id="1674709869.661469"><img src="https://secure.gravatar.com/avatar/d3bf5021a6760e047fb5d13333c81caa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" /></a><div class="message"><div class="username">sandy.oberoi</div><a style="text-decoration: none" href="#1674709869.661469" ><div class="time">2023-01-26 05:11</div></a><div class="msg">Thanks @matt.fellows. I noticed there is a similar bug that was opened yesterday: <a href="https://github.com/pact-foundation/pact-go/issues/263">https://github.com/pact-foundation/pact-go/issues/263</a>
Checking if this is related above? if not I can open a new one</div></div></div><br/>
<div><a id="1674777664.448889"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1674777664.448889" ><div class="time">2023-01-27 00:01</div></a><div class="msg">I think this is separate, as it relates to the use of messages. If they are the same I can merge, but a bug report with your setup would be really helpful thanks!</div></div></div><br/>
<div><a id="1675097750.099299"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675097750.099299" ><div class="time">2023-01-30 16:55</div></a><div class="msg">@uglyog @matt.fellows can you provide us any update ?</div></div></div><br/>
<div><a id="1675112778.890109"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675112778.890109" ><div class="time">2023-01-30 21:06</div></a><div class="msg">I?m confused Sathish. Are you trying to send an empty request? The above issue is where there is no request being sent</div></div></div><br/>
<div><a id="1675112969.191349"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675112969.191349" ><div class="time">2023-01-30 21:09</div></a><div class="msg">Actually we are sending empty request. proto file is something like below.

message ValidateToken {
}</div></div></div><br/>
<div><a id="1675226696.697899"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675226696.697899" ><div class="time">2023-02-01 04:44</div></a><div class="msg">Can you please share what the code would look like that needs to be supported?</div></div></div><br/>
<div><a id="1675276113.139119"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1675276113.139119" ><div class="time">2023-02-01 18:28</div></a><div class="msg">i think it is simply this?
```	grpcInteraction := `{
		"pact:content-type": "application/protobuf",
		"request": {
		},```</div></div></div><br/>
<div><a id="1675276125.207069"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1675276125.207069" ><div class="time">2023-02-01 18:28</div></a><div class="msg">all fields are optional, no fields passed in request</div></div></div><br/>
<div><a id="1675300648.511159"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675300648.511159" ><div class="time">2023-02-02 01:17</div></a><div class="msg">so are you expecting a response with a token or something, is that the use case? I?m confused about how the token is being sent across the wire?</div></div></div><br/>
<div><a id="1675300695.395719"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675300695.395719" ><div class="time">2023-02-02 01:18</div></a><div class="msg">Token is sent in metadata and the request is empty </div></div></div><br/>
<div><a id="1675300995.632299"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675300995.632299" ><div class="time">2023-02-02 01:23</div></a><div class="msg">gRPC empty request with metadata containing token is sent on the wire, the gRPC response will contain response based on token validation</div></div></div><br/>
<div><a id="1675301832.865119"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675301832.865119" ><div class="time">2023-02-02 01:37</div></a><div class="msg">I?m just struggling with the metadata bit. It might be outside of my knowledge - where is the metadata specified? In the plugin json configuration or something?</div></div></div><br/>
<div><a id="1675302028.584269"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1675302028.584269" ><div class="time">2023-02-02 01:40</div></a><div class="msg">It is the message metadata that is mapped to the gRPC metadata. I.e. the key-values that can be associated with the RPC call (not encoded in the body which is represented by the proto file.</div></div></div><br/>
<div><a id="1675302062.913819"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1675302062.913819" ><div class="time">2023-02-02 01:41</div></a><div class="msg"><a href="https://grpc.io/docs/what-is-grpc/core-concepts/#metadata">https://grpc.io/docs/what-is-grpc/core-concepts/#metadata</a></div></div></div><br/>
<div><a id="1675302865.715979"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675302865.715979" ><div class="time">2023-02-02 01:54</div></a><div class="msg">Yeah it would look something like below:

```"pact:proto": "` + path + `",
		"pact:proto-service": "Service/ValidateToken",
		"pact:content-type": "application/protobuf",
		"request": {
		},
		"metadata" : {
			"Auth": "matching(type, 'value')"
		}```</div></div></div><br/>
<div><a id="1675351635.151099"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1675351635.151099" ><div class="time">2023-02-02 15:27</div></a><div class="msg">i think the metadata aspect can be ignored - i don?t think it is relevant.</div></div></div><br/>
<div><a id="1675351898.618129"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675351898.618129" ><div class="time">2023-02-02 15:31</div></a><div class="msg">Its not relevant to the issue here yep ! </div></div></div><br/>
<div><a id="1675352280.097519"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1675352280.097519" ><div class="time">2023-02-02 15:38</div></a><div class="msg">so here is the diff for the example grpc consumer in pact-go that demonstrates the issue:
``` import (
@@ -37,8 +34,6 @@ func TestGrpcInteraction(t *testing.T) {
                "pact:proto-service": "RouteGuide/GetFeature",
                "pact:content-type": "application/protobuf",
                "request": {
-                       "latitude": "matching(number, 180)",
-                       "longitude": "matching(number, 200)"
                },
                "response": {```</div></div></div><br/>
<div><a id="1675352323.054579"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1675352323.054579" ><div class="time">2023-02-02 15:38</div></a><div class="msg">trying to run the consumer:
```$ go test .
2023-02-02T15:38:13.418161Z  WARN tokio-runtime-worker pact_plugin_driver::metrics: 

Please note:
We are tracking this plugin load anonymously to gather important usage statistics.
To disable tracking, set the 'pact_do_not_track' environment variable to 'true'.


--- FAIL: TestGrpcInteraction (0.66s)
    grpc_consumer_test.go:89: 
                Error Trace:    grpc_consumer_test.go:89
                Error:          Received unexpected error:
                                retreived an empty message
                Test:           TestGrpcInteraction
FAIL
FAIL    <a href="http://github.com/pact-foundation/pact-go/v2/examples/grpc">http://github.com/pact-foundation/pact-go/v2/examples/grpc</a>     0.670s
FAIL```</div></div></div><br/>
<div><a id="1675393241.865289"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1675393241.865289" ><div class="time">2023-02-03 03:00</div></a><div class="msg">I have released version 0.2.5 of the plugin with a fix for the empty message issue</div></div></div><br/>
<div><a id="1675406012.362339"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675406012.362339" ><div class="time">2023-02-03 06:33</div></a><div class="msg">Awesome, thanks Ron</div></div></div><br/>
<div><a id="1675406031.152419"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675406031.152419" ><div class="time">2023-02-03 06:33</div></a><div class="msg">I think the issue is in the protobuf plugin, but if it?s in Go I can fix. Would you mind please re-testing with the latest plugin?</div></div></div><br/>
<div><a id="1675433725.122319"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675433725.122319" ><div class="time">2023-02-03 14:15</div></a><div class="msg">Great thanks @uglyog @matt.fellows yes we will retest it and post here</div></div></div><br/>
<div><a id="1675436307.486839"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1675436307.486839" ><div class="time">2023-02-03 14:58</div></a><div class="msg">looks like still getting error with newer plugin:
```$ ~/.pact/bin/pact-plugin-cli list
?????????????????????????????????????????????????????????????????????????????????????????????
? Name     ? Version ? Interface Version ? Directory                              ? Status  ?
?????????????????????????????????????????????????????????????????????????????????????????????
? protobuf ? 0.2.5   ? 1                 ? /home/dev/.pact/plugins/protobuf-0.2.5 ? enabled ?
?????????????????????????????????????????????????????????????????????????????????????????????
(.venv) dev ? ~/ws/pact-go/examples/grpc (2.x.x ?) $ go test -v .
=== RUN   TestGrpcInteraction
2023-02-03T14:31:21.293882Z  WARN tokio-runtime-worker pact_plugin_driver::metrics: 

Please note:
We are tracking this plugin load anonymously to gather important usage statistics.
To disable tracking, set the 'pact_do_not_track' environment variable to 'true'.


    grpc_consumer_test.go:89: 
                Error Trace:    grpc_consumer_test.go:89
                Error:          Received unexpected error:
                                retreived an empty message
                Test:           TestGrpcInteraction
--- FAIL: TestGrpcInteraction (0.65s)
FAIL
FAIL    <a href="http://github.com/pact-foundation/pact-go/v2/examples/grpc">http://github.com/pact-foundation/pact-go/v2/examples/grpc</a>     0.652s
FAIL```</div></div></div><br/>
<div><a id="1675436545.535579"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675436545.535579" ><div class="time">2023-02-03 15:02</div></a><div class="msg">Interestingly it works with version: v2.0.0-beta.14.0.20221026030030-3bb31bcc34a1

But does not work with version:  v2.0.0-beta.17.0.20221222235702-6e805a539d1b - which has provider_state capability</div></div></div><br/>
<div><a id="1675436753.650239"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675436753.650239" ><div class="time">2023-02-03 15:05</div></a><div class="msg">@matt.fellows we might need fix from go as well to add both provider_state and fix for empty request</div></div></div><br/>
<div><a id="1675475430.030729"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1675475430.030729" ><div class="time">2023-02-04 01:50</div></a><div class="msg">I tested Go, but I may have had the older version</div></div></div><br/>
<div><a id="1675693337.415139"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675693337.415139" ><div class="time">2023-02-06 14:22</div></a><div class="msg">ah cool, yeah if newer version is made available that would be great.</div></div></div><br/>
<div><a id="1675738861.032959"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675738861.032959" ><div class="time">2023-02-07 03:01</div></a><div class="msg">Taking a look now gents</div></div></div><br/>
<div><a id="1675741179.889719"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675741179.889719" ><div class="time">2023-02-07 03:39</div></a><div class="msg">OK looks like I had a check when fetching the bodies that threw an error if it was of zero-length. The latest in the 2.x.x should allow that use case. I?m not quite sure of the side effects of that change as this is on the boundary between Golang and the shared library. I think it?s a valid scenario though, and it was just too cautious type guarding on my part</div></div></div><br/>
<div><a id="1675788772.979449"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1675788772.979449" ><div class="time">2023-02-07 16:52</div></a><div class="msg">Ok yeah it works now thanks @matt.fellows @uglyog</div></div></div><br/>
<div><a id="1675825611.859549"><img src="https://secure.gravatar.com/avatar/aeb46ae1f1a26bc0b940535421d9f7d8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /></a><div class="message"><div class="username">anhtvuong</div><a style="text-decoration: none" href="#1675825611.859549" ><div class="time">2023-02-08 03:06</div></a><div class="msg">Is it true that protobuf-plugin requires protobuf proto3, which requires schema-registry to work? Is there a good local docker schema-registry image I can use?
I use  confluentinc/cp-schema-registry:7.3.1 from docker-compose.yml and <a href="https://github.com/codingharbour/kafka-protobuf.git">https://github.com/codingharbour/kafka-protobuf.git</a> but ProtobufProducer and ProtobufConsumer don't work with schema-registry via <a href="http://localhost:8081">http://localhost:8081</a>. I verify that kafka container can produce and consume messages, and it receives protobuf from ProtobufProducer.</div></div></div><br/>
<div><a id="1675825944.764179"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1675825944.764179" ><div class="time">2023-02-08 03:12</div></a><div class="msg">Yes, protobuf plugin only supports proto3.</div></div></div><br/>
<div><a id="1675840368.818869"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675840368.818869" ><div class="time">2023-02-08 07:12</div></a><div class="msg">I don?t think we have integrated to the schema registry. Is that a requirement to use proto3? I don?t think so.

I assume you?re referring to Kafka though, but I?m still unsure why the schema registry would be part of a pact test</div></div></div><br/>
<div><a id="1675871592.711799"><img src="https://secure.gravatar.com/avatar/aeb46ae1f1a26bc0b940535421d9f7d8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png" /></a><div class="message"><div class="username">anhtvuong</div><a style="text-decoration: none" href="#1675871592.711799" ><div class="time">2023-02-08 15:53</div></a><div class="msg">Yes, kafka with protobuf proto3 will talk to schema-registry to create/retrieve schema id for both consumer and producer to handle compatibility.</div></div></div><br/>
<div><a id="1675907087.936039"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1675907087.936039" ><div class="time">2023-02-09 01:44</div></a><div class="msg">Do your tests need to include that part? Presumably you could reduce the scope of your tests?

Have you looked at how message pact works? (see :point_down: howtomessagepact)</div></div></div><br/>
<div><a id="1675907088.566839"><img src="" /></a><div class="message"><div class="username"></div><a style="text-decoration: none" href="#1675907088.566839" ><div class="time">2023-02-09 01:44</div></a><div class="msg"><a href="https://docs.pact.io/getting_started/how_pact_works#how-to-write-message-pact-tests">https://docs.pact.io/getting_started/how_pact_works#how-to-write-message-pact-tests</a></div></div></div><br/>
<div><a id="1676399111.859389"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1676399111.859389" ><div class="time">2023-02-14 18:25</div></a><div class="msg">Looks like metadata support has been added to latest plugin: <a href="https://github.com/pactflow/pact-protobuf-plugin/releases/tag/v-0.3.0">https://github.com/pactflow/pact-protobuf-plugin/releases/tag/v-0.3.0</a>. Does pact-go requires any modification to get the plugin working or latest commit should work ?</div></div></div><br/>
<div><a id="1676412913.049729"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1676412913.049729" ><div class="time">2023-02-14 22:15</div></a><div class="msg">It will need an update to Pact-Go. We are going to release a Pact-JVM update first, and then one for Pact-Go</div></div></div><br/>
<div><a id="1676413197.533859"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1676413197.533859" ><div class="time">2023-02-14 22:19</div></a><div class="msg">Thanks @uglyog! Could you please let me know if we can expect the release for Go in the coming months or will it be a little longer ?</div></div></div><br/>
<div><a id="1676413702.079299"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1676413702.079299" ><div class="time">2023-02-14 22:28</div></a><div class="msg">coming months!! :rolling_on_the_floor_laughing: it will probably be done next week</div></div></div><br/>
<div><a id="1676413784.732909"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1676413784.732909" ><div class="time">2023-02-14 22:29</div></a><div class="msg">:grinning: thanks, we are looking to check it out using Go soon :slightly_smiling_face:</div></div></div><br/>
<div><a id="1676421245.904589"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1676421245.904589" ><div class="time">2023-02-15 00:34</div></a><div class="msg">If Ron makes it easy for me, we should be able to turn it around quickly :stuck_out_tongue:</div></div></div><br/>
<div><a id="1676999614.369429"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1676999614.369429" ><div class="time">2023-02-21 17:13</div></a><div class="msg">looks like the `pact-plugin.json` version bump was missed?
```~/.pact/bin/pact-plugin-cli install <a href="https://github.com/pactflow/pact-protobuf-plugin/releases/tag/v-0.3.0">https://github.com/pactflow/pact-protobuf-plugin/releases/tag/v-0.3.0</a>
Installing plugin protobuf version 0.2.6
Downloaded <a href="https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.3.0/pact-protobuf-plugin-linux-x86_64.gz">https://github.com/pactflow/pact-protobuf-plugin/releases/download/v-0.3.0/pact-protobuf-plugin-linux-x86_64.gz</a> to /home/dev/.pact/plugins/protobuf-0.2.6/pact-protobuf-plugin-linux-x86_64.gz```</div></div></div><br/>
<div><a id="1677017079.723369"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1677017079.723369" ><div class="time">2023-02-21 22:04</div></a><div class="msg">I'm so sorry about that! I have fixed the manifest.</div></div></div><br/>
<div><a id="1677069825.818649"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1677069825.818649" ><div class="time">2023-02-22 12:43</div></a><div class="msg">no worries - just confused me for about 15m when i upgraded and the cli was still claiming 0.2.6 :rolling_on_the_floor_laughing:</div></div></div><br/>
<div><a id="1677601107.022419"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1677601107.022419" ><div class="time">2023-02-28 16:18</div></a><div class="msg">I am back :stuck_out_tongue: could you please let me know if we have an update on the metadata support in go ?</div></div></div><br/>
<div><a id="1677626815.206979"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1677626815.206979" ><div class="time">2023-02-28 23:26</div></a><div class="msg">Welcome back :slightly_smiling_face:</div></div></div><br/>
<div><a id="1677626862.006339"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1677626862.006339" ><div class="time">2023-02-28 23:27</div></a><div class="msg">I need to chat with Ron on what is required and what a good interface in Go should be. Last I spoke with him we are going to use an existing FFI function for the purpose, so it?s probably just a bit of wiring that is needed</div></div></div><br/>
<div><a id="1677640889.276449"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1677640889.276449" ><div class="time">2023-03-01 03:21</div></a><div class="msg">Thanks @matt.fellows ! we are eagerly waiting to start using it :slightly_smiling_face: Can we expect it in the next couple of weeks ? Not to push you but just asking :grinning: </div></div></div><br/>
<div><a id="1677762585.194749"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1677762585.194749" ><div class="time">2023-03-02 13:09</div></a><div class="msg">I'll raise it at planning tomorrow and let you know. Love the enthusiasm :wink:</div></div></div><br/>
<div><a id="1677784266.632269"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1677784266.632269" ><div class="time">2023-03-02 19:11</div></a><div class="msg">Great thanks Matt, looking forward to hear the update!</div></div></div><br/>
<div><a id="1678179849.863539"><img src="https://secure.gravatar.com/avatar/09f85c0796a2ef8527fe6248a5827e76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">varnit.garg2424</div><a style="text-decoration: none" href="#1678179849.863539" ><div class="time">2023-03-07 09:04</div></a><div class="msg">Hello guys, I need some suggestions, feel free to bash at me if you think it?s a bad idea :smile:

So, we are working on the creation of GRPC-based micro-services using Golang.
The thing is, we haven?t created a consumer service yet, rather, we built a cli-based application that would act as a client for now. And the provider service is almost developed.
I want to test the provider service, so I?m wondering what happens if I write the pact file manually, pass it to the provider service -&gt; spin up the provider and run pact tests to make sure that provider is able to handle the requests.
And we will later replace the ?mocked? pact file with a real one generated by the consumer in the future. I understand that it?s a kind of hacky way to test out the provider?s service, can you please provide your opinions on that?
(My goal here is not to test the contract or integration between two services, rather, I just want to make sure that my provider service works correctly - I assume that if we go this way, then it will be easy in the future to extend the tests to test the integration with consumers)</div></div></div><br/>
<div><a id="1678186218.311299"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678186218.311299" ><div class="time">2023-03-07 10:50</div></a><div class="msg">I wouldn?t say it?s a bad idea, but just note that Pact is not really a functional testing tool. You should probably still do additional checks - e.g. side effects etc.</div></div></div><br/>
<div><a id="1678187076.850079"><img src="https://secure.gravatar.com/avatar/09f85c0796a2ef8527fe6248a5827e76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">varnit.garg2424</div><a style="text-decoration: none" href="#1678187076.850079" ><div class="time">2023-03-07 11:04</div></a><div class="msg">Thanks for your response. Yes I understand that pact is not meant for functional testing. However, in my case provider service doesn?t even have any db. 
Just need to ensure that the service works in a nutshell. 
</div></div></div><br/>
<div><a id="1678188189.490859"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1678188189.490859" ><div class="time">2023-03-07 11:23</div></a><div class="msg">I agree with Matt - depending on what you?re doing, this might be ok (or not).</div></div></div><br/>
<div><a id="1678204609.287739"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678204609.287739" ><div class="time">2023-03-07 15:56</div></a><div class="msg">Hi Folks, we have a proto file which imports another proto for validation. Does this chaining of proto files supported with grpc plugin ? Is there a way I can make it work since its failing ?</div></div></div><br/>
<div><a id="1678228189.292779"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678228189.292779" ><div class="time">2023-03-07 22:29</div></a><div class="msg"><a href="https://github.com/pactflow/pact-protobuf-plugin/#additionalincludes-string-or-liststring">https://github.com/pactflow/pact-protobuf-plugin/#additionalincludes-string-or-liststring</a></div></div></div><br/>
<div><a id="1678228200.146019"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678228200.146019" ><div class="time">2023-03-07 22:30</div></a><div class="msg">that what you?re looking for?</div></div></div><br/>
<div><a id="1678228359.410399"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678228359.410399" ><div class="time">2023-03-07 22:32</div></a><div class="msg">can the additional proto file be passed here ? </div></div></div><br/>
<div><a id="1678228439.973189"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678228439.973189" ><div class="time">2023-03-07 22:33</div></a><div class="msg">I believe that?s the purpose of it, yes</div></div></div><br/>
<div><a id="1678228451.435779"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678228451.435779" ><div class="time">2023-03-07 22:34</div></a><div class="msg">Something like below:

syntax = "proto3";
import "validate.proto";

message Test {
   Any var1 = 1;
}

where validate.proto is another proto file </div></div></div><br/>
<div><a id="1678228462.890009"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678228462.890009" ><div class="time">2023-03-07 22:34</div></a><div class="msg">Oh cool will give it a try thanks </div></div></div><br/>
<div><a id="1678228976.319379"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1678228976.319379" ><div class="time">2023-03-07 22:42</div></a><div class="msg">Those should be the directories the proto files are in</div></div></div><br/>
<div><a id="1678230880.351519"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678230880.351519" ><div class="time">2023-03-07 23:14</div></a><div class="msg">How can i get the matching working for array containing strings inside a grpc request ? I tried eachValue but i am not sure if i am doing it right ! Basically I would like to check all values inside an array are strings : ["data1", "data2"] ! </div></div></div><br/>
<div><a id="1678237907.141219"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678237907.141219" ><div class="time">2023-03-08 01:11</div></a><div class="msg">See the `phones` example here: <a href="https://github.com/pactflow/pact-protobuf-plugin/#the-protobuf-test-configuration">https://github.com/pactflow/pact-protobuf-plugin/#the-protobuf-test-configuration</a></div></div></div><br/>
<div><a id="1678239998.811819"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678239998.811819" ><div class="time">2023-03-08 01:46</div></a><div class="msg">Thanks Matt! I was looking at how to add it from go side . Do you have a similar example ? <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/grpc/grpc_consumer_test.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/grpc/grpc_consumer_test.go</a> </div></div></div><br/>
<div><a id="1678249830.635049"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678249830.635049" ><div class="time">2023-03-08 04:30</div></a><div class="msg">I don?t sorry</div></div></div><br/>
<div><a id="1678283424.178219"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678283424.178219" ><div class="time">2023-03-08 13:50</div></a><div class="msg">Ah ok ! No problem ! Thanks </div></div></div><br/>
<div><a id="1678297752.831359"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678297752.831359" ><div class="time">2023-03-08 17:49</div></a><div class="msg">Please let me know when you have an example from the go side so we could implement it :slightly_smiling_face:</div></div></div><br/>
<div><a id="1678304520.195649"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678304520.195649" ><div class="time">2023-03-08 19:42</div></a><div class="msg">That works thanks @uglyog @matt.fellows</div></div></div><br/>
<div><a id="1678387720.211109"><img src="https://avatars.slack-edge.com/2023-01-30/4718471522837_8b2ccb3e3b5583230d9e_72.jpg" /></a><div class="message"><div class="username">andy.jenness</div><a style="text-decoration: none" href="#1678387720.211109" ><div class="time">2023-03-09 18:48</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1678402206.753769"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678402206.753769" ><div class="time">2023-03-09 22:50</div></a><div class="msg">I saw pact-plugin-cli-v0.0.5 yesterday which is not there anymore. Has it been pulled back ?</div></div></div><br/>
<div><a id="1678402350.807229"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1678402350.807229" ><div class="time">2023-03-09 22:52</div></a><div class="msg">0.0.4 is the latest version</div></div></div><br/>
<div><a id="1678402386.873669"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678402386.873669" ><div class="time">2023-03-09 22:53</div></a><div class="msg">oh ok thanks.</div></div></div><br/>
<div><a id="1678402622.868609"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678402622.868609" ><div class="time">2023-03-09 22:57</div></a><div class="msg">I had the `additionalIncludes`  working but does not work with 0.0.4.</div></div></div><br/>
<div><a id="1678402944.958419"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1678402944.958419" ><div class="time">2023-03-09 23:02</div></a><div class="msg">`additionalIncludes` is for the plugin, not `pact-plugin-cli`</div></div></div><br/>
<div><a id="1678403157.210689"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678403157.210689" ><div class="time">2023-03-09 23:05</div></a><div class="msg">Sorry i must have changed something on my end. I was testing with different versions of pact-plugin-cli and pact-plugin and must have confused between the two. Will troubleshoot more. Thanks</div></div></div><br/>
<div><a id="1678418980.417019"><img src="https://secure.gravatar.com/avatar/fad193f2a66e87f193ba520db07e3726.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">pjayakumar</div><a style="text-decoration: none" href="#1678418980.417019" ><div class="time">2023-03-10 03:29</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1678419106.105169"><img src="https://secure.gravatar.com/avatar/fad193f2a66e87f193ba520db07e3726.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">pjayakumar</div><a style="text-decoration: none" href="#1678419106.105169" ><div class="time">2023-03-10 03:31</div></a><div class="msg">Hi All. I am looking for some examples for pact contract testing gRPC *bi-directional streaming* services. Can you please advise if this is supported at the moment? if yes, can you please point me to some examples? Thanks!</div></div></div><br/>
<div><a id="1678751227.649829"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678751227.649829" ><div class="time">2023-03-13 23:47</div></a><div class="msg">@uglyog I actually have forgotten how we support this, if we do.

Would we recommend people create two separate tests? One for the consumer initiated request and another for provider initiated?

IIUC streaming is really just an open pipe where consumers/providers can communicate. It doesn?t imply a given / when / then scenario.</div></div></div><br/>
<div><a id="1678752772.066679"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1678752772.066679" ><div class="time">2023-03-14 00:12</div></a><div class="msg">I haven't really thought through what bi-directional streaming means in a Pact context. My assumption was that it can be reduced to a few Pact tests for the different types of messages, as streaming is just a transport concern. I was waiting for some examples of how people would use this.

If we look at bi-directional streaming in general (not gRPC specific), I think there would be a couple of different use cases:
1. 1-1: (I assume this is the general case) the requests and responses are sent as required, but they are correlated. I.e. As users need to be provisioned , the consumer sends a ProvisionUserMessage (there can be multiple of theses at any time), and when the work is done, the provider sends back ProvisionedUserStatus messages. I can see a single Pact test needed to test a correctly formed  ProvisionUserMessage results in a correctly formed ProvisionedUserStatus message.
2. 1-n: the consumer can send any number of messages, but each one is correlated to a number of response messages. I guess a query for documents would be this type of interaction. Again a single Pact test is needed here.
3. n-m: This is one I'm unsure of. The consumer can send a number of messages, and each group is correlated to a number of response messages. We don't support this type of interaction.
4. n/m: Again, I'm unsure if anyone will use this option. The consumer sends messages as needed, and the provider sends messages as needed, and there is no correlation. I.e. consumer sends events to provider, and provider sends events to consumer. These can probably just be reduced to two async message Pact tests, one for C -&gt; P and one for P -&gt; C</div></div></div><br/>
<div><a id="1678752900.756289"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1678752900.756289" ><div class="time">2023-03-14 00:15</div></a><div class="msg">The gRPC plugin does not support streaming connections at the moment</div></div></div><br/>
<div><a id="1678765212.033049"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678765212.033049" ><div class="time">2023-03-14 03:40</div></a><div class="msg">That?s helpful context, thanks Ron</div></div></div><br/>
<div><a id="1678765221.511619"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1678765221.511619" ><div class="time">2023-03-14 03:40</div></a><div class="msg">What?s your use case Prashanth?</div></div></div><br/>
<div><a id="1678765764.379189"><img src="https://secure.gravatar.com/avatar/fad193f2a66e87f193ba520db07e3726.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">pjayakumar</div><a style="text-decoration: none" href="#1678765764.379189" ><div class="time">2023-03-14 03:49</div></a><div class="msg">thanks for the inputs @uglyog and @matt.fellows. I think our use case falls under  `1-n`  category specified above. On every consumer request message, server sends a bunch of correlated messages.</div></div></div><br/>
<div><a id="1678845981.373789"><img src="https://secure.gravatar.com/avatar/fad193f2a66e87f193ba520db07e3726.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" /></a><div class="message"><div class="username">pjayakumar</div><a style="text-decoration: none" href="#1678845981.373789" ><div class="time">2023-03-15 02:06</div></a><div class="msg">cc: @manishmitraba</div></div></div><br/>
<div><a id="1678845999.780469"><img src="https://avatars.slack-edge.com/2022-12-01/4469268056513_4e393deddbfc43e6d4a9_72.png" /></a><div class="message"><div class="username">manishmitraba</div><a style="text-decoration: none" href="#1678845999.780469" ><div class="time">2023-03-15 02:06</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1678848447.055049"><img src="https://secure.gravatar.com/avatar/944fb18a2f432afa6174e40c1ab07d54.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" /></a><div class="message"><div class="username">sbanerjee</div><a style="text-decoration: none" href="#1678848447.055049" ><div class="time">2023-03-15 02:47</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1678881387.495749"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1678881387.495749" ><div class="time">2023-03-15 11:56</div></a><div class="msg">@matt.fellows Any update regarding metadata support ?</div></div></div><br/>
<div><a id="1679347229.446389"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1679347229.446389" ><div class="time">2023-03-20 21:20</div></a><div class="msg">@matt.fellows can you help me on how i can achieve this ? Dont need a full blown example, but If you can paste matchers here to achieve this, it would be helpful.</div></div></div><br/>
<div><a id="1679407503.652179"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1679407503.652179" ><div class="time">2023-03-21 14:05</div></a><div class="msg">Whats the proper way to use matcher for matching eachValue inside a list of items. I have a grpc request where one of the field value is a list of items. I am looking to properly match eachValue inside the list. The below does not seem to work. could someone please help ?

"item": ['somevalue1', 'somevalue2']

`"item": "eachValue(matching(type, 'value'))"`</div></div></div><br/>
<div><a id="1679437380.489539"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1679437380.489539" ><div class="time">2023-03-21 22:23</div></a><div class="msg">In what way does it not seem to work?</div></div></div><br/>
<div><a id="1679441337.050579"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1679441337.050579" ><div class="time">2023-03-21 23:28</div></a><div class="msg">Here is the error i am getting from pact-plugin

`pact_protobuf_plugin::mock_service: Failed to match the request message - BodyMismatches({"$.item": [BodyMismatch { path: "$.item[0]", expected: Some(b""), actual: Some(b"00000000000000000000000000000000"), mismatch: "Unable to match '' using EachValue(MatchingRuleDefinition { value: \"00000000000000000000000000000000\", value_type: Unknown, rules: [Left(Type)], generator: None })" }]})`</div></div></div><br/>
<div><a id="1679442317.234349"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1679442317.234349" ><div class="time">2023-03-21 23:45</div></a><div class="msg">Looks like it might be a bug with the EachValue matcher, I'll have to investigate</div></div></div><br/>
<div><a id="1679442996.738859"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1679442996.738859" ><div class="time">2023-03-21 23:56</div></a><div class="msg">Thanks @uglyog I have opened an issue with pact-plugin here: <a href="https://github.com/pact-foundation/pact-plugins/issues/22">https://github.com/pact-foundation/pact-plugins/issues/22</a></div></div></div><br/>
<div><a id="1679568876.068029"><img src="https://avatars.slack-edge.com/2023-03-23/5000052034724_ff7ce1f5ad41a74a0c95_72.jpg" /></a><div class="message"><div class="username">me1685</div><a style="text-decoration: none" href="#1679568876.068029" ><div class="time">2023-03-23 10:54</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1679645780.280819"><img src="https://secure.gravatar.com/avatar/2ab8caad1fe0d42a1d6433dc089fd908.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png" /></a><div class="message"><div class="username">praveen.em</div><a style="text-decoration: none" href="#1679645780.280819" ><div class="time">2023-03-24 08:16</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1679883416.813779"><img src="https://avatars.slack-edge.com/2021-12-07/2811126406884_3d53063d4e70aca30af5_72.jpg" /></a><div class="message"><div class="username">sahoo.skumar</div><a style="text-decoration: none" href="#1679883416.813779" ><div class="time">2023-03-27 02:16</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1679884786.848139"><img src="https://avatars.slack-edge.com/2021-12-07/2811126406884_3d53063d4e70aca30af5_72.jpg" /></a><div class="message"><div class="username">sahoo.skumar</div><a style="text-decoration: none" href="#1679884786.848139" ><div class="time">2023-03-27 02:39</div></a><div class="msg">The pact contract test for protobuf is running inside a container, the setup is absolutely fine and proper  PACT_PLUGIN_DIR is set.  The same test running fine without container, while running inside container the test is not getting  protobuf plugin, Could some one help on this
```26-03-2023 19:33:22.140 [main] ERROR au.com.dius.pact.consumer.dsl.PactBuilder.100 - Plugin process did not output the correct startup message in 10000 ms - got null
26-03-2023 19:33:32.308 [main] ERROR au.com.dius.pact.consumer.dsl.PactBuilder.100 - Plugin process did not output the correct startup message in 10000 ms - got null
[ERROR] Tests run: 3, Failures: 1, Errors: 2, Skipped: 0, Time elapsed: 21.991 s &lt;&lt;&lt; FAILURE! - in com.hpe.gravity.clientstats.ctest.ApplicationCTest
[ERROR] consumeConfigureClientStateMessage{AsynchronousMessage}  Time elapsed: 11.769 s  &lt;&lt;&lt; ERROR!
org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter [au.com.dius.pact.core.model.V4Interaction$AsynchronousMessage message] in method [void com.hpe.gravity.clientstats.ctest.ApplicationCTest.consumeConfigureClientStateMessage(au.com.dius.pact.core.model.V4Interaction$AsynchronousMessage) throws com.google.protobuf.InvalidProtocolBufferException]: Plugin protobuf with version any was not found
        at com.hpe.gravity.clientstats.ctest.ApplicationCTest.configureClientStateMessage(ApplicationCTest.java:75)```</div></div></div><br/>
<div><a id="1679885198.671549"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1679885198.671549" ><div class="time">2023-03-27 02:46</div></a><div class="msg">Startup the container with a shell, and see if you can run the plugin executable</div></div></div><br/>
<div><a id="1681133500.061919"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681133500.061919" ><div class="time">2023-04-10 13:31</div></a><div class="msg">I am looking to understand why `_id` and `key` fields change every time a pact is created although the contents dint change. This causes the webhook to be triggered unnecessarily every time the pact is published.

```"interactions": [
    {
      "_id": "face3451319bf15d8cfaf1f93e432678bca8361b",
      "description": "Service - Validate",
      "interactionMarkup": {
        ...
      },
      "key": "2e869fcb0c3c9cc9",
      "pluginConfiguration": {
        "protobuf": {
          ...
        }
      },```
```"interactions": [
    {
      "_id": "a2678b2644ff530989b539be273597a32f9aa6e6",
      "description": "Service - Validate",
      "interactionMarkup": {
        ...
      },
      "key": "9b0ae9c547c8b847",
      "pluginConfiguration": {
        "protobuf": {
          ...
        }
      },```</div></div></div><br/>
<div><a id="1681138747.630849"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1681138747.630849" ><div class="time">2023-04-10 14:59</div></a><div class="msg">are you providing example values?</div></div></div><br/>
<div><a id="1681155020.928689"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681155020.928689" ><div class="time">2023-04-10 19:30</div></a><div class="msg">The two interactions above are real pact generated by consumer test. Check out the `_id` and `key` values which are different.</div></div></div><br/>
<div><a id="1681162244.299489"><img src="https://avatars.slack-edge.com/2018-06-18/383099788962_f8a3efa7488b02d0dfb8_72.png" /></a><div class="message"><div class="username">tjones</div><a style="text-decoration: none" href="#1681162244.299489" ><div class="time">2023-04-10 21:30</div></a><div class="msg">can you share your consumer test, please</div></div></div><br/>
<div><a id="1681163591.948079"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681163591.948079" ><div class="time">2023-04-10 21:53</div></a><div class="msg">Its written in golang following similar pattern here: <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/grpc/grpc_consumer_test.go">https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/grpc/grpc_consumer_test.go</a></div></div></div><br/>
<div><a id="1681164588.414439"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681164588.414439" ><div class="time">2023-04-10 22:09</div></a><div class="msg">Also am not sure if these two fields can cause pact content to be changed causing webhook to be triggered </div></div></div><br/>
<div><a id="1681169026.825039"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1681169026.825039" ><div class="time">2023-04-10 23:23</div></a><div class="msg">`_id` is generated by the Pact broker, I think it may just be a random key, but it could maybe be generated on the contents.

`key` is a unique key for the interaction, and will be generated from the contents of the interaction if not provided.

Because `key` is changing, it means your interaction contents are different.</div></div></div><br/>
<div><a id="1681173699.208859"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681173699.208859" ><div class="time">2023-04-11 00:41</div></a><div class="msg">Interesting as i compared the two pacts which are identical but yet pact broker thinks they are different </div></div></div><br/>
<div><a id="1681173741.875419"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681173741.875419" ><div class="time">2023-04-11 00:42</div></a><div class="msg">The only difference i see is the 'key' and '_id' </div></div></div><br/>
<div><a id="1681174959.434149"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1681174959.434149" ><div class="time">2023-04-11 01:02</div></a><div class="msg">It might be <a href="https://github.com/pact-foundation/pact-go/issues/230">https://github.com/pact-foundation/pact-go/issues/230</a></div></div></div><br/>
<div><a id="1681175082.814599"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681175082.814599" ><div class="time">2023-04-11 01:04</div></a><div class="msg">Ah yes this could be it </div></div></div><br/>
<div><a id="1681175182.486469"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1681175182.486469" ><div class="time">2023-04-11 01:06</div></a><div class="msg">Just looking into that now Sathish</div></div></div><br/>
<div><a id="1681175209.893629"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1681175209.893629" ><div class="time">2023-04-11 01:06</div></a><div class="msg">I suspect the `_id` changing is not relevant to the problem, but the `key` would definitely trigger a ?change?</div></div></div><br/>
<div><a id="1681175260.800089"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681175260.800089" ><div class="time">2023-04-11 01:07</div></a><div class="msg">yeah looks like it, we never set this value for rest or kafka interactions where it works fine </div></div></div><br/>
<div><a id="1681187016.910309"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1681187016.910309" ><div class="time">2023-04-11 04:23</div></a><div class="msg">FYI updated the issue above - looks like I?ve reproduced it in Go</div></div></div><br/>
<div><a id="1681187020.910269"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1681187020.910269" ><div class="time">2023-04-11 04:23</div></a><div class="msg">Now to see if I can do the same in the core</div></div></div><br/>
<div><a id="1681370927.922319"><img src="https://avatars.slack-edge.com/2023-04-13/5103206833890_a3f1849bcc04bb0a65ef_72.png" /></a><div class="message"><div class="username">gopijaganathan7</div><a style="text-decoration: none" href="#1681370927.922319" ><div class="time">2023-04-13 07:28</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1681441995.399369"><img src="https://avatars.slack-edge.com/2021-12-07/2811126406884_3d53063d4e70aca30af5_72.jpg" /></a><div class="message"><div class="username">sahoo.skumar</div><a style="text-decoration: none" href="#1681441995.399369" ><div class="time">2023-04-14 03:13</div></a><div class="msg">Thanks, we observed there was issued with the permission, after fixing it started working</div></div></div><br/>
<div><a id="1681526326.413579"><img src="https://avatars.slack-edge.com/2021-12-07/2811126406884_3d53063d4e70aca30af5_72.jpg" /></a><div class="message"><div class="username">sahoo.skumar</div><a style="text-decoration: none" href="#1681526326.413579" ><div class="time">2023-04-15 02:38</div></a><div class="msg">Hi @*Sathish Sundararajan*  do you have any example of *additionalIncludes, I am unable to make it work*</div></div></div><br/>
<div><a id="1681698654.416279"><img src="https://avatars.slack-edge.com/2021-12-07/2811126406884_3d53063d4e70aca30af5_72.jpg" /></a><div class="message"><div class="username">sahoo.skumar</div><a style="text-decoration: none" href="#1681698654.416279" ><div class="time">2023-04-17 02:30</div></a><div class="msg">Hi All, is there any working example available for "additionalIncludes", I am trying to use additionalIncludes to use protos those are imported
I am struggling to make it work, I am using protobuf-0.3.0, Any help would be great</div></div></div><br/>
<div><a id="1681848056.743189"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1681848056.743189" ><div class="time">2023-04-18 20:00</div></a><div class="msg">@sahoo.skumar You pass in the directory of where the proto file decides, then it will work.</div></div></div><br/>
<div><a id="1681912086.687329"><img src="https://avatars.slack-edge.com/2023-04-07/5080715303556_616bd4370a68542f5472_72.png" /></a><div class="message"><div class="username">jan.krolikowski</div><a style="text-decoration: none" href="#1681912086.687329" ><div class="time">2023-04-19 13:48</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1682326674.982669"><img src="https://avatars.slack-edge.com/2021-12-07/2811126406884_3d53063d4e70aca30af5_72.jpg" /></a><div class="message"><div class="username">sahoo.skumar</div><a style="text-decoration: none" href="#1682326674.982669" ><div class="time">2023-04-24 08:57</div></a><div class="msg">using "additionalIncludes" for setting imported proto working in protobuf-0.3.0 version, Thanks</div></div></div><br/>
<div><a id="1683072112.539109"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1683072112.539109" ><div class="time">2023-05-03 00:01</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1683072151.267509"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1683072151.267509" ><div class="time">2023-05-03 00:02</div></a><div class="msg">Cross posting this question here:
<a href="https://pact-foundation.slack.com/archives/C9UTHTFFB/p1683054915705669">https://pact-foundation.slack.com/archives/C9UTHTFFB/p1683054915705669</a></div></div></div><br/>
<div><a id="1683833366.662129"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1683833366.662129" ><div class="time">2023-05-11 19:29</div></a><div class="msg">Hi, do we support reading from protobuf descriptor set binary file instead of raw `.proto` files? (Looks like we only take `-I` <a href="https://github.com/pactflow/pact-protobuf-plugin/blob/9c075769a5b5d2d09c500b850930e6011a6b66ad/src/protoc.rs#L87">https://github.com/pactflow/pact-protobuf-plugin/blob/9c075769a5b5d2d09c500b850930e6011a6b66ad/src/protoc.rs#L87</a>, but not `--descriptor_set_in` so I assume it?s not supported today, if that?s the case is there a plan to support it?)</div></div></div><br/>
<div><a id="1683851988.402579"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1683851988.402579" ><div class="time">2023-05-12 00:39</div></a><div class="msg">Another question:
In the matcher do we support list of enums?
```  "request": {
    "states": [
      "matching(equalTo, 'ENUM_VAL_1')"
    ]
  },```
I?m getting this error --- is it because enum is not added to <a href="https://github.com/pactflow/pact-protobuf-plugin/blob/9c075769a5b5d2d09c500b850930e6011a6b66ad/src/message_decoder/mod.rs#L334">https://github.com/pactflow/pact-protobuf-plugin/blob/9c075769a5b5d2d09c500b850930e6011a6b66ad/src/message_decoder/mod.rs#L334</a>?
```Failed to match the request message - BodyMismatches({"$.states": [BodyMismatch { path: "$.states[0]", expected: Some(b"ENUM_VAL_1"), actual: Some(b"0102"), mismatch: "Expected and actual field have different types: 1:(states, Varint, Enum) = ENUM_VAL_1 and 1:(states, LengthDelimited, Unknown) = 0102" }]})```</div></div></div><br/>
<div><a id="1683866938.745899"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1683866938.745899" ><div class="time">2023-05-12 04:48</div></a><div class="msg">I don?t think so, but if you wanted to see it, please raise a feature request on that github repo</div></div></div><br/>
<div><a id="1683867008.700439"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1683867008.700439" ><div class="time">2023-05-12 04:50</div></a><div class="msg">Good question. Mind raising a bug/feature request on the github repo?</div></div></div><br/>
<div><a id="1684190966.086139"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1684190966.086139" ><div class="time">2023-05-15 22:49</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-plugins/issues/31">https://github.com/pact-foundation/pact-plugins/issues/31</a>
Created, thanks!</div></div></div><br/>
<div><a id="1684190984.371579"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1684190984.371579" ><div class="time">2023-05-15 22:49</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-plugins/issues/30">https://github.com/pact-foundation/pact-plugins/issues/30</a></div></div></div><br/>
<div><a id="1684192465.206009"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1684192465.206009" ><div class="time">2023-05-15 23:14</div></a><div class="msg">Does async messaging work with protobuf in Golang? I see example for each of them (<a href="https://github.com/pact-foundation/pact-go/tree/master/examples/messages#message-pact-example">https://github.com/pact-foundation/pact-go/tree/master/examples/messages#message-pact-example</a>, <a href="https://docs.pact.io/implementation_guides/pact_plugins/examples/protobuf/protobuf-provider">https://docs.pact.io/implementation_guides/pact_plugins/examples/protobuf/protobuf-provider</a>), but no example that handles async protobuf messages</div></div></div><br/>
<div><a id="1684193370.155259"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1684193370.155259" ><div class="time">2023-05-15 23:29</div></a><div class="msg">It should yes, we just don?t have a public example of it</div></div></div><br/>
<div><a id="1684193441.443969"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1684193441.443969" ><div class="time">2023-05-15 23:30</div></a><div class="msg">I guess it?ll be something like this, but with the async package: <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/grpc/grpc_consumer_test.go#L52">https://github.com/pact-foundation/pact-go/blob/2.x.x/examples/grpc/grpc_consumer_test.go#L52</a></div></div></div><br/>
<div><a id="1684193485.735379"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1684193485.735379" ><div class="time">2023-05-15 23:31</div></a><div class="msg">This second part of the test shows how you would use a plugin with it: <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/message/v4/asynchronous_message_test.go#L62">https://github.com/pact-foundation/pact-go/blob/2.x.x/message/v4/asynchronous_message_test.go#L62</a></div></div></div><br/>
<div><a id="1684193876.740789"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1684193876.740789" ><div class="time">2023-05-15 23:37</div></a><div class="msg">So basically you should decode from `AsynchronousMessage.Contents` manually to protobuf and then verify that?</div></div></div><br/>
<div><a id="1684196515.627609"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1684196515.627609" ><div class="time">2023-05-16 00:21</div></a><div class="msg">It looks like once you used the plugin (`WithPlugin` ), you can?t use `AsType` and `ConsumedBy`</div></div></div><br/>
<div><a id="1684199335.263229"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1684199335.263229" ><div class="time">2023-05-16 01:08</div></a><div class="msg">`AsType` makes sense, because how would the framework know how to arbitrary convert a plugin?s contents to a narrow type?

`ConsumedBy` is replaced by `ExecuteTest`</div></div></div><br/>
<div><a id="1684199417.660899"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1684199417.660899" ><div class="time">2023-05-16 01:10</div></a><div class="msg">I can?t remember why I changed that now I?m sorry. There was possibly a good reason for it though :slightly_smiling_face:</div></div></div><br/>
<div><a id="1684199439.912179"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1684199439.912179" ><div class="time">2023-05-16 01:10</div></a><div class="msg">thanks!</div></div></div><br/>
<div><a id="1684200203.619639"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1684200203.619639" ><div class="time">2023-05-16 01:23</div></a><div class="msg">I see that makes sense, it might worth marking  `ConsumedBy` with `// Deprecated: Use ExecuteTest instead.` then to avoid confusions.</div></div></div><br/>
<div><a id="1684200303.400659"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1684200303.400659" ><div class="time">2023-05-16 01:25</div></a><div class="msg">It?s not deprecated though, it?s still available for non-plugin requests.</div></div></div><br/>
<div><a id="1684958600.564289"><img src="https://secure.gravatar.com/avatar/1233a4c8ae9902bb4f9111c6d5b1f2f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scoplin</div><a style="text-decoration: none" href="#1684958600.564289" ><div class="time">2023-05-24 20:03</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1685057932.468099"><img src="https://secure.gravatar.com/avatar/1233a4c8ae9902bb4f9111c6d5b1f2f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scoplin</div><a style="text-decoration: none" href="#1685057932.468099" ><div class="time">2023-05-25 23:38</div></a><div class="msg">Greetings!  My team is trying to start using Pact in an ecosystem of scala-based gRPC microservices.  One of the things I?m encouraging is the use of well-defined gRPC <a href="https://grpc.github.io/grpc/core/md_doc_statuscodes.html">https://grpc.github.io/grpc/core/md_doc_statuscodes.html</a> when applicable.  It seems to me that these codes can be meaningful in a contract.  For example, we could use `NOT_FOUND` as a means to communicate non-existence of an entity.  If the provider changed behavior to return `INVALID_ARGUMENT` instead in the same situation it would clearly break clients.

Is there a way to write a consumer test matching on gRPC response status?  An example would be ideal.  I?m fearing there may not be based upon <a href="https://github.com/pactflow/pact-protobuf-plugin/blob/main/src/verification.rs#L67">https://github.com/pactflow/pact-protobuf-plugin/blob/main/src/verification.rs#L67</a> which seems to only perform validations on non-error responses, but I am not 100% sure I?m looking in the right spot.</div></div></div><br/>
<div><a id="1685058177.417299"><img src="https://secure.gravatar.com/avatar/0d71cb74d6f0c449de77eb715b3da649.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">aemanuelson</div><a style="text-decoration: none" href="#1685058177.417299" ><div class="time">2023-05-25 23:42</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1685058205.566649"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1685058205.566649" ><div class="time">2023-05-25 23:43</div></a><div class="msg">This is a good idea. Can you raise an issue for this on the GitHub project?</div></div></div><br/>
<div><a id="1685058293.676129"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1685058293.676129" ><div class="time">2023-05-25 23:44</div></a><div class="msg">BTW, I found the support for gRPC status codes not very good. The Rust tonic library deals with it properly, but the gRPC Java library seems to ignore it and tries to read the messages anyway.</div></div></div><br/>
<div><a id="1685060309.701219"><img src="https://secure.gravatar.com/avatar/1233a4c8ae9902bb4f9111c6d5b1f2f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scoplin</div><a style="text-decoration: none" href="#1685060309.701219" ><div class="time">2023-05-26 00:18</div></a><div class="msg">@uglyog Sure, I can do that.  Here I assume? <a href="https://github.com/pactflow/pact-protobuf-plugin">https://github.com/pactflow/pact-protobuf-plugin</a>

Curious what you?ve seen from gRPC Java with respect to this?  We tend to see actual non-OK status codes come back as `StatusRuntimeException`.  Haven?t seen the ignoring issue, but maybe we?re using a different library (scalapb wrapper on grpc-netty) or you?re coming in at a different layer?</div></div></div><br/>
<div><a id="1685061287.570669"><img src="https://secure.gravatar.com/avatar/1233a4c8ae9902bb4f9111c6d5b1f2f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scoplin</div><a style="text-decoration: none" href="#1685061287.570669" ><div class="time">2023-05-26 00:34</div></a><div class="msg"><a href="https://github.com/pactflow/pact-protobuf-plugin/issues/25">https://github.com/pactflow/pact-protobuf-plugin/issues/25</a></div></div></div><br/>
<div><a id="1685072709.591329"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1685072709.591329" ><div class="time">2023-05-26 03:45</div></a><div class="msg">&gt;  Curious what you?ve seen from gRPC Java with respect to this?
I haven't really dug into it, I was expecting to get some exception with the status and associated message, but I got an IO exception stating that the Protobuf message could not be parsed. It might be due to some interceptor needing to be setup, but I expected this behaviour out of the box and it looks like it ignores the status.</div></div></div><br/>
<div><a id="1685123897.784339"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685123897.784339" ><div class="time">2023-05-26 17:58</div></a><div class="msg">Do we not support expecting grpc error code today in the contract?</div></div></div><br/>
<div><a id="1685146078.399689"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685146078.399689" ><div class="time">2023-05-27 00:07</div></a><div class="msg">Following up on this thread:
So in async protobuf provider test, it looks like we need to have the provider implement this message handler func: (i was using pact-go)
```func(states []models.ProviderState) (message.Body, message.Metadata, error)```
Here `message.Body` is an interface ? what shall I give here? I tried both the proto Golang body, and deserialized `[]byte` , they both throw</div></div></div><br/>
<div><a id="1685146211.199519"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685146211.199519" ><div class="time">2023-05-27 00:10</div></a><div class="msg">I?m guessing that the verifier doesn?t know it should be using the protobuf plugin to parse my provider message, what am I missing here?</div></div></div><br/>
<div><a id="1685482372.217959"><img src="https://avatars.slack-edge.com/2022-11-15/4389409554161_9a6e384d2930f7b12a79_72.jpg" /></a><div class="message"><div class="username">rmartine</div><a style="text-decoration: none" href="#1685482372.217959" ><div class="time">2023-05-30 21:32</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1685482458.256699"><img src="https://avatars.slack-edge.com/2022-11-15/4389409554161_9a6e384d2930f7b12a79_72.jpg" /></a><div class="message"><div class="username">rmartine</div><a style="text-decoration: none" href="#1685482458.256699" ><div class="time">2023-05-30 21:34</div></a><div class="msg">Hi, dumb question -- are the consumer and provider required to have the same version of the protobuf plugin?</div></div></div><br/>
<div><a id="1685488853.787499"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1685488853.787499" ><div class="time">2023-05-30 23:20</div></a><div class="msg">No, but the behaviour will be different (i.e. later versions may have a defect fixed) and that could impact things.</div></div></div><br/>
<div><a id="1685560239.563409"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685560239.563409" ><div class="time">2023-05-31 19:10</div></a><div class="msg">Following up here, it looks like <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/message/verifier.go#L206">https://github.com/pact-foundation/pact-go/blob/2.x.x/message/verifier.go#L206</a> is setting the provider proxy to return message as `application/json; charset=utf-8` , while pact expects it to be something like `application/protobuf; message=ProtoMessageExample` .

I guess it means protobuf plugin won?t work with provider verification through <a href="https://github.com/pact-foundation/pact-go/blob/2.x.x/message/message.go#L12">https://github.com/pact-foundation/pact-go/blob/2.x.x/message/message.go#L12</a>?</div></div></div><br/>
<div><a id="1685562640.706269"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685562640.706269" ><div class="time">2023-05-31 19:50</div></a><div class="msg">Also, even after I updated the line above to return the proper content type, pact doesn?t seems to be able to find the protobuf matcher:
```2023-05-31T19:49:05.104537Z DEBUG ThreadId(01) verify_interaction{interaction="XXX"}: pact_matching: No content matcher defined for content type 'application/protobuf;message=SessionStatusResponse', using core matcher implementation```

```2023-05-31T19:49:05.104581Z DEBUG ThreadId(01) verify_interaction{interaction="async health information"}: pact_matching: No body matcher defined for content type 'application/protobuf;message=SessionStatusResponse', using plain text matcher```</div></div></div><br/>
<div><a id="1685569244.979149"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685569244.979149" ><div class="time">2023-05-31 21:40</div></a><div class="msg">Digging deeper here, seems the async protobuf contract generated  on the consumer side (through `AddAsynchronousMessage`) is missing plugin information.

Unlike sync message, the async message doesn?t have `plugins` and raw proto desciptors under `metadata` . Also, `pactSpecification.version` is `3.0` for async contract, (instead of `4.0` for sync grpc contracts).

That might be why the provider side can?t find the matcher from the plugin I guess.</div></div></div><br/>
<div><a id="1685603633.048219"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1685603633.048219" ><div class="time">2023-06-01 07:13</div></a><div class="msg">Thanks for the digging Yu. So the last point, this PR should address it: <a href="https://github.com/pact-foundation/pact-go/pull/292">https://github.com/pact-foundation/pact-go/pull/292</a>

It was failing due to an upstream issue, but I?ve reverted the changes for the upstream dependency and will merge this shortly.</div></div></div><br/>
<div><a id="1685603805.700339"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1685603805.700339" ><div class="time">2023-06-01 07:16</div></a><div class="msg">&gt; ```2023-05-31T19:49:05.104537Z DEBUG ThreadId(01) verify_interaction{interaction="XXX"}: pact_matching: No content matcher defined for content type 'application/protobuf;message=SessionStatusResponse', using core matcher implementation```
&gt; 
hmm interesting. I suspect the plugin only registers `application/protobuf` and because of the additional field it?s mis matching (guess).

What happens if you hard code `application/protobuf` as the content type? I wonder if that goes a little further (but then probably fails due to the missing qualifier).</div></div></div><br/>
<div><a id="1685603906.096459"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1685603906.096459" ><div class="time">2023-06-01 07:18</div></a><div class="msg">&gt; ```func(states []models.ProviderState) (message.Body, message.Metadata, error)```
Hmm good point. I think we will need a variation on this that allows a `[]byte` to be returned here, and if a plugin is being used in an interaction, we use the different typed interface to signal that we require a byte array. We may also need to capture a content type here (or elsewhere) that is used to set the response mime type</div></div></div><br/>
<div><a id="1685603932.272209"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1685603932.272209" ><div class="time">2023-06-01 07:18</div></a><div class="msg">Could you please raise an issue?

Or - and this would be amazing :sparkles: - a PR that demonstrates how you get it to work? We can then pair through a solution to this problem</div></div></div><br/>
<div><a id="1685639824.853989"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685639824.853989" ><div class="time">2023-06-01 17:17</div></a><div class="msg">I actually didn?t get this working. I tried force returning `application/protobuf` and message name as content type header.

But eventually, pact is still falling back to plain text matcher which obviously doesn?t work. My guess is it?s because the generated contract doesn?t even include any plugin information and proto details on the consumer side</div></div></div><br/>
<div><a id="1685640064.753889"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685640064.753889" ><div class="time">2023-06-01 17:21</div></a><div class="msg">So the sync grpc version of generated contract looks like this to me:
```{
  "metadata": {
    "pactRust": {
      "ffi": "0.4.1",
      "mockserver": "1.0.0",
      "models": "1.0.4"
    },
    "pactSpecification": {
      "version": "4.0"
    },
    "plugins": [
      {
        "name": "protobuf",
        "version": "0.3.0",
        "configuration": "..."
      }
    ]
  }
}```
While the async generated contract has metadata like this:
```  "metadata": {
    "pactRust": {
      "ffi": "0.4.1",
      "models": "1.0.4"
    },
    "pactSpecification": {
      "version": "3.0.0"
    }
  }```
In addition to spec version being 3.0.0, it also misses plugin information</div></div></div><br/>
<div><a id="1685640295.365669"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1685640295.365669" ><div class="time">2023-06-01 17:24</div></a><div class="msg">On the consumer side I?m doing this to generate:
```p.AddAsynchronousMessage().
GivenWithParameter(...).
ExpectsToReceive("...").
UsingPlugin(message.PluginConfig{
	Plugin:  "protobuf",
	Version: "0.3.0",
}).
WithContents("...", "application/protobuf").
ExecuteTest(...)```</div></div></div><br/>
<div><a id="1685835674.515429"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1685835674.515429" ><div class="time">2023-06-03 23:41</div></a><div class="msg">Oh, sorry, did you pull the latest with the spec serialisation fix?

Then if you try hard coding the content type again let's see how far you get</div></div></div><br/>
<div><a id="1685835690.900959"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1685835690.900959" ><div class="time">2023-06-03 23:41</div></a><div class="msg">I'll aim to create an example next week to test it out myself</div></div></div><br/>
<div><a id="1685835824.176179"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1685835824.176179" ><div class="time">2023-06-03 23:43</div></a><div class="msg">Btw part of the underlying issue is <a href="https://github.com/pact-foundation/pact-go/issues/265">https://github.com/pact-foundation/pact-go/issues/265</a> I think</div></div></div><br/>
<div><a id="1686013956.694879"><img src="https://secure.gravatar.com/avatar/1233a4c8ae9902bb4f9111c6d5b1f2f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scoplin</div><a style="text-decoration: none" href="#1686013956.694879" ><div class="time">2023-06-06 01:12</div></a><div class="msg">Hi - I was wondering if the <a href="https://github.com/pact-foundation/pact-stub-server">https://github.com/pact-foundation/pact-stub-server</a> was usable for generating a pactfile-based test double for a gRPC service?  I'm _guessing_ no based upon the way it <a href="https://github.com/pact-foundation/pact-stub-server/blob/master/src/server.rs#L166">https://github.com/pact-foundation/pact-stub-server/blob/master/src/server.rs#L166</a> and then matches on method/path/parameters.

If the answer is in fact "no", then I wonder if there are any alternative suggestions for stubbing out gRPC providers for a client?</div></div></div><br/>
<div><a id="1686015058.715959"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1686015058.715959" ><div class="time">2023-06-06 01:30</div></a><div class="msg">Technically, most gRPC interactions use HTTP 2, so with a little effort we could possibly get it to work.</div></div></div><br/>
<div><a id="1686015221.135479"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1686015221.135479" ><div class="time">2023-06-06 01:33</div></a><div class="msg">Mind raising a feature request please? (on that repo)</div></div></div><br/>
<div><a id="1686015227.692449"><img src="https://secure.gravatar.com/avatar/1233a4c8ae9902bb4f9111c6d5b1f2f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scoplin</div><a style="text-decoration: none" href="#1686015227.692449" ><div class="time">2023-06-06 01:33</div></a><div class="msg">Sure thing</div></div></div><br/>
<div><a id="1686015419.051449"><img src="https://secure.gravatar.com/avatar/1233a4c8ae9902bb4f9111c6d5b1f2f5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png" /></a><div class="message"><div class="username">scoplin</div><a style="text-decoration: none" href="#1686015419.051449" ><div class="time">2023-06-06 01:36</div></a><div class="msg">@matt.fellows <a href="https://github.com/pact-foundation/pact-stub-server/issues/59">https://github.com/pact-foundation/pact-stub-server/issues/59</a></div></div></div><br/>
<div><a id="1686023854.120019"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1686023854.120019" ><div class="time">2023-06-06 03:57</div></a><div class="msg">Thanks!</div></div></div><br/>
<div><a id="1686059745.983539"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1686059745.983539" ><div class="time">2023-06-06 13:55</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1686060034.963409"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1686060034.963409" ><div class="time">2023-06-06 14:00</div></a><div class="msg">Greetings, I'm trying to write a provider verification test on Android using the gRPC protobuf plugin. Since I am constrained to using jUnit4, I am trying my best to get the plugin working but having some trouble. At a high level: 1) Is this even possible? 2) Is there an easier way to do this?

So far I created a V4 pact that uses the `protobuf` plugin but the `usingPlugin` call fails with `Err(error=Init call to plugin protobuf failed: io.grpc.StatusRuntimeException: CANCELLED: Failed to read message.)` . Can I just start a mock server in some port and it will magically work, or will there be other roadblocks such as the generation of the pact at the end?

My end goal is to generate a pact that I can feed to a provider test to validate that my client contract is compatible with the latest server.</div></div></div><br/>
<div><a id="1686065000.749819"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1686065000.749819" ><div class="time">2023-06-06 15:23</div></a><div class="msg">Digging deeper into the stacktrace, it looks like some classpath issue:
```cause=java.lang.NoClassDefFoundError: Could not initialize class io.pact.plugin.Plugin
	at io.pact.plugin.Plugin$CatalogueEntry$ValuesDefaultEntryHolder.&lt;clinit&gt;(Plugin.java:1212)
	at io.pact.plugin.Plugin$CatalogueEntry$Builder.mergeFrom(Plugin.java:1696)
	at io.pact.plugin.Plugin$CatalogueEntry$1.parsePartialFrom(Plugin.java:2081)
	at io.pact.plugin.Plugin$CatalogueEntry$1.parsePartialFrom(Plugin.java:2073)
	at com.google.protobuf.CodedInputStream$ArrayDecoder.readMessage(CodedInputStream.java:889)
	at io.pact.plugin.Plugin$InitPluginResponse$Builder.mergeFrom(Plugin.java:2612)
	at io.pact.plugin.Plugin$InitPluginResponse$1.parsePartialFrom(Plugin.java:2986)
	at io.pact.plugin.Plugin$InitPluginResponse$1.parsePartialFrom(Plugin.java:2978)
	at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:86)
	at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:48)
	at io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parseFrom(ProtoLiteUtils.java:223)
	at io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parse(ProtoLiteUtils.java:215)
	at io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parse(ProtoLiteUtils.java:118)
	at io.grpc.MethodDescriptor.parseResponse(MethodDescriptor.java:284)```
</div></div></div><br/>
<div><a id="1686065389.709749"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1686065389.709749" ><div class="time">2023-06-06 15:29</div></a><div class="msg">Ah shoot, looks like it is trying to initialize a `MapEntry`  with the protobuf library, but our project uses protobuf-lite :confused:</div></div></div><br/>
<div><a id="1686093046.727539"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1686093046.727539" ><div class="time">2023-06-06 23:10</div></a><div class="msg">I don't think anyone has tested JUnit4 support, and we will need to investigate protobuf-lite.</div></div></div><br/>
<div><a id="1686774281.933669"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1686774281.933669" ><div class="time">2023-06-14 20:24</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1686774335.117109"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1686774335.117109" ><div class="time">2023-06-14 20:25</div></a><div class="msg"><a href="https://pact-foundation.slack.com/archives/C5F4KFKR8/p1686774159398809">https://pact-foundation.slack.com/archives/C5F4KFKR8/p1686774159398809</a></div></div></div><br/>
<div><a id="1686787302.550829"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1686787302.550829" ><div class="time">2023-06-15 00:01</div></a><div class="msg">Some details on what problems you are having would be helpful</div></div></div><br/>
<div><a id="1686813714.061469"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1686813714.061469" ><div class="time">2023-06-15 07:21</div></a><div class="msg">Hey @uglyog!
Today I managed to verify one pact using the pact_cli.
However, I would like to match the exact value of one field. I was checking this doc but I didnt find it:

<a href="https://docs.pact.io/implementation_guides/rust/pact_matching#matching-status-codes">https://docs.pact.io/implementation_guides/rust/pact_matching#matching-status-codes</a>

When I try to match by type, its work fine:

```matching(type,true)```
</div></div></div><br/>
<div><a id="1686814211.038629"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1686814211.038629" ><div class="time">2023-06-15 07:30</div></a><div class="msg">Status codes will always be the same type, as they are always integers</div></div></div><br/>
<div><a id="1686814259.777729"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1686814259.777729" ><div class="time">2023-06-15 07:30</div></a><div class="msg">But you mentioned gRPC, do you mean the gRPC status codes?</div></div></div><br/>
<div><a id="1686815230.327509"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1686815230.327509" ><div class="time">2023-06-15 07:47</div></a><div class="msg">No, Im creating pact for grpc microservice? Im creating one test on the consumer side to generate the contract with this request body:

```        "request", Map.of(
              "id", "matching(type,123)",
              "url", "matching(type,'<a href="https://url.com/">https://url.com/</a>')",
              "url2", "matching(type,'<a href="https://url2.com">https://url2.com</a>')",
              "test", "matching(type,true)"
          ),```
However, in this case Im matching only by type and I would like match by the exact value.

For example:

If I send one request with `id = 123`, I would like to match?. Any other value, I would like to thrown an error.</div></div></div><br/>
<div><a id="1686818757.277009"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1686818757.277009" ><div class="time">2023-06-15 08:45</div></a><div class="msg">Ok, use `"id", 123`</div></div></div><br/>
<div><a id="1686822226.086359"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1686822226.086359" ><div class="time">2023-06-15 09:43</div></a><div class="msg">Hey Andre,

Which language are you creating your consumer pact files with that contain the gRPC interactions.</div></div></div><br/>
<div><a id="1686823179.689229"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1686823179.689229" ><div class="time">2023-06-15 09:59</div></a><div class="msg">Hey @yousafn is in java</div></div></div><br/>
<div><a id="1686823308.477739"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1686823308.477739" ><div class="time">2023-06-15 10:01</div></a><div class="msg">Awesome, you should be able to use the jvm framework to verify your pacts aswell, but you can also use the CLI as you have found :slightly_smiling_face:</div></div></div><br/>
<div><a id="1686840757.214339"><img src="https://secure.gravatar.com/avatar/04696bb8c60e01288580158e202e298e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">bas</div><a style="text-decoration: none" href="#1686840757.214339" ><div class="time">2023-06-15 14:52</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1686841389.956999"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1686841389.956999" ><div class="time">2023-06-15 15:03</div></a><div class="msg">Ok @uglyog thanks.</div></div></div><br/>
<div><a id="1686842121.745669"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1686842121.745669" ><div class="time">2023-06-15 15:15</div></a><div class="msg">Hi everyone!
How is the better approach to create one contract with more than one interaction?
Anyone has some example?</div></div></div><br/>
<div><a id="1686857284.562199"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1686857284.562199" ><div class="time">2023-06-15 19:28</div></a><div class="msg">for go, i have been able to do this with separate tests that use the same consumer and provider names. each test will append it?s interaction to the json. however, if i try to AddSynchronousMessage multiple times on the same pact then the second one fails.</div></div></div><br/>
<div><a id="1686857579.872429"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1686857579.872429" ><div class="time">2023-06-15 19:32</div></a><div class="msg">Are generators supported with the protobuf plugin? Don?t see it explicitly called out as supported/unsupported in the README. Haven?t been able to find any examples in any of the golang projects related to protobufs. For example, would like to generate a random number of strings from the mock for a repeated field.</div></div></div><br/>
<div><a id="1686873915.562019"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1686873915.562019" ><div class="time">2023-06-16 00:05</div></a><div class="msg">It should work in theory, but I don't think anyone has tested them. There may be certain types of fields that may not work, like enums.</div></div></div><br/>
<div><a id="1686900838.021429"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1686900838.021429" ><div class="time">2023-06-16 07:33</div></a><div class="msg">Hey @jason.taylor2!
Thanks for your help!

I understood that you created new tests for each interaction, but is also necessary to define the pact using `toPact()` . In this point, Im little bit confused? So should I define 2 of these :
```@Pact(consumer = "my-consumer")
V4Pact myMethod(PactBuilder builder) ```
or should I only add one more interaction such as:
```.expectsToReceive("my interaction", "core/interaction/synchronous-message")
.with(Map.of(
        ))).toPact().```
?</div></div></div><br/>
<div><a id="1686927552.885219"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1686927552.885219" ><div class="time">2023-06-16 14:59</div></a><div class="msg">tx - is there an example of how to use the generators for gRPC from go?</div></div></div><br/>
<div><a id="1686928142.414709"><img src="https://secure.gravatar.com/avatar/88bba6bf92c45e5230d8b3b04c5ff8a2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">jason.taylor2</div><a style="text-decoration: none" href="#1686928142.414709" ><div class="time">2023-06-16 15:09</div></a><div class="msg">I suspect the two methods with the same consumer name should work from Java. if your providerName and consumer names line up across tests they would each append their interaction into the same contract. if not, will need someone with explicit java experience to chime in</div></div></div><br/>
<div><a id="1687167402.188019"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1687167402.188019" ><div class="time">2023-06-19 09:36</div></a><div class="msg">Yes @jason.taylor2 it worked properly :wink:
Thanks a lot.</div></div></div><br/>
<div><a id="1687300573.603219"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1687300573.603219" ><div class="time">2023-06-20 22:36</div></a><div class="msg">&gt; I?ll aim to create an example next week to test it out myself
@matt.fellows Checking back on this thread ? is there an e2e working example now?</div></div></div><br/>
<div><a id="1688560269.782269"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1688560269.782269" ><div class="time">2023-07-05 12:31</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1688563315.039959"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1688563315.039959" ><div class="time">2023-07-05 13:21</div></a><div class="msg">Hi team, I'm wondering if it's possible to implement pact with grpc using pact-js? From what I can gather the plugin is not yet supported by pact-js and I cannot see any examples that do not utilise the plugin</div></div></div><br/>
<div><a id="1688564566.101259"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688564566.101259" ><div class="time">2023-07-05 13:42</div></a><div class="msg">pact-js supports v4 in beta, there is a plug-in example, you can use the pact-protobuf-plugin for grpc </div></div></div><br/>
<div><a id="1688564710.304029"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1688564710.304029" ><div class="time">2023-07-05 13:45</div></a><div class="msg">Is it possible to link the plugin example, I've had trouble finding one for pact-js?</div></div></div><br/>
<div><a id="1688565282.048469"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688565282.048469" ><div class="time">2023-07-05 13:54</div></a><div class="msg">in the examples folder in the pact-js repo under v4 subfolder, sorry i am on phone atm</div></div></div><br/>
<div><a id="1688565338.970579"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688565338.970579" ><div class="time">2023-07-05 13:55</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-js/blob/master/examples/v4/plugins/test/matt.consumer.spec.ts">https://github.com/pact-foundation/pact-js/blob/master/examples/v4/plugins/test/matt.consumer.spec.ts</a></div></div></div><br/>
<div><a id="1688565395.327539"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688565395.327539" ><div class="time">2023-07-05 13:56</div></a><div class="msg">here is a basic grpc test from one of my scratchpads

<a href="https://github.com/YOU54F/pluginopedia/blob/main/example-project-js-grpc-plugin/test/matt.consumer.spec.ts">https://github.com/YOU54F/pluginopedia/blob/main/example-project-js-grpc-plugin/test/matt.consumer.spec.ts</a></div></div></div><br/>
<div><a id="1688565422.182589"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688565422.182589" ><div class="time">2023-07-05 13:57</div></a><div class="msg">there are provider examples in the folder too</div></div></div><br/>
<div><a id="1688565437.792659"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1688565437.792659" ><div class="time">2023-07-05 13:57</div></a><div class="msg">These are fantastic! Thanks Yousaf</div></div></div><br/>
<div><a id="1688565448.882119"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688565448.882119" ><div class="time">2023-07-05 13:57</div></a><div class="msg">pleasure my mate, let us know how you get on</div></div></div><br/>
<div><a id="1688725828.371029"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1688725828.371029" ><div class="time">2023-07-07 10:30</div></a><div class="msg">QQ Yousaf, we use Jest throughout our project. Do you know if there are plans to update `jest-pact` to include a v4 dist?</div></div></div><br/>
<div><a id="1688727368.637559"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688727368.637559" ><div class="time">2023-07-07 10:56</div></a><div class="msg">I?d really love to deprecate jest-pact, and by way of virtue mocha-pact and instead utilise pact-js directly. We don?t have the same lifecycle methods to worry about compared to spinning up a standalone process (as per the Ruby impl).

I?d be happy to consider PR?s to update jest-pact but it isn?t hugely high on my priority list to do myself. My next mission is pact-python v3/v4 + plugins with the FFI and review of all the pact-php progress towards the FFI migration</div></div></div><br/>
<div><a id="1688727400.805939"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688727400.805939" ><div class="time">2023-07-07 10:56</div></a><div class="msg">I haven?t discussed the potential deprecation with anyone yet, so I am just noodling</div></div></div><br/>
<div><a id="1688727490.187719"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688727490.187719" ><div class="time">2023-07-07 10:58</div></a><div class="msg">We did have some feedback on the v3 dsl in jest-pact <a href="https://github.com/pact-foundation/jest-pact/issues/215">https://github.com/pact-foundation/jest-pact/issues/215</a> which gave consideration to the change in lifecycles.</div></div></div><br/>
<div><a id="1688729200.349209"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1688729200.349209" ><div class="time">2023-07-07 11:26</div></a><div class="msg">Yes I see. I'd also like to use pact-js directly. Is that possible at this current moment? Or should I switch to using mocha for the time being?</div></div></div><br/>
<div><a id="1688729761.627069"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688729761.627069" ><div class="time">2023-07-07 11:36</div></a><div class="msg">yeah, its grand to use pact-js directly, there are some vanilla jest examples in the repo but here is a pretty simple one which exercises all the matchers

<a href="https://github.com/YOU54F/pact-matchers/blob/main/pact-js-v3-v10/matchers.v3.pact.test.js">https://github.com/YOU54F/pact-matchers/blob/main/pact-js-v3-v10/matchers.v3.pact.test.js</a></div></div></div><br/>
<div><a id="1688729802.421349"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1688729802.421349" ><div class="time">2023-07-07 11:36</div></a><div class="msg">and similar but as vscode snippets <a href="https://github.com/YOU54F/vscode-pact-snippets/blob/main/js/v3.test.js">https://github.com/YOU54F/vscode-pact-snippets/blob/main/js/v3.test.js</a></div></div></div><br/>
<div><a id="1688729978.382229"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1688729978.382229" ><div class="time">2023-07-07 11:39</div></a><div class="msg">Magic. Thanks again Yousaf!</div></div></div><br/>
<div><a id="1689033277.913969"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1689033277.913969" ><div class="time">2023-07-10 23:54</div></a><div class="msg">Sorry I missed this - I?ve updated the issue. Can you please let me know if it addresses your issue?</div></div></div><br/>
<div><a id="1689033328.368869"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1689033328.368869" ><div class="time">2023-07-10 23:55</div></a><div class="msg">No worries, I?ll report back once I get a chance to try again.s</div></div></div><br/>
<div><a id="1689033530.444059"><img src="https://avatars.slack-edge.com/2023-03-27/5018089881314_50b922470cd17e52c203_72.jpg" /></a><div class="message"><div class="username">yu.xie</div><a style="text-decoration: none" href="#1689033530.444059" ><div class="time">2023-07-10 23:58</div></a><div class="msg">Thanks for the fix</div></div></div><br/>
<div><a id="1689090197.243699"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1689090197.243699" ><div class="time">2023-07-11 15:43</div></a><div class="msg">I'm writing a consumer test that uses the gRPC plugin and for some reason it's having trouble with a `Timestamp` field in the request. Is this supported?

```Pact Test function failed with an exception: Bad type on operand stack
Exception Details:
  Reason:
    Type 'com/google/protobuf/Timestamp' (current frame, stack[2]) is not assignable to 'com/google/protobuf/GeneratedMessageLite'```
My request looks like this (Kotlin):
```"timestamp" to mapOf(
  "seconds" to "0",
  "nanos" to "0"
)```
My message in the proto looks like this:
```message SomeMessage {
  ... Other fields ...
  google.protobuf.Timestamp timestamp = 4;
}```</div></div></div><br/>
<div><a id="1689090352.546329"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1689090352.546329" ><div class="time">2023-07-11 15:45</div></a><div class="msg">This might be a self inflicted wound because we have both protobuf and protobuf-lite in our project, but that hasn't caused an issue so far with other fields, so wonder what's different here.</div></div></div><br/>
<div><a id="1689091268.338079"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1689091268.338079" ><div class="time">2023-07-11 16:01</div></a><div class="msg">Update: The exception isn't in Pact but rather parsing the proto bytes from the V4 interaction object into a concrete proto object. Looks like this is my fault.</div></div></div><br/>
<div><a id="1689115906.006069"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1689115906.006069" ><div class="time">2023-07-11 22:51</div></a><div class="msg">Thanks for updating/clarifying (and love the :rubberduck: debugging - this will hopefully help others!)</div></div></div><br/>
<div><a id="1689148790.443129"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1689148790.443129" ><div class="time">2023-07-12 07:59</div></a><div class="msg">Hello team!
I already managed to use the pact-cli plugin for protobuff locally, but now I?m trying to integrate it with my pipeline in github.
Does anyone have some examples of how can I install and use the plugin with github action?
Thanks a lot :slightly_smiling_face:</div></div></div><br/>
<div><a id="1689153346.783769"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1689153346.783769" ><div class="time">2023-07-12 09:15</div></a><div class="msg">The latest versions of the tooling should automatically download at test time if not present already</div></div></div><br/>
<div><a id="1689153391.618479"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1689153391.618479" ><div class="time">2023-07-12 09:16</div></a><div class="msg">I use it in Pact Go here: <a href="https://github.com/pact-foundation/pact-go/blob/1e8dbe423fc3053fa13913f356bb8026f1279187/Makefile#L43">https://github.com/pact-foundation/pact-go/blob/1e8dbe423fc3053fa13913f356bb8026f1279187/Makefile#L43</a></div></div></div><br/>
<div><a id="1689155409.597699"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1689155409.597699" ><div class="time">2023-07-12 09:50</div></a><div class="msg">For me the tooling is not downloaded automatically? So, I need to have one step in my pipeline only to download, install the pact-plugin and after install one specific plugin for protobuf.</div></div></div><br/>
<div><a id="1689158068.393739"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1689158068.393739" ><div class="time">2023-07-12 10:34</div></a><div class="msg">What client/language/version are you on? I think the latest _should_</div></div></div><br/>
<div><a id="1689160255.564839"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1689160255.564839" ><div class="time">2023-07-12 11:10</div></a><div class="msg">java 17</div></div></div><br/>
<div><a id="1689160316.056189"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1689160316.056189" ><div class="time">2023-07-12 11:11</div></a><div class="msg">Which Pact JVM version?</div></div></div><br/>
<div><a id="1689174879.795889"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1689174879.795889" ><div class="time">2023-07-12 15:14</div></a><div class="msg">```"pact-jvm": {
  "version": "4.4.2"
}```
</div></div></div><br/>
<div><a id="1689187467.047259"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1689187467.047259" ><div class="time">2023-07-12 18:44</div></a><div class="msg">For posterity, we had the protobuf-javalite library as a transitive dependency and solve the issue by replacing it with the full version via a gradle configuration block.</div></div></div><br/>
<div><a id="1689202204.403389"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1689202204.403389" ><div class="time">2023-07-12 22:50</div></a><div class="msg">Ah, looks like the auto-install was added to the driver in 0.4.0 (<a href="https://github.com/pact-foundation/pact-plugins/releases/tag/pact-jvm-driver-v0.4.0">https://github.com/pact-foundation/pact-plugins/releases/tag/pact-jvm-driver-v0.4.0</a>) but that doesn?t seem to be in the latest JVM package I think</div></div></div><br/>
<div><a id="1689270144.515529"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1689270144.515529" ><div class="time">2023-07-13 17:42</div></a><div class="msg">Folks, we are writing grpc contract test. For the part where we pass the proto file path to the grpc plugin, if the file is located in the same directory(or subdirectories) where the test is run from, it works. If the file is even one level up, then the plugin throws the error that it cannot find the file. Is there some restriction that the proto file has to be in or under the current folder level where the test runs from ?</div></div></div><br/>
<div><a id="1689270215.526409"><img src="https://secure.gravatar.com/avatar/e53bda50394d49c35fc9f9e10c3290ee.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png" /></a><div class="message"><div class="username">wesley.newcomb</div><a style="text-decoration: none" href="#1689270215.526409" ><div class="time">2023-07-13 17:43</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1689289874.115949"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1689289874.115949" ><div class="time">2023-07-13 23:11</div></a><div class="msg">Are you using an absolute or relative path for the proto files?</div></div></div><br/>
<div><a id="1689600541.349459"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1689600541.349459" ><div class="time">2023-07-17 13:29</div></a><div class="msg">@uglyog they are absolute paths and not relative. @wesley.newcomb</div></div></div><br/>
<div><a id="1689670809.945869"><img src="https://avatars.slack-edge.com/2023-07-18/5598161325428_71a23c17028639a5dd80_72.png" /></a><div class="message"><div class="username">aljaz.klanecek</div><a style="text-decoration: none" href="#1689670809.945869" ><div class="time">2023-07-18 09:00</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1689705073.408099"><img src="https://avatars.slack-edge.com/2023-07-18/5622999253616_82af80a621be616b22e9_72.jpg" /></a><div class="message"><div class="username">phananhdung104</div><a style="text-decoration: none" href="#1689705073.408099" ><div class="time">2023-07-18 18:31</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1689846006.401029"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1689846006.401029" ><div class="time">2023-07-20 09:40</div></a><div class="msg">@uglyog bump</div></div></div><br/>
<div><a id="1689894476.482199"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1689894476.482199" ><div class="time">2023-07-20 23:07</div></a><div class="msg">Sorry, I don't have any more information here. The plugin uses gRPC protoc to compile the proto files. That is what is probably throwing the error, and I wouldn't know why it would do that.</div></div></div><br/>
<div><a id="1689930579.104339"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1689930579.104339" ><div class="time">2023-07-21 09:09</div></a><div class="msg">oh ok sure thanks</div></div></div><br/>
<div><a id="1690153427.126689"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1690153427.126689" ><div class="time">2023-07-23 23:03</div></a><div class="msg">Are you running things in docker?</div></div></div><br/>
<div><a id="1690307168.470499"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1690307168.470499" ><div class="time">2023-07-25 17:46</div></a><div class="msg">yeah in a container</div></div></div><br/>
<div><a id="1690326423.774489"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1690326423.774489" ><div class="time">2023-07-25 23:07</div></a><div class="msg">Ok, and the parent directory is not mounted into the container, right?</div></div></div><br/>
<div><a id="1690347875.855419"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1690347875.855419" ><div class="time">2023-07-26 05:04</div></a><div class="msg">Yes, I can view the file from within the container using the same path that plugin is reporting unable to find</div></div></div><br/>
<div><a id="1690806986.980089"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1690806986.980089" ><div class="time">2023-07-31 12:36</div></a><div class="msg">Hey @yousafn :wave:
Appreciate all the help in getting started. I've got a flow working with our solution!

It's manual at the moment though and I'd like to hook it up to the CI and the broker. I mostly know what I'm doing here as I've done it before but one part I'm unsure on is the plugin itself. For local dev I installed through the cli, but what's the best to do this for a CI solution using github actions?</div></div></div><br/>
<div><a id="1690807505.768869"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1690807505.768869" ><div class="time">2023-07-31 12:45</div></a><div class="msg">solid.

You can use a bash script for now.

<a href="https://github.com/pact-foundation/pact-js/blob/master/scripts/install-plugins.sh">https://github.com/pact-foundation/pact-js/blob/master/scripts/install-plugins.sh</a>
<a href="https://github.com/pact-foundation/pact-plugins/blob/feat/pact-csv-plugin-linux-aarch64/scripts/install-plugin-cli.sh">https://github.com/pact-foundation/pact-plugins/blob/feat/pact-csv-plugin-linux-aarch64/scripts/install-plugin-cli.sh</a>
<a href="https://github.com/YOU54F/pact-python/blob/feat/ffi_consumer/script/install_plugins.sh">https://github.com/YOU54F/pact-python/blob/feat/ffi_consumer/script/install_plugins.sh</a>

The pact-ruby-standalone also comes with the pact-plugin-cli now installed. (note to myself:- I need to update the docs to reflect this)

<a href="https://github.com/pact-foundation/pact-ruby-standalone">https://github.com/pact-foundation/pact-ruby-standalone</a></div></div></div><br/>
<div><a id="1690807522.493939"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1690807522.493939" ><div class="time">2023-07-31 12:45</div></a><div class="msg">they are all used in our CI runs :slightly_smiling_face:</div></div></div><br/>
<div><a id="1690809216.287079"><img src="https://avatars.slack-edge.com/2023-05-18/5285563650546_d382649f6181e6286099_72.png" /></a><div class="message"><div class="username">bdocherty</div><a style="text-decoration: none" href="#1690809216.287079" ><div class="time">2023-07-31 13:13</div></a><div class="msg">Ideal, ta much :slightly_smiling_face:</div></div></div><br/>
<div><a id="1691660560.126589"><img src="https://secure.gravatar.com/avatar/04696bb8c60e01288580158e202e298e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png" /></a><div class="message"><div class="username">bas</div><a style="text-decoration: none" href="#1691660560.126589" ><div class="time">2023-08-10 09:42</div></a><div class="msg">@bas has left the channel</div></div></div><br/>
<div><a id="1692043358.673859"><img src="https://secure.gravatar.com/avatar/3415e6939ffc9f0ccfb59a5b3dc9faed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">elenadoty</div><a style="text-decoration: none" href="#1692043358.673859" ><div class="time">2023-08-14 20:02</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1692891645.948019"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1692891645.948019" ><div class="time">2023-08-24 15:40</div></a><div class="msg">Hey folks.
Im facing a weird error when I try to verify my grpc-contract in the provider side:

```Plugin protobuf failed to validate the interaction: Plugin configuration item with key '330d8b9b2fef4480c366dd95e2ebb56e' is required. Received config ["f58d69682eec609d725e46c388aff650"]
io.pact.plugins.jvm.core.PactPluginValidationForInteractionException: Plugin protobuf failed to validate the interaction: Plugin configuration item with key '330d8b9b2fef4480c366dd95e2ebb56e' is required. Received config ["f58d69682eec609d725e46c388aff650"]```
Do you all know what about this error?

Thanks guys.</div></div></div><br/>
<div><a id="1692917983.923329"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1692917983.923329" ><div class="time">2023-08-24 22:59</div></a><div class="msg">Do a clean before running your consumer tests, you probably have a stale Pact file affecting things</div></div></div><br/>
<div><a id="1692951691.463939"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1692951691.463939" ><div class="time">2023-08-25 08:21</div></a><div class="msg">Yes, I cleaned,,, and also removed.

My service is generating one contract that uses different proto files, I think that it can be the problem.

Pact is always generating only one of this files in the configurations:

Example:

```"plugins": [
      {
        "configuration": {
          "bd82122dd37a0a29e676d1f63ef62eba": {
            "protoDescriptors": "",
            "protoFile": ""
          }
        },
        "name": "protobuf",
        "version": "0.3.4"
      }
    ]```
</div></div></div><br/>
<div><a id="1692958030.462669"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1692958030.462669" ><div class="time">2023-08-25 10:07</div></a><div class="msg">Can you provide the test?</div></div></div><br/>
<div><a id="1692969995.450679"><img src="https://secure.gravatar.com/avatar/4105befd21d773cbd02b9e8128727872.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">theteea</div><a style="text-decoration: none" href="#1692969995.450679" ><div class="time">2023-08-25 13:26</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1694016875.634899"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1694016875.634899" ><div class="time">2023-09-06 16:14</div></a><div class="msg">I am testing type matcher with requestMetadata but it seems to expect exact value instead of matching type.

```{
		"pact:proto": "/home/service.proto",
		"pact:proto-service": "Service/Validate",
		"pact:content-type": "application/protobuf",
		"request": {
			"token": "matching(type, 'bj8qnqw9cnalksnd9qwnk1j9cjm')"
		},
		"requestMetadata": {
			"x-b3-traceid": "matching(type, 'foo')"
        },
		"response": {
			"valid": "matching(boolean, true)"
		}
	}```
```pact validation failed: [{Request:{Method: Path:Service/Validate Query: Headers:map[] Body:&lt;nil&gt;} Mismatches:[{Actual:0123456789abcdef0123456789abcdef Expected:foo Key: Mismatch:Comparison of metadata key 'x-b3-traceid' failed: Expected 'foo' to be equal to '0123456789abcdef0123456789abcdef' Type:}] Type:}]```</div></div></div><br/>
<div><a id="1694045377.626509"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1694045377.626509" ><div class="time">2023-09-07 00:09</div></a><div class="msg">That might be a bug. Which language are you using?</div></div></div><br/>
<div><a id="1694045433.496509"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1694045433.496509" ><div class="time">2023-09-07 00:10</div></a><div class="msg">Golang</div></div></div><br/>
<div><a id="1694045470.476939"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1694045470.476939" ><div class="time">2023-09-07 00:11</div></a><div class="msg">Can you raise an issue for that?</div></div></div><br/>
<div><a id="1694045501.737419"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1694045501.737419" ><div class="time">2023-09-07 00:11</div></a><div class="msg">Sure raise it under pact-go or pact-plugin ?</div></div></div><br/>
<div><a id="1694045518.940269"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1694045518.940269" ><div class="time">2023-09-07 00:11</div></a><div class="msg">Let's start with pact-go</div></div></div><br/>
<div><a id="1694045531.021939"><img src="https://secure.gravatar.com/avatar/3673c8e2b6c51946779bb35795c460fc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" /></a><div class="message"><div class="username">sathish.sundararajan</div><a style="text-decoration: none" href="#1694045531.021939" ><div class="time">2023-09-07 00:12</div></a><div class="msg">cool sounds good</div></div></div><br/>
<div><a id="1695056151.834209"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1695056151.834209" ><div class="time">2023-09-18 16:55</div></a><div class="msg">Hello, I found a bug in the pact protobuf plugin where it errors out like so:
```Protobuf enum value .some.package.ENUM has no value ENUM_VALUE```
The issue occurs if there are multiple top-level enums with the same package name across different files. The good news is I have a pull-request fix for this. As a process question - Should I just create a PR or do I need to file an issue as well?

The technical reason is that in <a href="http://utils.rs">http://utils.rs</a>, it only calls `find_enum_by_name_in_message` on the _first_ message that matches the package name. In my case I have multiple of these, so the `find_enum_by_name` method returns None. The solution is to iterate through each of the messages that have the matching package and call `find_enum_by_name_in_message` for each of those.</div></div></div><br/>
<div><a id="1695058846.765339"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1695058846.765339" ><div class="time">2023-09-18 17:40</div></a><div class="msg">:blobwave:

No prescribed way but if its a bug I?d normally raise an issue first, and link to a pull request that proposes a fix for said bug.

Either way you get the change in front of people, is good for collabing, if it needs anything additional, it can always be added retrospectively!</div></div></div><br/>
<div><a id="1695059359.673499"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1695059359.673499" ><div class="time">2023-09-18 17:49</div></a><div class="msg">Wonderful thanks, ill throw some tests in and make a PR + an issue shortly.</div></div></div><br/>
<div><a id="1695068049.002459"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1695068049.002459" ><div class="time">2023-09-18 20:14</div></a><div class="msg">PR is up! Would love someone to provide feedback :pray:
<a href="https://github.com/pactflow/pact-protobuf-plugin/issues/30">https://github.com/pactflow/pact-protobuf-plugin/issues/30</a></div></div></div><br/>
<div><a id="1695076853.299489"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1695076853.299489" ><div class="time">2023-09-18 22:40</div></a><div class="msg">Awesome, thanks!</div></div></div><br/>
<div><a id="1695192069.302609"><img src="https://avatars.slack-edge.com/2023-09-04/5837088704774_48cff3b272aaa2c25e6b_72.jpg" /></a><div class="message"><div class="username">joshua.ellis</div><a style="text-decoration: none" href="#1695192069.302609" ><div class="time">2023-09-20 06:41</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1695220353.316209"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1695220353.316209" ><div class="time">2023-09-20 14:32</div></a><div class="msg">Hey folks - would you happen to know when the next release of this plugin may be? We'd like to use the fix I made above but are waiting for the next release to be cut.</div></div></div><br/>
<div><a id="1695247742.163799"><img src="https://avatars.slack-edge.com/2019-08-26/740232217414_014b213119f6e40fa572_72.jpg" /></a><div class="message"><div class="username">uglyog</div><a style="text-decoration: none" href="#1695247742.163799" ><div class="time">2023-09-20 22:09</div></a><div class="msg">I'll release a version for you</div></div></div><br/>
<div><a id="1696075081.265129"><img src="https://avatars.slack-edge.com/2023-09-30/5975435543524_1428b123a0863f6e65a4_72.jpg" /></a><div class="message"><div class="username">vittorio.gue</div><a style="text-decoration: none" href="#1696075081.265129" ><div class="time">2023-09-30 11:58</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1697575414.894979"><img src="https://secure.gravatar.com/avatar/8443294dc09c4175768224defaea8d22.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png" /></a><div class="message"><div class="username">ruth.kurniawati</div><a style="text-decoration: none" href="#1697575414.894979" ><div class="time">2023-10-17 20:43</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1697730249.445269"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1697730249.445269" ><div class="time">2023-10-19 15:44</div></a><div class="msg">Hi team.

I have one contract very big with many endpoints and my test class to the define the pact file is becoming huge.

Does anyone know if is possible to generate the same contract using different test classes?

Thanks.</div></div></div><br/>
<div><a id="1697764809.113249"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1697764809.113249" ><div class="time">2023-10-20 01:20</div></a><div class="msg">Are you asking if you can split tests across multiple classes? Yes, you definitely should be able to do that, and how you do it will entirely depend on what client SDK/language you?re using.</div></div></div><br/>
<div><a id="1697805185.010409"><img src="https://avatars.slack-edge.com/2023-02-14/4796504013942_54f687705451885c8dec_72.png" /></a><div class="message"><div class="username">andrevdrodrigues</div><a style="text-decoration: none" href="#1697805185.010409" ><div class="time">2023-10-20 12:33</div></a><div class="msg">Im asking about split test accross multiple classes but for the same contract? I mean generating the same pact file.

My language is java/jdk.</div></div></div><br/>
<div><a id="1697806051.405859"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1697806051.405859" ><div class="time">2023-10-20 12:47</div></a><div class="msg">Yep I'm sure that should be doable</div></div></div><br/>
<div><a id="1697806227.974989"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1697806227.974989" ><div class="time">2023-10-20 12:50</div></a><div class="msg">Check in #pact-jvm</div></div></div><br/>
<div><a id="1698789811.461209"><img src="https://avatars.slack-edge.com/2023-10-31/6148586195168_4c736ecd2bc92f818cd1_72.jpg" /></a><div class="message"><div class="username">sgavathe</div><a style="text-decoration: none" href="#1698789811.461209" ><div class="time">2023-10-31 22:03</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1699370414.331089"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1699370414.331089" ><div class="time">2023-11-07 15:20</div></a><div class="msg">Hello, could we please get a review on this PR (and subsequently a patch release if possible) from a colleague of mine?
<a href="https://github.com/pactflow/pact-protobuf-plugin/issues/38">https://github.com/pactflow/pact-protobuf-plugin/issues/38</a>
<a href="https://github.com/pactflow/pact-protobuf-plugin/pull/37/files">https://github.com/pactflow/pact-protobuf-plugin/pull/37/files</a></div></div></div><br/>
<div><a id="1699394118.881139"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1699394118.881139" ><div class="time">2023-11-07 21:55</div></a><div class="msg">Will get it onto our team?s backlog for review - thank you!</div></div></div><br/>
<div><a id="1699448042.585689"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1699448042.585689" ><div class="time">2023-11-08 12:54</div></a><div class="msg">Thank you!!</div></div></div><br/>
<div><a id="1700188625.532829"><img src="https://secure.gravatar.com/avatar/0d40f9e02517c0f7eec553429b4eab5a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png" /></a><div class="message"><div class="username">vikash.kumar.singh</div><a style="text-decoration: none" href="#1700188625.532829" ><div class="time">2023-11-17 02:37</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1701687512.227159"><img src="https://avatars.slack-edge.com/2023-11-29/6281498152705_d22e34ede798563fc157_72.jpg" /></a><div class="message"><div class="username">anna.nava</div><a style="text-decoration: none" href="#1701687512.227159" ><div class="time">2023-12-04 10:58</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1701708708.926059"><img src="https://avatars.slack-edge.com/2023-11-29/6281498152705_d22e34ede798563fc157_72.jpg" /></a><div class="message"><div class="username">anna.nava</div><a style="text-decoration: none" href="#1701708708.926059" ><div class="time">2023-12-04 16:51</div></a><div class="msg">:pray:  would anyone have any suggestion or where can I see examples on how to build a protobuf matcher that checks that a property in the protobuf message is either of type UUID4 ..... or that it simply matches the regex :pray:

from my kotlin code below :point_down: you can clearly see I don't know what to pass in and I don't want to serialize from JSON, but from protobuf

or maybe I am doing it all wrong and can't be done like this as there isn't a direct equivalent to `<a href="http://au.com">http://au.com</a>.dius.pact.consumer.dsl.DslPart` for protobuf.... so I wonder if Protobuf requires a different approach to what I am attempting here :questionmario:


```@Pact(consumer = "my-service")
    fun createPact(builder: PactBuilder): V4Pact {

        val messageFile = loadFileFromJarResource("/events/pub/a/v1/a_event.proto")

        return builder
            .usingPlugin("protobuf")
            .expectsToReceive("an AEvent ", "core/interaction/message")
            .with(
                mapOf(
                    "message.contents" to mapOf(
                        "pact:proto" to messageFile.path,
                        "pact:message-type" to "AlertEvent",
                        "pact:content-type" to "application/protobuf",
                        "pact:protobuf-config" to mapOf("additionalIncludes" to listOf("/Users/anna.nava/dev/protobuf/proto")),
                        "this_amazing_property" to mapOf(
                            //this compiles, but passes empty string: "id" to regex("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$")
                            //this doesn't compile:"id" to matchRegex("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$")
                            //this compiles, but ends up passing in an empty string:  "id" to regex("[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89aAbB][a-f0-9]{3}-[a-f0-9]{12}")
                            //"id" to mapOf("matchers" to mapOf("match" to "regex", "regex" to "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}\$" ))
                             "id" to regexp("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$", "123e4567-e89b-12d3-a456-426614174000")

                        ),```
(apologies if this is not the right channel for, very appreciated if anyone can redirect me where is best for me to ask this, thanks!)</div></div></div><br/>
<div><a id="1701734702.731659"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1701734702.731659" ><div class="time">2023-12-05 00:05</div></a><div class="msg">I think the way it is meant to be done is something like:
```"this_amazing_property" to "matching(uuid, '123e4567-e89b-12d3-a456-426614174000')"```</div></div></div><br/>
<div><a id="1701781187.776859"><img src="https://avatars.slack-edge.com/2023-11-29/6281498152705_d22e34ede798563fc157_72.jpg" /></a><div class="message"><div class="username">anna.nava</div><a style="text-decoration: none" href="#1701781187.776859" ><div class="time">2023-12-05 12:59</div></a><div class="msg">thanks! I appreciate that.... unfortunately it errors (my interpretation is uuid is only supported with JSON not protobuf)

```matching(uuid, '123e4567-e89b-12d3-a456-426614174000')
   ?          ????  
   ?            ???? This is not a valid matcher type
   ? 
   ? Note: Valid matchers are: equalTo, regex, type, datetime, date, time, include, number, integer, decimal, boolean, contentType, semver```
</div></div></div><br/>
<div><a id="1701784852.238839"><img src="https://secure.gravatar.com/avatar/7d56b34f4ec2d14a4e32e26ab1c629b6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">vinicius.gabriel</div><a style="text-decoration: none" href="#1701784852.238839" ><div class="time">2023-12-05 14:00</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1701790268.741699"><img src="https://avatars.slack-edge.com/2023-11-29/6281498152705_d22e34ede798563fc157_72.jpg" /></a><div class="message"><div class="username">anna.nava</div><a style="text-decoration: none" href="#1701790268.741699" ><div class="time">2023-12-05 15:31</div></a><div class="msg">in case anyone has the same problem with uuid / regex... the only way I could get this to work was:
```"this_amazing_property" to "matching(regex, '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}\$', '123e4567-e89b-12d3-a456-426614174222')"```
</div></div></div><br/>
<div><a id="1701799910.881529"><img src="https://secure.gravatar.com/avatar/7d56b34f4ec2d14a4e32e26ab1c629b6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">vinicius.gabriel</div><a style="text-decoration: none" href="#1701799910.881529" ><div class="time">2023-12-05 18:11</div></a><div class="msg">Hi Team,

There are some way to use the protofile that is in another repository on `pact:proto`? For example, on my application `<a href="http://github.com/x">http://github.com/x</a>`, I set a path to `<a href="http://github.com/y/protos">http://github.com/y/protos</a>` ?</div></div></div><br/>
<div><a id="1701814331.777829"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1701814331.777829" ><div class="time">2023-12-05 22:12</div></a><div class="msg">If you are asking if it can fetch a proto file from a remote repo, the answer it no. You will need to fetch it before so it is local</div></div></div><br/>
<div><a id="1701856386.471769"><img src="https://avatars.slack-edge.com/2023-11-29/6281498152705_d22e34ede798563fc157_72.jpg" /></a><div class="message"><div class="username">anna.nava</div><a style="text-decoration: none" href="#1701856386.471769" ><div class="time">2023-12-06 09:53</div></a><div class="msg">actually not really :disappointed: the regex gets ignored :disappointed:

it's like in this way I am only able to get the generator working.... but not really the matcher (it simply gets ignored)</div></div></div><br/>
<div><a id="1701960950.492899"><img src="https://secure.gravatar.com/avatar/7d56b34f4ec2d14a4e32e26ab1c629b6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png" /></a><div class="message"><div class="username">vinicius.gabriel</div><a style="text-decoration: none" href="#1701960950.492899" ><div class="time">2023-12-07 14:55</div></a><div class="msg">Hey, I'm doing some testes regarding which situations the Provider test fails, and seems that when I remove a field from the Provider version of Protobuff, this do not break the contract testing (even if I put it on Consumer specification).

For example, my consumer proto msg :
```protoMessage := `{
		"pact:proto": "` + path + `",
		"pact:message-type": "CreateAccountMessage",
		"pact:content-type": "application/protobuf",
		"pact:protobuf-config": {
			"additionalIncludes": [
				"/Users/viniciusgabriel/Projects/common/proto"
			]
		},
		"is_migration": "matching(boolean, true)",
		"account_type": "matching(type, 'SelfDirected')",
		"account_info": {
			"account_id": "eachValue(matching(type, 10))",
			"message_id": "eachValue(matching(type, 10))",
			"reg_form": {
				"reg_form": "matching(boolean, false)",
				"reg_form_sign": "notEmpty('sign')",
				"signed_at": {
					"seconds": "matching(integer, 100)",
					"nanos": "matching(integer, 100)"
				}
			}
		}
	}````
I removed the `is_migration` field from Protobuff used on Provider side:

Test:
```functionMappings := message.Handlers{
		"CreateAccountMessage": func([]models.ProviderState) (message.Body, message.Metadata, error) {
			msg, _ := proto.Marshal(&proto.CreateAccountMessage{
				// IsMigration: true,
				AccountType: sfproto.AccountType_SelfDirected,
				AccountInfo: &proto.AccountMessage{
					RegForm: &sfproto.RegForm{
						RegFormSign: "sign",
					},
				},
			})
			return msg, message.Metadata{
				"contentType": "application/protobuf;message=CreateAccountMessage",
			}, nil
		},
	}```
Protobuff code update (used on Provider side):
```type CreateAccountMessage struct {
	state         protoimpl.MessageState
	sizeCache     protoimpl.SizeCache
	unknownFields protoimpl.UnknownFields

	AccountInfo *AccountMessage     `protobuf:"bytes,1,opt,name=account_info,json=accountInfo,proto3" json:"account_info,omitempty"`
	AccountType  sfproto.ApexAccountType `protobuf:"varint,3,opt,name=account_type,json=accountType,proto3,enum=bridges.AccountType" json:"account_type,omitempty"`
}```
When I run the provider test, is not expected the test break, because a field that one Consumer expect do not exist anymore?</div></div></div><br/>
<div><a id="1705508576.668899"><img src="https://avatars.slack-edge.com/2023-11-29/6281498152705_d22e34ede798563fc157_72.jpg" /></a><div class="message"><div class="username">anna.nava</div><a style="text-decoration: none" href="#1705508576.668899" ><div class="time">2024-01-17 16:22</div></a><div class="msg">that's not entirely true.

I am able to fetch it from a remote repo, with the gradle dependency on that other repo, the plugin creates "$currentWorkingDir/build/extracted-include-protos"

so I can use them from my custom gradle task which I've called contractTest like this:

```@Pact(consumer = "consumerService")
    fun createPact(builder: PactBuilder): V4Pact {
        val messageFile = loadFileFromJarResource("/events/messages/alert_event.proto")
        val currentWorkingDir = System.getProperty("user.dir")
        val absolutePath = "$currentWorkingDir/build/extracted-include-protos/contractTest"
        return builder
            .usingPlugin("protobuf")
            .expectsToReceive("an AlertEvent", "core/interaction/message")
            .with(
                mapOf(
                    "message.contents" to mapOf(
                        "pact:proto" to messageFile.path,
                        "pact:message-type" to "AlertEvent",
                        "pact:content-type" to "application/protobuf",
                        "pact:protobuf-config" to mapOf("additionalIncludes" to listOf(absolutePath)),```
</div></div></div><br/>
<div><a id="1705614287.136959"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1705614287.136959" ><div class="time">2024-01-18 21:44</div></a><div class="msg">Hello folks - is there a way to pass in the `protocVersion` via the pact FFI when invoking a test? Right now it defaults to `3.19.1` which doesn't have support for M1 macs, so I need some mechanism to force it to download a later version.</div></div></div><br/>
<div><a id="1705614882.115029"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1705614882.115029" ><div class="time">2024-01-18 21:54</div></a><div class="msg">Ahh I think I can pass `pact:protocVersion` to the FFI similar to how I pass `additionalIncludes`. I think I answered my own question - leaving this here in case someone else needs it.</div></div></div><br/>
<div><a id="1705678646.032539"><img src="https://avatars.slack-edge.com/2023-06-05/5376538187938_56d117efc9c9552111e5_72.jpg" /></a><div class="message"><div class="username">rohitkrishnan</div><a style="text-decoration: none" href="#1705678646.032539" ><div class="time">2024-01-19 15:37</div></a><div class="msg">I found a bug in the way the plugin merges values between the manifest config that's provided by the test, so I put <a href="https://github.com/pactflow/pact-protobuf-plugin/pull/42/files">https://github.com/pactflow/pact-protobuf-plugin/pull/42/files</a> to fix this. I'd appreciate if someone could take a look and ideally cut a new version upon convenience - it would unblock some engineers using Apple silicon on their machines. :pray:</div></div></div><br/>
<div><a id="1706145942.595569"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706145942.595569" ><div class="time">2024-01-25 01:25</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1706146159.999219"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706146159.999219" ><div class="time">2024-01-25 01:29</div></a><div class="msg">Hey folks, I have a repeated field of a message type, ie strucutred. What's the right way to express that this field can have zero elements, or one, or many, but each matching the specific structure?
According to <a href="https://github.com/pact-foundation/pact-plugins/blob/main/docs/matching-rule-definition-expressions.md">https://github.com/pact-foundation/pact-plugins/blob/main/docs/matching-rule-definition-expressions.md</a>, you can do `eachValue()`  but that seems to work only for simple value fields.
I'm currently doing smth like this, but this defines one element, and I'm not sure how to specify counts. @rholshausen  you've added `atLeast` and `atMost` but I'm not sure where to put it, should it be just the element in the list? Thanks!
```{
		"availability_zones": [
			{
				"cloud_provider": "notEmpty('AWS')",
				"zone_name": "notEmpty('us-east-1a')"
			}
        ]
	}```</div></div></div><br/>
<div><a id="1706146415.932679"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706146415.932679" ><div class="time">2024-01-25 01:33</div></a><div class="msg">ah, shows my reading comprehension is lacking:
```The final form is a reference to another key. This is used to setup type matching using an example value, and is normally used for collections. The name of the key must be a string value in single quotes.

For example, to configure a type matcher where each value in a list must match the definition of a person:

{
  "pact:match": "eachValue(matching($'person'))",
  "person": {
    "name": "Fred",
    "age": 100
  }
}```</div></div></div><br/>
<div><a id="1706148024.238429"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706148024.238429" ><div class="time">2024-01-25 02:00</div></a><div class="msg">so in this final form of matching syntax, is the field name looked up on the same level or across all of the proto?
Like can I lookup the field in the parent or a child structure?
e.g. with a proto similar to this, if I've already defined `config` field in my response, can I just refer to it from under the custom_config?
```message Config {}
message CustomConfig {
   Config config = 1;
   string whatever = 2;
}
message Response {
  Config config = 1;
  CustomConfig custom_config = 2;
}```</div></div></div><br/>
<div><a id="1706154943.398069"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706154943.398069" ><div class="time">2024-01-25 03:55</div></a><div class="msg">`atLeast` and `atMost` are currently a work in progress, and will be able with the next release of the protobuf plugin</div></div></div><br/>
<div><a id="1706156395.195949"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706156395.195949" ><div class="time">2024-01-25 04:19</div></a><div class="msg">&gt; so in this final form of matching syntax, is the field name looked up on the same level or across all of the proto?
It's defined on the same level</div></div></div><br/>
<div><a id="1706227976.693529"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706227976.693529" ><div class="time">2024-01-26 00:12</div></a><div class="msg">thank you!</div></div></div><br/>
<div><a id="1706234998.854279"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706234998.854279" ><div class="time">2024-01-26 02:09</div></a><div class="msg">Hey folks, I've run into what I suspect may be a bug.
I have a grpc service which responds with a message that has a single boolean field (proto has more fields, but those are not populated by this service).
Whenever the server responds with `false` in that field (i can adjust the state in the test), I'm getting this error from the protobuf plugin:
```1) Verifying a pact between <consumer> and <provider> - <message>
2024-01-25 17:53:27.1661  ?     1.1) has a matching body
2024-01-25 17:53:27.1661  ?            $ -> Expected message '<message>' but was missing or empty```
This happens regardless of whether consumer expects true or false. The server seems to respond with a correct message, seeing how changing the state to return `true` makes the plugin work correctly, passing if the consumer requested true and failing if the consumer requested false.

This could be because boolean false is default, so the plugin cannot distinguish empty response from the explicit false, or am I misreading this?</div></div></div><br/>
<div><a id="1706235235.467889"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706235235.467889" ><div class="time">2024-01-26 02:13</div></a><div class="msg">According to the logs, `decode_message` returns empty for such a proto, here:
<a href="https://github.com/pactflow/pact-protobuf-plugin/blob/main/src/message_decoder/mod.rs#L258">https://github.com/pactflow/pact-protobuf-plugin/blob/main/src/message_decoder/mod.rs#L258</a>
```2024-01-26T01:32:33.300435Z  INFO tokio-runtime-worker request{method=POST uri=<a href="http://127.0.0.1:57435/io.pact.plugin.PactPlugin/VerifyInteraction">http://127.0.0.1:57435/io.pact.plugin.PactPlugin/VerifyInteraction</a> version=HTTP/2.0 headers={"te": "trailers", "content-type": "application/grpc", "authorization": Sensitive, "user-agent": "tonic/0.9.2"}}:decode_message: pact_protobuf_plugin::message_decoder: return=Ok([])```
</div></div></div><br/>
<div><a id="1706480947.628689"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706480947.628689" ><div class="time">2024-01-28 22:29</div></a><div class="msg">Oh, it's probably because false is the default, Protobuf is dropping the field from the payload. It does the same thing with enums.</div></div></div><br/>
<div><a id="1706480966.854529"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706480966.854529" ><div class="time">2024-01-28 22:29</div></a><div class="msg">I'll see if I can replicate it.</div></div></div><br/>
<div><a id="1706509049.669399"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706509049.669399" ><div class="time">2024-01-29 06:17</div></a><div class="msg">0.3.10 released which should have better support for default values</div></div></div><br/>
<div><a id="1706564155.155229"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1706564155.155229" ><div class="time">2024-01-29 21:35</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1706591345.185599"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1706591345.185599" ><div class="time">2024-01-30 05:09</div></a><div class="msg">:wave: Hi all, I'm having trouble with getting the grpc plugin to work. I'm on version 0.3.9 and I'm running into this error when running a pact test for a JS consumer.

```2024-01-30T05:05:04.269707Z ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - Request to configure interaction failed: Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1
2024-01-30T05:05:04.270658Z ERROR ThreadId(01) pact_ffi::mock_server: Failed to start mock server - Mock server failed to start: Failed to start gRPC mock server: Pact file does not contain any Protobuf descriptors```
I'm assuming the failure to start the mock server is because of the failed protoc invocation. Has anyone run into this? I added debug logging, but nothing really struck at me. Thanks so much!</div></div></div><br/>
<div><a id="1706591471.222539"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706591471.222539" ><div class="time">2024-01-30 05:11</div></a><div class="msg">Check what is in `HOME/.pact/plugins/protobuf-0.3.9`</div></div></div><br/>
<div><a id="1706591480.585149"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1706591480.585149" ><div class="time">2024-01-30 05:11</div></a><div class="msg">:point_up:</div></div></div><br/>
<div><a id="1706591509.420959"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706591509.420959" ><div class="time">2024-01-30 05:11</div></a><div class="msg">It will try download the protoc binary, and that may have failed</div></div></div><br/>
<div><a id="1706592348.676379"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706592348.676379" ><div class="time">2024-01-30 05:25</div></a><div class="msg">I'm sorry, but I seem to have stumbled upon another protobuf related bug :slightly_smiling_face: Please let me know how I can help reproduce or fix
<a href="https://github.com/pactflow/pact-protobuf-plugin/issues/44">https://github.com/pactflow/pact-protobuf-plugin/issues/44</a></div></div></div><br/>
<div><a id="1706592471.627379"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706592471.627379" ><div class="time">2024-01-30 05:27</div></a><div class="msg">Try run a clean before running the consumer tests</div></div></div><br/>
<div><a id="1706597918.377129"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706597918.377129" ><div class="time">2024-01-30 06:58</div></a><div class="msg">I have tested this without any pact files present - or is there some caching happening somewhere?</div></div></div><br/>
<div><a id="1706609808.033449"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1706609808.033449" ><div class="time">2024-01-30 10:16</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1706609978.973169"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1706609978.973169" ><div class="time">2024-01-30 10:19</div></a><div class="msg">Hey! Is there a way that I can test protobuf files that import other proto files? I pass one into the protobuf plugin with `"pact:proto", filepath("proto1.proto)` but inside `proto1.proto` I have `import './proto2.proto'` which also has its own dependency `import './proto3.proto'`. Can I pass multiple proto files in to the protobuf plugin so I can handle multiple imports like this?</div></div></div><br/>
<div><a id="1706610000.253669"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1706610000.253669" ><div class="time">2024-01-30 10:20</div></a><div class="msg">Right now it'll fail with a protobuf error if I `pact:proto` the first file and have all of them in the same directory</div></div></div><br/>
<div><a id="1706610219.078559"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1706610219.078559" ><div class="time">2024-01-30 10:23</div></a><div class="msg">A second question, albeit this is more Java related perhaps (although any support would be &lt;3'd!), if I try to return a builder with more than 10 key,values Java complains. If I include the keys for `pact:proto`, `pact:message-type`, and `pact:content-type`, I only have 7 keys remaining for `message.contents` values. If I add an 8th key, Java explodes. Is there a nice way around this? How are people dealing with messages including more than 7 values?</div></div></div><br/>
<div><a id="1706610272.141469"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1706610272.141469" ><div class="time">2024-01-30 10:24</div></a><div class="msg">This explains the problem: <a href="https://typeofnan.dev/how-to-create-a-map-of-more-than-10-in-java/">https://typeofnan.dev/how-to-create-a-map-of-more-than-10-in-java/</a></div></div></div><br/>
<div><a id="1706611016.098679"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1706611016.098679" ><div class="time">2024-01-30 10:36</div></a><div class="msg">Is this helpful at all?

<a href="https://github.com/pactflow/pact-protobuf-plugin/issues/21">https://github.com/pactflow/pact-protobuf-plugin/issues/21</a></div></div></div><br/>
<div><a id="1706611260.742399"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1706611260.742399" ><div class="time">2024-01-30 10:41</div></a><div class="msg">It might be!</div></div></div><br/>
<div><a id="1706611264.545749"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1706611264.545749" ><div class="time">2024-01-30 10:41</div></a><div class="msg">I'll try, thanks Matt</div></div></div><br/>
<div><a id="1706611650.708339"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1706611650.708339" ><div class="time">2024-01-30 10:47</div></a><div class="msg">This does work!</div></div></div><br/>
<div><a id="1706615402.948019"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1706615402.948019" ><div class="time">2024-01-30 11:50</div></a><div class="msg">phew! :wink:</div></div></div><br/>
<div><a id="1706651076.761989"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706651076.761989" ><div class="time">2024-01-30 21:44</div></a><div class="msg">Oh, wait, it is for a provider state. That might be a regression. I'll take a look</div></div></div><br/>
<div><a id="1706654724.452439"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706654724.452439" ><div class="time">2024-01-30 22:45</div></a><div class="msg">yeah, it happens for the state with params, I think I've seen it once for the state without params too, but not 100% sure, can try to confirm later today</div></div></div><br/>
<div><a id="1706738971.444899"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1706738971.444899" ><div class="time">2024-01-31 22:09</div></a><div class="msg">Thanks! I was able to get it to work by updating the config `"protocVersion"` to recent version. I think because I have a newer Mac and it wasn't able to find the arch for the older protobuf version.</div></div></div><br/>
<div><a id="1706739023.013269"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1706739023.013269" ><div class="time">2024-01-31 22:10</div></a><div class="msg">Well, still running into the same protoc error, but now I know the protoc binary is being run :smile:</div></div></div><br/>
<div><a id="1706750812.356369"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706750812.356369" ><div class="time">2024-02-01 01:26</div></a><div class="msg">Hey folks, for `atLeast(x)` condition here - does this mean that empty lists/maps are ok unless I restrict them using `atLeast` ? Thanks!</div></div></div><br/>
<div><a id="1706752634.249139"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706752634.249139" ><div class="time">2024-02-01 01:57</div></a><div class="msg">I think so, but I haven't tested the behviour</div></div></div><br/>
<div><a id="1706768331.192229"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706768331.192229" ><div class="time">2024-02-01 06:18</div></a><div class="msg">thanks, I'll try to test it with our projects</div></div></div><br/>
<div><a id="1706771286.038689"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706771286.038689" ><div class="time">2024-02-01 07:08</div></a><div class="msg">It might be a dumb question, but are there any good examples on how to specify matching rules for values in a map? I'm struggling to understand the syntax tbh, like where do you put the matching rules.
Like how can we say the map accepts 0+ fields and both key and value are strings (basically `map<string, string> labels = 4` in the .proto file).
I've tried:
```"labels": {"pact:match": "eachKey(matching(type, 'some-key')), eachValue(matching(type, 'some-value'))"}```
and got `rpc error: code = FailedPrecondition desc = Failed to match the request message - BodyMismatches({"$.destination": [BodyMismatch { path: "$.destination.labels", expected: None, actual: None, mismatch: "Expected repeated field 'labels' to be empty but received 1 values" }]})`

```"labels": {"pact:match": "atLeast(0), eachKey(matching(type, 'some-key')), eachValue(matching(type, 'some-value'))"},```
and it gave me an error `2024-01-31 22:44:50.5126  ? 2024-02-01T06:44:50.498712Z ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - min-type is not a valid matching rule type` (or at least that's the error I found in the debug logs, in info it was the usual 'pact file contains no protobuf descriptors')</div></div></div><br/>
<div><a id="1706772534.659859"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706772534.659859" ><div class="time">2024-02-01 07:28</div></a><div class="msg">also, conceptually, is it better to do multiple pacts, one with 0 values, one with 1 value, one with multiple values?</div></div></div><br/>
<div><a id="1706823877.663129"><img src="https://avatars.slack-edge.com/2023-12-19/6355183416935_c007ad94041c9594b0a8_72.jpg" /></a><div class="message"><div class="username">eran.bergman560</div><a style="text-decoration: none" href="#1706823877.663129" ><div class="time">2024-02-01 21:44</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1706847897.695569"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706847897.695569" ><div class="time">2024-02-02 04:24</div></a><div class="msg">Yes, a sperate test for each different combination you want to assert. But I would normally just do 2: empty and not empty</div></div></div><br/>
<div><a id="1706847934.711639"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706847934.711639" ><div class="time">2024-02-02 04:25</div></a><div class="msg">I'll see if I can replicate the issue you are seeing</div></div></div><br/>
<div><a id="1706848049.799199"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1706848049.799199" ><div class="time">2024-02-02 04:27</div></a><div class="msg">Docs can be foud here: <a href="https://docs.rs/pact_models/latest/pact_models/matchingrules/expressions/index.html">https://docs.rs/pact_models/latest/pact_models/matchingrules/expressions/index.html</a></div></div></div><br/>
<div><a id="1706894867.666619"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1706894867.666619" ><div class="time">2024-02-02 17:27</div></a><div class="msg">Thanks! Yeah, I've seen those docs, they're good but miss important point - how to apply those matchers for list and map fields, e.g. where do you put `eachKey` and `eachValue`? I was kinda semi-guessing based on your previous comments :slightly_smiling_face:</div></div></div><br/>
<div><a id="1707058226.578699"><img src="https://avatars.slack-edge.com/2024-02-04/6594543001073_6741f132216445e2c475_72.jpg" /></a><div class="message"><div class="username">jose.silva</div><a style="text-decoration: none" href="#1707058226.578699" ><div class="time">2024-02-04 14:50</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1707111813.583059"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707111813.583059" ><div class="time">2024-02-05 05:43</div></a><div class="msg">Just coming back to this
&gt; how can we say the map accepts 0+ fields</div></div></div><br/>
<div><a id="1707111883.895399"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707111883.895399" ><div class="time">2024-02-05 05:44</div></a><div class="msg">This is the default behavior with the `eachKey` and `eachValue` functions, you don't need anything else</div></div></div><br/>
<div><a id="1707113354.159419"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707113354.159419" ><div class="time">2024-02-05 06:09</div></a><div class="msg">Think I have replicated the problem, will try create a fix</div></div></div><br/>
<div><a id="1707223764.598569"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1707223764.598569" ><div class="time">2024-02-06 12:49</div></a><div class="msg">When I run a test I get a few errors:

`io.grpc.StatusRuntimeException: UNAVAILABLE: io exception` and `... Connection refused/[0:0:0:0:0:0:1]:63856`

The tests work but the logs are full of these. Any advice on why?</div></div></div><br/>
<div><a id="1707257438.310269"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707257438.310269" ><div class="time">2024-02-06 22:10</div></a><div class="msg">O would expect that your gRPC client is trying to use some gRPC service that is unavailable during the test.</div></div></div><br/>
<div><a id="1707264735.896669"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707264735.896669" ><div class="time">2024-02-07 00:12</div></a><div class="msg">What's the right way to specify matching `[]byte` fields in grpc requests/responses? I'm currently converting it to string, smth like:
```"bytes": "matching(type, '" + string(bytes) + "')",```
is this the right way to go?</div></div></div><br/>
<div><a id="1707264860.061859"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707264860.061859" ><div class="time">2024-02-07 00:14</div></a><div class="msg">Seems to work, but there's one issue. Certain bytes get converted in the response, so the response I receive from the mock server is not the one I specify in the `response` field, so I was wondering if could be related to converting bytes back and forth to/from string</div></div></div><br/>
<div><a id="1707264874.774939"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707264874.774939" ><div class="time">2024-02-07 00:14</div></a><div class="msg">That's a good question, I need to investigate that</div></div></div><br/>
<div><a id="1707264966.653479"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707264966.653479" ><div class="time">2024-02-07 00:16</div></a><div class="msg">Specifically `0xc0` and `0x86`, maybe others too. Both are always replaced with the same set of bytes: `0xef, 0xbf, 0xbd` and then the test fails because you assert to receive `0xc0` and receive `0xef, 0xbf, 0xbd` instead:
```expected: []byte{0xc0}
actual  : []byte{0xef, 0xbf, 0xbd}```
I wonder if it has something to do with trimming the string or empty characters or something, but they get replaced even when they're in the middle of the sequence.
idk if there are some special bytes?</div></div></div><br/>
<div><a id="1707264989.901889"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707264989.901889" ><div class="time">2024-02-07 00:16</div></a><div class="msg">I don't particularly care for specific bytes in this particular test, so I can easily work around it, but was curious</div></div></div><br/>
<div><a id="1707265045.831559"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707265045.831559" ><div class="time">2024-02-07 00:17</div></a><div class="msg">It would be treated as UTF-8, which means the bytes are converted to UTF code points. They would have to be escaped correctly.</div></div></div><br/>
<div><a id="1707265067.669989"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707265067.669989" ><div class="time">2024-02-07 00:17</div></a><div class="msg">Better to have another mechanism to define the byte values</div></div></div><br/>
<div><a id="1707272916.302469"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707272916.302469" ><div class="time">2024-02-07 02:28</div></a><div class="msg">Another issue found, sorry! :sweat_smile:
<a href="https://github.com/pactflow/pact-protobuf-plugin/issues/45">https://github.com/pactflow/pact-protobuf-plugin/issues/45</a>
@ryoshida has also ran into a similar issue with strings and booleans, but I haven't been able to reproduce on my end yet, will update the ticket if I can.</div></div></div><br/>
<div><a id="1707272979.222809"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707272979.222809" ><div class="time">2024-02-07 02:29</div></a><div class="msg">I think @ryoshida tested this and empty collections are ok unless atLeast is specified</div></div></div><br/>
<div><a id="1707273107.733609"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707273107.733609" ><div class="time">2024-02-07 02:31</div></a><div class="msg">ooh, seems like the first issue here is the same as the one for which I've opened a separate ticket :sweat_smile:
<a href="https://pact-foundation.slack.com/archives/CEQBDD5U4/p1707272916302469">https://pact-foundation.slack.com/archives/CEQBDD5U4/p1707272916302469</a></div></div></div><br/>
<div><a id="1707283602.269839"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707283602.269839" ><div class="time">2024-02-07 05:26</div></a><div class="msg">0.3.12 released with some fixes</div></div></div><br/>
<div><a id="1707298440.126669"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1707298440.126669" ><div class="time">2024-02-07 09:34</div></a><div class="msg">The issue is I'm just using protobufs, not gRPC</div></div></div><br/>
<div><a id="1707298447.992509"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1707298447.992509" ><div class="time">2024-02-07 09:34</div></a><div class="msg">Maybe the plugin expects gRPC</div></div></div><br/>
<div><a id="1707299815.694059"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1707299815.694059" ><div class="time">2024-02-07 09:56</div></a><div class="msg">My provider is throwing this error: `body: $ Messages with StartGroup wire type fields are not supported`. Anyone know what that means? I can't find anything obvious online</div></div></div><br/>
<div><a id="1707299840.402199"><img src="https://avatars.slack-edge.com/2024-01-30/6537534939847_11360b97bd96801ca985_72.jpg" /></a><div class="message"><div class="username">eddjlsh94</div><a style="text-decoration: none" href="#1707299840.402199" ><div class="time">2024-02-07 09:57</div></a><div class="msg">It's thrown during the `verifyInteraction()` function, on the first contract test</div></div></div><br/>
<div><a id="1707338493.456419"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1707338493.456419" ><div class="time">2024-02-07 20:41</div></a><div class="msg">Hi all :wave: I'm having some issues getting the protobuf/gRPC plugin to work. I've been specifically getting these error messages when running a js consumer test:

```ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - Request to configure interaction failed: Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1

ERROR ThreadId(01) pact_ffi::mock_server: Failed to start mock server - Mock server failed to start: Failed to start gRPC mock server: Pact file does not contain any Protobuf descriptors```
I can imagine a number of things can be the cause of this (and I unfortunately can't post much more in the public channel), but I was wondering if there was a way to get more information on what specifically caused the protoc binary to exit? I set log levels to debug and trace but nothing really stood out to me. Thanks!</div></div></div><br/>
<div><a id="1707340901.782499"><img src="https://secure.gravatar.com/avatar/8bc31d2172630c1d5fa190afd4eed511.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">praful.poudel</div><a style="text-decoration: none" href="#1707340901.782499" ><div class="time">2024-02-07 21:21</div></a><div class="msg">has joined #protobufs</div></div></div><br/>
<div><a id="1707340964.872629"><img src="https://secure.gravatar.com/avatar/8bc31d2172630c1d5fa190afd4eed511.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png" /></a><div class="message"><div class="username">praful.poudel</div><a style="text-decoration: none" href="#1707340964.872629" ><div class="time">2024-02-07 21:22</div></a><div class="msg">@matt.fellows @yousafn</div></div></div><br/>
<div><a id="1707343878.410699"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707343878.410699" ><div class="time">2024-02-07 22:11</div></a><div class="msg">The gRPC plugin does not support groups. Can you provide the proto file so we can see how you are using them?</div></div></div><br/>
<div><a id="1707344223.489299"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1707344223.489299" ><div class="time">2024-02-07 22:17</div></a><div class="msg">You may need to clear our any pact files before a new run.

There should be logs in the `~/.pact/plugins/protobuf-&lt;version&gt;/` folder</div></div></div><br/>
<div><a id="1707344374.576469"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707344374.576469" ><div class="time">2024-02-07 22:19</div></a><div class="msg">How have you setup the tests? This is a gRPC exception: `io.grpc.StatusRuntimeException`</div></div></div><br/>
<div><a id="1707349025.982349"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707349025.982349" ><div class="time">2024-02-07 23:37</div></a><div class="msg">search the plugin logs for the word `protoc` there should be a line smth like `invoking protoc` or similar, it will print the exact command used to invoke `protoc` as well as its output.
Also if you run your test with PACT_LOG_LEVEL=debug env variable it will print the same logs in the console, but they're quite verbose so it's usually easier to read them from the plugin's log file</div></div></div><br/>
<div><a id="1707349176.033969"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707349176.033969" ><div class="time">2024-02-07 23:39</div></a><div class="msg">According to the doc here: <a href="https://github.com/pactflow/pact-protobuf-plugin?tab=readme-ov-file#verifying-grpc-error-responses-031">https://github.com/pactflow/pact-protobuf-plugin?tab=readme-ov-file#verifying-grpc-error-responses-031</a> you can specify a matcher on metadata fields, but when I ran the test with pact-go, my pact file doesn't contain any matchers for the metadata value. When I read through the pact v4 spec, it doesn't look like you can specify matchers for metadata at all, but I could've missed it, it's a big doc :sweat_smile:
Are matchers supported on metadata fields?
```      "response": [
        {
          "contents": {
            "content": ""
          },
          "metadata": {
            "contentType": "application/protobuf;message=Feature",
            "grpc-message": "no feature was found at latitude:-1  longitude:-1",
            "grpc-status": "NOT_FOUND"
          }
        }
      ],```</div></div></div><br/>
<div><a id="1707349666.419489"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707349666.419489" ><div class="time">2024-02-07 23:47</div></a><div class="msg">It definitely supports matching rules on metadata.</div></div></div><br/>
<div><a id="1707349691.180369"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707349691.180369" ><div class="time">2024-02-07 23:48</div></a><div class="msg">There is an example somewhere, I'll try find it</div></div></div><br/>
<div><a id="1707349926.994999"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707349926.994999" ><div class="time">2024-02-07 23:52</div></a><div class="msg">:point_right:  <a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/metadata">https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/metadata</a></div></div></div><br/>
<div><a id="1707349973.268059"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707349973.268059" ><div class="time">2024-02-07 23:52</div></a><div class="msg">so it could be that it's pact-go strips it somehow? I'll look more into this</div></div></div><br/>
<div><a id="1707350032.452969"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707350032.452969" ><div class="time">2024-02-07 23:53</div></a><div class="msg">Hmm, it shouldn't be doing anything, but passing the JSON strait on through</div></div></div><br/>
<div><a id="1707350146.969159"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707350146.969159" ><div class="time">2024-02-07 23:55</div></a><div class="msg">if it's not too much to ask and if you have already set up the pact-plugins repo on your machine, could you please run the consumer-jvm example and share the resulting pact json file so I can compare with what pact-go generated? Could be user error on my side.
If it'll take you more than 2 minutes, it's ok tho, I can take a look too. Thanks!</div></div></div><br/>
<div><a id="1707350519.763809"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707350519.763809" ><div class="time">2024-02-08 00:01</div></a><div class="msg">```{
  "consumer": {
    "name": "grpc-consumer-jvm"
  },
  "interactions": [
    {
      "comments": {
        "testname": "io.pact.example.grpc.consumer.PactConsumerTest.testMetadata(MockServer)"
      },
      "description": "validate token request",
      "interactionMarkup": {
        "markup": "```protobuf\nmessage ValidateTokenRequest {\n}\n```\n\n```protobuf\nmessage ValidateTokenResult {\n    bool ok = 1;\n}\n```\n",
        "markupType": "COMMON_MARK"
      },
      "key": "124feec5",
      "pending": false,
      "pluginConfiguration": {
        "protobuf": {
          "descriptorKey": "21e4eba65e4d1100ce2fb63b5e6b2c3e",
          "service": "Test/ValidateToken"
        }
      },
      "request": {
        "contents": {
          "content": ""
        },
        "matchingRules": {
          "metadata": {
            "Auth": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "regex",
                  "regex": "[A-Z]{3}\\d+"
                }
              ]
            }
          }
        },
        "metadata": {
          "Auth": "AST00004",
          "contentType": "application/protobuf;message=ValidateTokenRequest"
        }
      },
      "response": [
        {
          "contents": {
            "content": "CAE=",
            "contentType": "application/protobuf; message=ValidateTokenResult",
            "contentTypeHint": "BINARY",
            "encoded": "base64"
          },
          "matchingRules": {
            "body": {
              "$.ok": {
                "combine": "AND",
                "matchers": [
                  {
                    "match": "boolean"
                  }
                ]
              }
            },
            "metadata": {
              "code": {
                "combine": "AND",
                "matchers": [
                  {
                    "match": "integer"
                  }
                ]
              }
            }
          },
          "metadata": {
            "code": "100",
            "contentType": "application/protobuf;message=ValidateTokenResult"
          }
        }
      ],
      "transport": "grpc",
      "type": "Synchronous/Messages"
    }
  ],
  "metadata": {
    "pact-jvm": {
      "version": "4.4.6"
    },
    "pactSpecification": {
      "version": "4.0"
    },
    "plugins": [
      {
        "configuration": {
          "21e4eba65e4d1100ce2fb63b5e6b2c3e": {
            "protoDescriptors": "Ct8BCg5tZXRhZGF0YS5wcm90bxIMbWV0YWRhdGF0ZXN0IhYKFFZhbGlkYXRlVG9rZW5SZXF1ZXN0IiUKE1ZhbGlkYXRlVG9rZW5SZXN1bHQSDgoCb2sYASABKAhSAm9rMmAKBFRlc3QSWAoNVmFsaWRhdGVUb2tlbhIiLm1ldGFkYXRhdGVzdC5WYWxpZGF0ZVRva2VuUmVxdWVzdBohLm1ldGFkYXRhdGVzdC5WYWxpZGF0ZVRva2VuUmVzdWx0IgBCFloUaW8ucGFjdC9tZXRhZGF0YXRlc3RiBnByb3RvMw==",
            "protoFile": "syntax = \"proto3\";\n\npackage metadatatest;\noption go_package = \"io.pact/metadatatest\";\n\nmessage ValidateTokenRequest {\n}\n\nmessage ValidateTokenResult {\n  bool ok = 1;\n}\n\nservice Test {\n  // This call requires the Auth header to be correctly set\n  rpc ValidateToken(ValidateTokenRequest) returns (ValidateTokenResult) {}\n}\n"
          }
        },
        "name": "protobuf",
        "version": "0.3.12"
      }
    ]
  },
  "provider": {
    "name": "validate-token-provider"
  }
}```</div></div></div><br/>
<div><a id="1707351434.494489"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1707351434.494489" ><div class="time">2024-02-08 00:17</div></a><div class="msg">thanks for the replies, for some reason nothing is getting written to the `plugin.log.2024-02-07` file (likely a separate issue), nor do I see the `protoc` binary getting invoked. Seems to fail before then :thinking2:

This is the debug output that gets written out along with that failed invocation:

```2024-02-07T15:31:39.104258Z DEBUG ThreadId(01) pact_plugin_driver::content: Got response: ConfigureInteractionResponse { error: "Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1", interaction: [], plugin_configuration: None }
2024-02-07T15:31:39.104275Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2024-02-07T15:31:39.104286Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2024-02-07T15:31:39.104369Z ERROR ThreadId(01) pact_ffi::plugins: Failed to call out to plugin - Request to configure interaction failed: Failed to process protobuf: Failed to invoke protoc binary: exit code exit status: 1
2024-02-07T15:31:39.104525Z DEBUG ThreadId(01) pact_ffi::mock_server: pact_ffi::mock_server::pactffi_create_mock_server_for_transport FFI function invoked```
dumb question, but the same logs that get sent to the terminal output would be the same logs that would be sent to the that plugin log file, correct?</div></div></div><br/>
<div><a id="1707352429.132459"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707352429.132459" ><div class="time">2024-02-08 00:33</div></a><div class="msg">thank you, I'll look into what's different in how pact-go processes it (or if I'm doing something wrong maybe)</div></div></div><br/>
<div><a id="1707352518.327029"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707352518.327029" ><div class="time">2024-02-08 00:35</div></a><div class="msg">anything interesting in the logs before that?
Also, do you have a single protobuf plugin under that folder or multiple versions? I had a case on my machine where I had multiple protobuf plugins installed and was looking for logs in a wrong one</div></div></div><br/>
<div><a id="1707353728.191899"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1707353728.191899" ><div class="time">2024-02-08 00:55</div></a><div class="msg">Not anything in particular, if there was, I wasn't able to decipher them :sweat_smile:

```24-02-07T15:31:39.050631Z DEBUG ThreadId(01) pact_plugin_driver::plugin_models: IP6 connection failed, will try IP4 address - transport error
2024-02-07T15:31:39.050736Z DEBUG ThreadId(01) hyper::client::connect::http: connecting to 127.0.0.1:53033
2024-02-07T15:31:39.051238Z DEBUG ThreadId(01) hyper::client::connect::http: connected to 127.0.0.1:53033
2024-02-07T15:31:39.051316Z DEBUG ThreadId(01) h2::client: binding client connection
2024-02-07T15:31:39.051363Z DEBUG ThreadId(01) h2::client: client connection bound
2024-02-07T15:31:39.051380Z DEBUG ThreadId(01) h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 }
2024-02-07T15:31:39.051582Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 5177345 }
2024-02-07T15:31:39.051718Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }
2024-02-07T15:31:39.051769Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2024-02-07T15:31:39.051792Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 983041 }
2024-02-07T15:31:39.051823Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2024-02-07T15:31:39.051837Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 }
2024-02-07T15:31:39.051936Z DEBUG   ffi-setup_contents tower::buffer::worker: service.ready=true processing request
2024-02-07T15:31:39.052141Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2024-02-07T15:31:39.052224Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1) }
2024-02-07T15:31:39.052246Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
2024-02-07T15:31:39.104147Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2024-02-07T15:31:39.104179Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2024-02-07T15:31:39.104195Z DEBUG   ffi-setup_contents Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }```
I do have multiple versions. But the others didn't have log files (this one was created, it was just empty). Also logs seem to show I'm using the correct one:

```2024-02-07T15:31:38.536558Z DEBUG ThreadId(01) pact_plugin_driver::plugin_manager: Starting plugin using "/Users/<myuser>/.pact/plugins/protobuf-0.3.11/pact-protobuf-plugin"```</div></div></div><br/>
<div><a id="1707354197.897719"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707354197.897719" ><div class="time">2024-02-08 01:03</div></a><div class="msg">yeah, I don't see anything suspicious here. Do you have `protoc` binary under ~/.pact/plugins/protobuf-<version>/bin ? I've had issues in the past where it was trying to download a version of protoc that's not compatible with arm macs.
Alternatively it will try to invoke the protoc in your path</div></div></div><br/>
<div><a id="1707389151.870139"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1707389151.870139" ><div class="time">2024-02-08 10:45</div></a><div class="msg">Can you check which version of protoc `protoc --version` you have running? it may be worth upgrading to the latest, assuming you installed with brew `brew upgrade protobuf`

 If you try and invoke the pact-protobuf-plugin executable directly, does that work

`/Users/&lt;myuser&gt;/.pact/plugins/protobuf-0.3.11/pact-protobuf-plugin`

&gt; dumb question, but the same logs that get sent to the terminal output would be the same logs that would be sent to the that plugin log file, correct?
Not a dumb question if you don?t know the answer! I had assumed that, but no, currently the plugins (executables in the plugin folder) , don?t send their logs to the plugin driver (in your pact client library), so the logs aren?t joined up.

I tend to tail the logs inside the plugin folder, if I am diagnosing a test, so I can see the std output from the main test (which tells me its communicating with the plugin) and the plugins output from its own log file</div></div></div><br/>
<div><a id="1707389183.878079"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1707389183.878079" ><div class="time">2024-02-08 10:46</div></a><div class="msg">Stan thank you for being so helpful!</div></div></div><br/>
<div><a id="1707404778.688239"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1707404778.688239" ><div class="time">2024-02-08 15:06</div></a><div class="msg">I updated protoc by setting  `"protocVersion":"25.1"` in the `pact-plugin.json` config

```bin % pwd
/Users/&lt;user&gt;/.pact/plugins/protobuf-0.3.11/protoc/bin
bin % ./protoc --version
libprotoc 25.1```
Plugin appears to work (I kept it running for a bit)
```protobuf-0.3.11 % ./pact-protobuf-plugin
{"port":59464, "serverKey":"&lt;maybe secret? redacted just in case&gt;"}
2024-02-08T14:10:35.633062Z  INFO tokio-runtime-worker pact_protobuf_plugin: No activity for more than 600 seconds, sending shutdown signal
2024-02-08T14:10:35.633457Z  INFO                 main pact_protobuf_plugin: Received shutdown signal, shutting plugin down```
I also have a m2 mac, not sure if that changes anything.</div></div></div><br/>
<div><a id="1707408483.946879"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1707408483.946879" ><div class="time">2024-02-08 16:08</div></a><div class="msg">good idea on the caution, that server key is just a uuid which is sent to the pact plugin driver, so they can somewhat securely communicate without anything else listening in on your machine

that looks promising on the plugin side (it executes) and we are on the same protoc version, I?m running a mac m1, shouldn?t make too much of a diff, I?ve got a machine with sip enabled, and one without.

Do you see anything in your log files about being unable to find a protobuf descriptor, something like that, it usually means you?ve provided it a file but it can?t find it.

You can share logs in a private PM if you prefer.

I popped a JS example in the plugins repo, that you might like to try and run?

<a href="https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/js">https://github.com/pact-foundation/pact-plugins/tree/main/examples/gRPC/area_calculator/js</a></div></div></div><br/>
<div><a id="1707410859.916419"><img src="https://avatars.slack-edge.com/2024-01-08/6442301939908_9532f32f657a77ba179e_72.png" /></a><div class="message"><div class="username">christopher.tonog</div><a style="text-decoration: none" href="#1707410859.916419" ><div class="time">2024-02-08 16:47</div></a><div class="msg">Thanks @yousafn for the help, I was finally able to get past this issue with help internally. Turns out there was a secondary import in the provider .proto file. I didn't see the other proto file in the same directory but thought it might've been implicitly imported some other way so that I didn't need to add the extra `additionalIncludes` proto config (I don't have much context in the provider code base so I missed that). :face_with_spiral_eyes: Adding the extra proto file via `additionalIncludes`fixed the issue! Thanks for helping walk through troubleshooting, I learned a couple things along the way. :bow:</div></div></div><br/>
<div><a id="1707431007.878389"><img src="https://avatars.slack-edge.com/2018-04-12/346985093526_697d2fedcd27f4fc4996_72.jpg" /></a><div class="message"><div class="username">matt.fellows</div><a style="text-decoration: none" href="#1707431007.878389" ><div class="time">2024-02-08 22:23</div></a><div class="msg">&gt; I learned a couple things along the way. :bow: 
nice!</div></div></div><br/>
<div><a id="1707439945.649869"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707439945.649869" ><div class="time">2024-02-09 00:52</div></a><div class="msg">nvm, the previous post (deleted) let me read through some more</div></div></div><br/>
<div><a id="1707441290.265079"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707441290.265079" ><div class="time">2024-02-09 01:14</div></a><div class="msg">Reproduced the issue inside pact-protobuf plugin itself:
<a href="https://github.com/pactflow/pact-protobuf-plugin/pull/46">https://github.com/pactflow/pact-protobuf-plugin/pull/46</a>
I'll experiment some more with it and try to walk through this with a debugger. Would appreciate any debugging suggestions</div></div></div><br/>
<div><a id="1707443413.895539"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707443413.895539" ><div class="time">2024-02-09 01:50</div></a><div class="msg">I've found this spot in the pact-reference that seems to populate metadata matching rules, but not sure yet where it's called, there are quite a lot of various message types between sync/async and v3/v4 and what not:
<a href="https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_consumer/src/builders/sync_message_builder.rs#L463">https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_consumer/src/builders/sync_message_builder.rs#L463</a></div></div></div><br/>
<div><a id="1707443594.708119"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707443594.708119" ><div class="time">2024-02-09 01:53</div></a><div class="msg">I normally use the trace logs or the `dbg!` macro for debugging. If you use the JetBrains IDEs (CLion or Rust Rover), then the debugger in the IDE will work. I've tested Rust Rover, it works ok.</div></div></div><br/>
<div><a id="1707450146.279999"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707450146.279999" ><div class="time">2024-02-09 03:42</div></a><div class="msg">Looks like it might be a pact_consumer issue. I can see the values passed back from the plugin in the logs:
```metadata_rules: {"key": MatchingRules { rule: [MatchingRule { r#type: "type", values: None }] }}, metadata_generators: {} })
metadata_rules: {"grpc-message": MatchingRules { rule: [MatchingRule { r#type: "type", values: None }] }}, metadata_generators: {} }]```</div></div></div><br/>
<div><a id="1707451038.925969"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707451038.925969" ><div class="time">2024-02-09 03:57</div></a><div class="msg">The issue is here: <a href="https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_consumer/src/builders/sync_message_builder.rs#L133">https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_consumer/src/builders/sync_message_builder.rs#L133</a>

But that is for Rust tests, there must be another place with the same problem if it is happening in your Go tests.</div></div></div><br/>
<div><a id="1707451653.612859"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707451653.612859" ><div class="time">2024-02-09 04:07</div></a><div class="msg">&gt;  Looks like it might be a pact_consumer issue. I can see the values passed back from the plugin in the logs:
yep, can confirm the same, plugin seems to respond with the correct interaction response with go tests too. Go is just passing values to/from ffi lib and is doing very minimal processing on its own it seems</div></div></div><br/>
<div><a id="1707451757.049149"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707451757.049149" ><div class="time">2024-02-09 04:09</div></a><div class="msg">Let me try a fixed pact consumer locally. I think I can just refer to a local path of the pact_consumer in my cargo.toml in the protobuf-plugin and that should work, right?</div></div></div><br/>
<div><a id="1707451860.531539"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707451860.531539" ><div class="time">2024-02-09 04:11</div></a><div class="msg">Yes, that should work</div></div></div><br/>
<div><a id="1707451887.323419"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707451887.323419" ><div class="time">2024-02-09 04:11</div></a><div class="msg">I have created a failing unit in the pact_consumer project</div></div></div><br/>
<div><a id="1707452765.594979"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707452765.594979" ><div class="time">2024-02-09 04:26</div></a><div class="msg">Ok, found the same issue in the Pact FFI crate.</div></div></div><br/>
<div><a id="1707452802.568469"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707452802.568469" ><div class="time">2024-02-09 04:26</div></a><div class="msg">Are you going to try fix the pact_consumer one? Or do you need me to do it.</div></div></div><br/>
<div><a id="1707453369.522119"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707453369.522119" ><div class="time">2024-02-09 04:36</div></a><div class="msg">I can try to fix the pact_consumer in an hour or two, will send a PR. Can you pls point me to the pact ffi issue (so I can learn more)?</div></div></div><br/>
<div><a id="1707453446.978959"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707453446.978959" ><div class="time">2024-02-09 04:37</div></a><div class="msg">Yeah, sure. It's here: <a href="https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_ffi/src/plugins/mod.rs#L231">https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_ffi/src/plugins/mod.rs#L231</a></div></div></div><br/>
<div><a id="1707453470.545399"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707453470.545399" ><div class="time">2024-02-09 04:37</div></a><div class="msg">It doesn't look at the metadata matching rules at all</div></div></div><br/>
<div><a id="1707454571.123849"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707454571.123849" ><div class="time">2024-02-09 04:56</div></a><div class="msg">interesting, so it's separate implementations for rust, jvm and ffi?</div></div></div><br/>
<div><a id="1707454762.545319"><img src="https://secure.gravatar.com/avatar/3d118b71e69a37138c8e6cf474307507.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png" /></a><div class="message"><div class="username">rholshausen</div><a style="text-decoration: none" href="#1707454762.545319" ><div class="time">2024-02-09 04:59</div></a><div class="msg">Yes, unfortunately</div></div></div><br/>
<div><a id="1707466917.034239"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707466917.034239" ><div class="time">2024-02-09 08:21</div></a><div class="msg"><a href="https://github.com/pact-foundation/pact-reference/pull/384">https://github.com/pact-foundation/pact-reference/pull/384</a>
pls let me know if you want commits squashed beforehand, or if we can squash them during merge</div></div></div><br/>
<div><a id="1707466937.059229"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707466937.059229" ><div class="time">2024-02-09 08:22</div></a><div class="msg">learning how to write rust using copy paste and copilot :smile:</div></div></div><br/>
<div><a id="1707467200.078619"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707467200.078619" ><div class="time">2024-02-09 08:26</div></a><div class="msg">I'm not sure if there are any linter/formatter/code-quality tasks I should run to make sure PR is ok? the docs mention cargo build and that works; also tests that I wrote work too</div></div></div><br/>
<div><a id="1707486543.363769"><img src="https://avatars.slack-edge.com/2021-12-09/2847110156736_e05273c817f2c1a28851_72.png" /></a><div class="message"><div class="username">yousafn</div><a style="text-decoration: none" href="#1707486543.363769" ><div class="time">2024-02-09 13:49</div></a><div class="msg">Thanks for the change @stan196, really appreciate it, and it?s nice seeing the journey too!

> learning how to write rust using copy paste and copilot :smile:
:sweat_smile: I feel you man! It has been a bit of help whilst polyglotting.

> pls let me know if you want commits squashed beforehand, or if we can squash them during merge
I think it might be better squashing prior as I think you lose some attribution to the change if the merger squashes. I might not be quite correct but I taught to try and tell others providing contributions to squash first.

> I?m not sure if there are any linter/formatter/code-quality tasks I should run to make sure PR is ok? the docs mention cargo build and that works; also tests that I wrote work too
Should get picked up in the existing test suite and with the additions you?ve included. I don?t think there is any standardised formatting rules existing in the repo that you can apply, and I think modern day formatting will change the files alot, which I don?t believe Ron is in favour of, as it makes the commit history messy when looking at why a line was changed.

BTW - How are you finding the plugin stuff in general? Are you still at a POC stage, or have you got it reasonably well embedded at the moment?</div></div></div><br/>
<div><a id="1707506417.918069"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707506417.918069" ><div class="time">2024-02-09 19:20</div></a><div class="msg">&gt;  I think it might be better squashing prior as I think you lose some attribution to the change if the merger squashes. I might not be quite correct but I taught to try and tell others providing contributions to squash first.
ok, I'll squash them on my side :slightly_smiling_face:
&gt; BTW - How are you finding the plugin stuff in general? Are you still at a POC stage, or have you got it reasonably well embedded at the moment?
we've started onboarding more projects, but it's still an early phase. It's been mostly a smooth journey so far, couple of bugs here and there but overall easy to onboard! :+1: I can share some findings and places we had to work around in a different thread after we finish onboarding more projects</div></div></div><br/>
<div><a id="1707513701.239849"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707513701.239849" ><div class="time">2024-02-09 21:21</div></a><div class="msg">squashed</div></div></div><br/>
<div><a id="1707520217.191169"><img src="https://avatars.slack-edge.com/2023-11-02/6135132780453_f48b249c2e4b2adb7908_72.jpg" /></a><div class="message"><div class="username">stan196</div><a style="text-decoration: none" href="#1707520217.191169" ><div class="time">2024-02-09 23:10</div></a><div class="msg">I've also updated the PR in protobuf-plugin to actually verify the metadata rules programmatically vs just looking at the pact file</div></div></div><br/>
</div></body></html>